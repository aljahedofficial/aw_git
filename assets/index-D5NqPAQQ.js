var Ms=Object.defineProperty;var Xo=$=>{throw TypeError($)};var Is=($,_e,et)=>_e in $?Ms($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et;var hr=($,_e,et)=>Is($,typeof _e!="symbol"?_e+"":_e,et),lo=($,_e,et)=>_e.has($)||Xo("Cannot "+et);var At=($,_e,et)=>(lo($,_e,"read from private field"),et?et.call($):_e.get($)),mn=($,_e,et)=>_e.has($)?Xo("Cannot add the same private member more than once"):_e instanceof WeakSet?_e.add($):_e.set($,et),vn=($,_e,et,tt)=>(lo($,_e,"write to private field"),tt?tt.call($,et):_e.set($,et),et),on=($,_e,et)=>(lo($,_e,"access private method"),et);var Mr=($,_e,et,tt)=>({set _(nt){vn($,_e,nt,et)},get _(){return At($,_e,tt)}});(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var _e=$.default;if(typeof _e=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};et.prototype=_e.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys($).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor($,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return $[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1($){return $===null||typeof $!="object"?null:($=z$1&&$[z$1]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1($,_e,et){this.props=$,this.context=_e,this.refs=D$1,this.updater=et||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$1.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1($,_e,et){this.props=$,this.context=_e,this.refs=D$1,this.updater=et||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1($,_e,et){var tt,nt={},rt=null,it=null;if(_e!=null)for(tt in _e.ref!==void 0&&(it=_e.ref),_e.key!==void 0&&(rt=""+_e.key),_e)J.call(_e,tt)&&!L$1.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);var ot=arguments.length-2;if(ot===1)nt.children=et;else if(1<ot){for(var at=Array(ot),st=0;st<ot;st++)at[st]=arguments[st+2];nt.children=at}if($&&$.defaultProps)for(tt in ot=$.defaultProps,ot)nt[tt]===void 0&&(nt[tt]=ot[tt]);return{$$typeof:l$3,type:$,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$1($,_e){return{$$typeof:l$3,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$1($){return typeof $=="object"&&$!==null&&$.$$typeof===l$3}function escape$1($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$2=/\/+/g;function Q$1($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):_e.toString(36)}function R$1($,_e,et,tt,nt){var rt=typeof $;(rt==="undefined"||rt==="boolean")&&($=null);var it=!1;if($===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch($.$$typeof){case l$3:case n$4:it=!0}}if(it)return it=$,nt=nt(it),$=tt===""?"."+Q$1(it,0):tt,I$1(nt)?(et="",$!=null&&(et=$.replace(P$2,"$&/")+"/"),R$1(nt,_e,et,"",function(st){return st})):nt!=null&&(O$1(nt)&&(nt=N$1(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+$)),_e.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$1($))for(var ot=0;ot<$.length;ot++){rt=$[ot];var at=tt+Q$1(rt,ot);it+=R$1(rt,_e,et,at,nt)}else if(at=A$1($),typeof at=="function")for($=at.call($),ot=0;!(rt=$.next()).done;)rt=rt.value,at=tt+Q$1(rt,ot++),it+=R$1(rt,_e,et,at,nt);else if(rt==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return it}function S$1($,_e,et){if($==null)return $;var tt=[],nt=0;return R$1($,tt,"","",function(rt){return _e.call(et,rt,nt++)}),tt}function T$1($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function($,_e,et){S$1($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$1($,function(){_e++}),_e},toArray:function($){return S$1($,function(_e){return _e})||[]},only:function($){if(!O$1($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$1;react_production_min.Fragment=p$7;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$1({},$.props),nt=$.key,rt=$.ref,it=$._owner;if(_e!=null){if(_e.ref!==void 0&&(rt=_e.ref,it=K$1.current),_e.key!==void 0&&(nt=""+_e.key),$.type&&$.type.defaultProps)var ot=$.type.defaultProps;for(at in _e)J.call(_e,at)&&!L$1.hasOwnProperty(at)&&(tt[at]=_e[at]===void 0&&ot!==void 0?ot[at]:_e[at])}var at=arguments.length-2;if(at===1)tt.children=et;else if(1<at){ot=Array(at);for(var st=0;st<at;st++)ot[st]=arguments[st+2];tt.children=ot}return{$$typeof:l$3,type:$.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function($){return $={$$typeof:u$2,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$3,_context:$},$.Consumer=$};react_production_min.createElement=M$1;react_production_min.createFactory=function($){var _e=M$1.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$3,render:$}};react_production_min.isValidElement=O$1;react_production_min.lazy=function($){return{$$typeof:y$1,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,_e){return{$$typeof:x$1,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function($,_e){return U$1.current.useCallback($,_e)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$1.current.useEffect($,_e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$1.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$1.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$1.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$1.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$1.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$1.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react$1.exports=react_production_min;var reactExports=react$1.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$1($,_e,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),_e.key!==void 0&&(rt=""+_e.key),_e.ref!==void 0&&(it=_e.ref);for(tt in _e)m$4.call(_e,tt)&&!p$6.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)nt[tt]===void 0&&(nt[tt]=_e[tt]);return{$$typeof:k$3,type:$,key:rt,ref:it,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _e(Ft,Tt){var Dt=Ft.length;Ft.push(Tt);e:for(;0<Dt;){var Jt=Dt-1>>>1,Ot=Ft[Jt];if(0<nt(Ot,Tt))Ft[Jt]=Tt,Ft[Dt]=Ot,Dt=Jt;else break e}}function et(Ft){return Ft.length===0?null:Ft[0]}function tt(Ft){if(Ft.length===0)return null;var Tt=Ft[0],Dt=Ft.pop();if(Dt!==Tt){Ft[0]=Dt;e:for(var Jt=0,Ot=Ft.length,Pt=Ot>>>1;Jt<Pt;){var kt=2*(Jt+1)-1,Nt=Ft[kt],zt=kt+1,Wt=Ft[zt];if(0>nt(Nt,Dt))zt<Ot&&0>nt(Wt,Nt)?(Ft[Jt]=Wt,Ft[zt]=Dt,Jt=zt):(Ft[Jt]=Nt,Ft[kt]=Dt,Jt=kt);else if(zt<Ot&&0>nt(Wt,Dt))Ft[Jt]=Wt,Ft[zt]=Dt,Jt=zt;else break e}}return Tt}function nt(Ft,Tt){var Dt=Ft.sortIndex-Tt.sortIndex;return Dt!==0?Dt:Ft.id-Tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;$.unstable_now=function(){return rt.now()}}else{var it=Date,ot=it.now();$.unstable_now=function(){return it.now()-ot}}var at=[],st=[],lt=1,ct=null,ut=3,dt=!1,ft=!1,pt=!1,mt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Ft){for(var Tt=et(st);Tt!==null;){if(Tt.callback===null)tt(st);else if(Tt.startTime<=Ft)tt(st),Tt.sortIndex=Tt.expirationTime,_e(at,Tt);else break;Tt=et(st)}}function St(Ft){if(pt=!1,xt(Ft),!ft)if(et(at)!==null)ft=!0,Ht(gt);else{var Tt=et(st);Tt!==null&&Rt(St,Tt.startTime-Ft)}}function gt(Ft,Tt){ft=!1,pt&&(pt=!1,ht(wt),wt=-1),dt=!0;var Dt=ut;try{for(xt(Tt),ct=et(at);ct!==null&&(!(ct.expirationTime>Tt)||Ft&&!$t());){var Jt=ct.callback;if(typeof Jt=="function"){ct.callback=null,ut=ct.priorityLevel;var Ot=Jt(ct.expirationTime<=Tt);Tt=$.unstable_now(),typeof Ot=="function"?ct.callback=Ot:ct===et(at)&&tt(at),xt(Tt)}else tt(at);ct=et(at)}if(ct!==null)var Pt=!0;else{var kt=et(st);kt!==null&&Rt(St,kt.startTime-Tt),Pt=!1}return Pt}finally{ct=null,ut=Dt,dt=!1}}var vt=!1,bt=null,wt=-1,_t=5,Ct=-1;function $t(){return!($.unstable_now()-Ct<_t)}function Et(){if(bt!==null){var Ft=$.unstable_now();Ct=Ft;var Tt=!0;try{Tt=bt(!0,Ft)}finally{Tt?jt():(vt=!1,bt=null)}}else vt=!1}var jt;if(typeof yt=="function")jt=function(){yt(Et)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Mt=Vt.port2;Vt.port1.onmessage=Et,jt=function(){Mt.postMessage(null)}}else jt=function(){mt(Et,0)};function Ht(Ft){bt=Ft,vt||(vt=!0,jt())}function Rt(Ft,Tt){wt=mt(function(){Ft($.unstable_now())},Tt)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Ft){Ft.callback=null},$.unstable_continueExecution=function(){ft||dt||(ft=!0,Ht(gt))},$.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<Ft?Math.floor(1e3/Ft):5},$.unstable_getCurrentPriorityLevel=function(){return ut},$.unstable_getFirstCallbackNode=function(){return et(at)},$.unstable_next=function(Ft){switch(ut){case 1:case 2:case 3:var Tt=3;break;default:Tt=ut}var Dt=ut;ut=Tt;try{return Ft()}finally{ut=Dt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Ft,Tt){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var Dt=ut;ut=Ft;try{return Tt()}finally{ut=Dt}},$.unstable_scheduleCallback=function(Ft,Tt,Dt){var Jt=$.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?Jt+Dt:Jt):Dt=Jt,Ft){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Dt+Ot,Ft={id:lt++,callback:Tt,priorityLevel:Ft,startTime:Dt,expirationTime:Ot,sortIndex:-1},Dt>Jt?(Ft.sortIndex=Dt,_e(st,Ft),et(at)===null&&Ft===et(st)&&(pt?(ht(wt),wt=-1):pt=!0,Rt(St,Dt-Jt))):(Ft.sortIndex=Ot,_e(at,Ft),ft||dt||(ft=!0,Ht(gt))),Ft},$.unstable_shouldYield=$t,$.unstable_wrapCallback=function(Ft){var Tt=ut;return function(){var Dt=ut;ut=Tt;try{return Ft.apply(this,arguments)}finally{ut=Dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka$1.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e>"u"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$2($,_e,et,tt,nt,rt,it){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=rt,this.removeEmptyString=it}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z[$]=new v$2($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z[_e]=new v$2(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z[$]=new v$2($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z[$]=new v$2($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z[$]=new v$2($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z[$]=new v$2($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z[$]=new v$2($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z[$]=new v$2($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z[$]=new v$2($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z[_e]=new v$2(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z[_e]=new v$2(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z[_e]=new v$2(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z[$]=new v$2($,1,!1,$.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z[$]=new v$2($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var nt=z.hasOwnProperty(_e)?z[_e]:null;(nt!==null?nt.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,nt,tt)&&(et=null),tt||nt===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):nt.mustUseProperty?$[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_e=nt.attributeName,tt=nt.attributeNamespace,et===null?$.removeAttribute(_e):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(st){var tt=st}Reflect.construct($,[],_e)}else{try{_e.call()}catch(st){tt=st}$.call(_e.prototype)}else{try{throw Error()}catch(st){tt=st}$()}}catch(st){if(st&&tt&&typeof st.stack=="string"){for(var nt=st.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,ot=rt.length-1;1<=it&&0<=ot&&nt[it]!==rt[ot];)ot--;for(;1<=it&&0<=ot;it--,ot--)if(nt[it]!==rt[ot]){if(it!==1||ot!==1)do if(it--,ot--,0>ot||nt[it]!==rt[ot]){var at=`
`+nt[it].replace(" at new "," at ");return $.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",$.displayName)),at}while(1<=it&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var nt=0;nt<et.length;nt++)_e["$"+et[nt]]=!0;for(et=0;et<$.length;et++)nt=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==nt&&($[et].selected=nt),nt&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,nt=0;nt<$.length;nt++){if($[nt].value===et){$[nt].selected=!0,tt&&($[nt].defaultSelected=!0);return}_e!==null||$[nt].disabled||(_e=$[nt])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$5(92));if(eb(et)){if(1<et.length)throw Error(p$5(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,nt)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,nt):$[et]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$5(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$5(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$5(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$5(62))}}function vb$2($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$5(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$5(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,nt,rt,it,ot,at){var st=Array.prototype.slice.call(arguments,3);try{_e.apply(et,st)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,nt,rt,it,ot,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,nt,rt,it,ot,at){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=st)}}function Vb$1($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,_e.flags&4098&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb$1($)!==$)throw Error(p$5(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb$1($),_e===null)throw Error(p$5(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),$;if(rt===tt)return Xb(nt),_e;rt=rt.sibling}throw Error(p$5(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it){for(ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it)throw Error(p$5(189))}}if(et.alternate!==tt)throw Error(p$5(190))}if(et.tag!==3)throw Error(p$5(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,nt=$.suspendedLanes,rt=$.pingedLanes,it=et&268435455;if(it!==0){var ot=it&~nt;ot!==0?tt=tc(ot):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(_e!==0&&_e!==tt&&!(_e&nt)&&(nt=tt&-tt,rt=_e&-_e,nt>=rt||nt===16&&(rt&4194240)!==0))return _e;if(tt&4&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),nt=1<<et,tt|=$[et],_e&=~nt;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,nt=$.expirationTimes,rt=$.pendingLanes;0<rt;){var it=31-oc(rt),ot=1<<it,at=nt[it];at===-1?(!(ot&et)||ot&tt)&&(nt[it]=vc(ot,_e)):at<=_e&&($.expiredLanes|=ot),rt&=~ot}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;_e[nt]=0,tt[nt]=-1,$[nt]=-1,et&=~rt}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&_e|$[tt]&_e&&($[tt]|=_e),et&=~nt}}var C=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,nt,rt){return $===null||$.nativeEvent!==rt?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),$)}function Uc($,_e,et,tt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,$,_e,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,$,_e,et,tt,nt)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb$1(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(nt){return ad(nt,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var nt=C,rt=cd.transition;cd.transition=null;try{C=1,fd($,_e,et,tt)}finally{C=nt,cd.transition=rt}}function gd($,_e,et,tt){var nt=C,rt=cd.transition;cd.transition=null;try{C=4,fd($,_e,et,tt)}finally{C=nt,cd.transition=rt}}function fd($,_e,et,tt){if(dd){var nt=Yc($,_e,et,tt);if(nt===null)hd($,_e,tt,id,et),Sc($,tt);else if(Uc(nt,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc($,_e,et,tt),rt===null&&hd($,_e,tt,id,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id=null;function Yc($,_e,et,tt){if(id=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb$1($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for($=0;$<et&&_e[$]===nt[$];$++);var it=et-$;for(tt=1;tt<=it&&_e[et-tt]===nt[rt-tt];tt++);return md=nt.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var ot in $)$.hasOwnProperty(ot)&&(et=$[ot],this[ot]=et?et(rt):rt[ot]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie$2=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie$2)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie$2=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re$1($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re$1,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_e,nt)||!He($[nt],_e[nt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!$.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&($.rangeCount!==1||$.anchorNode!==nt.node||$.anchorOffset!==nt.offset||$.focusNode!==it.node||$.focusOffset!==it.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),$.removeAllRanges(),rt>tt?($.addRange(_e),$.extend(it.node,it.offset)):(_e.setEnd(it.node,it.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(_e)for(var it=tt.length-1;0<=it;it--){var ot=tt[it],at=ot.instance,st=ot.currentTarget;if(ot=ot.listener,at!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,st),rt=at}else for(it=0;it<tt.length;it++){if(ot=tt[it],at=ot.instance,st=ot.currentTarget,ot=ot.listener,at!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,st),rt=at}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,_e,et,$),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),tt?nt!==void 0?$.addEventListener(_e,et,{capture:!0,passive:nt}):$.addEventListener(_e,et,!0):nt!==void 0?$.addEventListener(_e,et,{passive:nt}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,nt){var rt=tt;if(!(_e&1)&&!(_e&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var ot=tt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var at=it.tag;if((at===3||at===4)&&(at=it.stateNode.containerInfo,at===nt||at.nodeType===8&&at.parentNode===nt))return;it=it.return}for(;ot!==null;){if(it=Wc(ot),it===null)return;if(at=it.tag,at===5||at===6){tt=rt=it;continue e}ot=ot.parentNode}}tt=tt.return}Jb(function(){var st=rt,lt=xb(et),ct=[];e:{var ut=df.get($);if(ut!==void 0){var dt=td,ft=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ft="focus",dt=Fd;break;case"focusout":ft="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var pt=(_e&4)!==0,mt=!pt&&$==="scroll",ht=pt?ut!==null?ut+"Capture":null:ut;pt=[];for(var yt=st,xt;yt!==null;){xt=yt;var St=xt.stateNode;if(xt.tag===5&&St!==null&&(xt=St,ht!==null&&(St=Kb(yt,ht),St!=null&&pt.push(tf(yt,St,xt)))),mt)break;yt=yt.return}0<pt.length&&(ut=new dt(ut,ft,null,et,lt),ct.push({event:ut,listeners:pt}))}}if(!(_e&7)){e:{if(ut=$==="mouseover"||$==="pointerover",dt=$==="mouseout"||$==="pointerout",ut&&et!==wb&&(ft=et.relatedTarget||et.fromElement)&&(Wc(ft)||ft[uf]))break e;if((dt||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(ft=et.relatedTarget||et.toElement,dt=st,ft=ft?Wc(ft):null,ft!==null&&(mt=Vb$1(ft),ft!==mt||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(dt=null,ft=st),dt!==ft)){if(pt=Bd,St="onMouseLeave",ht="onMouseEnter",yt="mouse",($==="pointerout"||$==="pointerover")&&(pt=Td,St="onPointerLeave",ht="onPointerEnter",yt="pointer"),mt=dt==null?ut:ue(dt),xt=ft==null?ut:ue(ft),ut=new pt(St,yt+"leave",dt,et,lt),ut.target=mt,ut.relatedTarget=xt,St=null,Wc(lt)===st&&(pt=new pt(ht,yt+"enter",ft,et,lt),pt.target=xt,pt.relatedTarget=mt,St=pt),mt=St,dt&&ft)t:{for(pt=dt,ht=ft,yt=0,xt=pt;xt;xt=vf(xt))yt++;for(xt=0,St=ht;St;St=vf(St))xt++;for(;0<yt-xt;)pt=vf(pt),yt--;for(;0<xt-yt;)ht=vf(ht),xt--;for(;yt--;){if(pt===ht||ht!==null&&pt===ht.alternate)break t;pt=vf(pt),ht=vf(ht)}pt=null}else pt=null;dt!==null&&wf(ct,ut,dt,pt,!1),ft!==null&&mt!==null&&wf(ct,mt,ft,pt,!0)}}e:{if(ut=st?ue(st):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var gt=ve;else if(me(ut))if(we)gt=Fe;else{gt=De;var vt=Ce}else(dt=ut.nodeName)&&dt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(gt=Ee);if(gt&&(gt=gt($,st))){ne(ct,gt,et,lt);break e}vt&&vt($,ut,st),$==="focusout"&&(vt=ut._wrapperState)&&vt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(vt=st?ue(st):window,$){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,et,lt)}var bt;if(ae)e:{switch($){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie$2?ge($,et)&&(wt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(wt="onCompositionStart");wt&&(de&&et.locale!=="ko"&&(ie$2||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie$2&&(bt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),vt=oe(st,wt),0<vt.length&&(wt=new Ld(wt,$,null,et,lt),ct.push({event:wt,listeners:vt}),bt?wt.data=bt:(bt=he(et),bt!==null&&(wt.data=bt)))),(bt=ce?je($,et):ke($,et))&&(st=oe(st,"onBeforeInput"),0<st.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ct.push({event:lt,listeners:st}),lt.data=bt))}se(ct,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var nt=$,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb($,et),rt!=null&&tt.unshift(tf($,rt,nt)),rt=Kb($,_e),rt!=null&&tt.push(tf($,rt,nt))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,nt){for(var rt=_e._reactName,it=[];et!==null&&et!==tt;){var ot=et,at=ot.alternate,st=ot.stateNode;if(at!==null&&at===tt)break;ot.tag===5&&st!==null&&(ot=st,nt?(at=Kb(et,rt),at!=null&&it.unshift(tf(et,at,ot))):nt||(at=Kb(et,rt),at!=null&&it.push(tf(et,at,ot)))),et=et.return}it.length!==0&&$.push({event:_e,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var nt=et.nextSibling;if($.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){$.removeChild(nt),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$5(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=_e[rt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E(Wf),E(H)}function ag($,_e,et){if(H.current!==Vf)throw Error(p$5(168));G(H,_e),G(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _e))throw Error(p$5(108,Ra($)||"Unknown",nt));return A({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$5(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E(Wf),E(H),G(H,$)):E(Wf),G(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C;try{var et=eg;for(C=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),nt}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(_e)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(_e)+nt|et<<nt|tt,sg=rt+$}else rg=1<<rt|et<<nt|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$5(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I=!1,xg=$)}}else{if(Dg($))throw Error(p$5(418));$.flags=$.flags&-4097|2,I=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I)return Fg($),I=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$5(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$5(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$5(309));var tt=et.stateNode}if(!tt)throw Error(p$5(147,$));var nt=tt,rt=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===rt?_e.ref:(_e=function(it){var ot=nt.refs;it===null?delete ot[rt]:ot[rt]=it},_e._stringRef=rt,_e)}if(typeof $!="string")throw Error(p$5(284));if(!et._owner)throw Error(p$5(290,$))}return $}function Mg($,_e){throw $=Object.prototype.toString.call(_e),Error(p$5(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function Ng($){var _e=$._init;return _e($._payload)}function Og($){function _e(ht,yt){if($){var xt=ht.deletions;xt===null?(ht.deletions=[yt],ht.flags|=16):xt.push(yt)}}function et(ht,yt){if(!$)return null;for(;yt!==null;)_e(ht,yt),yt=yt.sibling;return null}function tt(ht,yt){for(ht=new Map;yt!==null;)yt.key!==null?ht.set(yt.key,yt):ht.set(yt.index,yt),yt=yt.sibling;return ht}function nt(ht,yt){return ht=Pg(ht,yt),ht.index=0,ht.sibling=null,ht}function rt(ht,yt,xt){return ht.index=xt,$?(xt=ht.alternate,xt!==null?(xt=xt.index,xt<yt?(ht.flags|=2,yt):xt):(ht.flags|=2,yt)):(ht.flags|=1048576,yt)}function it(ht){return $&&ht.alternate===null&&(ht.flags|=2),ht}function ot(ht,yt,xt,St){return yt===null||yt.tag!==6?(yt=Qg(xt,ht.mode,St),yt.return=ht,yt):(yt=nt(yt,xt),yt.return=ht,yt)}function at(ht,yt,xt,St){var gt=xt.type;return gt===ya?lt(ht,yt,xt.props.children,St,xt.key):yt!==null&&(yt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===yt.type)?(St=nt(yt,xt.props),St.ref=Lg(ht,yt,xt),St.return=ht,St):(St=Rg(xt.type,xt.key,xt.props,null,ht.mode,St),St.ref=Lg(ht,yt,xt),St.return=ht,St)}function st(ht,yt,xt,St){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==xt.containerInfo||yt.stateNode.implementation!==xt.implementation?(yt=Sg(xt,ht.mode,St),yt.return=ht,yt):(yt=nt(yt,xt.children||[]),yt.return=ht,yt)}function lt(ht,yt,xt,St,gt){return yt===null||yt.tag!==7?(yt=Tg(xt,ht.mode,St,gt),yt.return=ht,yt):(yt=nt(yt,xt),yt.return=ht,yt)}function ct(ht,yt,xt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=Qg(""+yt,ht.mode,xt),yt.return=ht,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return xt=Rg(yt.type,yt.key,yt.props,null,ht.mode,xt),xt.ref=Lg(ht,null,yt),xt.return=ht,xt;case wa:return yt=Sg(yt,ht.mode,xt),yt.return=ht,yt;case Ha:var St=yt._init;return ct(ht,St(yt._payload),xt)}if(eb(yt)||Ka(yt))return yt=Tg(yt,ht.mode,xt,null),yt.return=ht,yt;Mg(ht,yt)}return null}function ut(ht,yt,xt,St){var gt=yt!==null?yt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return gt!==null?null:ot(ht,yt,""+xt,St);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===gt?at(ht,yt,xt,St):null;case wa:return xt.key===gt?st(ht,yt,xt,St):null;case Ha:return gt=xt._init,ut(ht,yt,gt(xt._payload),St)}if(eb(xt)||Ka(xt))return gt!==null?null:lt(ht,yt,xt,St,null);Mg(ht,xt)}return null}function dt(ht,yt,xt,St,gt){if(typeof St=="string"&&St!==""||typeof St=="number")return ht=ht.get(xt)||null,ot(yt,ht,""+St,gt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return ht=ht.get(St.key===null?xt:St.key)||null,at(yt,ht,St,gt);case wa:return ht=ht.get(St.key===null?xt:St.key)||null,st(yt,ht,St,gt);case Ha:var vt=St._init;return dt(ht,yt,xt,vt(St._payload),gt)}if(eb(St)||Ka(St))return ht=ht.get(xt)||null,lt(yt,ht,St,gt,null);Mg(yt,St)}return null}function ft(ht,yt,xt,St){for(var gt=null,vt=null,bt=yt,wt=yt=0,_t=null;bt!==null&&wt<xt.length;wt++){bt.index>wt?(_t=bt,bt=null):_t=bt.sibling;var Ct=ut(ht,bt,xt[wt],St);if(Ct===null){bt===null&&(bt=_t);break}$&&bt&&Ct.alternate===null&&_e(ht,bt),yt=rt(Ct,yt,wt),vt===null?gt=Ct:vt.sibling=Ct,vt=Ct,bt=_t}if(wt===xt.length)return et(ht,bt),I&&tg(ht,wt),gt;if(bt===null){for(;wt<xt.length;wt++)bt=ct(ht,xt[wt],St),bt!==null&&(yt=rt(bt,yt,wt),vt===null?gt=bt:vt.sibling=bt,vt=bt);return I&&tg(ht,wt),gt}for(bt=tt(ht,bt);wt<xt.length;wt++)_t=dt(bt,ht,wt,xt[wt],St),_t!==null&&($&&_t.alternate!==null&&bt.delete(_t.key===null?wt:_t.key),yt=rt(_t,yt,wt),vt===null?gt=_t:vt.sibling=_t,vt=_t);return $&&bt.forEach(function($t){return _e(ht,$t)}),I&&tg(ht,wt),gt}function pt(ht,yt,xt,St){var gt=Ka(xt);if(typeof gt!="function")throw Error(p$5(150));if(xt=gt.call(xt),xt==null)throw Error(p$5(151));for(var vt=gt=null,bt=yt,wt=yt=0,_t=null,Ct=xt.next();bt!==null&&!Ct.done;wt++,Ct=xt.next()){bt.index>wt?(_t=bt,bt=null):_t=bt.sibling;var $t=ut(ht,bt,Ct.value,St);if($t===null){bt===null&&(bt=_t);break}$&&bt&&$t.alternate===null&&_e(ht,bt),yt=rt($t,yt,wt),vt===null?gt=$t:vt.sibling=$t,vt=$t,bt=_t}if(Ct.done)return et(ht,bt),I&&tg(ht,wt),gt;if(bt===null){for(;!Ct.done;wt++,Ct=xt.next())Ct=ct(ht,Ct.value,St),Ct!==null&&(yt=rt(Ct,yt,wt),vt===null?gt=Ct:vt.sibling=Ct,vt=Ct);return I&&tg(ht,wt),gt}for(bt=tt(ht,bt);!Ct.done;wt++,Ct=xt.next())Ct=dt(bt,ht,wt,Ct.value,St),Ct!==null&&($&&Ct.alternate!==null&&bt.delete(Ct.key===null?wt:Ct.key),yt=rt(Ct,yt,wt),vt===null?gt=Ct:vt.sibling=Ct,vt=Ct);return $&&bt.forEach(function(Et){return _e(ht,Et)}),I&&tg(ht,wt),gt}function mt(ht,yt,xt,St){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var gt=xt.key,vt=yt;vt!==null;){if(vt.key===gt){if(gt=xt.type,gt===ya){if(vt.tag===7){et(ht,vt.sibling),yt=nt(vt,xt.props.children),yt.return=ht,ht=yt;break e}}else if(vt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===vt.type){et(ht,vt.sibling),yt=nt(vt,xt.props),yt.ref=Lg(ht,vt,xt),yt.return=ht,ht=yt;break e}et(ht,vt);break}else _e(ht,vt);vt=vt.sibling}xt.type===ya?(yt=Tg(xt.props.children,ht.mode,St,xt.key),yt.return=ht,ht=yt):(St=Rg(xt.type,xt.key,xt.props,null,ht.mode,St),St.ref=Lg(ht,yt,xt),St.return=ht,ht=St)}return it(ht);case wa:e:{for(vt=xt.key;yt!==null;){if(yt.key===vt)if(yt.tag===4&&yt.stateNode.containerInfo===xt.containerInfo&&yt.stateNode.implementation===xt.implementation){et(ht,yt.sibling),yt=nt(yt,xt.children||[]),yt.return=ht,ht=yt;break e}else{et(ht,yt);break}else _e(ht,yt);yt=yt.sibling}yt=Sg(xt,ht.mode,St),yt.return=ht,ht=yt}return it(ht);case Ha:return vt=xt._init,mt(ht,yt,vt(xt._payload),St)}if(eb(xt))return ft(ht,yt,xt,St);if(Ka(xt))return pt(ht,yt,xt,St);Mg(ht,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,yt!==null&&yt.tag===6?(et(ht,yt.sibling),yt=nt(yt,xt),yt.return=ht,ht=yt):(et(ht,yt),yt=Qg(xt,ht.mode,St),yt.return=ht,ht=yt),it(ht)):et(ht,yt)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah($){var _e=Wg.current;E(Wg),$._currentValue=_e}function bh($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function ch($,_e){Xg=$,Zg=Yg=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&_e&&(dh=!0),$.firstContext=null)}function eh($){var _e=$._currentValue;if(Zg!==$)if($={context:$,memoizedValue:_e,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=$,Xg.dependencies={lanes:0,firstContext:$}}else Yg=Yg.next=$;return _e}var fh=null;function gh($){fh===null?fh=[$]:fh.push($)}function hh($,_e,et,tt){var nt=_e.interleaved;return nt===null?(et.next=et,gh(_e)):(et.next=nt.next,nt.next=et),_e.interleaved=et,ih($,tt)}function ih($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function mh($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function nh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e,ih($,et)}return nt=tt.interleaved,nt===null?(_e.next=_e,gh(tt)):(_e.next=nt.next,nt.next=_e),tt.interleaved=_e,ih($,et)}function oh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function ph($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=_e:rt=rt.next=_e}else nt=rt=_e;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function qh($,_e,et,tt){var nt=$.updateQueue;jh=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var at=ot,st=at.next;at.next=null,it===null?rt=st:it.next=st,it=at;var lt=$.alternate;lt!==null&&(lt=lt.updateQueue,ot=lt.lastBaseUpdate,ot!==it&&(ot===null?lt.firstBaseUpdate=st:ot.next=st,lt.lastBaseUpdate=at))}if(rt!==null){var ct=nt.baseState;it=0,lt=st=at=null,ot=rt;do{var ut=ot.lane,dt=ot.eventTime;if((tt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:dt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var ft=$,pt=ot;switch(ut=_e,dt=et,pt.tag){case 1:if(ft=pt.payload,typeof ft=="function"){ct=ft.call(dt,ct,ut);break e}ct=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=pt.payload,ut=typeof ft=="function"?ft.call(dt,ct,ut):ft,ut==null)break e;ct=A({},ct,ut);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&($.flags|=64,ut=nt.effects,ut===null?nt.effects=[ot]:ut.push(ot))}else dt={eventTime:dt,lane:ut,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},lt===null?(st=lt=dt,at=ct):lt=lt.next=dt,it|=ut;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;ut=ot,ot=ut.next,ut.next=null,nt.lastBaseUpdate=ut,nt.shared.pending=null}}while(!0);if(lt===null&&(at=ct),nt.baseState=at,nt.firstBaseUpdate=st,nt.lastBaseUpdate=lt,_e=nt.shared.interleaved,_e!==null){nt=_e;do it|=nt.lane,nt=nt.next;while(nt!==_e)}else rt===null&&(nt.shared.lanes=0);rh|=it,$.lanes=it,$.memoizedState=ct}}function sh($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$5(191,nt));nt.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh($){if($===th)throw Error(p$5(174));return $}function yh($,_e){switch(G(wh,_e),G(vh,$),G(uh,th),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb(_e,$)}E(uh),G(uh,_e)}function zh(){E(uh),E(vh),E(wh)}function Ah($){xh(wh.current);var _e=xh(uh.current),et=lb(_e,$.type);_e!==et&&(G(vh,$),G(uh,et))}function Bh($){vh.current===$&&(E(uh),E(vh))}var L=Uf(0);function Ch($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Dh=[];function Eh(){for(var $=0;$<Dh.length;$++)Dh[$]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$5(321))}function Mh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Nh($,_e,et,tt,nt,rt){if(Hh=rt,M=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Fh.current=$===null||$.memoizedState===null?Oh:Ph,$=et(tt,nt),Jh){rt=0;do{if(Jh=!1,Kh=0,25<=rt)throw Error(p$5(301));rt+=1,O=N=null,_e.updateQueue=null,Fh.current=Qh,$=et(tt,nt)}while(Jh)}if(Fh.current=Rh,_e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,_e)throw Error(p$5(300));return $}function Sh(){var $=Kh!==0;return Kh=0,$}function Th(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=$:O=O.next=$,O}function Uh(){if(N===null){var $=M.alternate;$=$!==null?$.memoizedState:null}else $=N.next;var _e=O===null?M.memoizedState:O.next;if(_e!==null)O=_e,N=$;else{if($===null)throw Error(p$5(310));N=$,$={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=$:O=O.next=$}return O}function Vh($,_e){return typeof _e=="function"?_e($):_e}function Wh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=$;var tt=N,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var ot=it=null,at=null,st=rt;do{var lt=st.lane;if((Hh&lt)===lt)at!==null&&(at=at.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),tt=st.hasEagerState?st.eagerState:$(tt,st.action);else{var ct={lane:lt,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};at===null?(ot=at=ct,it=tt):at=at.next=ct,M.lanes|=lt,rh|=lt}st=st.next}while(st!==null&&st!==rt);at===null?it=tt:at.next=ot,He(tt,_e.memoizedState)||(dh=!0),_e.memoizedState=tt,_e.baseState=it,_e.baseQueue=at,et.lastRenderedState=tt}if($=et.interleaved,$!==null){nt=$;do rt=nt.lane,M.lanes|=rt,rh|=rt,nt=nt.next;while(nt!==$)}else nt===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function Xh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=$;var tt=et.dispatch,nt=et.pending,rt=_e.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=$(rt,it.action),it=it.next;while(it!==nt);He(rt,_e.memoizedState)||(dh=!0),_e.memoizedState=rt,_e.baseQueue===null&&(_e.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function Yh(){}function Zh($,_e){var et=M,tt=Uh(),nt=_e(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,dh=!0),tt=tt.queue,$h(ai.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||rt||O!==null&&O.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,nt,_e),void 0,null),Q===null)throw Error(p$5(349));Hh&30||di(et,_e,nt)}return nt}function di($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=M.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function ci($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,ei(_e)&&fi($)}function ai($,_e,et){return et(function(){ei(_e)&&fi($)})}function ei($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function fi($){var _e=ih($,1);_e!==null&&gi(_e,$,1,-1)}function hi($){var _e=Th();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:$},_e.queue=$,$=$.dispatch=ii.bind(null,M,$),[_e.memoizedState,$]}function bi($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=M.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function ji(){return Uh().memoizedState}function ki($,_e,et,tt){var nt=Th();M.flags|=$,nt.memoizedState=bi(1|_e,et,void 0,tt===void 0?null:tt)}function li($,_e,et,tt){var nt=Uh();tt=tt===void 0?null:tt;var rt=void 0;if(N!==null){var it=N.memoizedState;if(rt=it.destroy,tt!==null&&Mh(tt,it.deps)){nt.memoizedState=bi(_e,et,rt,tt);return}}M.flags|=$,nt.memoizedState=bi(1|_e,et,rt,tt)}function mi($,_e){return ki(8390656,8,$,_e)}function $h($,_e){return li(2048,8,$,_e)}function ni($,_e){return li(4,2,$,_e)}function oi($,_e){return li(4,4,$,_e)}function pi$2($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function qi($,_e,et){return et=et!=null?et.concat([$]):null,li(4,4,pi$2.bind(null,_e,$),et)}function ri(){}function si($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function ti($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function ui($,_e,et){return Hh&21?(He(et,_e)||(et=yc(),M.lanes|=et,rh|=et,$.baseState=!0),_e):($.baseState&&($.baseState=!1,dh=!0),$.memoizedState=et)}function vi($,_e){var et=C;C=et!==0&&4>et?et:4,$(!0);var tt=Gh.transition;Gh.transition={};try{$(!1),_e()}finally{C=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi($,_e,et){var tt=yi($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi($))Ai(_e,et);else if(et=hh($,_e,et,tt),et!==null){var nt=R();gi(et,$,tt,nt),Bi(et,_e,tt)}}function ii($,_e,et){var tt=yi($),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi($))Ai(_e,nt);else{var rt=$.alternate;if($.lanes===0&&(rt===null||rt.lanes===0)&&(rt=_e.lastRenderedReducer,rt!==null))try{var it=_e.lastRenderedState,ot=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=ot,He(ot,it)){var at=_e.interleaved;at===null?(nt.next=nt,gh(_e)):(nt.next=at.next,at.next=nt),_e.interleaved=nt;return}}catch{}finally{}et=hh($,_e,nt,tt),et!==null&&(nt=R(),gi(et,$,tt,nt),Bi(et,_e,tt))}}function zi($){var _e=$.alternate;return $===M||_e!==null&&_e===M}function Ai($,_e){Jh=Ih=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Bi($,_e,et){if(et&4194240){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function($,_e){return Th().memoizedState=[$,_e===void 0?null:_e],$},useContext:eh,useEffect:mi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ki(4194308,4,pi$2.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ki(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ki(4,2,$,_e)},useMemo:function($,_e){var et=Th();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=Th();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=xi.bind(null,M,$),[tt.memoizedState,$]},useRef:function($){var _e=Th();return $={current:$},_e.memoizedState=$},useState:hi,useDebugValue:ri,useDeferredValue:function($){return Th().memoizedState=$},useTransition:function(){var $=hi(!1),_e=$[0];return $=vi.bind(null,$[1]),Th().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=M,nt=Th();if(I){if(et===void 0)throw Error(p$5(407));et=et()}else{if(et=_e(),Q===null)throw Error(p$5(349));Hh&30||di(tt,_e,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:_e};return nt.queue=rt,mi(ai.bind(null,tt,rt,$),[$]),tt.flags|=2048,bi(9,ci.bind(null,tt,rt,et,_e),void 0,null),et},useId:function(){var $=Th(),_e=Q.identifierPrefix;if(I){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Kh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Lh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return ui(_e,N.memoizedState,$)},useTransition:function(){var $=Wh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return N===null?_e.memoizedState=$:ui(_e,N.memoizedState,$)},useTransition:function(){var $=Xh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci($,_e){if($&&$.defaultProps){_e=A({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}function Di($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var Ei={isMounted:function($){return($=$._reactInternals)?Vb$1($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.tag=1,rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=R(),tt=yi($),nt=mh(et,tt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=nh($,nt,tt),_e!==null&&(gi(_e,$,tt,et),oh(_e,$,tt))}};function Fi($,_e,et,tt,nt,rt,it){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,rt,it):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function Gi($,_e,et){var tt=!1,nt=Vf,rt=_e.contextType;return typeof rt=="object"&&rt!==null?rt=eh(rt):(nt=Zf(_e)?Xf:H.current,tt=_e.contextTypes,rt=(tt=tt!=null)?Yf($,nt):Vf),_e=new _e(et,rt),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=Ei,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=nt,$.__reactInternalMemoizedMaskedChildContext=rt),_e}function Hi($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&Ei.enqueueReplaceState(_e,_e.state,null)}function Ii($,_e,et,tt){var nt=$.stateNode;nt.props=et,nt.state=$.memoizedState,nt.refs={},kh($);var rt=_e.contextType;typeof rt=="object"&&rt!==null?nt.context=eh(rt):(rt=Zf(_e)?Xf:H.current,nt.context=Yf($,rt)),nt.state=$.memoizedState,rt=_e.getDerivedStateFromProps,typeof rt=="function"&&(Di($,_e,rt,et),nt.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh($,et,nt,tt),nt.state=$.memoizedState),typeof nt.componentDidMount=="function"&&($.flags|=4194308)}function Ji($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:$,source:_e,stack:nt,digest:null}}function Ki($,_e,et){return{value:$,source:null,stack:et??null,digest:_e??null}}function Li($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni($,_e,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li($,_e)},et}function Qi($,_e,et){et=mh(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_e.value;et.payload=function(){return tt(nt)},et.callback=function(){Li($,_e)}}var rt=$.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Li($,_e),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var it=_e.stack;this.componentDidCatch(_e.value,{componentStack:it!==null?it:""})}),et}function Si($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Mi;var nt=new Set;tt.set(_e,nt)}else nt=tt.get(_e),nt===void 0&&(nt=new Set,tt.set(_e,nt));nt.has(et)||(nt.add(et),$=Ti.bind(null,$,_e,et),_e.then($,$))}function Ui($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Vi($,_e,et,tt,nt){return $.mode&1?($.flags|=65536,$.lanes=nt,$):($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=mh(-1,1),_e.tag=2,nh(et,_e,1))),et.lanes|=1),$)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi($,_e,et,tt){_e.child=$===null?Vg(_e,null,et,tt):Ug(_e,$.child,et,tt)}function Yi($,_e,et,tt,nt){et=et.render;var rt=_e.ref;return ch(_e,nt),tt=Nh($,_e,et,tt,rt,nt),et=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I&&et&&vg(_e),_e.flags|=1,Xi($,_e,tt,nt),_e.child)}function $i($,_e,et,tt,nt){if($===null){var rt=et.type;return typeof rt=="function"&&!aj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=rt,bj($,_e,rt,tt,nt)):($=Rg(et.type,null,tt,_e,_e.mode,nt),$.ref=_e.ref,$.return=_e,_e.child=$)}if(rt=$.child,!($.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&$.ref===_e.ref)return Zi($,_e,nt)}return _e.flags|=1,$=Pg(rt,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function bj($,_e,et,tt,nt){if($!==null){var rt=$.memoizedProps;if(Ie(rt,tt)&&$.ref===_e.ref)if(dh=!1,_e.pendingProps=tt=rt,($.lanes&nt)!==0)$.flags&131072&&(dh=!0);else return _e.lanes=$.lanes,Zi($,_e,nt)}return cj($,_e,et,tt,nt)}function dj($,_e,et){var tt=_e.pendingProps,nt=tt.children,rt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=et;else{if(!(et&1073741824))return $=rt!==null?rt.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G(ej,fj),fj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G(ej,fj),fj|=tt}else rt!==null?(tt=rt.baseLanes|et,_e.memoizedState=null):tt=et,G(ej,fj),fj|=tt;return Xi($,_e,nt,et),_e.child}function gj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function cj($,_e,et,tt,nt){var rt=Zf(et)?Xf:H.current;return rt=Yf(_e,rt),ch(_e,nt),et=Nh($,_e,et,tt,rt,nt),tt=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I&&tt&&vg(_e),_e.flags|=1,Xi($,_e,et,nt),_e.child)}function hj($,_e,et,tt,nt){if(Zf(et)){var rt=!0;cg(_e)}else rt=!1;if(ch(_e,nt),_e.stateNode===null)ij($,_e),Gi(_e,et,tt),Ii(_e,et,tt,nt),tt=!0;else if($===null){var it=_e.stateNode,ot=_e.memoizedProps;it.props=ot;var at=it.context,st=et.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf(et)?Xf:H.current,st=Yf(_e,st));var lt=et.getDerivedStateFromProps,ct=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ct||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==tt||at!==st)&&Hi(_e,it,tt,st),jh=!1;var ut=_e.memoizedState;it.state=ut,qh(_e,tt,it,nt),at=_e.memoizedState,ot!==tt||ut!==at||Wf.current||jh?(typeof lt=="function"&&(Di(_e,et,lt,tt),at=_e.memoizedState),(ot=jh||Fi(_e,et,ot,tt,ut,at,st))?(ct||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=at),it.props=tt,it.state=at,it.context=st,tt=ot):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{it=_e.stateNode,lh($,_e),ot=_e.memoizedProps,st=_e.type===_e.elementType?ot:Ci(_e.type,ot),it.props=st,ct=_e.pendingProps,ut=it.context,at=et.contextType,typeof at=="object"&&at!==null?at=eh(at):(at=Zf(et)?Xf:H.current,at=Yf(_e,at));var dt=et.getDerivedStateFromProps;(lt=typeof dt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==ct||ut!==at)&&Hi(_e,it,tt,at),jh=!1,ut=_e.memoizedState,it.state=ut,qh(_e,tt,it,nt);var ft=_e.memoizedState;ot!==ct||ut!==ft||Wf.current||jh?(typeof dt=="function"&&(Di(_e,et,dt,tt),ft=_e.memoizedState),(st=jh||Fi(_e,et,st,tt,ut,ft,at)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ft,at),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ft,at)),typeof it.componentDidUpdate=="function"&&(_e.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof it.componentDidUpdate!="function"||ot===$.memoizedProps&&ut===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===$.memoizedProps&&ut===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=ft),it.props=tt,it.state=ft,it.context=at,tt=st):(typeof it.componentDidUpdate!="function"||ot===$.memoizedProps&&ut===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===$.memoizedProps&&ut===$.memoizedState||(_e.flags|=1024),tt=!1)}return jj$3($,_e,et,tt,rt,nt)}function jj$3($,_e,et,tt,nt,rt){gj($,_e);var it=(_e.flags&128)!==0;if(!tt&&!it)return nt&&dg(_e,et,!1),Zi($,_e,rt);tt=_e.stateNode,Wi.current=_e;var ot=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&it?(_e.child=Ug(_e,$.child,null,rt),_e.child=Ug(_e,null,ot,rt)):Xi($,_e,ot,rt),_e.memoizedState=tt.state,nt&&dg(_e,et,!0),_e.child}function kj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),yh($,_e.containerInfo)}function lj($,_e,et,tt,nt){return Ig(),Jg(nt),_e.flags|=256,Xi($,_e,et,tt),_e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj($){return{baseLanes:$,cachePool:null,transitions:null}}function oj($,_e,et){var tt=_e.pendingProps,nt=L.current,rt=!1,it=(_e.flags&128)!==0,ot;if((ot=it)||(ot=$!==null&&$.memoizedState===null?!1:(nt&2)!==0),ot?(rt=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(nt|=1),G(L,nt&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(_e.mode&1?$.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(it=tt.children,$=tt.fallback,rt?(tt=_e.mode,rt=_e.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=pj(it,tt,0,null),$=Tg($,tt,et,null),rt.return=_e,$.return=_e,rt.sibling=$,_e.child=rt,_e.child.memoizedState=nj(et),_e.memoizedState=mj,$):qj(_e,it));if(nt=$.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return rj($,_e,it,tt,ot,nt,et);if(rt){rt=tt.fallback,it=_e.mode,nt=$.child,ot=nt.sibling;var at={mode:"hidden",children:tt.children};return!(it&1)&&_e.child!==nt?(tt=_e.child,tt.childLanes=0,tt.pendingProps=at,_e.deletions=null):(tt=Pg(nt,at),tt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?rt=Pg(ot,rt):(rt=Tg(rt,it,et,null),rt.flags|=2),rt.return=_e,tt.return=_e,tt.sibling=rt,_e.child=tt,tt=rt,rt=_e.child,it=$.child.memoizedState,it=it===null?nj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=$.childLanes&~et,_e.memoizedState=mj,tt}return rt=$.child,$=rt.sibling,tt=Pg(rt,{mode:"visible",children:tt.children}),!(_e.mode&1)&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function qj($,_e){return _e=pj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function sj($,_e,et,tt){return tt!==null&&Jg(tt),Ug(_e,$.child,null,et),$=qj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function rj($,_e,et,tt,nt,rt,it){if(et)return _e.flags&256?(_e.flags&=-257,tt=Ki(Error(p$5(422))),sj($,_e,it,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(rt=tt.fallback,nt=_e.mode,tt=pj({mode:"visible",children:tt.children},nt,0,null),rt=Tg(rt,nt,it,null),rt.flags|=2,tt.return=_e,rt.return=_e,tt.sibling=rt,_e.child=tt,_e.mode&1&&Ug(_e,$.child,null,it),_e.child.memoizedState=nj(it),_e.memoizedState=mj,rt);if(!(_e.mode&1))return sj($,_e,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var ot=tt.dgst;return tt=ot,rt=Error(p$5(419)),tt=Ki(rt,tt,void 0),sj($,_e,it,tt)}if(ot=(it&$.childLanes)!==0,dh||ot){if(tt=Q,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,ih($,nt),gi(tt,$,nt,-1))}return tj(),tt=Ki(Error(p$5(421))),sj($,_e,it,tt)}return nt.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=uj.bind(null,$),nt._reactRetry=_e,null):($=rt.treeContext,yg=Lf(nt.nextSibling),xg=_e,I=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=qj(_e,tt.children),_e.flags|=4096,_e)}function vj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),bh($.return,_e,et)}function wj($,_e,et,tt,nt){var rt=$.memoizedState;rt===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=_e,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function xj($,_e,et){var tt=_e.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Xi($,_e,tt.children,et),tt=L.current,tt&2)tt=tt&1|2,_e.flags|=128;else{if($!==null&&$.flags&128)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&vj($,et,_e);else if($.tag===19)vj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G(L,tt),!(_e.mode&1))_e.memoizedState=null;else switch(nt){case"forwards":for(et=_e.child,nt=null;et!==null;)$=et.alternate,$!==null&&Ch($)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_e.child,_e.child=null):(nt=et.sibling,et.sibling=null),wj(_e,!1,nt,et,rt);break;case"backwards":for(et=null,nt=_e.child,_e.child=null;nt!==null;){if($=nt.alternate,$!==null&&Ch($)===null){_e.child=nt;break}$=nt.sibling,nt.sibling=et,et=nt,nt=$}wj(_e,!0,et,null,rt);break;case"together":wj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function ij($,_e){!(_e.mode&1)&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function Zi($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),rh|=_e.lanes,!(et&_e.childLanes))return null;if($!==null&&_e.child!==$.child)throw Error(p$5(153));if(_e.child!==null){for($=_e.child,et=Pg($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=Pg($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function yj($,_e,et){switch(_e.tag){case 3:kj(_e),Ig();break;case 5:Ah(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:yh(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,nt=_e.memoizedProps.value;G(Wg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G(L,L.current&1),_e.flags|=128,null):et&_e.child.childLanes?oj($,_e,et):(G(L,L.current&1),$=Zi($,_e,et),$!==null?$.sibling:null);G(L,L.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,$.flags&128){if(tt)return xj($,_e,et);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(L,L.current),tt)break;return null;case 22:case 23:return _e.lanes=0,dj($,_e,et)}return Zi($,_e,et)}var zj,Aj,Bj,Cj;zj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function($,_e,et,tt){var nt=$.memoizedProps;if(nt!==tt){$=_e.stateNode,xh(uh.current);var rt=null;switch(et){case"input":nt=Ya($,nt),tt=Ya($,tt),rt=[];break;case"select":nt=A({},nt,{value:void 0}),tt=A({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb($,nt),tt=gb($,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var it;et=null;for(st in nt)if(!tt.hasOwnProperty(st)&&nt.hasOwnProperty(st)&&nt[st]!=null)if(st==="style"){var ot=nt[st];for(it in ot)ot.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?rt||(rt=[]):(rt=rt||[]).push(st,null));for(st in tt){var at=tt[st];if(ot=nt!=null?nt[st]:void 0,tt.hasOwnProperty(st)&&at!==ot&&(at!=null||ot!=null))if(st==="style")if(ot){for(it in ot)!ot.hasOwnProperty(it)||at&&at.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in at)at.hasOwnProperty(it)&&ot[it]!==at[it]&&(et||(et={}),et[it]=at[it])}else et||(rt||(rt=[]),rt.push(st,et)),et=at;else st==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,ot=ot?ot.__html:void 0,at!=null&&ot!==at&&(rt=rt||[]).push(st,at)):st==="children"?typeof at!="string"&&typeof at!="number"||(rt=rt||[]).push(st,""+at):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(at!=null&&st==="onScroll"&&D("scroll",$),rt||ot===at||(rt=[])):(rt=rt||[]).push(st,at))}et&&(rt=rt||[]).push("style",et);var st=rt;(_e.updateQueue=st)&&(_e.flags|=4)}};Cj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Dj($,_e){if(!I)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=$,nt=nt.sibling;else for(nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=$,nt=nt.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Ej($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(_e),null;case 1:return Zf(_e.type)&&$f(),S(_e),null;case 3:return tt=_e.stateNode,zh(),E(Wf),E(H),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj($,_e),S(_e),null;case 5:Bh(_e);var nt=xh(wh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Bj($,_e,et,tt,nt),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$5(166));return S(_e),null}if($=xh(uh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var rt=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=rt,$=(_e.mode&1)!==0,et){case"dialog":D("cancel",tt),D("close",tt);break;case"iframe":case"object":case"embed":D("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],tt);break;case"source":D("error",tt);break;case"img":case"image":case"link":D("error",tt),D("load",tt);break;case"details":D("toggle",tt);break;case"input":Za(tt,rt),D("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D("invalid",tt);break;case"textarea":hb(tt,rt),D("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var ot=rt[it];it==="children"?typeof ot=="string"?tt.textContent!==ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,$),nt=["children",ot]):typeof ot=="number"&&tt.textContent!==""+ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,$),nt=["children",""+ot]):ea.hasOwnProperty(it)&&ot!=null&&it==="onScroll"&&D("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=it.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=it.createElement(et,{is:tt.is}):($=it.createElement(et),et==="select"&&(it=$,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):$=it.createElementNS($,et),$[Of]=_e,$[Pf]=tt,zj($,_e,!1,!1),_e.stateNode=$;e:{switch(it=vb$2(et,tt),et){case"dialog":D("cancel",$),D("close",$),nt=tt;break;case"iframe":case"object":case"embed":D("load",$),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D(lf[nt],$);nt=tt;break;case"source":D("error",$),nt=tt;break;case"img":case"image":case"link":D("error",$),D("load",$),nt=tt;break;case"details":D("toggle",$),nt=tt;break;case"input":Za($,tt),nt=Ya($,tt),D("invalid",$);break;case"option":nt=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},nt=A({},tt,{value:void 0}),D("invalid",$);break;case"textarea":hb($,tt),nt=gb($,tt),D("invalid",$);break;default:nt=tt}ub(et,nt),ot=nt;for(rt in ot)if(ot.hasOwnProperty(rt)){var at=ot[rt];rt==="style"?sb($,at):rt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb($,at)):rt==="children"?typeof at=="string"?(et!=="textarea"||at!=="")&&ob($,at):typeof at=="number"&&ob($,""+at):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?at!=null&&rt==="onScroll"&&D("scroll",$):at!=null&&ta($,rt,at,it))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb($,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S(_e),null;case 6:if($&&_e.stateNode!=null)Cj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$5(166));if(et=xh(wh.current),xh(uh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(rt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}rt&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S(_e),null;case 13:if(E(L),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,rt=!1;else if(rt=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!rt)throw Error(p$5(318));if(rt=_e.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$5(317));rt[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S(_e),rt=!1}else zg!==null&&(Fj(zg),zg=null),rt=!0;if(!rt)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,_e.mode&1&&($===null||L.current&1?T===0&&(T=3):tj())),_e.updateQueue!==null&&(_e.flags|=4),S(_e),null);case 4:return zh(),Aj($,_e),$===null&&sf(_e.stateNode.containerInfo),S(_e),null;case 10:return ah(_e.type._context),S(_e),null;case 17:return Zf(_e.type)&&$f(),S(_e),null;case 19:if(E(L),rt=_e.memoizedState,rt===null)return S(_e),null;if(tt=(_e.flags&128)!==0,it=rt.rendering,it===null)if(tt)Dj(rt,!1);else{if(T!==0||$!==null&&$.flags&128)for($=_e.child;$!==null;){if(it=Ch($),it!==null){for(_e.flags|=128,Dj(rt,!1),tt=it.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)rt=et,$=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=$,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,$=it.dependencies,rt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G(L,L.current&1|2),_e.child}$=$.sibling}rt.tail!==null&&B()>Gj&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304)}else{if(!tt)if($=Ch(it),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Dj(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I)return S(_e),null}else 2*B()-rt.renderingStartTime>Gj&&et!==1073741824&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304);rt.isBackwards?(it.sibling=_e.child,_e.child=it):(et=rt.last,et!==null?et.sibling=it:_e.child=it,rt.last=it)}return rt.tail!==null?(_e=rt.tail,rt.rendering=_e,rt.tail=_e.sibling,rt.renderingStartTime=B(),_e.sibling=null,et=L.current,G(L,tt?et&1|2:et&1),_e):(S(_e),null);case 22:case 23:return Hj(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&_e.mode&1?fj&1073741824&&(S(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S(_e),null;case 24:return null;case 25:return null}throw Error(p$5(156,_e.tag))}function Ij($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return zh(),E(Wf),E(H),Eh(),$=_e.flags,$&65536&&!($&128)?(_e.flags=$&-65537|128,_e):null;case 5:return Bh(_e),null;case 13:if(E(L),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$5(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(_e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W($,_e,tt)}else et.current=null}function Mj($,_e,et){try{et()}catch(tt){W($,_e,tt)}}var Nj=!1;function Oj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,ot=-1,at=-1,st=0,lt=0,ct=$,ut=null;t:for(;;){for(var dt;ct!==et||nt!==0&&ct.nodeType!==3||(ot=it+nt),ct!==rt||tt!==0&&ct.nodeType!==3||(at=it+tt),ct.nodeType===3&&(it+=ct.nodeValue.length),(dt=ct.firstChild)!==null;)ut=ct,ct=dt;for(;;){if(ct===$)break t;if(ut===et&&++st===nt&&(ot=it),ut===rt&&++lt===tt&&(at=it),(dt=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=dt}et=ot===-1||at===-1?null:{start:ot,end:at}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var ft=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var pt=ft.memoizedProps,mt=ft.memoizedState,ht=_e.stateNode,yt=ht.getSnapshotBeforeUpdate(_e.elementType===_e.type?pt:Ci(_e.type,pt),mt);ht.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var xt=_e.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(St){W(_e,_e.return,St)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return ft=Nj,Nj=!1,ft}function Pj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&$)===$){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Mj(_e,et,rt)}nt=nt.next}while(nt!==tt)}}function Qj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Rj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Sj($){var _e=$.alternate;_e!==null&&($.alternate=null,Sj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Tj($){return $.tag===5||$.tag===3||$.tag===4}function Uj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Tj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Vj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Vj($,_e,et),$=$.sibling;$!==null;)Vj($,_e,et),$=$.sibling}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}var X$1=null,Xj=!1;function Yj($,_e,et){for(et=et.child;et!==null;)Zj($,_e,et),et=et.sibling}function Zj($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U||Lj(et,_e);case 6:var tt=X$1,nt=Xj;X$1=null,Yj($,_e,et),X$1=tt,Xj=nt,X$1!==null&&(Xj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Xj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Xj,X$1=et.stateNode.containerInfo,Xj=!0,Yj($,_e,et),X$1=tt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Mj(et,_e,it),nt=nt.next}while(nt!==tt)}Yj($,_e,et);break;case 1:if(!U&&(Lj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ot){W(et,_e,ot)}Yj($,_e,et);break;case 21:Yj($,_e,et);break;case 22:et.mode&1?(U=(tt=U)||et.memoizedState!==null,Yj($,_e,et),U=tt):Yj($,_e,et);break;default:Yj($,_e,et)}}function ak($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Kj),_e.forEach(function(tt){var nt=bk.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function ck($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=$,it=_e,ot=it;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Xj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$5(160));Zj(rt,it,nt),X$1=null,Xj=!1;var at=nt.alternate;at!==null&&(at.return=null),nt.return=null}catch(st){W(nt,_e,st)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)dk(_e,$),_e=_e.sibling}function dk($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(ck(_e,$),ek($),tt&4){try{Pj(3,$,$.return),Qj(3,$)}catch(pt){W($,$.return,pt)}try{Pj(5,$,$.return)}catch(pt){W($,$.return,pt)}}break;case 1:ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return),$.flags&32){var nt=$.stateNode;try{ob(nt,"")}catch(pt){W($,$.return,pt)}}if(tt&4&&(nt=$.stateNode,nt!=null)){var rt=$.memoizedProps,it=et!==null?et.memoizedProps:rt,ot=$.type,at=$.updateQueue;if($.updateQueue=null,at!==null)try{ot==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb$2(ot,it);var st=vb$2(ot,rt);for(it=0;it<at.length;it+=2){var lt=at[it],ct=at[it+1];lt==="style"?sb(nt,ct):lt==="dangerouslySetInnerHTML"?nb(nt,ct):lt==="children"?ob(nt,ct):ta(nt,lt,ct,st)}switch(ot){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ut=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var dt=rt.value;dt!=null?fb(nt,!!rt.multiple,dt,!1):ut!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(pt){W($,$.return,pt)}}break;case 6:if(ck(_e,$),ek($),tt&4){if($.stateNode===null)throw Error(p$5(162));nt=$.stateNode,rt=$.memoizedProps;try{nt.nodeValue=rt}catch(pt){W($,$.return,pt)}}break;case 3:if(ck(_e,$),ek($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(pt){W($,$.return,pt)}break;case 4:ck(_e,$),ek($);break;case 13:ck(_e,$),ek($),nt=$.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B())),tt&4&&ak($);break;case 22:if(lt=et!==null&&et.memoizedState!==null,$.mode&1?(U=(st=U)||lt,ck(_e,$),U=st):ck(_e,$),ek($),tt&8192){if(st=$.memoizedState!==null,($.stateNode.isHidden=st)&&!lt&&$.mode&1)for(V=$,lt=$.child;lt!==null;){for(ct=V=lt;V!==null;){switch(ut=V,dt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var ft=ut.stateNode;if(typeof ft.componentWillUnmount=="function"){tt=ut,et=ut.return;try{_e=tt,ft.props=_e.memoizedProps,ft.state=_e.memoizedState,ft.componentWillUnmount()}catch(pt){W(tt,et,pt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ct);continue}}dt!==null?(dt.return=ut,V=dt):gk(ct)}lt=lt.sibling}e:for(lt=null,ct=$;;){if(ct.tag===5){if(lt===null){lt=ct;try{nt=ct.stateNode,st?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(ot=ct.stateNode,at=ct.memoizedProps.style,it=at!=null&&at.hasOwnProperty("display")?at.display:null,ot.style.display=rb("display",it))}catch(pt){W($,$.return,pt)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=st?"":ct.memoizedProps}catch(pt){W($,$.return,pt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===$)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===$)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===$)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck(_e,$),ek($),tt&4&&ak($);break;case 21:break;default:ck(_e,$),ek($)}}function ek($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$5(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Uj($);Wj($,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,ot=Uj($);Vj($,ot,it);break;default:throw Error(p$5(161))}}catch(at){W($,$.return,at)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function hk($,_e,et){V=$,ik($)}function ik($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var nt=V,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Jj;if(!it){var ot=nt.alternate,at=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var st=U;if(Jj=it,(U=at)&&!st)for(V=nt;V!==null;)it=V,at=it.child,it.tag===22&&it.memoizedState!==null?jk(nt):at!==null?(at.return=it,V=at):jk(nt);for(;rt!==null;)V=rt,ik(rt),rt=rt.sibling;V=nt,Jj=ot,U=st}kk($)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V=rt):kk($)}}function kk($){for(;V!==null;){var _e=V;if(_e.flags&8772){var et=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U||Qj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U)if(et===null)tt.componentDidMount();else{var nt=_e.elementType===_e.type?et.memoizedProps:Ci(_e.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=_e.updateQueue;rt!==null&&sh(_e,rt,tt);break;case 3:var it=_e.updateQueue;if(it!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}sh(_e,it,et)}break;case 5:var ot=_e.stateNode;if(et===null&&_e.flags&4){et=ot;var at=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&et.focus();break;case"img":at.src&&(et.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var st=_e.alternate;if(st!==null){var lt=st.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U||_e.flags&512&&Rj(_e)}catch(ut){W(_e,_e.return,ut)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function gk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function jk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Qj(4,_e)}catch(at){W(_e,et,at)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_e.return;try{tt.componentDidMount()}catch(at){W(_e,nt,at)}}var rt=_e.return;try{Rj(_e)}catch(at){W(_e,rt,at)}break;case 5:var it=_e.return;try{Rj(_e)}catch(at){W(_e,it,at)}}}catch(at){W(_e,_e.return,at)}if(_e===$){V=null;break}var ot=_e.sibling;if(ot!==null){ot.return=_e.return,V=ot;break}V=_e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi($){return $.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function gi($,_e,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac($,et,tt),(!(K&2)||$!==Q)&&($===Q&&(!(K&2)&&(qk|=et),T===4&&Ck($,Z)),Dk($,tt),et===1&&K===0&&!(_e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===Q?Z:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Ek.bind(null,$)):hg(Ek.bind(null,$)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Gk($,_e){if(Ak=-1,Bk=0,K&6)throw Error(p$5(327));var et=$.callbackNode;if(Hk()&&$.callbackNode!==et)return null;var tt=uc($,$===Q?Z:0);if(tt===0)return null;if(tt&30||tt&$.expiredLanes||_e)_e=Ik($,tt);else{_e=tt;var nt=K;K|=2;var rt=Jk();(Q!==$||Z!==_e)&&(uk=null,Gj=B()+500,Kk($,_e));do try{Lk();break}catch(ot){Mk($,ot)}while(!0);$g(),mk.current=rt,K=nt,Y!==null?_e=0:(Q=null,Z=0,_e=T)}if(_e!==0){if(_e===2&&(nt=xc($),nt!==0&&(tt=nt,_e=Nk($,nt))),_e===1)throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;if(_e===6)Ck($,tt);else{if(nt=$.current.alternate,!(tt&30)&&!Ok(nt)&&(_e=Ik($,tt),_e===2&&(rt=xc($),rt!==0&&(tt=rt,_e=Nk($,rt))),_e===1))throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;switch($.finishedWork=nt,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$5(345));case 2:Pk($,tk,uk);break;case 3:if(Ck($,tt),(tt&130023424)===tt&&(_e=fk+500-B(),10<_e)){if(uc($,0)!==0)break;if(nt=$.suspendedLanes,(nt&tt)!==tt){R(),$.pingedLanes|=$.suspendedLanes&nt;break}$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),_e);break}Pk($,tk,uk);break;case 4:if(Ck($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=_e[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),tt);break}Pk($,tk,uk);break;case 5:Pk($,tk,uk);break;default:throw Error(p$5(329))}}}return Dk($,B()),$.callbackNode===et?Gk.bind(null,$):null}function Nk($,_e){var et=sk;return $.current.memoizedState.isDehydrated&&(Kk($,_e).flags|=256),$=Ik($,_e),$!==2&&(_e=tk,tk=et,_e!==null&&Fj(_e)),$}function Fj($){tk===null?tk=$:tk.push.apply(tk,$)}function Ok($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Ck($,_e){for(_e&=~rk,_e&=~qk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Ek($){if(K&6)throw Error(p$5(327));Hk();var _e=uc($,0);if(!(_e&1))return Dk($,B()),null;var et=Ik($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Nk($,tt))}if(et===1)throw et=pk,Kk($,0),Ck($,_e),Dk($,B()),et;if(et===6)throw Error(p$5(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Pk($,tk,uk),Dk($,B()),null}function Qk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Gj=B()+500,fg&&jg())}}function Rk($){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _e=K;K|=1;var et=ok.transition,tt=C;try{if(ok.transition=null,C=1,$)return $()}finally{C=tt,ok.transition=et,K=_e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=$,Y=$=Pg($.current,null),Z=fj=_e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_e=0;_e<fh.length;_e++)if(et=fh[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}fh=null}return $}function Mk($,_e){do{var et=Y;try{if($g(),Fh.current=Rh,Ih){for(var tt=M.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T=1,pk=_e,Y=null;break}e:{var rt=$,it=et.return,ot=et,at=_e;if(_e=Z,ot.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var st=at,lt=ot,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var dt=Ui(it);if(dt!==null){dt.flags&=-257,Vi(dt,it,ot,rt,_e),dt.mode&1&&Si(rt,st,_e),_e=dt,at=st;var ft=_e.updateQueue;if(ft===null){var pt=new Set;pt.add(at),_e.updateQueue=pt}else ft.add(at);break e}else{if(!(_e&1)){Si(rt,st,_e),tj();break e}at=Error(p$5(426))}}else if(I&&ot.mode&1){var mt=Ui(it);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,it,ot,rt,_e),Jg(Ji(at,ot));break e}}rt=at=Ji(at,ot),T!==4&&(T=2),sk===null?sk=[rt]:sk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var ht=Ni(rt,at,_e);ph(rt,ht);break e;case 1:ot=at;var yt=rt.type,xt=rt.stateNode;if(!(rt.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Ri===null||!Ri.has(xt)))){rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var St=Qi(rt,ot,_e);ph(rt,St);break e}}rt=rt.return}while(rt!==null)}Sk(et)}catch(gt){_e=gt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(!0)}function Jk(){var $=mk.current;return mk.current=Rh,$===null?Rh:$}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik($,_e){var et=K;K|=2;var tt=Jk();(Q!==$||Z!==_e)&&(uk=null,Kk($,_e));do try{Tk();break}catch(nt){Mk($,nt)}while(!0);if($g(),K=et,mk.current=tt,Y!==null)throw Error(p$5(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk($){var _e=Vk($.alternate,$,fj);$.memoizedProps=$.pendingProps,_e===null?Sk($):Y=_e,nk.current=null}function Sk($){var _e=$;do{var et=_e.alternate;if($=_e.return,_e.flags&32768){if(et=Ij(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}else if(et=Ej(et,_e,fj),et!==null){Y=et;return}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T===0&&(T=5)}function Pk($,_e,et){var tt=C,nt=ok.transition;try{ok.transition=null,C=1,Wk($,_e,et,tt)}finally{ok.transition=nt,C=tt}return null}function Wk($,_e,et,tt){do Hk();while(wk!==null);if(K&6)throw Error(p$5(327));et=$.finishedWork;var nt=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$5(177));$.callbackNode=null,$.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc($,rt),$===Q&&(Y=Q=null,Z=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=ok.transition,ok.transition=null;var it=C;C=1;var ot=K;K|=4,nk.current=null,Oj($,et),dk(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,hk(et),dc(),K=ot,C=it,ok.transition=rt}else $.current=et;if(vk&&(vk=!1,wk=$,xk=nt),rt=$.pendingLanes,rt===0&&(Ri=null),mc(et.stateNode),Dk($,B()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)nt=_e[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,$=Pi,Pi=null,$;return xk&1&&$.tag!==0&&Hk(),rt=$.pendingLanes,rt&1?$===zk?yk++:(yk=0,zk=$):yk=0,jg(),null}function Hk(){if(wk!==null){var $=Dc(xk),_e=ok.transition,et=C;try{if(ok.transition=null,C=16>$?16:$,wk===null)var tt=!1;else{if($=wk,wk=null,xk=0,K&6)throw Error(p$5(331));var nt=K;for(K|=4,V=$.current;V!==null;){var rt=V,it=rt.child;if(V.flags&16){var ot=rt.deletions;if(ot!==null){for(var at=0;at<ot.length;at++){var st=ot[at];for(V=st;V!==null;){var lt=V;switch(lt.tag){case 0:case 11:case 15:Pj(8,lt,rt)}var ct=lt.child;if(ct!==null)ct.return=lt,V=ct;else for(;V!==null;){lt=V;var ut=lt.sibling,dt=lt.return;if(Sj(lt),lt===st){V=null;break}if(ut!==null){ut.return=dt,V=ut;break}V=dt}}}var ft=rt.alternate;if(ft!==null){var pt=ft.child;if(pt!==null){ft.child=null;do{var mt=pt.sibling;pt.sibling=null,pt=mt}while(pt!==null)}}V=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V=it;else e:for(;V!==null;){if(rt=V,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Pj(9,rt,rt.return)}var ht=rt.sibling;if(ht!==null){ht.return=rt.return,V=ht;break e}V=rt.return}}var yt=$.current;for(V=yt;V!==null;){it=V;var xt=it.child;if(it.subtreeFlags&2064&&xt!==null)xt.return=it,V=xt;else e:for(it=yt;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(gt){W(ot,ot.return,gt)}if(ot===it){V=null;break e}var St=ot.sibling;if(St!==null){St.return=ot.return,V=St;break e}V=ot.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C=et,ok.transition=_e}}return!1}function Xk($,_e,et){_e=Ji(et,_e),_e=Ni($,_e,1),$=nh($,_e,1),_e=R(),$!==null&&(Ac($,1,_e),Dk($,_e))}function W($,_e,et){if($.tag===3)Xk($,$,et);else for(;_e!==null;){if(_e.tag===3){Xk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){$=Ji(et,$),$=Qi(_e,$,1),_e=nh(_e,$,1),$=R(),_e!==null&&(Ac(_e,1,$),Dk(_e,$));break}}_e=_e.return}}function Ti($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=R(),$.pingedLanes|=$.suspendedLanes&et,Q===$&&(Z&et)===et&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk($,0):rk|=et),Dk($,_e)}function Yk($,_e){_e===0&&($.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var et=R();$=ih($,_e),$!==null&&(Ac($,_e,et),Dk($,et))}function uj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Yk($,et)}function bk($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,nt=$.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$5(314))}tt!==null&&tt.delete(_e),Yk($,et)}var Vk;Vk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)dh=!0;else{if(!($.lanes&et)&&!(_e.flags&128))return dh=!1,yj($,_e,et);dh=!!($.flags&131072)}else dh=!1,I&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;ij($,_e),$=_e.pendingProps;var nt=Yf(_e,H.current);ch(_e,et),nt=Nh(null,_e,tt,$,nt,et);var rt=Sh();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(rt=!0,cg(_e)):rt=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(_e),nt.updater=Ei,_e.stateNode=nt,nt._reactInternals=_e,Ii(_e,tt,$,et),_e=jj$3(null,_e,tt,!0,rt,et)):(_e.tag=0,I&&rt&&vg(_e),Xi(null,_e,nt,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(ij($,_e),$=_e.pendingProps,nt=tt._init,tt=nt(tt._payload),_e.type=tt,nt=_e.tag=Zk(tt),$=Ci(tt,$),nt){case 0:_e=cj(null,_e,tt,$,et);break e;case 1:_e=hj(null,_e,tt,$,et);break e;case 11:_e=Yi(null,_e,tt,$,et);break e;case 14:_e=$i(null,_e,tt,Ci(tt.type,$),et);break e}throw Error(p$5(306,tt,""))}return _e;case 0:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),cj($,_e,tt,nt,et);case 1:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),hj($,_e,tt,nt,et);case 3:e:{if(kj(_e),$===null)throw Error(p$5(387));tt=_e.pendingProps,rt=_e.memoizedState,nt=rt.element,lh($,_e),qh(_e,tt,null,et);var it=_e.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_e.updateQueue.baseState=rt,_e.memoizedState=rt,_e.flags&256){nt=Ji(Error(p$5(423)),_e),_e=lj($,_e,tt,et,nt);break e}else if(tt!==nt){nt=Ji(Error(p$5(424)),_e),_e=lj($,_e,tt,et,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I=!0,zg=null,et=Vg(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_e=Zi($,_e,et);break e}Xi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Ah(_e),$===null&&Eg(_e),tt=_e.type,nt=_e.pendingProps,rt=$!==null?$.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(_e.flags|=32),gj($,_e),Xi($,_e,it,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return oj($,_e,et);case 4:return yh(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Ug(_e,null,tt,et):Xi($,_e,tt,et),_e.child;case 11:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),Yi($,_e,tt,nt,et);case 7:return Xi($,_e,_e.pendingProps,et),_e.child;case 8:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,nt=_e.pendingProps,rt=_e.memoizedProps,it=nt.value,G(Wg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){_e=Zi($,_e,et);break e}}else for(rt=_e.child,rt!==null&&(rt.return=_e);rt!==null;){var ot=rt.dependencies;if(ot!==null){it=rt.child;for(var at=ot.firstContext;at!==null;){if(at.context===tt){if(rt.tag===1){at=mh(-1,et&-et),at.tag=2;var st=rt.updateQueue;if(st!==null){st=st.shared;var lt=st.pending;lt===null?at.next=at:(at.next=lt.next,lt.next=at),st.pending=at}}rt.lanes|=et,at=rt.alternate,at!==null&&(at.lanes|=et),bh(rt.return,et,_e),ot.lanes|=et;break}at=at.next}}else if(rt.tag===10)it=rt.type===_e.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$5(341));it.lanes|=et,ot=it.alternate,ot!==null&&(ot.lanes|=et),bh(it,et,_e),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===_e){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Xi($,_e,nt.children,et),_e=_e.child}return _e;case 9:return nt=_e.type,tt=_e.pendingProps.children,ch(_e,et),nt=eh(nt),tt=tt(nt),_e.flags|=1,Xi($,_e,tt,et),_e.child;case 14:return tt=_e.type,nt=Ci(tt,_e.pendingProps),nt=Ci(tt.type,nt),$i($,_e,tt,nt,et);case 15:return bj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),ij($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,ch(_e,et),Gi(_e,tt,nt),Ii(_e,tt,nt,et),jj$3(null,_e,tt,!0,$,et);case 19:return xj($,_e,et);case 22:return dj($,_e,et)}throw Error(p$5(156,_e.tag))};function Fk($,_e){return ac($,_e)}function $k($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new $k($,_e,et,tt)}function aj($){return $=$.prototype,!(!$||!$.isReactComponent)}function Zk($){if(typeof $=="function")return aj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function Pg($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function Rg($,_e,et,tt,nt,rt){var it=2;if(tt=$,typeof $=="function")aj($)&&(it=1);else if(typeof $=="string")it=5;else e:switch($){case ya:return Tg(et.children,nt,rt,_e);case za:it=8,nt|=8;break;case Aa:return $=Bg(12,et,_e,nt|2),$.elementType=Aa,$.lanes=rt,$;case Ea:return $=Bg(13,et,_e,nt),$.elementType=Ea,$.lanes=rt,$;case Fa:return $=Bg(19,et,_e,nt),$.elementType=Fa,$.lanes=rt,$;case Ia:return pj(et,nt,rt,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$5(130,$==null?$:typeof $,""))}return _e=Bg(it,et,_e,nt),_e.elementType=$,_e.type=tt,_e.lanes=rt,_e}function Tg($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function pj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function Qg($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function Sg($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function al($,_e,et,tt,nt){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl($,_e,et,tt,nt,rt,it,ot,at){return $=new al($,_e,et,ot,at),_e===1?(_e=1,rt===!0&&(_e|=8)):_e=0,rt=Bg(3,null,null,_e),$.current=rt,rt.stateNode=$,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(rt),$}function cl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function dl($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb$1($)!==$||$.tag!==1)throw Error(p$5(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$5(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function el($,_e,et,tt,nt,rt,it,ot,at){return $=bl(et,tt,!0,$,nt,rt,it,ot,at),$.context=dl(null),et=$.current,tt=R(),nt=yi(et),rt=mh(tt,nt),rt.callback=_e??null,nh(et,rt,nt),$.current.lanes=nt,Ac($,nt,tt),Dk($,tt),$}function fl($,_e,et,tt){var nt=_e.current,rt=R(),it=yi(nt);return et=dl(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=mh(rt,it),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=nh(nt,_e,it),$!==null&&(gi($,nt,it,rt),oh($,nt,it)),it}function gl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function hl($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function il($,_e){hl($,_e),($=$.alternate)&&hl($,_e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function($){console.error($)};function ll($){this._internalRoot=$}ml.prototype.render=ll.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$5(409));fl($,_e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Rk(function(){fl(null,$,null,null)}),_e[uf]=null}};function ml($){this._internalRoot=$}ml.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function nl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql($,_e,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var st=gl(it);rt.call(st)}}var it=el(_e,tt,$,0,null,!1,!1,"",pl);return $._reactRootContainer=it,$[uf]=it.current,sf($.nodeType===8?$.parentNode:$),Rk(),it}for(;nt=$.lastChild;)$.removeChild(nt);if(typeof tt=="function"){var ot=tt;tt=function(){var st=gl(at);ot.call(st)}}var at=bl($,0,!1,null,null,!1,!1,"",pl);return $._reactRootContainer=at,$[uf]=at.current,sf($.nodeType===8?$.parentNode:$),Rk(function(){fl(_e,at,et,tt)}),at}function rl($,_e,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var ot=nt;nt=function(){var at=gl(it);ot.call(at)}}fl(_e,it,$,nt)}else it=ql(et,_e,$,nt,tt);return gl(it)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Dk(_e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih($,1);if(tt!==null){var nt=R();gi(tt,$,1,nt)}}),il($,1)}};Fc=function($){if($.tag===13){var _e=ih($,134217728);if(_e!==null){var et=R();gi(_e,$,134217728,et)}il($,134217728)}};Gc=function($){if($.tag===13){var _e=yi($),et=ih($,_e);if(et!==null){var tt=R();gi(et,$,_e,tt)}il($,_e)}};Hc=function(){return C};Ic=function($,_e){var et=C;try{return C=$,_e()}finally{C=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var nt=Db(tt);if(!nt)throw Error(p$5(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_e))throw Error(p$5(200));return cl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!nl($))throw Error(p$5(299));var et=!1,tt="",nt=kl;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=bl($,1,!1,null,null,et,!1,tt,nt),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ll(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$5(188)):($=Object.keys($).join(","),Error(p$5(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Rk($)};reactDom_production_min.hydrate=function($,_e,et){if(!ol(_e))throw Error(p$5(200));return rl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!nl($))throw Error(p$5(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=kl;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_e=el(_e,null,$,1,et??null,nt,!1,rt,it),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],nt=et._getVersion,nt=nt(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,nt]:_e.mutableSourceEagerHydrationData.push(et,nt);return new ml(_e)};reactDom_production_min.render=function($,_e,et){if(!ol(_e))throw Error(p$5(200));return rl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!ol($))throw Error(p$5(40));return $._reactRootContainer?(Rk(function(){rl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!ol(et))throw Error(p$5(200));if($==null||$._reactInternals===void 0)throw Error(p$5(38));return rl($,_e,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$1(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;function OrderedMap($){this.content=$}OrderedMap.prototype={constructor:OrderedMap,find:function($){for(var _e=0;_e<this.content.length;_e+=2)if(this.content[_e]===$)return _e;return-1},get:function($){var _e=this.find($);return _e==-1?void 0:this.content[_e+1]},update:function($,_e,et){var tt=et&&et!=$?this.remove(et):this,nt=tt.find($),rt=tt.content.slice();return nt==-1?rt.push(et||$,_e):(rt[nt+1]=_e,et&&(rt[nt]=et)),new OrderedMap(rt)},remove:function($){var _e=this.find($);if(_e==-1)return this;var et=this.content.slice();return et.splice(_e,2),new OrderedMap(et)},addToStart:function($,_e){return new OrderedMap([$,_e].concat(this.remove($).content))},addToEnd:function($,_e){var et=this.remove($).content.slice();return et.push($,_e),new OrderedMap(et)},addBefore:function($,_e,et){var tt=this.remove(_e),nt=tt.content.slice(),rt=tt.find($);return nt.splice(rt==-1?nt.length:rt,0,_e,et),new OrderedMap(nt)},forEach:function($){for(var _e=0;_e<this.content.length;_e+=2)$(this.content[_e],this.content[_e+1])},prepend:function($){return $=OrderedMap.from($),$.size?new OrderedMap($.content.concat(this.subtract($).content)):this},append:function($){return $=OrderedMap.from($),$.size?new OrderedMap(this.subtract($).content.concat($.content)):this},subtract:function($){var _e=this;$=OrderedMap.from($);for(var et=0;et<$.content.length;et+=2)_e=_e.remove($.content[et]);return _e},toObject:function(){var $={};return this.forEach(function(_e,et){$[_e]=et}),$},get size(){return this.content.length>>1}};OrderedMap.from=function($){if($ instanceof OrderedMap)return $;var _e=[];if($)for(var et in $)_e.push(et,$[et]);return new OrderedMap(_e)};function findDiffStart($,_e,et){for(let tt=0;;tt++){if(tt==$.childCount||tt==_e.childCount)return $.childCount==_e.childCount?null:et;let nt=$.child(tt),rt=_e.child(tt);if(nt==rt){et+=nt.nodeSize;continue}if(!nt.sameMarkup(rt))return et;if(nt.isText&&nt.text!=rt.text){for(let it=0;nt.text[it]==rt.text[it];it++)et++;return et}if(nt.content.size||rt.content.size){let it=findDiffStart(nt.content,rt.content,et+1);if(it!=null)return it}et+=nt.nodeSize}}function findDiffEnd($,_e,et,tt){for(let nt=$.childCount,rt=_e.childCount;;){if(nt==0||rt==0)return nt==rt?null:{a:et,b:tt};let it=$.child(--nt),ot=_e.child(--rt),at=it.nodeSize;if(it==ot){et-=at,tt-=at;continue}if(!it.sameMarkup(ot))return{a:et,b:tt};if(it.isText&&it.text!=ot.text){let st=0,lt=Math.min(it.text.length,ot.text.length);for(;st<lt&&it.text[it.text.length-st-1]==ot.text[ot.text.length-st-1];)st++,et--,tt--;return{a:et,b:tt}}if(it.content.size||ot.content.size){let st=findDiffEnd(it.content,ot.content,et-1,tt-1);if(st)return st}et-=at,tt-=at}}class Fragment{constructor(_e,et){if(this.content=_e,this.size=et||0,et==null)for(let tt=0;tt<_e.length;tt++)this.size+=_e[tt].nodeSize}nodesBetween(_e,et,tt,nt=0,rt){for(let it=0,ot=0;ot<et;it++){let at=this.content[it],st=ot+at.nodeSize;if(st>_e&&tt(at,nt+ot,rt||null,it)!==!1&&at.content.size){let lt=ot+1;at.nodesBetween(Math.max(0,_e-lt),Math.min(at.content.size,et-lt),tt,nt+lt)}ot=st}}descendants(_e){this.nodesBetween(0,this.size,_e)}textBetween(_e,et,tt,nt){let rt="",it=!0;return this.nodesBetween(_e,et,(ot,at)=>{let st=ot.isText?ot.text.slice(Math.max(_e,at)-at,et-at):ot.isLeaf?nt?typeof nt=="function"?nt(ot):nt:ot.type.spec.leafText?ot.type.spec.leafText(ot):"":"";ot.isBlock&&(ot.isLeaf&&st||ot.isTextblock)&&tt&&(it?it=!1:rt+=tt),rt+=st},0),rt}append(_e){if(!_e.size)return this;if(!this.size)return _e;let et=this.lastChild,tt=_e.firstChild,nt=this.content.slice(),rt=0;for(et.isText&&et.sameMarkup(tt)&&(nt[nt.length-1]=et.withText(et.text+tt.text),rt=1);rt<_e.content.length;rt++)nt.push(_e.content[rt]);return new Fragment(nt,this.size+_e.size)}cut(_e,et=this.size){if(_e==0&&et==this.size)return this;let tt=[],nt=0;if(et>_e)for(let rt=0,it=0;it<et;rt++){let ot=this.content[rt],at=it+ot.nodeSize;at>_e&&((it<_e||at>et)&&(ot.isText?ot=ot.cut(Math.max(0,_e-it),Math.min(ot.text.length,et-it)):ot=ot.cut(Math.max(0,_e-it-1),Math.min(ot.content.size,et-it-1))),tt.push(ot),nt+=ot.nodeSize),it=at}return new Fragment(tt,nt)}cutByIndex(_e,et){return _e==et?Fragment.empty:_e==0&&et==this.content.length?this:new Fragment(this.content.slice(_e,et))}replaceChild(_e,et){let tt=this.content[_e];if(tt==et)return this;let nt=this.content.slice(),rt=this.size+et.nodeSize-tt.nodeSize;return nt[_e]=et,new Fragment(nt,rt)}addToStart(_e){return new Fragment([_e].concat(this.content),this.size+_e.nodeSize)}addToEnd(_e){return new Fragment(this.content.concat(_e),this.size+_e.nodeSize)}eq(_e){if(this.content.length!=_e.content.length)return!1;for(let et=0;et<this.content.length;et++)if(!this.content[et].eq(_e.content[et]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(_e){let et=this.content[_e];if(!et)throw new RangeError("Index "+_e+" out of range for "+this);return et}maybeChild(_e){return this.content[_e]||null}forEach(_e){for(let et=0,tt=0;et<this.content.length;et++){let nt=this.content[et];_e(nt,tt,et),tt+=nt.nodeSize}}findDiffStart(_e,et=0){return findDiffStart(this,_e,et)}findDiffEnd(_e,et=this.size,tt=_e.size){return findDiffEnd(this,_e,et,tt)}findIndex(_e){if(_e==0)return retIndex(0,_e);if(_e==this.size)return retIndex(this.content.length,_e);if(_e>this.size||_e<0)throw new RangeError(`Position ${_e} outside of fragment (${this})`);for(let et=0,tt=0;;et++){let nt=this.child(et),rt=tt+nt.nodeSize;if(rt>=_e)return rt==_e?retIndex(et+1,rt):retIndex(et,tt);tt=rt}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(_e=>_e.toJSON()):null}static fromJSON(_e,et){if(!et)return Fragment.empty;if(!Array.isArray(et))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(et.map(_e.nodeFromJSON))}static fromArray(_e){if(!_e.length)return Fragment.empty;let et,tt=0;for(let nt=0;nt<_e.length;nt++){let rt=_e[nt];tt+=rt.nodeSize,nt&&rt.isText&&_e[nt-1].sameMarkup(rt)?(et||(et=_e.slice(0,nt)),et[et.length-1]=rt.withText(et[et.length-1].text+rt.text)):et&&et.push(rt)}return new Fragment(et||_e,tt)}static from(_e){if(!_e)return Fragment.empty;if(_e instanceof Fragment)return _e;if(Array.isArray(_e))return this.fromArray(_e);if(_e.attrs)return new Fragment([_e],_e.nodeSize);throw new RangeError("Can not convert "+_e+" to a Fragment"+(_e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex($,_e){return found.index=$,found.offset=_e,found}function compareDeep($,_e){if($===_e)return!0;if(!($&&typeof $=="object")||!(_e&&typeof _e=="object"))return!1;let et=Array.isArray($);if(Array.isArray(_e)!=et)return!1;if(et){if($.length!=_e.length)return!1;for(let tt=0;tt<$.length;tt++)if(!compareDeep($[tt],_e[tt]))return!1}else{for(let tt in $)if(!(tt in _e)||!compareDeep($[tt],_e[tt]))return!1;for(let tt in _e)if(!(tt in $))return!1}return!0}let Mark$1=class co{constructor(_e,et){this.type=_e,this.attrs=et}addToSet(_e){let et,tt=!1;for(let nt=0;nt<_e.length;nt++){let rt=_e[nt];if(this.eq(rt))return _e;if(this.type.excludes(rt.type))et||(et=_e.slice(0,nt));else{if(rt.type.excludes(this.type))return _e;!tt&&rt.type.rank>this.type.rank&&(et||(et=_e.slice(0,nt)),et.push(this),tt=!0),et&&et.push(rt)}}return et||(et=_e.slice()),tt||et.push(this),et}removeFromSet(_e){for(let et=0;et<_e.length;et++)if(this.eq(_e[et]))return _e.slice(0,et).concat(_e.slice(et+1));return _e}isInSet(_e){for(let et=0;et<_e.length;et++)if(this.eq(_e[et]))return!0;return!1}eq(_e){return this==_e||this.type==_e.type&&compareDeep(this.attrs,_e.attrs)}toJSON(){let _e={type:this.type.name};for(let et in this.attrs){_e.attrs=this.attrs;break}return _e}static fromJSON(_e,et){if(!et)throw new RangeError("Invalid input for Mark.fromJSON");let tt=_e.marks[et.type];if(!tt)throw new RangeError(`There is no mark type ${et.type} in this schema`);let nt=tt.create(et.attrs);return tt.checkAttrs(nt.attrs),nt}static sameSet(_e,et){if(_e==et)return!0;if(_e.length!=et.length)return!1;for(let tt=0;tt<_e.length;tt++)if(!_e[tt].eq(et[tt]))return!1;return!0}static setFrom(_e){if(!_e||Array.isArray(_e)&&_e.length==0)return co.none;if(_e instanceof co)return[_e];let et=_e.slice();return et.sort((tt,nt)=>tt.type.rank-nt.type.rank),et}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(_e,et,tt){this.content=_e,this.openStart=et,this.openEnd=tt}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(_e,et){let tt=insertInto(this.content,_e+this.openStart,et);return tt&&new Slice(tt,this.openStart,this.openEnd)}removeBetween(_e,et){return new Slice(removeRange(this.content,_e+this.openStart,et+this.openStart),this.openStart,this.openEnd)}eq(_e){return this.content.eq(_e.content)&&this.openStart==_e.openStart&&this.openEnd==_e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let _e={content:this.content.toJSON()};return this.openStart>0&&(_e.openStart=this.openStart),this.openEnd>0&&(_e.openEnd=this.openEnd),_e}static fromJSON(_e,et){if(!et)return Slice.empty;let tt=et.openStart||0,nt=et.openEnd||0;if(typeof tt!="number"||typeof nt!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(_e,et.content),tt,nt)}static maxOpen(_e,et=!0){let tt=0,nt=0;for(let rt=_e.firstChild;rt&&!rt.isLeaf&&(et||!rt.type.spec.isolating);rt=rt.firstChild)tt++;for(let rt=_e.lastChild;rt&&!rt.isLeaf&&(et||!rt.type.spec.isolating);rt=rt.lastChild)nt++;return new Slice(_e,tt,nt)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange($,_e,et){let{index:tt,offset:nt}=$.findIndex(_e),rt=$.maybeChild(tt),{index:it,offset:ot}=$.findIndex(et);if(nt==_e||rt.isText){if(ot!=et&&!$.child(it).isText)throw new RangeError("Removing non-flat range");return $.cut(0,_e).append($.cut(et))}if(tt!=it)throw new RangeError("Removing non-flat range");return $.replaceChild(tt,rt.copy(removeRange(rt.content,_e-nt-1,et-nt-1)))}function insertInto($,_e,et,tt){let{index:nt,offset:rt}=$.findIndex(_e),it=$.maybeChild(nt);if(rt==_e||it.isText)return tt&&!tt.canReplace(nt,nt,et)?null:$.cut(0,_e).append(et).append($.cut(_e));let ot=insertInto(it.content,_e-rt-1,et,it);return ot&&$.replaceChild(nt,it.copy(ot))}function replace($,_e,et){if(et.openStart>$.depth)throw new ReplaceError("Inserted content deeper than insertion position");if($.depth-et.openStart!=_e.depth-et.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter($,_e,et,0)}function replaceOuter($,_e,et,tt){let nt=$.index(tt),rt=$.node(tt);if(nt==_e.index(tt)&&tt<$.depth-et.openStart){let it=replaceOuter($,_e,et,tt+1);return rt.copy(rt.content.replaceChild(nt,it))}else if(et.content.size)if(!et.openStart&&!et.openEnd&&$.depth==tt&&_e.depth==tt){let it=$.parent,ot=it.content;return close(it,ot.cut(0,$.parentOffset).append(et.content).append(ot.cut(_e.parentOffset)))}else{let{start:it,end:ot}=prepareSliceForReplace(et,$);return close(rt,replaceThreeWay($,it,ot,_e,tt))}else return close(rt,replaceTwoWay($,_e,tt))}function checkJoin($,_e){if(!_e.type.compatibleContent($.type))throw new ReplaceError("Cannot join "+_e.type.name+" onto "+$.type.name)}function joinable$1($,_e,et){let tt=$.node(et);return checkJoin(tt,_e.node(et)),tt}function addNode($,_e){let et=_e.length-1;et>=0&&$.isText&&$.sameMarkup(_e[et])?_e[et]=$.withText(_e[et].text+$.text):_e.push($)}function addRange($,_e,et,tt){let nt=(_e||$).node(et),rt=0,it=_e?_e.index(et):nt.childCount;$&&(rt=$.index(et),$.depth>et?rt++:$.textOffset&&(addNode($.nodeAfter,tt),rt++));for(let ot=rt;ot<it;ot++)addNode(nt.child(ot),tt);_e&&_e.depth==et&&_e.textOffset&&addNode(_e.nodeBefore,tt)}function close($,_e){return $.type.checkContent(_e),$.copy(_e)}function replaceThreeWay($,_e,et,tt,nt){let rt=$.depth>nt&&joinable$1($,_e,nt+1),it=tt.depth>nt&&joinable$1(et,tt,nt+1),ot=[];return addRange(null,$,nt,ot),rt&&it&&_e.index(nt)==et.index(nt)?(checkJoin(rt,it),addNode(close(rt,replaceThreeWay($,_e,et,tt,nt+1)),ot)):(rt&&addNode(close(rt,replaceTwoWay($,_e,nt+1)),ot),addRange(_e,et,nt,ot),it&&addNode(close(it,replaceTwoWay(et,tt,nt+1)),ot)),addRange(tt,null,nt,ot),new Fragment(ot)}function replaceTwoWay($,_e,et){let tt=[];if(addRange(null,$,et,tt),$.depth>et){let nt=joinable$1($,_e,et+1);addNode(close(nt,replaceTwoWay($,_e,et+1)),tt)}return addRange(_e,null,et,tt),new Fragment(tt)}function prepareSliceForReplace($,_e){let et=_e.depth-$.openStart,nt=_e.node(et).copy($.content);for(let rt=et-1;rt>=0;rt--)nt=_e.node(rt).copy(Fragment.from(nt));return{start:nt.resolveNoCache($.openStart+et),end:nt.resolveNoCache(nt.content.size-$.openEnd-et)}}class ResolvedPos{constructor(_e,et,tt){this.pos=_e,this.path=et,this.parentOffset=tt,this.depth=et.length/3-1}resolveDepth(_e){return _e==null?this.depth:_e<0?this.depth+_e:_e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(_e){return this.path[this.resolveDepth(_e)*3]}index(_e){return this.path[this.resolveDepth(_e)*3+1]}indexAfter(_e){return _e=this.resolveDepth(_e),this.index(_e)+(_e==this.depth&&!this.textOffset?0:1)}start(_e){return _e=this.resolveDepth(_e),_e==0?0:this.path[_e*3-1]+1}end(_e){return _e=this.resolveDepth(_e),this.start(_e)+this.node(_e).content.size}before(_e){if(_e=this.resolveDepth(_e),!_e)throw new RangeError("There is no position before the top-level node");return _e==this.depth+1?this.pos:this.path[_e*3-1]}after(_e){if(_e=this.resolveDepth(_e),!_e)throw new RangeError("There is no position after the top-level node");return _e==this.depth+1?this.pos:this.path[_e*3-1]+this.path[_e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let _e=this.parent,et=this.index(this.depth);if(et==_e.childCount)return null;let tt=this.pos-this.path[this.path.length-1],nt=_e.child(et);return tt?_e.child(et).cut(tt):nt}get nodeBefore(){let _e=this.index(this.depth),et=this.pos-this.path[this.path.length-1];return et?this.parent.child(_e).cut(0,et):_e==0?null:this.parent.child(_e-1)}posAtIndex(_e,et){et=this.resolveDepth(et);let tt=this.path[et*3],nt=et==0?0:this.path[et*3-1]+1;for(let rt=0;rt<_e;rt++)nt+=tt.child(rt).nodeSize;return nt}marks(){let _e=this.parent,et=this.index();if(_e.content.size==0)return Mark$1.none;if(this.textOffset)return _e.child(et).marks;let tt=_e.maybeChild(et-1),nt=_e.maybeChild(et);if(!tt){let ot=tt;tt=nt,nt=ot}let rt=tt.marks;for(var it=0;it<rt.length;it++)rt[it].type.spec.inclusive===!1&&(!nt||!rt[it].isInSet(nt.marks))&&(rt=rt[it--].removeFromSet(rt));return rt}marksAcross(_e){let et=this.parent.maybeChild(this.index());if(!et||!et.isInline)return null;let tt=et.marks,nt=_e.parent.maybeChild(_e.index());for(var rt=0;rt<tt.length;rt++)tt[rt].type.spec.inclusive===!1&&(!nt||!tt[rt].isInSet(nt.marks))&&(tt=tt[rt--].removeFromSet(tt));return tt}sharedDepth(_e){for(let et=this.depth;et>0;et--)if(this.start(et)<=_e&&this.end(et)>=_e)return et;return 0}blockRange(_e=this,et){if(_e.pos<this.pos)return _e.blockRange(this);for(let tt=this.depth-(this.parent.inlineContent||this.pos==_e.pos?1:0);tt>=0;tt--)if(_e.pos<=this.end(tt)&&(!et||et(this.node(tt))))return new NodeRange(this,_e,tt);return null}sameParent(_e){return this.pos-this.parentOffset==_e.pos-_e.parentOffset}max(_e){return _e.pos>this.pos?_e:this}min(_e){return _e.pos<this.pos?_e:this}toString(){let _e="";for(let et=1;et<=this.depth;et++)_e+=(_e?"/":"")+this.node(et).type.name+"_"+this.index(et-1);return _e+":"+this.parentOffset}static resolve(_e,et){if(!(et>=0&&et<=_e.content.size))throw new RangeError("Position "+et+" out of range");let tt=[],nt=0,rt=et;for(let it=_e;;){let{index:ot,offset:at}=it.content.findIndex(rt),st=rt-at;if(tt.push(it,ot,nt+at),!st||(it=it.child(ot),it.isText))break;rt=st-1,nt+=at+1}return new ResolvedPos(et,tt,rt)}static resolveCached(_e,et){let tt=resolveCache.get(_e);if(tt)for(let rt=0;rt<tt.elts.length;rt++){let it=tt.elts[rt];if(it.pos==et)return it}else resolveCache.set(_e,tt=new ResolveCache);let nt=tt.elts[tt.i]=ResolvedPos.resolve(_e,et);return tt.i=(tt.i+1)%resolveCacheSize,nt}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(_e,et,tt){this.$from=_e,this.$to=et,this.depth=tt}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class uo{constructor(_e,et,tt,nt=Mark$1.none){this.type=_e,this.attrs=et,this.marks=nt,this.content=tt||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(_e){return this.content.child(_e)}maybeChild(_e){return this.content.maybeChild(_e)}forEach(_e){this.content.forEach(_e)}nodesBetween(_e,et,tt,nt=0){this.content.nodesBetween(_e,et,tt,nt,this)}descendants(_e){this.nodesBetween(0,this.content.size,_e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(_e,et,tt,nt){return this.content.textBetween(_e,et,tt,nt)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(_e){return this==_e||this.sameMarkup(_e)&&this.content.eq(_e.content)}sameMarkup(_e){return this.hasMarkup(_e.type,_e.attrs,_e.marks)}hasMarkup(_e,et,tt){return this.type==_e&&compareDeep(this.attrs,et||_e.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,tt||Mark$1.none)}copy(_e=null){return _e==this.content?this:new uo(this.type,this.attrs,_e,this.marks)}mark(_e){return _e==this.marks?this:new uo(this.type,this.attrs,this.content,_e)}cut(_e,et=this.content.size){return _e==0&&et==this.content.size?this:this.copy(this.content.cut(_e,et))}slice(_e,et=this.content.size,tt=!1){if(_e==et)return Slice.empty;let nt=this.resolve(_e),rt=this.resolve(et),it=tt?0:nt.sharedDepth(et),ot=nt.start(it),st=nt.node(it).content.cut(nt.pos-ot,rt.pos-ot);return new Slice(st,nt.depth-it,rt.depth-it)}replace(_e,et,tt){return replace(this.resolve(_e),this.resolve(et),tt)}nodeAt(_e){for(let et=this;;){let{index:tt,offset:nt}=et.content.findIndex(_e);if(et=et.maybeChild(tt),!et)return null;if(nt==_e||et.isText)return et;_e-=nt+1}}childAfter(_e){let{index:et,offset:tt}=this.content.findIndex(_e);return{node:this.content.maybeChild(et),index:et,offset:tt}}childBefore(_e){if(_e==0)return{node:null,index:0,offset:0};let{index:et,offset:tt}=this.content.findIndex(_e);if(tt<_e)return{node:this.content.child(et),index:et,offset:tt};let nt=this.content.child(et-1);return{node:nt,index:et-1,offset:tt-nt.nodeSize}}resolve(_e){return ResolvedPos.resolveCached(this,_e)}resolveNoCache(_e){return ResolvedPos.resolve(this,_e)}rangeHasMark(_e,et,tt){let nt=!1;return et>_e&&this.nodesBetween(_e,et,rt=>(tt.isInSet(rt.marks)&&(nt=!0),!nt)),nt}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let _e=this.type.name;return this.content.size&&(_e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,_e)}contentMatchAt(_e){let et=this.type.contentMatch.matchFragment(this.content,0,_e);if(!et)throw new Error("Called contentMatchAt on a node with invalid content");return et}canReplace(_e,et,tt=Fragment.empty,nt=0,rt=tt.childCount){let it=this.contentMatchAt(_e).matchFragment(tt,nt,rt),ot=it&&it.matchFragment(this.content,et);if(!ot||!ot.validEnd)return!1;for(let at=nt;at<rt;at++)if(!this.type.allowsMarks(tt.child(at).marks))return!1;return!0}canReplaceWith(_e,et,tt,nt){if(nt&&!this.type.allowsMarks(nt))return!1;let rt=this.contentMatchAt(_e).matchType(tt),it=rt&&rt.matchFragment(this.content,et);return it?it.validEnd:!1}canAppend(_e){return _e.content.size?this.canReplace(this.childCount,this.childCount,_e.content):this.type.compatibleContent(_e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let _e=Mark$1.none;for(let et=0;et<this.marks.length;et++){let tt=this.marks[et];tt.type.checkAttrs(tt.attrs),_e=tt.addToSet(_e)}if(!Mark$1.sameSet(_e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(et=>et.type.name)}`);this.content.forEach(et=>et.check())}toJSON(){let _e={type:this.type.name};for(let et in this.attrs){_e.attrs=this.attrs;break}return this.content.size&&(_e.content=this.content.toJSON()),this.marks.length&&(_e.marks=this.marks.map(et=>et.toJSON())),_e}static fromJSON(_e,et){if(!et)throw new RangeError("Invalid input for Node.fromJSON");let tt;if(et.marks){if(!Array.isArray(et.marks))throw new RangeError("Invalid mark data for Node.fromJSON");tt=et.marks.map(_e.markFromJSON)}if(et.type=="text"){if(typeof et.text!="string")throw new RangeError("Invalid text node in JSON");return _e.text(et.text,tt)}let nt=Fragment.fromJSON(_e,et.content),rt=_e.nodeType(et.type).create(et.attrs,nt,tt);return rt.type.checkAttrs(rt.attrs),rt}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(_e,et,tt,nt){if(super(_e,et,null,nt),!tt)throw new RangeError("Empty text nodes are not allowed");this.text=tt}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(_e,et){return this.text.slice(_e,et)}get nodeSize(){return this.text.length}mark(_e){return _e==this.marks?this:new TextNode(this.type,this.attrs,this.text,_e)}withText(_e){return _e==this.text?this:new TextNode(this.type,this.attrs,_e,this.marks)}cut(_e=0,et=this.text.length){return _e==0&&et==this.text.length?this:this.withText(this.text.slice(_e,et))}eq(_e){return this.sameMarkup(_e)&&this.text==_e.text}toJSON(){let _e=super.toJSON();return _e.text=this.text,_e}}function wrapMarks($,_e){for(let et=$.length-1;et>=0;et--)_e=$[et].type.name+"("+_e+")";return _e}class ContentMatch{constructor(_e){this.validEnd=_e,this.next=[],this.wrapCache=[]}static parse(_e,et){let tt=new TokenStream(_e,et);if(tt.next==null)return ContentMatch.empty;let nt=parseExpr(tt);tt.next&&tt.err("Unexpected trailing text");let rt=dfa(nfa(nt));return checkForDeadEnds(rt,tt),rt}matchType(_e){for(let et=0;et<this.next.length;et++)if(this.next[et].type==_e)return this.next[et].next;return null}matchFragment(_e,et=0,tt=_e.childCount){let nt=this;for(let rt=et;nt&&rt<tt;rt++)nt=nt.matchType(_e.child(rt).type);return nt}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let _e=0;_e<this.next.length;_e++){let{type:et}=this.next[_e];if(!(et.isText||et.hasRequiredAttrs()))return et}return null}compatible(_e){for(let et=0;et<this.next.length;et++)for(let tt=0;tt<_e.next.length;tt++)if(this.next[et].type==_e.next[tt].type)return!0;return!1}fillBefore(_e,et=!1,tt=0){let nt=[this];function rt(it,ot){let at=it.matchFragment(_e,tt);if(at&&(!et||at.validEnd))return Fragment.from(ot.map(st=>st.createAndFill()));for(let st=0;st<it.next.length;st++){let{type:lt,next:ct}=it.next[st];if(!(lt.isText||lt.hasRequiredAttrs())&&nt.indexOf(ct)==-1){nt.push(ct);let ut=rt(ct,ot.concat(lt));if(ut)return ut}}return null}return rt(this,[])}findWrapping(_e){for(let tt=0;tt<this.wrapCache.length;tt+=2)if(this.wrapCache[tt]==_e)return this.wrapCache[tt+1];let et=this.computeWrapping(_e);return this.wrapCache.push(_e,et),et}computeWrapping(_e){let et=Object.create(null),tt=[{match:this,type:null,via:null}];for(;tt.length;){let nt=tt.shift(),rt=nt.match;if(rt.matchType(_e)){let it=[];for(let ot=nt;ot.type;ot=ot.via)it.push(ot.type);return it.reverse()}for(let it=0;it<rt.next.length;it++){let{type:ot,next:at}=rt.next[it];!ot.isLeaf&&!ot.hasRequiredAttrs()&&!(ot.name in et)&&(!nt.type||at.validEnd)&&(tt.push({match:ot.contentMatch,type:ot,via:nt}),et[ot.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(_e){if(_e>=this.next.length)throw new RangeError(`There's no ${_e}th edge in this content match`);return this.next[_e]}toString(){let _e=[];function et(tt){_e.push(tt);for(let nt=0;nt<tt.next.length;nt++)_e.indexOf(tt.next[nt].next)==-1&&et(tt.next[nt].next)}return et(this),_e.map((tt,nt)=>{let rt=nt+(tt.validEnd?"*":" ")+" ";for(let it=0;it<tt.next.length;it++)rt+=(it?", ":"")+tt.next[it].type.name+"->"+_e.indexOf(tt.next[it].next);return rt}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(_e,et){this.string=_e,this.nodeTypes=et,this.inline=null,this.pos=0,this.tokens=_e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(_e){return this.next==_e&&(this.pos++||!0)}err(_e){throw new SyntaxError(_e+" (in content expression '"+this.string+"')")}}function parseExpr($){let _e=[];do _e.push(parseExprSeq($));while($.eat("|"));return _e.length==1?_e[0]:{type:"choice",exprs:_e}}function parseExprSeq($){let _e=[];do _e.push(parseExprSubscript($));while($.next&&$.next!=")"&&$.next!="|");return _e.length==1?_e[0]:{type:"seq",exprs:_e}}function parseExprSubscript($){let _e=parseExprAtom($);for(;;)if($.eat("+"))_e={type:"plus",expr:_e};else if($.eat("*"))_e={type:"star",expr:_e};else if($.eat("?"))_e={type:"opt",expr:_e};else if($.eat("{"))_e=parseExprRange($,_e);else break;return _e}function parseNum($){/\D/.test($.next)&&$.err("Expected number, got '"+$.next+"'");let _e=Number($.next);return $.pos++,_e}function parseExprRange($,_e){let et=parseNum($),tt=et;return $.eat(",")&&($.next!="}"?tt=parseNum($):tt=-1),$.eat("}")||$.err("Unclosed braced range"),{type:"range",min:et,max:tt,expr:_e}}function resolveName($,_e){let et=$.nodeTypes,tt=et[_e];if(tt)return[tt];let nt=[];for(let rt in et){let it=et[rt];it.isInGroup(_e)&&nt.push(it)}return nt.length==0&&$.err("No node type or group '"+_e+"' found"),nt}function parseExprAtom($){if($.eat("(")){let _e=parseExpr($);return $.eat(")")||$.err("Missing closing paren"),_e}else if(/\W/.test($.next))$.err("Unexpected token '"+$.next+"'");else{let _e=resolveName($,$.next).map(et=>($.inline==null?$.inline=et.isInline:$.inline!=et.isInline&&$.err("Mixing inline and block content"),{type:"name",value:et}));return $.pos++,_e.length==1?_e[0]:{type:"choice",exprs:_e}}}function nfa($){let _e=[[]];return nt(rt($,0),et()),_e;function et(){return _e.push([])-1}function tt(it,ot,at){let st={term:at,to:ot};return _e[it].push(st),st}function nt(it,ot){it.forEach(at=>at.to=ot)}function rt(it,ot){if(it.type=="choice")return it.exprs.reduce((at,st)=>at.concat(rt(st,ot)),[]);if(it.type=="seq")for(let at=0;;at++){let st=rt(it.exprs[at],ot);if(at==it.exprs.length-1)return st;nt(st,ot=et())}else if(it.type=="star"){let at=et();return tt(ot,at),nt(rt(it.expr,at),at),[tt(at)]}else if(it.type=="plus"){let at=et();return nt(rt(it.expr,ot),at),nt(rt(it.expr,at),at),[tt(at)]}else{if(it.type=="opt")return[tt(ot)].concat(rt(it.expr,ot));if(it.type=="range"){let at=ot;for(let st=0;st<it.min;st++){let lt=et();nt(rt(it.expr,at),lt),at=lt}if(it.max==-1)nt(rt(it.expr,at),at);else for(let st=it.min;st<it.max;st++){let lt=et();tt(at,lt),nt(rt(it.expr,at),lt),at=lt}return[tt(at)]}else{if(it.type=="name")return[tt(ot,void 0,it.value)];throw new Error("Unknown expr type")}}}}function cmp($,_e){return _e-$}function nullFrom($,_e){let et=[];return tt(_e),et.sort(cmp);function tt(nt){let rt=$[nt];if(rt.length==1&&!rt[0].term)return tt(rt[0].to);et.push(nt);for(let it=0;it<rt.length;it++){let{term:ot,to:at}=rt[it];!ot&&et.indexOf(at)==-1&&tt(at)}}}function dfa($){let _e=Object.create(null);return et(nullFrom($,0));function et(tt){let nt=[];tt.forEach(it=>{$[it].forEach(({term:ot,to:at})=>{if(!ot)return;let st;for(let lt=0;lt<nt.length;lt++)nt[lt][0]==ot&&(st=nt[lt][1]);nullFrom($,at).forEach(lt=>{st||nt.push([ot,st=[]]),st.indexOf(lt)==-1&&st.push(lt)})})});let rt=_e[tt.join(",")]=new ContentMatch(tt.indexOf($.length-1)>-1);for(let it=0;it<nt.length;it++){let ot=nt[it][1].sort(cmp);rt.next.push({type:nt[it][0],next:_e[ot.join(",")]||et(ot)})}return rt}}function checkForDeadEnds($,_e){for(let et=0,tt=[$];et<tt.length;et++){let nt=tt[et],rt=!nt.validEnd,it=[];for(let ot=0;ot<nt.next.length;ot++){let{type:at,next:st}=nt.next[ot];it.push(at.name),rt&&!(at.isText||at.hasRequiredAttrs())&&(rt=!1),tt.indexOf(st)==-1&&tt.push(st)}rt&&_e.err("Only non-generatable nodes ("+it.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs($){let _e=Object.create(null);for(let et in $){let tt=$[et];if(!tt.hasDefault)return null;_e[et]=tt.default}return _e}function computeAttrs($,_e){let et=Object.create(null);for(let tt in $){let nt=_e&&_e[tt];if(nt===void 0){let rt=$[tt];if(rt.hasDefault)nt=rt.default;else throw new RangeError("No value supplied for attribute "+tt)}et[tt]=nt}return et}function checkAttrs($,_e,et,tt){for(let nt in _e)if(!(nt in $))throw new RangeError(`Unsupported attribute ${nt} for ${et} of type ${nt}`);for(let nt in $){let rt=$[nt];rt.validate&&rt.validate(_e[nt])}}function initAttrs($,_e){let et=Object.create(null);if(_e)for(let tt in _e)et[tt]=new Attribute($,tt,_e[tt]);return et}let NodeType$1=class Yo{constructor(_e,et,tt){this.name=_e,this.schema=et,this.spec=tt,this.markSet=null,this.groups=tt.group?tt.group.split(" "):[],this.attrs=initAttrs(_e,tt.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(tt.inline||_e=="text"),this.isText=_e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(_e){return this.groups.indexOf(_e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let _e in this.attrs)if(this.attrs[_e].isRequired)return!0;return!1}compatibleContent(_e){return this==_e||this.contentMatch.compatible(_e.contentMatch)}computeAttrs(_e){return!_e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,_e)}create(_e=null,et,tt){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(_e),Fragment.from(et),Mark$1.setFrom(tt))}createChecked(_e=null,et,tt){return et=Fragment.from(et),this.checkContent(et),new Node$1(this,this.computeAttrs(_e),et,Mark$1.setFrom(tt))}createAndFill(_e=null,et,tt){if(_e=this.computeAttrs(_e),et=Fragment.from(et),et.size){let it=this.contentMatch.fillBefore(et);if(!it)return null;et=it.append(et)}let nt=this.contentMatch.matchFragment(et),rt=nt&&nt.fillBefore(Fragment.empty,!0);return rt?new Node$1(this,_e,et.append(rt),Mark$1.setFrom(tt)):null}validContent(_e){let et=this.contentMatch.matchFragment(_e);if(!et||!et.validEnd)return!1;for(let tt=0;tt<_e.childCount;tt++)if(!this.allowsMarks(_e.child(tt).marks))return!1;return!0}checkContent(_e){if(!this.validContent(_e))throw new RangeError(`Invalid content for node ${this.name}: ${_e.toString().slice(0,50)}`)}checkAttrs(_e){checkAttrs(this.attrs,_e,"node",this.name)}allowsMarkType(_e){return this.markSet==null||this.markSet.indexOf(_e)>-1}allowsMarks(_e){if(this.markSet==null)return!0;for(let et=0;et<_e.length;et++)if(!this.allowsMarkType(_e[et].type))return!1;return!0}allowedMarks(_e){if(this.markSet==null)return _e;let et;for(let tt=0;tt<_e.length;tt++)this.allowsMarkType(_e[tt].type)?et&&et.push(_e[tt]):et||(et=_e.slice(0,tt));return et?et.length?et:Mark$1.none:_e}static compile(_e,et){let tt=Object.create(null);_e.forEach((rt,it)=>tt[rt]=new Yo(rt,et,it));let nt=et.spec.topNode||"doc";if(!tt[nt])throw new RangeError("Schema is missing its top node type ('"+nt+"')");if(!tt.text)throw new RangeError("Every schema needs a 'text' type");for(let rt in tt.text.attrs)throw new RangeError("The text node type should not have attributes");return tt}};function validateType($,_e,et){let tt=et.split("|");return nt=>{let rt=nt===null?"null":typeof nt;if(tt.indexOf(rt)<0)throw new RangeError(`Expected value of type ${tt} for attribute ${_e} on type ${$}, got ${rt}`)}}class Attribute{constructor(_e,et,tt){this.hasDefault=Object.prototype.hasOwnProperty.call(tt,"default"),this.default=tt.default,this.validate=typeof tt.validate=="string"?validateType(_e,et,tt.validate):tt.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(_e,et,tt,nt){this.name=_e,this.rank=et,this.schema=tt,this.spec=nt,this.attrs=initAttrs(_e,nt.attrs),this.excluded=null;let rt=defaultAttrs(this.attrs);this.instance=rt?new Mark$1(this,rt):null}create(_e=null){return!_e&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,_e))}static compile(_e,et){let tt=Object.create(null),nt=0;return _e.forEach((rt,it)=>tt[rt]=new MarkType(rt,nt++,et,it)),tt}removeFromSet(_e){for(var et=0;et<_e.length;et++)_e[et].type==this&&(_e=_e.slice(0,et).concat(_e.slice(et+1)),et--);return _e}isInSet(_e){for(let et=0;et<_e.length;et++)if(_e[et].type==this)return _e[et]}checkAttrs(_e){checkAttrs(this.attrs,_e,"mark",this.name)}excludes(_e){return this.excluded.indexOf(_e)>-1}}class Schema{constructor(_e){this.linebreakReplacement=null,this.cached=Object.create(null);let et=this.spec={};for(let nt in _e)et[nt]=_e[nt];et.nodes=OrderedMap.from(_e.nodes),et.marks=OrderedMap.from(_e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let tt=Object.create(null);for(let nt in this.nodes){if(nt in this.marks)throw new RangeError(nt+" can not be both a node and a mark");let rt=this.nodes[nt],it=rt.spec.content||"",ot=rt.spec.marks;if(rt.contentMatch=tt[it]||(tt[it]=ContentMatch.parse(it,this.nodes)),rt.inlineContent=rt.contentMatch.inlineContent,rt.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!rt.isInline||!rt.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=rt}rt.markSet=ot=="_"?null:ot?gatherMarks(this,ot.split(" ")):ot==""||!rt.inlineContent?[]:null}for(let nt in this.marks){let rt=this.marks[nt],it=rt.spec.excludes;rt.excluded=it==null?[rt]:it==""?[]:gatherMarks(this,it.split(" "))}this.nodeFromJSON=nt=>Node$1.fromJSON(this,nt),this.markFromJSON=nt=>Mark$1.fromJSON(this,nt),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(_e,et=null,tt,nt){if(typeof _e=="string")_e=this.nodeType(_e);else if(_e instanceof NodeType$1){if(_e.schema!=this)throw new RangeError("Node type from different schema used ("+_e.name+")")}else throw new RangeError("Invalid node type: "+_e);return _e.createChecked(et,tt,nt)}text(_e,et){let tt=this.nodes.text;return new TextNode(tt,tt.defaultAttrs,_e,Mark$1.setFrom(et))}mark(_e,et){return typeof _e=="string"&&(_e=this.marks[_e]),_e.create(et)}nodeType(_e){let et=this.nodes[_e];if(!et)throw new RangeError("Unknown node type: "+_e);return et}}function gatherMarks($,_e){let et=[];for(let tt=0;tt<_e.length;tt++){let nt=_e[tt],rt=$.marks[nt],it=rt;if(rt)et.push(rt);else for(let ot in $.marks){let at=$.marks[ot];(nt=="_"||at.spec.group&&at.spec.group.split(" ").indexOf(nt)>-1)&&et.push(it=at)}if(!it)throw new SyntaxError("Unknown mark type: '"+_e[tt]+"'")}return et}function isTagRule($){return $.tag!=null}function isStyleRule($){return $.style!=null}class DOMParser{constructor(_e,et){this.schema=_e,this.rules=et,this.tags=[],this.styles=[];let tt=this.matchedStyles=[];et.forEach(nt=>{if(isTagRule(nt))this.tags.push(nt);else if(isStyleRule(nt)){let rt=/[^=]*/.exec(nt.style)[0];tt.indexOf(rt)<0&&tt.push(rt),this.styles.push(nt)}}),this.normalizeLists=!this.tags.some(nt=>{if(!/^(ul|ol)\b/.test(nt.tag)||!nt.node)return!1;let rt=_e.nodes[nt.node];return rt.contentMatch.matchType(rt)})}parse(_e,et={}){let tt=new ParseContext(this,et,!1);return tt.addAll(_e,Mark$1.none,et.from,et.to),tt.finish()}parseSlice(_e,et={}){let tt=new ParseContext(this,et,!0);return tt.addAll(_e,Mark$1.none,et.from,et.to),Slice.maxOpen(tt.finish())}matchTag(_e,et,tt){for(let nt=tt?this.tags.indexOf(tt)+1:0;nt<this.tags.length;nt++){let rt=this.tags[nt];if(matches$2(_e,rt.tag)&&(rt.namespace===void 0||_e.namespaceURI==rt.namespace)&&(!rt.context||et.matchesContext(rt.context))){if(rt.getAttrs){let it=rt.getAttrs(_e);if(it===!1)continue;rt.attrs=it||void 0}return rt}}}matchStyle(_e,et,tt,nt){for(let rt=nt?this.styles.indexOf(nt)+1:0;rt<this.styles.length;rt++){let it=this.styles[rt],ot=it.style;if(!(ot.indexOf(_e)!=0||it.context&&!tt.matchesContext(it.context)||ot.length>_e.length&&(ot.charCodeAt(_e.length)!=61||ot.slice(_e.length+1)!=et))){if(it.getAttrs){let at=it.getAttrs(et);if(at===!1)continue;it.attrs=at||void 0}return it}}}static schemaRules(_e){let et=[];function tt(nt){let rt=nt.priority==null?50:nt.priority,it=0;for(;it<et.length;it++){let ot=et[it];if((ot.priority==null?50:ot.priority)<rt)break}et.splice(it,0,nt)}for(let nt in _e.marks){let rt=_e.marks[nt].spec.parseDOM;rt&&rt.forEach(it=>{tt(it=copy$3(it)),it.mark||it.ignore||it.clearMark||(it.mark=nt)})}for(let nt in _e.nodes){let rt=_e.nodes[nt].spec.parseDOM;rt&&rt.forEach(it=>{tt(it=copy$3(it)),it.node||it.ignore||it.mark||(it.node=nt)})}return et}static fromSchema(_e){return _e.cached.domParser||(_e.cached.domParser=new DOMParser(_e,DOMParser.schemaRules(_e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor($,_e,et){return _e!=null?(_e?OPT_PRESERVE_WS:0)|(_e==="full"?OPT_PRESERVE_WS_FULL:0):$&&$.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:et&~OPT_OPEN_LEFT}class NodeContext{constructor(_e,et,tt,nt,rt,it){this.type=_e,this.attrs=et,this.marks=tt,this.solid=nt,this.options=it,this.content=[],this.activeMarks=Mark$1.none,this.match=rt||(it&OPT_OPEN_LEFT?null:_e.contentMatch)}findWrapping(_e){if(!this.match){if(!this.type)return[];let et=this.type.contentMatch.fillBefore(Fragment.from(_e));if(et)this.match=this.type.contentMatch.matchFragment(et);else{let tt=this.type.contentMatch,nt;return(nt=tt.findWrapping(_e.type))?(this.match=tt,nt):null}}return this.match.findWrapping(_e.type)}finish(_e){if(!(this.options&OPT_PRESERVE_WS)){let tt=this.content[this.content.length-1],nt;if(tt&&tt.isText&&(nt=/[ \t\r\n\u000c]+$/.exec(tt.text))){let rt=tt;tt.text.length==nt[0].length?this.content.pop():this.content[this.content.length-1]=rt.withText(rt.text.slice(0,rt.text.length-nt[0].length))}}let et=Fragment.from(this.content);return!_e&&this.match&&(et=et.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,et,this.marks):et}inlineContext(_e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:_e.parentNode&&!blockTags.hasOwnProperty(_e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(_e,et,tt){this.parser=_e,this.options=et,this.isOpen=tt,this.open=0,this.localPreserveWS=!1;let nt=et.topNode,rt,it=wsOptionsFor(null,et.preserveWhitespace,0)|(tt?OPT_OPEN_LEFT:0);nt?rt=new NodeContext(nt.type,nt.attrs,Mark$1.none,!0,et.topMatch||nt.type.contentMatch,it):tt?rt=new NodeContext(null,null,Mark$1.none,!0,null,it):rt=new NodeContext(_e.schema.topNodeType,null,Mark$1.none,!0,null,it),this.nodes=[rt],this.find=et.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(_e,et){_e.nodeType==3?this.addTextNode(_e,et):_e.nodeType==1&&this.addElement(_e,et)}addTextNode(_e,et){let tt=_e.nodeValue,nt=this.top,rt=nt.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(nt.options&OPT_PRESERVE_WS)>0,{schema:it}=this.parser;if(rt==="full"||nt.inlineContext(_e)||/[^ \t\r\n\u000c]/.test(tt)){if(rt)if(rt==="full")tt=tt.replace(/\r\n?/g,`
`);else if(it.linebreakReplacement&&/[\r\n]/.test(tt)&&this.top.findWrapping(it.linebreakReplacement.create())){let ot=tt.split(/\r?\n|\r/);for(let at=0;at<ot.length;at++)at&&this.insertNode(it.linebreakReplacement.create(),et,!0),ot[at]&&this.insertNode(it.text(ot[at]),et,!/\S/.test(ot[at]));tt=""}else tt=tt.replace(/\r?\n|\r/g," ");else if(tt=tt.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(tt)&&this.open==this.nodes.length-1){let ot=nt.content[nt.content.length-1],at=_e.previousSibling;(!ot||at&&at.nodeName=="BR"||ot.isText&&/[ \t\r\n\u000c]$/.test(ot.text))&&(tt=tt.slice(1))}tt&&this.insertNode(it.text(tt),et,!/\S/.test(tt)),this.findInText(_e)}else this.findInside(_e)}addElement(_e,et,tt){let nt=this.localPreserveWS,rt=this.top;(_e.tagName=="PRE"||/pre/.test(_e.style&&_e.style.whiteSpace))&&(this.localPreserveWS=!0);let it=_e.nodeName.toLowerCase(),ot;listTags.hasOwnProperty(it)&&this.parser.normalizeLists&&normalizeList(_e);let at=this.options.ruleFromNode&&this.options.ruleFromNode(_e)||(ot=this.parser.matchTag(_e,this,tt));e:if(at?at.ignore:ignoreTags.hasOwnProperty(it))this.findInside(_e),this.ignoreFallback(_e,et);else if(!at||at.skip||at.closeParent){at&&at.closeParent?this.open=Math.max(0,this.open-1):at&&at.skip.nodeType&&(_e=at.skip);let st,lt=this.needsBlock;if(blockTags.hasOwnProperty(it))rt.content.length&&rt.content[0].isInline&&this.open&&(this.open--,rt=this.top),st=!0,rt.type||(this.needsBlock=!0);else if(!_e.firstChild){this.leafFallback(_e,et);break e}let ct=at&&at.skip?et:this.readStyles(_e,et);ct&&this.addAll(_e,ct),st&&this.sync(rt),this.needsBlock=lt}else{let st=this.readStyles(_e,et);st&&this.addElementByRule(_e,at,st,at.consuming===!1?ot:void 0)}this.localPreserveWS=nt}leafFallback(_e,et){_e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(_e.ownerDocument.createTextNode(`
`),et)}ignoreFallback(_e,et){_e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),et,!0)}readStyles(_e,et){let tt=_e.style;if(tt&&tt.length)for(let nt=0;nt<this.parser.matchedStyles.length;nt++){let rt=this.parser.matchedStyles[nt],it=tt.getPropertyValue(rt);if(it)for(let ot=void 0;;){let at=this.parser.matchStyle(rt,it,this,ot);if(!at)break;if(at.ignore)return null;if(at.clearMark?et=et.filter(st=>!at.clearMark(st)):et=et.concat(this.parser.schema.marks[at.mark].create(at.attrs)),at.consuming===!1)ot=at;else break}}return et}addElementByRule(_e,et,tt,nt){let rt,it;if(et.node)if(it=this.parser.schema.nodes[et.node],it.isLeaf)this.insertNode(it.create(et.attrs),tt,_e.nodeName=="BR")||this.leafFallback(_e,tt);else{let at=this.enter(it,et.attrs||null,tt,et.preserveWhitespace);at&&(rt=!0,tt=at)}else{let at=this.parser.schema.marks[et.mark];tt=tt.concat(at.create(et.attrs))}let ot=this.top;if(it&&it.isLeaf)this.findInside(_e);else if(nt)this.addElement(_e,tt,nt);else if(et.getContent)this.findInside(_e),et.getContent(_e,this.parser.schema).forEach(at=>this.insertNode(at,tt,!1));else{let at=_e;typeof et.contentElement=="string"?at=_e.querySelector(et.contentElement):typeof et.contentElement=="function"?at=et.contentElement(_e):et.contentElement&&(at=et.contentElement),this.findAround(_e,at,!0),this.addAll(at,tt),this.findAround(_e,at,!1)}rt&&this.sync(ot)&&this.open--}addAll(_e,et,tt,nt){let rt=tt||0;for(let it=tt?_e.childNodes[tt]:_e.firstChild,ot=nt==null?null:_e.childNodes[nt];it!=ot;it=it.nextSibling,++rt)this.findAtPoint(_e,rt),this.addDOM(it,et);this.findAtPoint(_e,rt)}findPlace(_e,et,tt){let nt,rt;for(let it=this.open,ot=0;it>=0;it--){let at=this.nodes[it],st=at.findWrapping(_e);if(st&&(!nt||nt.length>st.length+ot)&&(nt=st,rt=at,!st.length))break;if(at.solid){if(tt)break;ot+=2}}if(!nt)return null;this.sync(rt);for(let it=0;it<nt.length;it++)et=this.enterInner(nt[it],null,et,!1);return et}insertNode(_e,et,tt){if(_e.isInline&&this.needsBlock&&!this.top.type){let rt=this.textblockFromContext();rt&&(et=this.enterInner(rt,null,et))}let nt=this.findPlace(_e,et,tt);if(nt){this.closeExtra();let rt=this.top;rt.match&&(rt.match=rt.match.matchType(_e.type));let it=Mark$1.none;for(let ot of nt.concat(_e.marks))(rt.type?rt.type.allowsMarkType(ot.type):markMayApply(ot.type,_e.type))&&(it=ot.addToSet(it));return rt.content.push(_e.mark(it)),!0}return!1}enter(_e,et,tt,nt){let rt=this.findPlace(_e.create(et),tt,!1);return rt&&(rt=this.enterInner(_e,et,tt,!0,nt)),rt}enterInner(_e,et,tt,nt=!1,rt){this.closeExtra();let it=this.top;it.match=it.match&&it.match.matchType(_e);let ot=wsOptionsFor(_e,rt,it.options);it.options&OPT_OPEN_LEFT&&it.content.length==0&&(ot|=OPT_OPEN_LEFT);let at=Mark$1.none;return tt=tt.filter(st=>(it.type?it.type.allowsMarkType(st.type):markMayApply(st.type,_e))?(at=st.addToSet(at),!1):!0),this.nodes.push(new NodeContext(_e,et,at,nt,null,ot)),this.open++,tt}closeExtra(_e=!1){let et=this.nodes.length-1;if(et>this.open){for(;et>this.open;et--)this.nodes[et-1].content.push(this.nodes[et].finish(_e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(_e){for(let et=this.open;et>=0;et--){if(this.nodes[et]==_e)return this.open=et,!0;this.localPreserveWS&&(this.nodes[et].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let _e=0;for(let et=this.open;et>=0;et--){let tt=this.nodes[et].content;for(let nt=tt.length-1;nt>=0;nt--)_e+=tt[nt].nodeSize;et&&_e++}return _e}findAtPoint(_e,et){if(this.find)for(let tt=0;tt<this.find.length;tt++)this.find[tt].node==_e&&this.find[tt].offset==et&&(this.find[tt].pos=this.currentPos)}findInside(_e){if(this.find)for(let et=0;et<this.find.length;et++)this.find[et].pos==null&&_e.nodeType==1&&_e.contains(this.find[et].node)&&(this.find[et].pos=this.currentPos)}findAround(_e,et,tt){if(_e!=et&&this.find)for(let nt=0;nt<this.find.length;nt++)this.find[nt].pos==null&&_e.nodeType==1&&_e.contains(this.find[nt].node)&&et.compareDocumentPosition(this.find[nt].node)&(tt?2:4)&&(this.find[nt].pos=this.currentPos)}findInText(_e){if(this.find)for(let et=0;et<this.find.length;et++)this.find[et].node==_e&&(this.find[et].pos=this.currentPos-(_e.nodeValue.length-this.find[et].offset))}matchesContext(_e){if(_e.indexOf("|")>-1)return _e.split(/\s*\|\s*/).some(this.matchesContext,this);let et=_e.split("/"),tt=this.options.context,nt=!this.isOpen&&(!tt||tt.parent.type==this.nodes[0].type),rt=-(tt?tt.depth+1:0)+(nt?0:1),it=(ot,at)=>{for(;ot>=0;ot--){let st=et[ot];if(st==""){if(ot==et.length-1||ot==0)continue;for(;at>=rt;at--)if(it(ot-1,at))return!0;return!1}else{let lt=at>0||at==0&&nt?this.nodes[at].type:tt&&at>=rt?tt.node(at-rt).type:null;if(!lt||lt.name!=st&&!lt.isInGroup(st))return!1;at--}}return!0};return it(et.length-1,this.open)}textblockFromContext(){let _e=this.options.context;if(_e)for(let et=_e.depth;et>=0;et--){let tt=_e.node(et).contentMatchAt(_e.indexAfter(et)).defaultType;if(tt&&tt.isTextblock&&tt.defaultAttrs)return tt}for(let et in this.parser.schema.nodes){let tt=this.parser.schema.nodes[et];if(tt.isTextblock&&tt.defaultAttrs)return tt}}}function normalizeList($){for(let _e=$.firstChild,et=null;_e;_e=_e.nextSibling){let tt=_e.nodeType==1?_e.nodeName.toLowerCase():null;tt&&listTags.hasOwnProperty(tt)&&et?(et.appendChild(_e),_e=et):tt=="li"?et=_e:tt&&(et=null)}}function matches$2($,_e){return($.matches||$.msMatchesSelector||$.webkitMatchesSelector||$.mozMatchesSelector).call($,_e)}function copy$3($){let _e={};for(let et in $)_e[et]=$[et];return _e}function markMayApply($,_e){let et=_e.schema.nodes;for(let tt in et){let nt=et[tt];if(!nt.allowsMarkType($))continue;let rt=[],it=ot=>{rt.push(ot);for(let at=0;at<ot.edgeCount;at++){let{type:st,next:lt}=ot.edge(at);if(st==_e||rt.indexOf(lt)<0&&it(lt))return!0}};if(it(nt.contentMatch))return!0}}class DOMSerializer{constructor(_e,et){this.nodes=_e,this.marks=et}serializeFragment(_e,et={},tt){tt||(tt=doc$1(et).createDocumentFragment());let nt=tt,rt=[];return _e.forEach(it=>{if(rt.length||it.marks.length){let ot=0,at=0;for(;ot<rt.length&&at<it.marks.length;){let st=it.marks[at];if(!this.marks[st.type.name]){at++;continue}if(!st.eq(rt[ot][0])||st.type.spec.spanning===!1)break;ot++,at++}for(;ot<rt.length;)nt=rt.pop()[1];for(;at<it.marks.length;){let st=it.marks[at++],lt=this.serializeMark(st,it.isInline,et);lt&&(rt.push([st,nt]),nt.appendChild(lt.dom),nt=lt.contentDOM||lt.dom)}}nt.appendChild(this.serializeNodeInner(it,et))}),tt}serializeNodeInner(_e,et){let{dom:tt,contentDOM:nt}=renderSpec(doc$1(et),this.nodes[_e.type.name](_e),null,_e.attrs);if(nt){if(_e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(_e.content,et,nt)}return tt}serializeNode(_e,et={}){let tt=this.serializeNodeInner(_e,et);for(let nt=_e.marks.length-1;nt>=0;nt--){let rt=this.serializeMark(_e.marks[nt],_e.isInline,et);rt&&((rt.contentDOM||rt.dom).appendChild(tt),tt=rt.dom)}return tt}serializeMark(_e,et,tt={}){let nt=this.marks[_e.type.name];return nt&&renderSpec(doc$1(tt),nt(_e,et),null,_e.attrs)}static renderSpec(_e,et,tt=null,nt){return renderSpec(_e,et,tt,nt)}static fromSchema(_e){return _e.cached.domSerializer||(_e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(_e),this.marksFromSchema(_e)))}static nodesFromSchema(_e){let et=gatherToDOM(_e.nodes);return et.text||(et.text=tt=>tt.text),et}static marksFromSchema(_e){return gatherToDOM(_e.marks)}}function gatherToDOM($){let _e={};for(let et in $){let tt=$[et].spec.toDOM;tt&&(_e[et]=tt)}return _e}function doc$1($){return $.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes($){let _e=suspiciousAttributeCache.get($);return _e===void 0&&suspiciousAttributeCache.set($,_e=suspiciousAttributesInner($)),_e}function suspiciousAttributesInner($){let _e=null;function et(tt){if(tt&&typeof tt=="object")if(Array.isArray(tt))if(typeof tt[0]=="string")_e||(_e=[]),_e.push(tt);else for(let nt=0;nt<tt.length;nt++)et(tt[nt]);else for(let nt in tt)et(tt[nt])}return et($),_e}function renderSpec($,_e,et,tt){if(typeof _e=="string")return{dom:$.createTextNode(_e)};if(_e.nodeType!=null)return{dom:_e};if(_e.dom&&_e.dom.nodeType!=null)return _e;let nt=_e[0],rt;if(typeof nt!="string")throw new RangeError("Invalid array passed to renderSpec");if(tt&&(rt=suspiciousAttributes(tt))&&rt.indexOf(_e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let it=nt.indexOf(" ");it>0&&(et=nt.slice(0,it),nt=nt.slice(it+1));let ot,at=et?$.createElementNS(et,nt):$.createElement(nt),st=_e[1],lt=1;if(st&&typeof st=="object"&&st.nodeType==null&&!Array.isArray(st)){lt=2;for(let ct in st)if(st[ct]!=null){let ut=ct.indexOf(" ");ut>0?at.setAttributeNS(ct.slice(0,ut),ct.slice(ut+1),st[ct]):ct=="style"&&at.style?at.style.cssText=st[ct]:at.setAttribute(ct,st[ct])}}for(let ct=lt;ct<_e.length;ct++){let ut=_e[ct];if(ut===0){if(ct<_e.length-1||ct>lt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:at,contentDOM:at}}else{let{dom:dt,contentDOM:ft}=renderSpec($,ut,et,tt);if(at.appendChild(dt),ft){if(ot)throw new RangeError("Multiple content holes");ot=ft}}}return{dom:at,contentDOM:ot}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover($,_e){return $+_e*factor16}function recoverIndex($){return $&lower16}function recoverOffset($){return($-($&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(_e,et,tt){this.pos=_e,this.delInfo=et,this.recover=tt}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(_e,et=!1){if(this.ranges=_e,this.inverted=et,!_e.length&&StepMap.empty)return StepMap.empty}recover(_e){let et=0,tt=recoverIndex(_e);if(!this.inverted)for(let nt=0;nt<tt;nt++)et+=this.ranges[nt*3+2]-this.ranges[nt*3+1];return this.ranges[tt*3]+et+recoverOffset(_e)}mapResult(_e,et=1){return this._map(_e,et,!1)}map(_e,et=1){return this._map(_e,et,!0)}_map(_e,et,tt){let nt=0,rt=this.inverted?2:1,it=this.inverted?1:2;for(let ot=0;ot<this.ranges.length;ot+=3){let at=this.ranges[ot]-(this.inverted?nt:0);if(at>_e)break;let st=this.ranges[ot+rt],lt=this.ranges[ot+it],ct=at+st;if(_e<=ct){let ut=st?_e==at?-1:_e==ct?1:et:et,dt=at+nt+(ut<0?0:lt);if(tt)return dt;let ft=_e==(et<0?at:ct)?null:makeRecover(ot/3,_e-at),pt=_e==at?DEL_AFTER:_e==ct?DEL_BEFORE:DEL_ACROSS;return(et<0?_e!=at:_e!=ct)&&(pt|=DEL_SIDE),new MapResult(dt,pt,ft)}nt+=lt-st}return tt?_e+nt:new MapResult(_e+nt,0,null)}touches(_e,et){let tt=0,nt=recoverIndex(et),rt=this.inverted?2:1,it=this.inverted?1:2;for(let ot=0;ot<this.ranges.length;ot+=3){let at=this.ranges[ot]-(this.inverted?tt:0);if(at>_e)break;let st=this.ranges[ot+rt],lt=at+st;if(_e<=lt&&ot==nt*3)return!0;tt+=this.ranges[ot+it]-st}return!1}forEach(_e){let et=this.inverted?2:1,tt=this.inverted?1:2;for(let nt=0,rt=0;nt<this.ranges.length;nt+=3){let it=this.ranges[nt],ot=it-(this.inverted?rt:0),at=it+(this.inverted?0:rt),st=this.ranges[nt+et],lt=this.ranges[nt+tt];_e(ot,ot+st,at,at+lt),rt+=lt-st}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(_e){return _e==0?StepMap.empty:new StepMap(_e<0?[0,-_e,0]:[0,0,_e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(_e,et,tt=0,nt=_e?_e.length:0){this.mirror=et,this.from=tt,this.to=nt,this._maps=_e||[],this.ownData=!(_e||et)}get maps(){return this._maps}slice(_e=0,et=this.maps.length){return new Mapping(this._maps,this.mirror,_e,et)}appendMap(_e,et){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(_e),et!=null&&this.setMirror(this._maps.length-1,et)}appendMapping(_e){for(let et=0,tt=this._maps.length;et<_e._maps.length;et++){let nt=_e.getMirror(et);this.appendMap(_e._maps[et],nt!=null&&nt<et?tt+nt:void 0)}}getMirror(_e){if(this.mirror){for(let et=0;et<this.mirror.length;et++)if(this.mirror[et]==_e)return this.mirror[et+(et%2?-1:1)]}}setMirror(_e,et){this.mirror||(this.mirror=[]),this.mirror.push(_e,et)}appendMappingInverted(_e){for(let et=_e.maps.length-1,tt=this._maps.length+_e._maps.length;et>=0;et--){let nt=_e.getMirror(et);this.appendMap(_e._maps[et].invert(),nt!=null&&nt>et?tt-nt-1:void 0)}}invert(){let _e=new Mapping;return _e.appendMappingInverted(this),_e}map(_e,et=1){if(this.mirror)return this._map(_e,et,!0);for(let tt=this.from;tt<this.to;tt++)_e=this._maps[tt].map(_e,et);return _e}mapResult(_e,et=1){return this._map(_e,et,!1)}_map(_e,et,tt){let nt=0;for(let rt=this.from;rt<this.to;rt++){let it=this._maps[rt],ot=it.mapResult(_e,et);if(ot.recover!=null){let at=this.getMirror(rt);if(at!=null&&at>rt&&at<this.to){rt=at,_e=this._maps[at].recover(ot.recover);continue}}nt|=ot.delInfo,_e=ot.pos}return tt?_e:new MapResult(_e,nt,null)}}const stepsByID=Object.create(null);let Step$1=class{getMap(){return StepMap.empty}merge(_e){return null}static fromJSON(_e,et){if(!et||!et.stepType)throw new RangeError("Invalid input for Step.fromJSON");let tt=stepsByID[et.stepType];if(!tt)throw new RangeError(`No step type ${et.stepType} defined`);return tt.fromJSON(_e,et)}static jsonID(_e,et){if(_e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+_e);return stepsByID[_e]=et,et.prototype.jsonID=_e,et}};class StepResult{constructor(_e,et){this.doc=_e,this.failed=et}static ok(_e){return new StepResult(_e,null)}static fail(_e){return new StepResult(null,_e)}static fromReplace(_e,et,tt,nt){try{return StepResult.ok(_e.replace(et,tt,nt))}catch(rt){if(rt instanceof ReplaceError)return StepResult.fail(rt.message);throw rt}}}function mapFragment($,_e,et){let tt=[];for(let nt=0;nt<$.childCount;nt++){let rt=$.child(nt);rt.content.size&&(rt=rt.copy(mapFragment(rt.content,_e,rt))),rt.isInline&&(rt=_e(rt,et,nt)),tt.push(rt)}return Fragment.fromArray(tt)}class AddMarkStep extends Step$1{constructor(_e,et,tt){super(),this.from=_e,this.to=et,this.mark=tt}apply(_e){let et=_e.slice(this.from,this.to),tt=_e.resolve(this.from),nt=tt.node(tt.sharedDepth(this.to)),rt=new Slice(mapFragment(et.content,(it,ot)=>!it.isAtom||!ot.type.allowsMarkType(this.mark.type)?it:it.mark(this.mark.addToSet(it.marks)),nt),et.openStart,et.openEnd);return StepResult.fromReplace(_e,this.from,this.to,rt)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(_e){let et=_e.mapResult(this.from,1),tt=_e.mapResult(this.to,-1);return et.deleted&&tt.deleted||et.pos>=tt.pos?null:new AddMarkStep(et.pos,tt.pos,this.mark)}merge(_e){return _e instanceof AddMarkStep&&_e.mark.eq(this.mark)&&this.from<=_e.to&&this.to>=_e.from?new AddMarkStep(Math.min(this.from,_e.from),Math.max(this.to,_e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(_e,et){if(typeof et.from!="number"||typeof et.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(et.from,et.to,_e.markFromJSON(et.mark))}}Step$1.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step$1{constructor(_e,et,tt){super(),this.from=_e,this.to=et,this.mark=tt}apply(_e){let et=_e.slice(this.from,this.to),tt=new Slice(mapFragment(et.content,nt=>nt.mark(this.mark.removeFromSet(nt.marks)),_e),et.openStart,et.openEnd);return StepResult.fromReplace(_e,this.from,this.to,tt)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(_e){let et=_e.mapResult(this.from,1),tt=_e.mapResult(this.to,-1);return et.deleted&&tt.deleted||et.pos>=tt.pos?null:new RemoveMarkStep(et.pos,tt.pos,this.mark)}merge(_e){return _e instanceof RemoveMarkStep&&_e.mark.eq(this.mark)&&this.from<=_e.to&&this.to>=_e.from?new RemoveMarkStep(Math.min(this.from,_e.from),Math.max(this.to,_e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(_e,et){if(typeof et.from!="number"||typeof et.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(et.from,et.to,_e.markFromJSON(et.mark))}}Step$1.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step$1{constructor(_e,et){super(),this.pos=_e,this.mark=et}apply(_e){let et=_e.nodeAt(this.pos);if(!et)return StepResult.fail("No node at mark step's position");let tt=et.type.create(et.attrs,null,this.mark.addToSet(et.marks));return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(tt),0,et.isLeaf?0:1))}invert(_e){let et=_e.nodeAt(this.pos);if(et){let tt=this.mark.addToSet(et.marks);if(tt.length==et.marks.length){for(let nt=0;nt<et.marks.length;nt++)if(!et.marks[nt].isInSet(tt))return new AddNodeMarkStep(this.pos,et.marks[nt]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(_e){let et=_e.mapResult(this.pos,1);return et.deletedAfter?null:new AddNodeMarkStep(et.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(_e,et){if(typeof et.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(et.pos,_e.markFromJSON(et.mark))}}Step$1.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step$1{constructor(_e,et){super(),this.pos=_e,this.mark=et}apply(_e){let et=_e.nodeAt(this.pos);if(!et)return StepResult.fail("No node at mark step's position");let tt=et.type.create(et.attrs,null,this.mark.removeFromSet(et.marks));return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(tt),0,et.isLeaf?0:1))}invert(_e){let et=_e.nodeAt(this.pos);return!et||!this.mark.isInSet(et.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(_e){let et=_e.mapResult(this.pos,1);return et.deletedAfter?null:new RemoveNodeMarkStep(et.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(_e,et){if(typeof et.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(et.pos,_e.markFromJSON(et.mark))}}Step$1.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step$1{constructor(_e,et,tt,nt=!1){super(),this.from=_e,this.to=et,this.slice=tt,this.structure=nt}apply(_e){return this.structure&&contentBetween(_e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(_e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(_e){return new ReplaceStep(this.from,this.from+this.slice.size,_e.slice(this.from,this.to))}map(_e){let et=_e.mapResult(this.from,1),tt=_e.mapResult(this.to,-1);return et.deletedAcross&&tt.deletedAcross?null:new ReplaceStep(et.pos,Math.max(et.pos,tt.pos),this.slice,this.structure)}merge(_e){if(!(_e instanceof ReplaceStep)||_e.structure||this.structure)return null;if(this.from+this.slice.size==_e.from&&!this.slice.openEnd&&!_e.slice.openStart){let et=this.slice.size+_e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(_e.slice.content),this.slice.openStart,_e.slice.openEnd);return new ReplaceStep(this.from,this.to+(_e.to-_e.from),et,this.structure)}else if(_e.to==this.from&&!this.slice.openStart&&!_e.slice.openEnd){let et=this.slice.size+_e.slice.size==0?Slice.empty:new Slice(_e.slice.content.append(this.slice.content),_e.slice.openStart,this.slice.openEnd);return new ReplaceStep(_e.from,this.to,et,this.structure)}else return null}toJSON(){let _e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(_e.slice=this.slice.toJSON()),this.structure&&(_e.structure=!0),_e}static fromJSON(_e,et){if(typeof et.from!="number"||typeof et.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(et.from,et.to,Slice.fromJSON(_e,et.slice),!!et.structure)}}Step$1.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step$1{constructor(_e,et,tt,nt,rt,it,ot=!1){super(),this.from=_e,this.to=et,this.gapFrom=tt,this.gapTo=nt,this.slice=rt,this.insert=it,this.structure=ot}apply(_e){if(this.structure&&(contentBetween(_e,this.from,this.gapFrom)||contentBetween(_e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let et=_e.slice(this.gapFrom,this.gapTo);if(et.openStart||et.openEnd)return StepResult.fail("Gap is not a flat range");let tt=this.slice.insertAt(this.insert,et.content);return tt?StepResult.fromReplace(_e,this.from,this.to,tt):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(_e){let et=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+et,this.from+this.insert,this.from+this.insert+et,_e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(_e){let et=_e.mapResult(this.from,1),tt=_e.mapResult(this.to,-1),nt=this.from==this.gapFrom?et.pos:_e.map(this.gapFrom,-1),rt=this.to==this.gapTo?tt.pos:_e.map(this.gapTo,1);return et.deletedAcross&&tt.deletedAcross||nt<et.pos||rt>tt.pos?null:new ReplaceAroundStep(et.pos,tt.pos,nt,rt,this.slice,this.insert,this.structure)}toJSON(){let _e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(_e.slice=this.slice.toJSON()),this.structure&&(_e.structure=!0),_e}static fromJSON(_e,et){if(typeof et.from!="number"||typeof et.to!="number"||typeof et.gapFrom!="number"||typeof et.gapTo!="number"||typeof et.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(et.from,et.to,et.gapFrom,et.gapTo,Slice.fromJSON(_e,et.slice),et.insert,!!et.structure)}}Step$1.jsonID("replaceAround",ReplaceAroundStep);function contentBetween($,_e,et){let tt=$.resolve(_e),nt=et-_e,rt=tt.depth;for(;nt>0&&rt>0&&tt.indexAfter(rt)==tt.node(rt).childCount;)rt--,nt--;if(nt>0){let it=tt.node(rt).maybeChild(tt.indexAfter(rt));for(;nt>0;){if(!it||it.isLeaf)return!0;it=it.firstChild,nt--}}return!1}function addMark($,_e,et,tt){let nt=[],rt=[],it,ot;$.doc.nodesBetween(_e,et,(at,st,lt)=>{if(!at.isInline)return;let ct=at.marks;if(!tt.isInSet(ct)&&lt.type.allowsMarkType(tt.type)){let ut=Math.max(st,_e),dt=Math.min(st+at.nodeSize,et),ft=tt.addToSet(ct);for(let pt=0;pt<ct.length;pt++)ct[pt].isInSet(ft)||(it&&it.to==ut&&it.mark.eq(ct[pt])?it.to=dt:nt.push(it=new RemoveMarkStep(ut,dt,ct[pt])));ot&&ot.to==ut?ot.to=dt:rt.push(ot=new AddMarkStep(ut,dt,tt))}}),nt.forEach(at=>$.step(at)),rt.forEach(at=>$.step(at))}function removeMark($,_e,et,tt){let nt=[],rt=0;$.doc.nodesBetween(_e,et,(it,ot)=>{if(!it.isInline)return;rt++;let at=null;if(tt instanceof MarkType){let st=it.marks,lt;for(;lt=tt.isInSet(st);)(at||(at=[])).push(lt),st=lt.removeFromSet(st)}else tt?tt.isInSet(it.marks)&&(at=[tt]):at=it.marks;if(at&&at.length){let st=Math.min(ot+it.nodeSize,et);for(let lt=0;lt<at.length;lt++){let ct=at[lt],ut;for(let dt=0;dt<nt.length;dt++){let ft=nt[dt];ft.step==rt-1&&ct.eq(nt[dt].style)&&(ut=ft)}ut?(ut.to=st,ut.step=rt):nt.push({style:ct,from:Math.max(ot,_e),to:st,step:rt})}}}),nt.forEach(it=>$.step(new RemoveMarkStep(it.from,it.to,it.style)))}function clearIncompatible($,_e,et,tt=et.contentMatch,nt=!0){let rt=$.doc.nodeAt(_e),it=[],ot=_e+1;for(let at=0;at<rt.childCount;at++){let st=rt.child(at),lt=ot+st.nodeSize,ct=tt.matchType(st.type);if(!ct)it.push(new ReplaceStep(ot,lt,Slice.empty));else{tt=ct;for(let ut=0;ut<st.marks.length;ut++)et.allowsMarkType(st.marks[ut].type)||$.step(new RemoveMarkStep(ot,lt,st.marks[ut]));if(nt&&st.isText&&et.whitespace!="pre"){let ut,dt=/\r?\n|\r/g,ft;for(;ut=dt.exec(st.text);)ft||(ft=new Slice(Fragment.from(et.schema.text(" ",et.allowedMarks(st.marks))),0,0)),it.push(new ReplaceStep(ot+ut.index,ot+ut.index+ut[0].length,ft))}}ot=lt}if(!tt.validEnd){let at=tt.fillBefore(Fragment.empty,!0);$.replace(ot,ot,new Slice(at,0,0))}for(let at=it.length-1;at>=0;at--)$.step(it[at])}function canCut($,_e,et){return(_e==0||$.canReplace(_e,$.childCount))&&(et==$.childCount||$.canReplace(0,et))}function liftTarget($){let et=$.parent.content.cutByIndex($.startIndex,$.endIndex);for(let tt=$.depth,nt=0,rt=0;;--tt){let it=$.$from.node(tt),ot=$.$from.index(tt)+nt,at=$.$to.indexAfter(tt)-rt;if(tt<$.depth&&it.canReplace(ot,at,et))return tt;if(tt==0||it.type.spec.isolating||!canCut(it,ot,at))break;ot&&(nt=1),at<it.childCount&&(rt=1)}return null}function lift$2($,_e,et){let{$from:tt,$to:nt,depth:rt}=_e,it=tt.before(rt+1),ot=nt.after(rt+1),at=it,st=ot,lt=Fragment.empty,ct=0;for(let ft=rt,pt=!1;ft>et;ft--)pt||tt.index(ft)>0?(pt=!0,lt=Fragment.from(tt.node(ft).copy(lt)),ct++):at--;let ut=Fragment.empty,dt=0;for(let ft=rt,pt=!1;ft>et;ft--)pt||nt.after(ft+1)<nt.end(ft)?(pt=!0,ut=Fragment.from(nt.node(ft).copy(ut)),dt++):st++;$.step(new ReplaceAroundStep(at,st,it,ot,new Slice(lt.append(ut),ct,dt),lt.size-ct,!0))}function findWrapping($,_e,et=null,tt=$){let nt=findWrappingOutside($,_e),rt=nt&&findWrappingInside(tt,_e);return rt?nt.map(withAttrs).concat({type:_e,attrs:et}).concat(rt.map(withAttrs)):null}function withAttrs($){return{type:$,attrs:null}}function findWrappingOutside($,_e){let{parent:et,startIndex:tt,endIndex:nt}=$,rt=et.contentMatchAt(tt).findWrapping(_e);if(!rt)return null;let it=rt.length?rt[0]:_e;return et.canReplaceWith(tt,nt,it)?rt:null}function findWrappingInside($,_e){let{parent:et,startIndex:tt,endIndex:nt}=$,rt=et.child(tt),it=_e.contentMatch.findWrapping(rt.type);if(!it)return null;let at=(it.length?it[it.length-1]:_e).contentMatch;for(let st=tt;at&&st<nt;st++)at=at.matchType(et.child(st).type);return!at||!at.validEnd?null:it}function wrap$1($,_e,et){let tt=Fragment.empty;for(let it=et.length-1;it>=0;it--){if(tt.size){let ot=et[it].type.contentMatch.matchFragment(tt);if(!ot||!ot.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}tt=Fragment.from(et[it].type.create(et[it].attrs,tt))}let nt=_e.start,rt=_e.end;$.step(new ReplaceAroundStep(nt,rt,nt,rt,new Slice(tt,0,0),et.length,!0))}function setBlockType$1($,_e,et,tt,nt){if(!tt.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let rt=$.steps.length;$.doc.nodesBetween(_e,et,(it,ot)=>{let at=typeof nt=="function"?nt(it):nt;if(it.isTextblock&&!it.hasMarkup(tt,at)&&canChangeType($.doc,$.mapping.slice(rt).map(ot),tt)){let st=null;if(tt.schema.linebreakReplacement){let dt=tt.whitespace=="pre",ft=!!tt.contentMatch.matchType(tt.schema.linebreakReplacement);dt&&!ft?st=!1:!dt&&ft&&(st=!0)}st===!1&&replaceLinebreaks($,it,ot,rt),clearIncompatible($,$.mapping.slice(rt).map(ot,1),tt,void 0,st===null);let lt=$.mapping.slice(rt),ct=lt.map(ot,1),ut=lt.map(ot+it.nodeSize,1);return $.step(new ReplaceAroundStep(ct,ut,ct+1,ut-1,new Slice(Fragment.from(tt.create(at,null,it.marks)),0,0),1,!0)),st===!0&&replaceNewlines($,it,ot,rt),!1}})}function replaceNewlines($,_e,et,tt){_e.forEach((nt,rt)=>{if(nt.isText){let it,ot=/\r?\n|\r/g;for(;it=ot.exec(nt.text);){let at=$.mapping.slice(tt).map(et+1+rt+it.index);$.replaceWith(at,at+1,_e.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks($,_e,et,tt){_e.forEach((nt,rt)=>{if(nt.type==nt.type.schema.linebreakReplacement){let it=$.mapping.slice(tt).map(et+1+rt);$.replaceWith(it,it+1,_e.type.schema.text(`
`))}})}function canChangeType($,_e,et){let tt=$.resolve(_e),nt=tt.index();return tt.parent.canReplaceWith(nt,nt+1,et)}function setNodeMarkup($,_e,et,tt,nt){let rt=$.doc.nodeAt(_e);if(!rt)throw new RangeError("No node at given position");et||(et=rt.type);let it=et.create(tt,null,nt||rt.marks);if(rt.isLeaf)return $.replaceWith(_e,_e+rt.nodeSize,it);if(!et.validContent(rt.content))throw new RangeError("Invalid content for node type "+et.name);$.step(new ReplaceAroundStep(_e,_e+rt.nodeSize,_e+1,_e+rt.nodeSize-1,new Slice(Fragment.from(it),0,0),1,!0))}function canSplit($,_e,et=1,tt){let nt=$.resolve(_e),rt=nt.depth-et,it=tt&&tt[tt.length-1]||nt.parent;if(rt<0||nt.parent.type.spec.isolating||!nt.parent.canReplace(nt.index(),nt.parent.childCount)||!it.type.validContent(nt.parent.content.cutByIndex(nt.index(),nt.parent.childCount)))return!1;for(let st=nt.depth-1,lt=et-2;st>rt;st--,lt--){let ct=nt.node(st),ut=nt.index(st);if(ct.type.spec.isolating)return!1;let dt=ct.content.cutByIndex(ut,ct.childCount),ft=tt&&tt[lt+1];ft&&(dt=dt.replaceChild(0,ft.type.create(ft.attrs)));let pt=tt&&tt[lt]||ct;if(!ct.canReplace(ut+1,ct.childCount)||!pt.type.validContent(dt))return!1}let ot=nt.indexAfter(rt),at=tt&&tt[0];return nt.node(rt).canReplaceWith(ot,ot,at?at.type:nt.node(rt+1).type)}function split$2($,_e,et=1,tt){let nt=$.doc.resolve(_e),rt=Fragment.empty,it=Fragment.empty;for(let ot=nt.depth,at=nt.depth-et,st=et-1;ot>at;ot--,st--){rt=Fragment.from(nt.node(ot).copy(rt));let lt=tt&&tt[st];it=Fragment.from(lt?lt.type.create(lt.attrs,it):nt.node(ot).copy(it))}$.step(new ReplaceStep(_e,_e,new Slice(rt.append(it),et,et),!0))}function canJoin($,_e){let et=$.resolve(_e),tt=et.index();return joinable(et.nodeBefore,et.nodeAfter)&&et.parent.canReplace(tt,tt+1)}function canAppendWithSubstitutedLinebreaks($,_e){_e.content.size||$.type.compatibleContent(_e.type);let et=$.contentMatchAt($.childCount),{linebreakReplacement:tt}=$.type.schema;for(let nt=0;nt<_e.childCount;nt++){let rt=_e.child(nt),it=rt.type==tt?$.type.schema.nodes.text:rt.type;if(et=et.matchType(it),!et||!$.type.allowsMarks(rt.marks))return!1}return et.validEnd}function joinable($,_e){return!!($&&_e&&!$.isLeaf&&canAppendWithSubstitutedLinebreaks($,_e))}function joinPoint($,_e,et=-1){let tt=$.resolve(_e);for(let nt=tt.depth;;nt--){let rt,it,ot=tt.index(nt);if(nt==tt.depth?(rt=tt.nodeBefore,it=tt.nodeAfter):et>0?(rt=tt.node(nt+1),ot++,it=tt.node(nt).maybeChild(ot)):(rt=tt.node(nt).maybeChild(ot-1),it=tt.node(nt+1)),rt&&!rt.isTextblock&&joinable(rt,it)&&tt.node(nt).canReplace(ot,ot+1))return _e;if(nt==0)break;_e=et<0?tt.before(nt):tt.after(nt)}}function join($,_e,et){let tt=null,{linebreakReplacement:nt}=$.doc.type.schema,rt=$.doc.resolve(_e-et),it=rt.node().type;if(nt&&it.inlineContent){let lt=it.whitespace=="pre",ct=!!it.contentMatch.matchType(nt);lt&&!ct?tt=!1:!lt&&ct&&(tt=!0)}let ot=$.steps.length;if(tt===!1){let lt=$.doc.resolve(_e+et);replaceLinebreaks($,lt.node(),lt.before(),ot)}it.inlineContent&&clearIncompatible($,_e+et-1,it,rt.node().contentMatchAt(rt.index()),tt==null);let at=$.mapping.slice(ot),st=at.map(_e-et);if($.step(new ReplaceStep(st,at.map(_e+et,-1),Slice.empty,!0)),tt===!0){let lt=$.doc.resolve(st);replaceNewlines($,lt.node(),lt.before(),$.steps.length)}return $}function insertPoint($,_e,et){let tt=$.resolve(_e);if(tt.parent.canReplaceWith(tt.index(),tt.index(),et))return _e;if(tt.parentOffset==0)for(let nt=tt.depth-1;nt>=0;nt--){let rt=tt.index(nt);if(tt.node(nt).canReplaceWith(rt,rt,et))return tt.before(nt+1);if(rt>0)return null}if(tt.parentOffset==tt.parent.content.size)for(let nt=tt.depth-1;nt>=0;nt--){let rt=tt.indexAfter(nt);if(tt.node(nt).canReplaceWith(rt,rt,et))return tt.after(nt+1);if(rt<tt.node(nt).childCount)return null}return null}function dropPoint($,_e,et){let tt=$.resolve(_e);if(!et.content.size)return _e;let nt=et.content;for(let rt=0;rt<et.openStart;rt++)nt=nt.firstChild.content;for(let rt=1;rt<=(et.openStart==0&&et.size?2:1);rt++)for(let it=tt.depth;it>=0;it--){let ot=it==tt.depth?0:tt.pos<=(tt.start(it+1)+tt.end(it+1))/2?-1:1,at=tt.index(it)+(ot>0?1:0),st=tt.node(it),lt=!1;if(rt==1)lt=st.canReplace(at,at,nt);else{let ct=st.contentMatchAt(at).findWrapping(nt.firstChild.type);lt=ct&&st.canReplaceWith(at,at,ct[0])}if(lt)return ot==0?tt.pos:ot<0?tt.before(it+1):tt.after(it+1)}return null}function replaceStep($,_e,et=_e,tt=Slice.empty){if(_e==et&&!tt.size)return null;let nt=$.resolve(_e),rt=$.resolve(et);return fitsTrivially(nt,rt,tt)?new ReplaceStep(_e,et,tt):new Fitter(nt,rt,tt).fit()}function fitsTrivially($,_e,et){return!et.openStart&&!et.openEnd&&$.start()==_e.start()&&$.parent.canReplace($.index(),_e.index(),et.content)}class Fitter{constructor(_e,et,tt){this.$from=_e,this.$to=et,this.unplaced=tt,this.frontier=[],this.placed=Fragment.empty;for(let nt=0;nt<=_e.depth;nt++){let rt=_e.node(nt);this.frontier.push({type:rt.type,match:rt.contentMatchAt(_e.indexAfter(nt))})}for(let nt=_e.depth;nt>0;nt--)this.placed=Fragment.from(_e.node(nt).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let st=this.findFittable();st?this.placeNodes(st):this.openMore()||this.dropNode()}let _e=this.mustMoveInline(),et=this.placed.size-this.depth-this.$from.depth,tt=this.$from,nt=this.close(_e<0?this.$to:tt.doc.resolve(_e));if(!nt)return null;let rt=this.placed,it=tt.depth,ot=nt.depth;for(;it&&ot&&rt.childCount==1;)rt=rt.firstChild.content,it--,ot--;let at=new Slice(rt,it,ot);return _e>-1?new ReplaceAroundStep(tt.pos,_e,this.$to.pos,this.$to.end(),at,et):at.size||tt.pos!=this.$to.pos?new ReplaceStep(tt.pos,nt.pos,at):null}findFittable(){let _e=this.unplaced.openStart;for(let et=this.unplaced.content,tt=0,nt=this.unplaced.openEnd;tt<_e;tt++){let rt=et.firstChild;if(et.childCount>1&&(nt=0),rt.type.spec.isolating&&nt<=tt){_e=tt;break}et=rt.content}for(let et=1;et<=2;et++)for(let tt=et==1?_e:this.unplaced.openStart;tt>=0;tt--){let nt,rt=null;tt?(rt=contentAt(this.unplaced.content,tt-1).firstChild,nt=rt.content):nt=this.unplaced.content;let it=nt.firstChild;for(let ot=this.depth;ot>=0;ot--){let{type:at,match:st}=this.frontier[ot],lt,ct=null;if(et==1&&(it?st.matchType(it.type)||(ct=st.fillBefore(Fragment.from(it),!1)):rt&&at.compatibleContent(rt.type)))return{sliceDepth:tt,frontierDepth:ot,parent:rt,inject:ct};if(et==2&&it&&(lt=st.findWrapping(it.type)))return{sliceDepth:tt,frontierDepth:ot,parent:rt,wrap:lt};if(rt&&st.matchType(rt.type))break}}}openMore(){let{content:_e,openStart:et,openEnd:tt}=this.unplaced,nt=contentAt(_e,et);return!nt.childCount||nt.firstChild.isLeaf?!1:(this.unplaced=new Slice(_e,et+1,Math.max(tt,nt.size+et>=_e.size-tt?et+1:0)),!0)}dropNode(){let{content:_e,openStart:et,openEnd:tt}=this.unplaced,nt=contentAt(_e,et);if(nt.childCount<=1&&et>0){let rt=_e.size-et<=et+nt.size;this.unplaced=new Slice(dropFromFragment(_e,et-1,1),et-1,rt?et-1:tt)}else this.unplaced=new Slice(dropFromFragment(_e,et,1),et,tt)}placeNodes({sliceDepth:_e,frontierDepth:et,parent:tt,inject:nt,wrap:rt}){for(;this.depth>et;)this.closeFrontierNode();if(rt)for(let pt=0;pt<rt.length;pt++)this.openFrontierNode(rt[pt]);let it=this.unplaced,ot=tt?tt.content:it.content,at=it.openStart-_e,st=0,lt=[],{match:ct,type:ut}=this.frontier[et];if(nt){for(let pt=0;pt<nt.childCount;pt++)lt.push(nt.child(pt));ct=ct.matchFragment(nt)}let dt=ot.size+_e-(it.content.size-it.openEnd);for(;st<ot.childCount;){let pt=ot.child(st),mt=ct.matchType(pt.type);if(!mt)break;st++,(st>1||at==0||pt.content.size)&&(ct=mt,lt.push(closeNodeStart(pt.mark(ut.allowedMarks(pt.marks)),st==1?at:0,st==ot.childCount?dt:-1)))}let ft=st==ot.childCount;ft||(dt=-1),this.placed=addToFragment(this.placed,et,Fragment.from(lt)),this.frontier[et].match=ct,ft&&dt<0&&tt&&tt.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let pt=0,mt=ot;pt<dt;pt++){let ht=mt.lastChild;this.frontier.push({type:ht.type,match:ht.contentMatchAt(ht.childCount)}),mt=ht.content}this.unplaced=ft?_e==0?Slice.empty:new Slice(dropFromFragment(it.content,_e-1,1),_e-1,dt<0?it.openEnd:_e-1):new Slice(dropFromFragment(it.content,_e,st),it.openStart,it.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let _e=this.frontier[this.depth],et;if(!_e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,_e.type,_e.match,!1)||this.$to.depth==this.depth&&(et=this.findCloseLevel(this.$to))&&et.depth==this.depth)return-1;let{depth:tt}=this.$to,nt=this.$to.after(tt);for(;tt>1&&nt==this.$to.end(--tt);)++nt;return nt}findCloseLevel(_e){e:for(let et=Math.min(this.depth,_e.depth);et>=0;et--){let{match:tt,type:nt}=this.frontier[et],rt=et<_e.depth&&_e.end(et+1)==_e.pos+(_e.depth-(et+1)),it=contentAfterFits(_e,et,nt,tt,rt);if(it){for(let ot=et-1;ot>=0;ot--){let{match:at,type:st}=this.frontier[ot],lt=contentAfterFits(_e,ot,st,at,!0);if(!lt||lt.childCount)continue e}return{depth:et,fit:it,move:rt?_e.doc.resolve(_e.after(et+1)):_e}}}}close(_e){let et=this.findCloseLevel(_e);if(!et)return null;for(;this.depth>et.depth;)this.closeFrontierNode();et.fit.childCount&&(this.placed=addToFragment(this.placed,et.depth,et.fit)),_e=et.move;for(let tt=et.depth+1;tt<=_e.depth;tt++){let nt=_e.node(tt),rt=nt.type.contentMatch.fillBefore(nt.content,!0,_e.index(tt));this.openFrontierNode(nt.type,nt.attrs,rt)}return _e}openFrontierNode(_e,et=null,tt){let nt=this.frontier[this.depth];nt.match=nt.match.matchType(_e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(_e.create(et,tt))),this.frontier.push({type:_e,match:_e.contentMatch})}closeFrontierNode(){let et=this.frontier.pop().match.fillBefore(Fragment.empty,!0);et.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,et))}}function dropFromFragment($,_e,et){return _e==0?$.cutByIndex(et,$.childCount):$.replaceChild(0,$.firstChild.copy(dropFromFragment($.firstChild.content,_e-1,et)))}function addToFragment($,_e,et){return _e==0?$.append(et):$.replaceChild($.childCount-1,$.lastChild.copy(addToFragment($.lastChild.content,_e-1,et)))}function contentAt($,_e){for(let et=0;et<_e;et++)$=$.firstChild.content;return $}function closeNodeStart($,_e,et){if(_e<=0)return $;let tt=$.content;return _e>1&&(tt=tt.replaceChild(0,closeNodeStart(tt.firstChild,_e-1,tt.childCount==1?et-1:0))),_e>0&&(tt=$.type.contentMatch.fillBefore(tt).append(tt),et<=0&&(tt=tt.append($.type.contentMatch.matchFragment(tt).fillBefore(Fragment.empty,!0)))),$.copy(tt)}function contentAfterFits($,_e,et,tt,nt){let rt=$.node(_e),it=nt?$.indexAfter(_e):$.index(_e);if(it==rt.childCount&&!et.compatibleContent(rt.type))return null;let ot=tt.fillBefore(rt.content,!0,it);return ot&&!invalidMarks(et,rt.content,it)?ot:null}function invalidMarks($,_e,et){for(let tt=et;tt<_e.childCount;tt++)if(!$.allowsMarks(_e.child(tt).marks))return!0;return!1}function definesContent($){return $.spec.defining||$.spec.definingForContent}function replaceRange($,_e,et,tt){if(!tt.size)return $.deleteRange(_e,et);let nt=$.doc.resolve(_e),rt=$.doc.resolve(et);if(fitsTrivially(nt,rt,tt))return $.step(new ReplaceStep(_e,et,tt));let it=coveredDepths(nt,rt);it[it.length-1]==0&&it.pop();let ot=-(nt.depth+1);it.unshift(ot);for(let ut=nt.depth,dt=nt.pos-1;ut>0;ut--,dt--){let ft=nt.node(ut).type.spec;if(ft.defining||ft.definingAsContext||ft.isolating)break;it.indexOf(ut)>-1?ot=ut:nt.before(ut)==dt&&it.splice(1,0,-ut)}let at=it.indexOf(ot),st=[],lt=tt.openStart;for(let ut=tt.content,dt=0;;dt++){let ft=ut.firstChild;if(st.push(ft),dt==tt.openStart)break;ut=ft.content}for(let ut=lt-1;ut>=0;ut--){let dt=st[ut],ft=definesContent(dt.type);if(ft&&!dt.sameMarkup(nt.node(Math.abs(ot)-1)))lt=ut;else if(ft||!dt.type.isTextblock)break}for(let ut=tt.openStart;ut>=0;ut--){let dt=(ut+lt+1)%(tt.openStart+1),ft=st[dt];if(ft)for(let pt=0;pt<it.length;pt++){let mt=it[(pt+at)%it.length],ht=!0;mt<0&&(ht=!1,mt=-mt);let yt=nt.node(mt-1),xt=nt.index(mt-1);if(yt.canReplaceWith(xt,xt,ft.type,ft.marks))return $.replace(nt.before(mt),ht?rt.after(mt):et,new Slice(closeFragment(tt.content,0,tt.openStart,dt),dt,tt.openEnd))}}let ct=$.steps.length;for(let ut=it.length-1;ut>=0&&($.replace(_e,et,tt),!($.steps.length>ct));ut--){let dt=it[ut];dt<0||(_e=nt.before(dt),et=rt.after(dt))}}function closeFragment($,_e,et,tt,nt){if(_e<et){let rt=$.firstChild;$=$.replaceChild(0,rt.copy(closeFragment(rt.content,_e+1,et,tt,rt)))}if(_e>tt){let rt=nt.contentMatchAt(0),it=rt.fillBefore($).append($);$=it.append(rt.matchFragment(it).fillBefore(Fragment.empty,!0))}return $}function replaceRangeWith($,_e,et,tt){if(!tt.isInline&&_e==et&&$.doc.resolve(_e).parent.content.size){let nt=insertPoint($.doc,_e,tt.type);nt!=null&&(_e=et=nt)}$.replaceRange(_e,et,new Slice(Fragment.from(tt),0,0))}function deleteRange$1($,_e,et){let tt=$.doc.resolve(_e),nt=$.doc.resolve(et),rt=coveredDepths(tt,nt);for(let it=0;it<rt.length;it++){let ot=rt[it],at=it==rt.length-1;if(at&&ot==0||tt.node(ot).type.contentMatch.validEnd)return $.delete(tt.start(ot),nt.end(ot));if(ot>0&&(at||tt.node(ot-1).canReplace(tt.index(ot-1),nt.indexAfter(ot-1))))return $.delete(tt.before(ot),nt.after(ot))}for(let it=1;it<=tt.depth&&it<=nt.depth;it++)if(_e-tt.start(it)==tt.depth-it&&et>tt.end(it)&&nt.end(it)-et!=nt.depth-it&&tt.start(it-1)==nt.start(it-1)&&tt.node(it-1).canReplace(tt.index(it-1),nt.index(it-1)))return $.delete(tt.before(it),et);$.delete(_e,et)}function coveredDepths($,_e){let et=[],tt=Math.min($.depth,_e.depth);for(let nt=tt;nt>=0;nt--){let rt=$.start(nt);if(rt<$.pos-($.depth-nt)||_e.end(nt)>_e.pos+(_e.depth-nt)||$.node(nt).type.spec.isolating||_e.node(nt).type.spec.isolating)break;(rt==_e.start(nt)||nt==$.depth&&nt==_e.depth&&$.parent.inlineContent&&_e.parent.inlineContent&&nt&&_e.start(nt-1)==rt-1)&&et.push(nt)}return et}class AttrStep extends Step$1{constructor(_e,et,tt){super(),this.pos=_e,this.attr=et,this.value=tt}apply(_e){let et=_e.nodeAt(this.pos);if(!et)return StepResult.fail("No node at attribute step's position");let tt=Object.create(null);for(let rt in et.attrs)tt[rt]=et.attrs[rt];tt[this.attr]=this.value;let nt=et.type.create(tt,null,et.marks);return StepResult.fromReplace(_e,this.pos,this.pos+1,new Slice(Fragment.from(nt),0,et.isLeaf?0:1))}getMap(){return StepMap.empty}invert(_e){return new AttrStep(this.pos,this.attr,_e.nodeAt(this.pos).attrs[this.attr])}map(_e){let et=_e.mapResult(this.pos,1);return et.deletedAfter?null:new AttrStep(et.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(_e,et){if(typeof et.pos!="number"||typeof et.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(et.pos,et.attr,et.value)}}Step$1.jsonID("attr",AttrStep);class DocAttrStep extends Step$1{constructor(_e,et){super(),this.attr=_e,this.value=et}apply(_e){let et=Object.create(null);for(let nt in _e.attrs)et[nt]=_e.attrs[nt];et[this.attr]=this.value;let tt=_e.type.create(et,_e.content,_e.marks);return StepResult.ok(tt)}getMap(){return StepMap.empty}invert(_e){return new DocAttrStep(this.attr,_e.attrs[this.attr])}map(_e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(_e,et){if(typeof et.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(et.attr,et.value)}}Step$1.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function $(_e){let et=Error.call(this,_e);return et.__proto__=$.prototype,et};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(_e){this.doc=_e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(_e){let et=this.maybeStep(_e);if(et.failed)throw new TransformError(et.failed);return this}maybeStep(_e){let et=_e.apply(this.doc);return et.failed||this.addStep(_e,et.doc),et}get docChanged(){return this.steps.length>0}changedRange(){let _e=1e9,et=-1e9;for(let tt=0;tt<this.mapping.maps.length;tt++){let nt=this.mapping.maps[tt];tt&&(_e=nt.map(_e,1),et=nt.map(et,-1)),nt.forEach((rt,it,ot,at)=>{_e=Math.min(_e,ot),et=Math.max(et,at)})}return _e==1e9?null:{from:_e,to:et}}addStep(_e,et){this.docs.push(this.doc),this.steps.push(_e),this.mapping.appendMap(_e.getMap()),this.doc=et}replace(_e,et=_e,tt=Slice.empty){let nt=replaceStep(this.doc,_e,et,tt);return nt&&this.step(nt),this}replaceWith(_e,et,tt){return this.replace(_e,et,new Slice(Fragment.from(tt),0,0))}delete(_e,et){return this.replace(_e,et,Slice.empty)}insert(_e,et){return this.replaceWith(_e,_e,et)}replaceRange(_e,et,tt){return replaceRange(this,_e,et,tt),this}replaceRangeWith(_e,et,tt){return replaceRangeWith(this,_e,et,tt),this}deleteRange(_e,et){return deleteRange$1(this,_e,et),this}lift(_e,et){return lift$2(this,_e,et),this}join(_e,et=1){return join(this,_e,et),this}wrap(_e,et){return wrap$1(this,_e,et),this}setBlockType(_e,et=_e,tt,nt=null){return setBlockType$1(this,_e,et,tt,nt),this}setNodeMarkup(_e,et,tt=null,nt){return setNodeMarkup(this,_e,et,tt,nt),this}setNodeAttribute(_e,et,tt){return this.step(new AttrStep(_e,et,tt)),this}setDocAttribute(_e,et){return this.step(new DocAttrStep(_e,et)),this}addNodeMark(_e,et){return this.step(new AddNodeMarkStep(_e,et)),this}removeNodeMark(_e,et){let tt=this.doc.nodeAt(_e);if(!tt)throw new RangeError("No node at position "+_e);if(et instanceof Mark$1)et.isInSet(tt.marks)&&this.step(new RemoveNodeMarkStep(_e,et));else{let nt=tt.marks,rt,it=[];for(;rt=et.isInSet(nt);)it.push(new RemoveNodeMarkStep(_e,rt)),nt=rt.removeFromSet(nt);for(let ot=it.length-1;ot>=0;ot--)this.step(it[ot])}return this}split(_e,et=1,tt){return split$2(this,_e,et,tt),this}addMark(_e,et,tt){return addMark(this,_e,et,tt),this}removeMark(_e,et,tt){return removeMark(this,_e,et,tt),this}clearIncompatible(_e,et,tt){return clearIncompatible(this,_e,et,tt),this}}const classesById=Object.create(null);class Selection{constructor(_e,et,tt){this.$anchor=_e,this.$head=et,this.ranges=tt||[new SelectionRange(_e.min(et),_e.max(et))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let _e=this.ranges;for(let et=0;et<_e.length;et++)if(_e[et].$from.pos!=_e[et].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(_e,et=Slice.empty){let tt=et.content.lastChild,nt=null;for(let ot=0;ot<et.openEnd;ot++)nt=tt,tt=tt.lastChild;let rt=_e.steps.length,it=this.ranges;for(let ot=0;ot<it.length;ot++){let{$from:at,$to:st}=it[ot],lt=_e.mapping.slice(rt);_e.replaceRange(lt.map(at.pos),lt.map(st.pos),ot?Slice.empty:et),ot==0&&selectionToInsertionEnd$1(_e,rt,(tt?tt.isInline:nt&&nt.isTextblock)?-1:1)}}replaceWith(_e,et){let tt=_e.steps.length,nt=this.ranges;for(let rt=0;rt<nt.length;rt++){let{$from:it,$to:ot}=nt[rt],at=_e.mapping.slice(tt),st=at.map(it.pos),lt=at.map(ot.pos);rt?_e.deleteRange(st,lt):(_e.replaceRangeWith(st,lt,et),selectionToInsertionEnd$1(_e,tt,et.isInline?-1:1))}}static findFrom(_e,et,tt=!1){let nt=_e.parent.inlineContent?new TextSelection(_e):findSelectionIn(_e.node(0),_e.parent,_e.pos,_e.index(),et,tt);if(nt)return nt;for(let rt=_e.depth-1;rt>=0;rt--){let it=et<0?findSelectionIn(_e.node(0),_e.node(rt),_e.before(rt+1),_e.index(rt),et,tt):findSelectionIn(_e.node(0),_e.node(rt),_e.after(rt+1),_e.index(rt)+1,et,tt);if(it)return it}return null}static near(_e,et=1){return this.findFrom(_e,et)||this.findFrom(_e,-et)||new AllSelection(_e.node(0))}static atStart(_e){return findSelectionIn(_e,_e,0,0,1)||new AllSelection(_e)}static atEnd(_e){return findSelectionIn(_e,_e,_e.content.size,_e.childCount,-1)||new AllSelection(_e)}static fromJSON(_e,et){if(!et||!et.type)throw new RangeError("Invalid input for Selection.fromJSON");let tt=classesById[et.type];if(!tt)throw new RangeError(`No selection type ${et.type} defined`);return tt.fromJSON(_e,et)}static jsonID(_e,et){if(_e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+_e);return classesById[_e]=et,et.prototype.jsonID=_e,et}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(_e,et){this.$from=_e,this.$to=et}}let warnedAboutTextSelection=!1;function checkTextSelection($){!warnedAboutTextSelection&&!$.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+$.parent.type.name+")"))}class TextSelection extends Selection{constructor(_e,et=_e){checkTextSelection(_e),checkTextSelection(et),super(_e,et)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(_e,et){let tt=_e.resolve(et.map(this.head));if(!tt.parent.inlineContent)return Selection.near(tt);let nt=_e.resolve(et.map(this.anchor));return new TextSelection(nt.parent.inlineContent?nt:tt,tt)}replace(_e,et=Slice.empty){if(super.replace(_e,et),et==Slice.empty){let tt=this.$from.marksAcross(this.$to);tt&&_e.ensureMarks(tt)}}eq(_e){return _e instanceof TextSelection&&_e.anchor==this.anchor&&_e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(_e,et){if(typeof et.anchor!="number"||typeof et.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(_e.resolve(et.anchor),_e.resolve(et.head))}static create(_e,et,tt=et){let nt=_e.resolve(et);return new this(nt,tt==et?nt:_e.resolve(tt))}static between(_e,et,tt){let nt=_e.pos-et.pos;if((!tt||nt)&&(tt=nt>=0?1:-1),!et.parent.inlineContent){let rt=Selection.findFrom(et,tt,!0)||Selection.findFrom(et,-tt,!0);if(rt)et=rt.$head;else return Selection.near(et,tt)}return _e.parent.inlineContent||(nt==0?_e=et:(_e=(Selection.findFrom(_e,-tt,!0)||Selection.findFrom(_e,tt,!0)).$anchor,_e.pos<et.pos!=nt<0&&(_e=et))),new TextSelection(_e,et)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(_e,et){this.anchor=_e,this.head=et}map(_e){return new TextBookmark(_e.map(this.anchor),_e.map(this.head))}resolve(_e){return TextSelection.between(_e.resolve(this.anchor),_e.resolve(this.head))}}class NodeSelection extends Selection{constructor(_e){let et=_e.nodeAfter,tt=_e.node(0).resolve(_e.pos+et.nodeSize);super(_e,tt),this.node=et}map(_e,et){let{deleted:tt,pos:nt}=et.mapResult(this.anchor),rt=_e.resolve(nt);return tt?Selection.near(rt):new NodeSelection(rt)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(_e){return _e instanceof NodeSelection&&_e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(_e,et){if(typeof et.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(_e.resolve(et.anchor))}static create(_e,et){return new NodeSelection(_e.resolve(et))}static isSelectable(_e){return!_e.isText&&_e.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(_e){this.anchor=_e}map(_e){let{deleted:et,pos:tt}=_e.mapResult(this.anchor);return et?new TextBookmark(tt,tt):new NodeBookmark(tt)}resolve(_e){let et=_e.resolve(this.anchor),tt=et.nodeAfter;return tt&&NodeSelection.isSelectable(tt)?new NodeSelection(et):Selection.near(et)}}class AllSelection extends Selection{constructor(_e){super(_e.resolve(0),_e.resolve(_e.content.size))}replace(_e,et=Slice.empty){if(et==Slice.empty){_e.delete(0,_e.doc.content.size);let tt=Selection.atStart(_e.doc);tt.eq(_e.selection)||_e.setSelection(tt)}else super.replace(_e,et)}toJSON(){return{type:"all"}}static fromJSON(_e){return new AllSelection(_e)}map(_e){return new AllSelection(_e)}eq(_e){return _e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve($){return new AllSelection($)}};function findSelectionIn($,_e,et,tt,nt,rt=!1){if(_e.inlineContent)return TextSelection.create($,et);for(let it=tt-(nt>0?0:1);nt>0?it<_e.childCount:it>=0;it+=nt){let ot=_e.child(it);if(ot.isAtom){if(!rt&&NodeSelection.isSelectable(ot))return NodeSelection.create($,et-(nt<0?ot.nodeSize:0))}else{let at=findSelectionIn($,ot,et+nt,nt<0?ot.childCount:0,nt,rt);if(at)return at}et+=ot.nodeSize*nt}return null}function selectionToInsertionEnd$1($,_e,et){let tt=$.steps.length-1;if(tt<_e)return;let nt=$.steps[tt];if(!(nt instanceof ReplaceStep||nt instanceof ReplaceAroundStep))return;let rt=$.mapping.maps[tt],it;rt.forEach((ot,at,st,lt)=>{it==null&&(it=lt)}),$.setSelection(Selection.near($.doc.resolve(it),et))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(_e){super(_e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=_e.selection,this.storedMarks=_e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(_e){if(_e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=_e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(_e){return this.storedMarks=_e,this.updated|=UPDATED_MARKS,this}ensureMarks(_e){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),_e)||this.setStoredMarks(_e),this}addStoredMark(_e){return this.ensureMarks(_e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(_e){return this.ensureMarks(_e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(_e,et){super.addStep(_e,et),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(_e){return this.time=_e,this}replaceSelection(_e){return this.selection.replace(this,_e),this}replaceSelectionWith(_e,et=!0){let tt=this.selection;return et&&(_e=_e.mark(this.storedMarks||(tt.empty?tt.$from.marks():tt.$from.marksAcross(tt.$to)||Mark$1.none))),tt.replaceWith(this,_e),this}deleteSelection(){return this.selection.replace(this),this}insertText(_e,et,tt){let nt=this.doc.type.schema;if(et==null)return _e?this.replaceSelectionWith(nt.text(_e),!0):this.deleteSelection();{if(tt==null&&(tt=et),!_e)return this.deleteRange(et,tt);let rt=this.storedMarks;if(!rt){let it=this.doc.resolve(et);rt=tt==et?it.marks():it.marksAcross(this.doc.resolve(tt))}return this.replaceRangeWith(et,tt,nt.text(_e,rt)),!this.selection.empty&&this.selection.to==et+_e.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(_e,et){return this.meta[typeof _e=="string"?_e:_e.key]=et,this}getMeta(_e){return this.meta[typeof _e=="string"?_e:_e.key]}get isGeneric(){for(let _e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind($,_e){return!_e||!$?$:$.bind(_e)}class FieldDesc{constructor(_e,et,tt){this.name=_e,this.init=bind(et.init,tt),this.apply=bind(et.apply,tt)}}const baseFields=[new FieldDesc("doc",{init($){return $.doc||$.schema.topNodeType.createAndFill()},apply($){return $.doc}}),new FieldDesc("selection",{init($,_e){return $.selection||Selection.atStart(_e.doc)},apply($){return $.selection}}),new FieldDesc("storedMarks",{init($){return $.storedMarks||null},apply($,_e,et,tt){return tt.selection.$cursor?$.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply($,_e){return $.scrolledIntoView?_e+1:_e}})];class Configuration{constructor(_e,et){this.schema=_e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),et&&et.forEach(tt=>{if(this.pluginsByKey[tt.key])throw new RangeError("Adding different instances of a keyed plugin ("+tt.key+")");this.plugins.push(tt),this.pluginsByKey[tt.key]=tt,tt.spec.state&&this.fields.push(new FieldDesc(tt.key,tt.spec.state,tt))})}}class EditorState{constructor(_e){this.config=_e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(_e){return this.applyTransaction(_e).state}filterTransaction(_e,et=-1){for(let tt=0;tt<this.config.plugins.length;tt++)if(tt!=et){let nt=this.config.plugins[tt];if(nt.spec.filterTransaction&&!nt.spec.filterTransaction.call(nt,_e,this))return!1}return!0}applyTransaction(_e){if(!this.filterTransaction(_e))return{state:this,transactions:[]};let et=[_e],tt=this.applyInner(_e),nt=null;for(;;){let rt=!1;for(let it=0;it<this.config.plugins.length;it++){let ot=this.config.plugins[it];if(ot.spec.appendTransaction){let at=nt?nt[it].n:0,st=nt?nt[it].state:this,lt=at<et.length&&ot.spec.appendTransaction.call(ot,at?et.slice(at):et,st,tt);if(lt&&tt.filterTransaction(lt,it)){if(lt.setMeta("appendedTransaction",_e),!nt){nt=[];for(let ct=0;ct<this.config.plugins.length;ct++)nt.push(ct<it?{state:tt,n:et.length}:{state:this,n:0})}et.push(lt),tt=tt.applyInner(lt),rt=!0}nt&&(nt[it]={state:tt,n:et.length})}}if(!rt)return{state:tt,transactions:et}}}applyInner(_e){if(!_e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let et=new EditorState(this.config),tt=this.config.fields;for(let nt=0;nt<tt.length;nt++){let rt=tt[nt];et[rt.name]=rt.apply(_e,this[rt.name],this,et)}return et}get tr(){return new Transaction(this)}static create(_e){let et=new Configuration(_e.doc?_e.doc.type.schema:_e.schema,_e.plugins),tt=new EditorState(et);for(let nt=0;nt<et.fields.length;nt++)tt[et.fields[nt].name]=et.fields[nt].init(_e,tt);return tt}reconfigure(_e){let et=new Configuration(this.schema,_e.plugins),tt=et.fields,nt=new EditorState(et);for(let rt=0;rt<tt.length;rt++){let it=tt[rt].name;nt[it]=this.hasOwnProperty(it)?this[it]:tt[rt].init(_e,nt)}return nt}toJSON(_e){let et={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(et.storedMarks=this.storedMarks.map(tt=>tt.toJSON())),_e&&typeof _e=="object")for(let tt in _e){if(tt=="doc"||tt=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let nt=_e[tt],rt=nt.spec.state;rt&&rt.toJSON&&(et[tt]=rt.toJSON.call(nt,this[nt.key]))}return et}static fromJSON(_e,et,tt){if(!et)throw new RangeError("Invalid input for EditorState.fromJSON");if(!_e.schema)throw new RangeError("Required config field 'schema' missing");let nt=new Configuration(_e.schema,_e.plugins),rt=new EditorState(nt);return nt.fields.forEach(it=>{if(it.name=="doc")rt.doc=Node$1.fromJSON(_e.schema,et.doc);else if(it.name=="selection")rt.selection=Selection.fromJSON(rt.doc,et.selection);else if(it.name=="storedMarks")et.storedMarks&&(rt.storedMarks=et.storedMarks.map(_e.schema.markFromJSON));else{if(tt)for(let ot in tt){let at=tt[ot],st=at.spec.state;if(at.key==it.name&&st&&st.fromJSON&&Object.prototype.hasOwnProperty.call(et,ot)){rt[it.name]=st.fromJSON.call(at,_e,et[ot],rt);return}}rt[it.name]=it.init(_e,rt)}}),rt}}function bindProps($,_e,et){for(let tt in $){let nt=$[tt];nt instanceof Function?nt=nt.bind(_e):tt=="handleDOMEvents"&&(nt=bindProps(nt,_e,{})),et[tt]=nt}return et}class Plugin{constructor(_e){this.spec=_e,this.props={},_e.props&&bindProps(_e.props,this,this.props),this.key=_e.key?_e.key.key:createKey("plugin")}getState(_e){return _e[this.key]}}const keys$6=Object.create(null);function createKey($){return $ in keys$6?$+"$"+ ++keys$6[$]:(keys$6[$]=0,$+"$")}class PluginKey{constructor(_e="key"){this.key=createKey(_e)}get(_e){return _e.config.pluginsByKey[this.key]}getState(_e){return _e[this.key]}}const domIndex=function($){for(var _e=0;;_e++)if($=$.previousSibling,!$)return _e},parentNode=function($){let _e=$.assignedSlot||$.parentNode;return _e&&_e.nodeType==11?_e.host:_e};let reusedRange=null;const textRange=function($,_e,et){let tt=reusedRange||(reusedRange=document.createRange());return tt.setEnd($,et??$.nodeValue.length),tt.setStart($,_e||0),tt},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function($,_e,et,tt){return et&&(scanFor($,_e,et,tt,-1)||scanFor($,_e,et,tt,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor($,_e,et,tt,nt){for(var rt;;){if($==et&&_e==tt)return!0;if(_e==(nt<0?0:nodeSize($))){let it=$.parentNode;if(!it||it.nodeType!=1||hasBlockDesc($)||atomElements.test($.nodeName)||$.contentEditable=="false")return!1;_e=domIndex($)+(nt<0?0:1),$=it}else if($.nodeType==1){let it=$.childNodes[_e+(nt<0?-1:0)];if(it.nodeType==1&&it.contentEditable=="false")if(!((rt=it.pmViewDesc)===null||rt===void 0)&&rt.ignoreForSelection)_e+=nt;else return!1;else $=it,_e=nt<0?nodeSize($):0}else return!1}}function nodeSize($){return $.nodeType==3?$.nodeValue.length:$.childNodes.length}function textNodeBefore$1($,_e){for(;;){if($.nodeType==3&&_e)return $;if($.nodeType==1&&_e>0){if($.contentEditable=="false")return null;$=$.childNodes[_e-1],_e=nodeSize($)}else if($.parentNode&&!hasBlockDesc($))_e=domIndex($),$=$.parentNode;else return null}}function textNodeAfter$1($,_e){for(;;){if($.nodeType==3&&_e<$.nodeValue.length)return $;if($.nodeType==1&&_e<$.childNodes.length){if($.contentEditable=="false")return null;$=$.childNodes[_e],_e=0}else if($.parentNode&&!hasBlockDesc($))_e=domIndex($)+1,$=$.parentNode;else return null}}function isOnEdge($,_e,et){for(let tt=_e==0,nt=_e==nodeSize($);tt||nt;){if($==et)return!0;let rt=domIndex($);if($=$.parentNode,!$)return!1;tt=tt&&rt==0,nt=nt&&rt==nodeSize($)}}function hasBlockDesc($){let _e;for(let et=$;et&&!(_e=et.pmViewDesc);et=et.parentNode);return _e&&_e.node&&_e.node.isBlock&&(_e.dom==$||_e.contentDOM==$)}const selectionCollapsed=function($){return $.focusNode&&isEquivalentPosition($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset)};function keyEvent($,_e){let et=document.createEvent("Event");return et.initEvent("keydown",!0,!0),et.keyCode=$,et.key=et.code=_e,et}function deepActiveElement($){let _e=$.activeElement;for(;_e&&_e.shadowRoot;)_e=_e.shadowRoot.activeElement;return _e}function caretFromPoint($,_e,et){if($.caretPositionFromPoint)try{let tt=$.caretPositionFromPoint(_e,et);if(tt)return{node:tt.offsetNode,offset:Math.min(nodeSize(tt.offsetNode),tt.offset)}}catch{}if($.caretRangeFromPoint){let tt=$.caretRangeFromPoint(_e,et);if(tt)return{node:tt.startContainer,offset:Math.min(nodeSize(tt.startContainer),tt.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect($){let _e=$.defaultView&&$.defaultView.visualViewport;return _e?{left:0,right:_e.width,top:0,bottom:_e.height}:{left:0,right:$.documentElement.clientWidth,top:0,bottom:$.documentElement.clientHeight}}function getSide($,_e){return typeof $=="number"?$:$[_e]}function clientRect($){let _e=$.getBoundingClientRect(),et=_e.width/$.offsetWidth||1,tt=_e.height/$.offsetHeight||1;return{left:_e.left,right:_e.left+$.clientWidth*et,top:_e.top,bottom:_e.top+$.clientHeight*tt}}function scrollRectIntoView($,_e,et){let tt=$.someProp("scrollThreshold")||0,nt=$.someProp("scrollMargin")||5,rt=$.dom.ownerDocument;for(let it=et||$.dom;it;){if(it.nodeType!=1){it=parentNode(it);continue}let ot=it,at=ot==rt.body,st=at?windowRect(rt):clientRect(ot),lt=0,ct=0;if(_e.top<st.top+getSide(tt,"top")?ct=-(st.top-_e.top+getSide(nt,"top")):_e.bottom>st.bottom-getSide(tt,"bottom")&&(ct=_e.bottom-_e.top>st.bottom-st.top?_e.top+getSide(nt,"top")-st.top:_e.bottom-st.bottom+getSide(nt,"bottom")),_e.left<st.left+getSide(tt,"left")?lt=-(st.left-_e.left+getSide(nt,"left")):_e.right>st.right-getSide(tt,"right")&&(lt=_e.right-st.right+getSide(nt,"right")),lt||ct)if(at)rt.defaultView.scrollBy(lt,ct);else{let dt=ot.scrollLeft,ft=ot.scrollTop;ct&&(ot.scrollTop+=ct),lt&&(ot.scrollLeft+=lt);let pt=ot.scrollLeft-dt,mt=ot.scrollTop-ft;_e={left:_e.left-pt,top:_e.top-mt,right:_e.right-pt,bottom:_e.bottom-mt}}let ut=at?"fixed":getComputedStyle(it).position;if(/^(fixed|sticky)$/.test(ut))break;it=ut=="absolute"?it.offsetParent:parentNode(it)}}function storeScrollPos($){let _e=$.dom.getBoundingClientRect(),et=Math.max(0,_e.top),tt,nt;for(let rt=(_e.left+_e.right)/2,it=et+1;it<Math.min(innerHeight,_e.bottom);it+=5){let ot=$.root.elementFromPoint(rt,it);if(!ot||ot==$.dom||!$.dom.contains(ot))continue;let at=ot.getBoundingClientRect();if(at.top>=et-20){tt=ot,nt=at.top;break}}return{refDOM:tt,refTop:nt,stack:scrollStack($.dom)}}function scrollStack($){let _e=[],et=$.ownerDocument;for(let tt=$;tt&&(_e.push({dom:tt,top:tt.scrollTop,left:tt.scrollLeft}),$!=et);tt=parentNode(tt));return _e}function resetScrollPos({refDOM:$,refTop:_e,stack:et}){let tt=$?$.getBoundingClientRect().top:0;restoreScrollStack(et,tt==0?0:tt-_e)}function restoreScrollStack($,_e){for(let et=0;et<$.length;et++){let{dom:tt,top:nt,left:rt}=$[et];tt.scrollTop!=nt+_e&&(tt.scrollTop=nt+_e),tt.scrollLeft!=rt&&(tt.scrollLeft=rt)}}let preventScrollSupported=null;function focusPreventScroll($){if($.setActive)return $.setActive();if(preventScrollSupported)return $.focus(preventScrollSupported);let _e=scrollStack($);$.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(_e,0))}function findOffsetInNode($,_e){let et,tt=2e8,nt,rt=0,it=_e.top,ot=_e.top,at,st;for(let lt=$.firstChild,ct=0;lt;lt=lt.nextSibling,ct++){let ut;if(lt.nodeType==1)ut=lt.getClientRects();else if(lt.nodeType==3)ut=textRange(lt).getClientRects();else continue;for(let dt=0;dt<ut.length;dt++){let ft=ut[dt];if(ft.top<=it&&ft.bottom>=ot){it=Math.max(ft.bottom,it),ot=Math.min(ft.top,ot);let pt=ft.left>_e.left?ft.left-_e.left:ft.right<_e.left?_e.left-ft.right:0;if(pt<tt){et=lt,tt=pt,nt=pt&&et.nodeType==3?{left:ft.right<_e.left?ft.right:ft.left,top:_e.top}:_e,lt.nodeType==1&&pt&&(rt=ct+(_e.left>=(ft.left+ft.right)/2?1:0));continue}}else ft.top>_e.top&&!at&&ft.left<=_e.left&&ft.right>=_e.left&&(at=lt,st={left:Math.max(ft.left,Math.min(ft.right,_e.left)),top:ft.top});!et&&(_e.left>=ft.right&&_e.top>=ft.top||_e.left>=ft.left&&_e.top>=ft.bottom)&&(rt=ct+1)}}return!et&&at&&(et=at,nt=st,tt=0),et&&et.nodeType==3?findOffsetInText(et,nt):!et||tt&&et.nodeType==1?{node:$,offset:rt}:findOffsetInNode(et,nt)}function findOffsetInText($,_e){let et=$.nodeValue.length,tt=document.createRange(),nt;for(let rt=0;rt<et;rt++){tt.setEnd($,rt+1),tt.setStart($,rt);let it=singleRect(tt,1);if(it.top!=it.bottom&&inRect(_e,it)){nt={node:$,offset:rt+(_e.left>=(it.left+it.right)/2?1:0)};break}}return tt.detach(),nt||{node:$,offset:0}}function inRect($,_e){return $.left>=_e.left-1&&$.left<=_e.right+1&&$.top>=_e.top-1&&$.top<=_e.bottom+1}function targetKludge($,_e){let et=$.parentNode;return et&&/^li$/i.test(et.nodeName)&&_e.left<$.getBoundingClientRect().left?et:$}function posFromElement($,_e,et){let{node:tt,offset:nt}=findOffsetInNode(_e,et),rt=-1;if(tt.nodeType==1&&!tt.firstChild){let it=tt.getBoundingClientRect();rt=it.left!=it.right&&et.left>(it.left+it.right)/2?1:-1}return $.docView.posFromDOM(tt,nt,rt)}function posFromCaret($,_e,et,tt){let nt=-1;for(let rt=_e,it=!1;rt!=$.dom;){let ot=$.docView.nearestDesc(rt,!0),at;if(!ot)return null;if(ot.dom.nodeType==1&&(ot.node.isBlock&&ot.parent||!ot.contentDOM)&&((at=ot.dom.getBoundingClientRect()).width||at.height)&&(ot.node.isBlock&&ot.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(ot.dom.nodeName)&&(!it&&at.left>tt.left||at.top>tt.top?nt=ot.posBefore:(!it&&at.right<tt.left||at.bottom<tt.top)&&(nt=ot.posAfter),it=!0),!ot.contentDOM&&nt<0&&!ot.node.isText))return(ot.node.isBlock?tt.top<(at.top+at.bottom)/2:tt.left<(at.left+at.right)/2)?ot.posBefore:ot.posAfter;rt=ot.dom.parentNode}return nt>-1?nt:$.docView.posFromDOM(_e,et,-1)}function elementFromPoint($,_e,et){let tt=$.childNodes.length;if(tt&&et.top<et.bottom)for(let nt=Math.max(0,Math.min(tt-1,Math.floor(tt*(_e.top-et.top)/(et.bottom-et.top))-2)),rt=nt;;){let it=$.childNodes[rt];if(it.nodeType==1){let ot=it.getClientRects();for(let at=0;at<ot.length;at++){let st=ot[at];if(inRect(_e,st))return elementFromPoint(it,_e,st)}}if((rt=(rt+1)%tt)==nt)break}return $}function posAtCoords($,_e){let et=$.dom.ownerDocument,tt,nt=0,rt=caretFromPoint(et,_e.left,_e.top);rt&&({node:tt,offset:nt}=rt);let it=($.root.elementFromPoint?$.root:et).elementFromPoint(_e.left,_e.top),ot;if(!it||!$.dom.contains(it.nodeType!=1?it.parentNode:it)){let st=$.dom.getBoundingClientRect();if(!inRect(_e,st)||(it=elementFromPoint($.dom,_e,st),!it))return null}if(safari)for(let st=it;tt&&st;st=parentNode(st))st.draggable&&(tt=void 0);if(it=targetKludge(it,_e),tt){if(gecko&&tt.nodeType==1&&(nt=Math.min(nt,tt.childNodes.length),nt<tt.childNodes.length)){let lt=tt.childNodes[nt],ct;lt.nodeName=="IMG"&&(ct=lt.getBoundingClientRect()).right<=_e.left&&ct.bottom>_e.top&&nt++}let st;webkit&&nt&&tt.nodeType==1&&(st=tt.childNodes[nt-1]).nodeType==1&&st.contentEditable=="false"&&st.getBoundingClientRect().top>=_e.top&&nt--,tt==$.dom&&nt==tt.childNodes.length-1&&tt.lastChild.nodeType==1&&_e.top>tt.lastChild.getBoundingClientRect().bottom?ot=$.state.doc.content.size:(nt==0||tt.nodeType!=1||tt.childNodes[nt-1].nodeName!="BR")&&(ot=posFromCaret($,tt,nt,_e))}ot==null&&(ot=posFromElement($,it,_e));let at=$.docView.nearestDesc(it,!0);return{pos:ot,inside:at?at.posAtStart-at.border:-1}}function nonZero($){return $.top<$.bottom||$.left<$.right}function singleRect($,_e){let et=$.getClientRects();if(et.length){let tt=et[_e<0?0:et.length-1];if(nonZero(tt))return tt}return Array.prototype.find.call(et,nonZero)||$.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos($,_e,et){let{node:tt,offset:nt,atom:rt}=$.docView.domFromPos(_e,et<0?-1:1),it=webkit||gecko;if(tt.nodeType==3)if(it&&(BIDI.test(tt.nodeValue)||(et<0?!nt:nt==tt.nodeValue.length))){let at=singleRect(textRange(tt,nt,nt),et);if(gecko&&nt&&/\s/.test(tt.nodeValue[nt-1])&&nt<tt.nodeValue.length){let st=singleRect(textRange(tt,nt-1,nt-1),-1);if(st.top==at.top){let lt=singleRect(textRange(tt,nt,nt+1),-1);if(lt.top!=at.top)return flattenV(lt,lt.left<st.left)}}return at}else{let at=nt,st=nt,lt=et<0?1:-1;return et<0&&!nt?(st++,lt=-1):et>=0&&nt==tt.nodeValue.length?(at--,lt=1):et<0?at--:st++,flattenV(singleRect(textRange(tt,at,st),lt),lt<0)}if(!$.state.doc.resolve(_e-(rt||0)).parent.inlineContent){if(rt==null&&nt&&(et<0||nt==nodeSize(tt))){let at=tt.childNodes[nt-1];if(at.nodeType==1)return flattenH(at.getBoundingClientRect(),!1)}if(rt==null&&nt<nodeSize(tt)){let at=tt.childNodes[nt];if(at.nodeType==1)return flattenH(at.getBoundingClientRect(),!0)}return flattenH(tt.getBoundingClientRect(),et>=0)}if(rt==null&&nt&&(et<0||nt==nodeSize(tt))){let at=tt.childNodes[nt-1],st=at.nodeType==3?textRange(at,nodeSize(at)-(it?0:1)):at.nodeType==1&&(at.nodeName!="BR"||!at.nextSibling)?at:null;if(st)return flattenV(singleRect(st,1),!1)}if(rt==null&&nt<nodeSize(tt)){let at=tt.childNodes[nt];for(;at.pmViewDesc&&at.pmViewDesc.ignoreForCoords;)at=at.nextSibling;let st=at?at.nodeType==3?textRange(at,0,it?0:1):at.nodeType==1?at:null:null;if(st)return flattenV(singleRect(st,-1),!0)}return flattenV(singleRect(tt.nodeType==3?textRange(tt):tt,-et),et>=0)}function flattenV($,_e){if($.width==0)return $;let et=_e?$.left:$.right;return{top:$.top,bottom:$.bottom,left:et,right:et}}function flattenH($,_e){if($.height==0)return $;let et=_e?$.top:$.bottom;return{top:et,bottom:et,left:$.left,right:$.right}}function withFlushedState($,_e,et){let tt=$.state,nt=$.root.activeElement;tt!=_e&&$.updateState(_e),nt!=$.dom&&$.focus();try{return et()}finally{tt!=_e&&$.updateState(tt),nt!=$.dom&&nt&&nt.focus()}}function endOfTextblockVertical($,_e,et){let tt=_e.selection,nt=et=="up"?tt.$from:tt.$to;return withFlushedState($,_e,()=>{let{node:rt}=$.docView.domFromPos(nt.pos,et=="up"?-1:1);for(;;){let ot=$.docView.nearestDesc(rt,!0);if(!ot)break;if(ot.node.isBlock){rt=ot.contentDOM||ot.dom;break}rt=ot.dom.parentNode}let it=coordsAtPos($,nt.pos,1);for(let ot=rt.firstChild;ot;ot=ot.nextSibling){let at;if(ot.nodeType==1)at=ot.getClientRects();else if(ot.nodeType==3)at=textRange(ot,0,ot.nodeValue.length).getClientRects();else continue;for(let st=0;st<at.length;st++){let lt=at[st];if(lt.bottom>lt.top+1&&(et=="up"?it.top-lt.top>(lt.bottom-it.top)*2:lt.bottom-it.bottom>(it.bottom-lt.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal($,_e,et){let{$head:tt}=_e.selection;if(!tt.parent.isTextblock)return!1;let nt=tt.parentOffset,rt=!nt,it=nt==tt.parent.content.size,ot=$.domSelection();return ot?!maybeRTL.test(tt.parent.textContent)||!ot.modify?et=="left"||et=="backward"?rt:it:withFlushedState($,_e,()=>{let{focusNode:at,focusOffset:st,anchorNode:lt,anchorOffset:ct}=$.domSelectionRange(),ut=ot.caretBidiLevel;ot.modify("move",et,"character");let dt=tt.depth?$.docView.domAfterPos(tt.before()):$.dom,{focusNode:ft,focusOffset:pt}=$.domSelectionRange(),mt=ft&&!dt.contains(ft.nodeType==1?ft:ft.parentNode)||at==ft&&st==pt;try{ot.collapse(lt,ct),at&&(at!=lt||st!=ct)&&ot.extend&&ot.extend(at,st)}catch{}return ut!=null&&(ot.caretBidiLevel=ut),mt}):tt.pos==tt.start()||tt.pos==tt.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock($,_e,et){return cachedState==_e&&cachedDir==et?cachedResult:(cachedState=_e,cachedDir=et,cachedResult=et=="up"||et=="down"?endOfTextblockVertical($,_e,et):endOfTextblockHorizontal($,_e,et))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(_e,et,tt,nt){this.parent=_e,this.children=et,this.dom=tt,this.contentDOM=nt,this.dirty=NOT_DIRTY,tt.pmViewDesc=this}matchesWidget(_e){return!1}matchesMark(_e){return!1}matchesNode(_e,et,tt){return!1}matchesHack(_e){return!1}parseRule(){return null}stopEvent(_e){return!1}get size(){let _e=0;for(let et=0;et<this.children.length;et++)_e+=this.children[et].size;return _e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let _e=0;_e<this.children.length;_e++)this.children[_e].destroy()}posBeforeChild(_e){for(let et=0,tt=this.posAtStart;;et++){let nt=this.children[et];if(nt==_e)return tt;tt+=nt.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(_e,et,tt){if(this.contentDOM&&this.contentDOM.contains(_e.nodeType==1?_e:_e.parentNode))if(tt<0){let rt,it;if(_e==this.contentDOM)rt=_e.childNodes[et-1];else{for(;_e.parentNode!=this.contentDOM;)_e=_e.parentNode;rt=_e.previousSibling}for(;rt&&!((it=rt.pmViewDesc)&&it.parent==this);)rt=rt.previousSibling;return rt?this.posBeforeChild(it)+it.size:this.posAtStart}else{let rt,it;if(_e==this.contentDOM)rt=_e.childNodes[et];else{for(;_e.parentNode!=this.contentDOM;)_e=_e.parentNode;rt=_e.nextSibling}for(;rt&&!((it=rt.pmViewDesc)&&it.parent==this);)rt=rt.nextSibling;return rt?this.posBeforeChild(it):this.posAtEnd}let nt;if(_e==this.dom&&this.contentDOM)nt=et>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))nt=_e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(et==0)for(let rt=_e;;rt=rt.parentNode){if(rt==this.dom){nt=!1;break}if(rt.previousSibling)break}if(nt==null&&et==_e.childNodes.length)for(let rt=_e;;rt=rt.parentNode){if(rt==this.dom){nt=!0;break}if(rt.nextSibling)break}}return nt??tt>0?this.posAtEnd:this.posAtStart}nearestDesc(_e,et=!1){for(let tt=!0,nt=_e;nt;nt=nt.parentNode){let rt=this.getDesc(nt),it;if(rt&&(!et||rt.node))if(tt&&(it=rt.nodeDOM)&&!(it.nodeType==1?it.contains(_e.nodeType==1?_e:_e.parentNode):it==_e))tt=!1;else return rt}}getDesc(_e){let et=_e.pmViewDesc;for(let tt=et;tt;tt=tt.parent)if(tt==this)return et}posFromDOM(_e,et,tt){for(let nt=_e;nt;nt=nt.parentNode){let rt=this.getDesc(nt);if(rt)return rt.localPosFromDOM(_e,et,tt)}return-1}descAt(_e){for(let et=0,tt=0;et<this.children.length;et++){let nt=this.children[et],rt=tt+nt.size;if(tt==_e&&rt!=tt){for(;!nt.border&&nt.children.length;)for(let it=0;it<nt.children.length;it++){let ot=nt.children[it];if(ot.size){nt=ot;break}}return nt}if(_e<rt)return nt.descAt(_e-tt-nt.border);tt=rt}}domFromPos(_e,et){if(!this.contentDOM)return{node:this.dom,offset:0,atom:_e+1};let tt=0,nt=0;for(let rt=0;tt<this.children.length;tt++){let it=this.children[tt],ot=rt+it.size;if(ot>_e||it instanceof TrailingHackViewDesc){nt=_e-rt;break}rt=ot}if(nt)return this.children[tt].domFromPos(nt-this.children[tt].border,et);for(let rt;tt&&!(rt=this.children[tt-1]).size&&rt instanceof WidgetViewDesc&&rt.side>=0;tt--);if(et<=0){let rt,it=!0;for(;rt=tt?this.children[tt-1]:null,!(!rt||rt.dom.parentNode==this.contentDOM);tt--,it=!1);return rt&&et&&it&&!rt.border&&!rt.domAtom?rt.domFromPos(rt.size,et):{node:this.contentDOM,offset:rt?domIndex(rt.dom)+1:0}}else{let rt,it=!0;for(;rt=tt<this.children.length?this.children[tt]:null,!(!rt||rt.dom.parentNode==this.contentDOM);tt++,it=!1);return rt&&it&&!rt.border&&!rt.domAtom?rt.domFromPos(0,et):{node:this.contentDOM,offset:rt?domIndex(rt.dom):this.contentDOM.childNodes.length}}}parseRange(_e,et,tt=0){if(this.children.length==0)return{node:this.contentDOM,from:_e,to:et,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let nt=-1,rt=-1;for(let it=tt,ot=0;;ot++){let at=this.children[ot],st=it+at.size;if(nt==-1&&_e<=st){let lt=it+at.border;if(_e>=lt&&et<=st-at.border&&at.node&&at.contentDOM&&this.contentDOM.contains(at.contentDOM))return at.parseRange(_e,et,lt);_e=it;for(let ct=ot;ct>0;ct--){let ut=this.children[ct-1];if(ut.size&&ut.dom.parentNode==this.contentDOM&&!ut.emptyChildAt(1)){nt=domIndex(ut.dom)+1;break}_e-=ut.size}nt==-1&&(nt=0)}if(nt>-1&&(st>et||ot==this.children.length-1)){et=st;for(let lt=ot+1;lt<this.children.length;lt++){let ct=this.children[lt];if(ct.size&&ct.dom.parentNode==this.contentDOM&&!ct.emptyChildAt(-1)){rt=domIndex(ct.dom);break}et+=ct.size}rt==-1&&(rt=this.contentDOM.childNodes.length);break}it=st}return{node:this.contentDOM,from:_e,to:et,fromOffset:nt,toOffset:rt}}emptyChildAt(_e){if(this.border||!this.contentDOM||!this.children.length)return!1;let et=this.children[_e<0?0:this.children.length-1];return et.size==0||et.emptyChildAt(_e)}domAfterPos(_e){let{node:et,offset:tt}=this.domFromPos(_e,0);if(et.nodeType!=1||tt==et.childNodes.length)throw new RangeError("No node after pos "+_e);return et.childNodes[tt]}setSelection(_e,et,tt,nt=!1){let rt=Math.min(_e,et),it=Math.max(_e,et);for(let dt=0,ft=0;dt<this.children.length;dt++){let pt=this.children[dt],mt=ft+pt.size;if(rt>ft&&it<mt)return pt.setSelection(_e-ft-pt.border,et-ft-pt.border,tt,nt);ft=mt}let ot=this.domFromPos(_e,_e?-1:1),at=et==_e?ot:this.domFromPos(et,et?-1:1),st=tt.root.getSelection(),lt=tt.domSelectionRange(),ct=!1;if((gecko||safari)&&_e==et){let{node:dt,offset:ft}=ot;if(dt.nodeType==3){if(ct=!!(ft&&dt.nodeValue[ft-1]==`
`),ct&&ft==dt.nodeValue.length)for(let pt=dt,mt;pt;pt=pt.parentNode){if(mt=pt.nextSibling){mt.nodeName=="BR"&&(ot=at={node:mt.parentNode,offset:domIndex(mt)+1});break}let ht=pt.pmViewDesc;if(ht&&ht.node&&ht.node.isBlock)break}}else{let pt=dt.childNodes[ft-1];ct=pt&&(pt.nodeName=="BR"||pt.contentEditable=="false")}}if(gecko&&lt.focusNode&&lt.focusNode!=at.node&&lt.focusNode.nodeType==1){let dt=lt.focusNode.childNodes[lt.focusOffset];dt&&dt.contentEditable=="false"&&(nt=!0)}if(!(nt||ct&&safari)&&isEquivalentPosition(ot.node,ot.offset,lt.anchorNode,lt.anchorOffset)&&isEquivalentPosition(at.node,at.offset,lt.focusNode,lt.focusOffset))return;let ut=!1;if((st.extend||_e==et)&&!(ct&&gecko)){st.collapse(ot.node,ot.offset);try{_e!=et&&st.extend(at.node,at.offset),ut=!0}catch{}}if(!ut){if(_e>et){let ft=ot;ot=at,at=ft}let dt=document.createRange();dt.setEnd(at.node,at.offset),dt.setStart(ot.node,ot.offset),st.removeAllRanges(),st.addRange(dt)}}ignoreMutation(_e){return!this.contentDOM&&_e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(_e,et){for(let tt=0,nt=0;nt<this.children.length;nt++){let rt=this.children[nt],it=tt+rt.size;if(tt==it?_e<=it&&et>=tt:_e<it&&et>tt){let ot=tt+rt.border,at=it-rt.border;if(_e>=ot&&et<=at){this.dirty=_e==tt||et==it?CONTENT_DIRTY:CHILD_DIRTY,_e==ot&&et==at&&(rt.contentLost||rt.dom.parentNode!=this.contentDOM)?rt.dirty=NODE_DIRTY:rt.markDirty(_e-ot,et-ot);return}else rt.dirty=rt.dom==rt.contentDOM&&rt.dom.parentNode==this.contentDOM&&!rt.children.length?CONTENT_DIRTY:NODE_DIRTY}tt=it}this.dirty=CONTENT_DIRTY}markParentsDirty(){let _e=1;for(let et=this.parent;et;et=et.parent,_e++){let tt=_e==1?CONTENT_DIRTY:CHILD_DIRTY;et.dirty<tt&&(et.dirty=tt)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(_e){return!1}}class WidgetViewDesc extends ViewDesc{constructor(_e,et,tt,nt){let rt,it=et.type.toDOM;if(typeof it=="function"&&(it=it(tt,()=>{if(!rt)return nt;if(rt.parent)return rt.parent.posBeforeChild(rt)})),!et.type.spec.raw){if(it.nodeType!=1){let ot=document.createElement("span");ot.appendChild(it),it=ot}it.contentEditable="false",it.classList.add("ProseMirror-widget")}super(_e,[],it,null),this.widget=et,this.widget=et,rt=this}matchesWidget(_e){return this.dirty==NOT_DIRTY&&_e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(_e){let et=this.widget.spec.stopEvent;return et?et(_e):!1}ignoreMutation(_e){return _e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(_e,et,tt,nt){super(_e,[],et,null),this.textDOM=tt,this.text=nt}get size(){return this.text.length}localPosFromDOM(_e,et){return _e!=this.textDOM?this.posAtStart+(et?this.size:0):this.posAtStart+et}domFromPos(_e){return{node:this.textDOM,offset:_e}}ignoreMutation(_e){return _e.type==="characterData"&&_e.target.nodeValue==_e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(_e,et,tt,nt,rt){super(_e,[],tt,nt),this.mark=et,this.spec=rt}static create(_e,et,tt,nt){let rt=nt.nodeViews[et.type.name],it=rt&&rt(et,nt,tt);return(!it||!it.dom)&&(it=DOMSerializer.renderSpec(document,et.type.spec.toDOM(et,tt),null,et.attrs)),new MarkViewDesc(_e,et,it.dom,it.contentDOM||it.dom,it)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(_e){return this.dirty!=NODE_DIRTY&&this.mark.eq(_e)}markDirty(_e,et){if(super.markDirty(_e,et),this.dirty!=NOT_DIRTY){let tt=this.parent;for(;!tt.node;)tt=tt.parent;tt.dirty<this.dirty&&(tt.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(_e,et,tt){let nt=MarkViewDesc.create(this.parent,this.mark,!0,tt),rt=this.children,it=this.size;et<it&&(rt=replaceNodes(rt,et,it,tt)),_e>0&&(rt=replaceNodes(rt,0,_e,tt));for(let ot=0;ot<rt.length;ot++)rt[ot].parent=nt;return nt.children=rt,nt}ignoreMutation(_e){return this.spec.ignoreMutation?this.spec.ignoreMutation(_e):super.ignoreMutation(_e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(_e,et,tt,nt,rt,it,ot,at,st){super(_e,[],rt,it),this.node=et,this.outerDeco=tt,this.innerDeco=nt,this.nodeDOM=ot}static create(_e,et,tt,nt,rt,it){let ot=rt.nodeViews[et.type.name],at,st=ot&&ot(et,rt,()=>{if(!at)return it;if(at.parent)return at.parent.posBeforeChild(at)},tt,nt),lt=st&&st.dom,ct=st&&st.contentDOM;if(et.isText){if(!lt)lt=document.createTextNode(et.text);else if(lt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else lt||({dom:lt,contentDOM:ct}=DOMSerializer.renderSpec(document,et.type.spec.toDOM(et),null,et.attrs));!ct&&!et.isText&&lt.nodeName!="BR"&&(lt.hasAttribute("contenteditable")||(lt.contentEditable="false"),et.type.spec.draggable&&(lt.draggable=!0));let ut=lt;return lt=applyOuterDeco(lt,tt,et),st?at=new CustomNodeViewDesc(_e,et,tt,nt,lt,ct||null,ut,st,rt,it+1):et.isText?new TextViewDesc(_e,et,tt,nt,lt,ut,rt):new NodeViewDesc(_e,et,tt,nt,lt,ct||null,ut,rt,it+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let _e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(_e.preserveWhitespace="full"),!this.contentDOM)_e.getContent=()=>this.node.content;else if(!this.contentLost)_e.contentElement=this.contentDOM;else{for(let et=this.children.length-1;et>=0;et--){let tt=this.children[et];if(this.dom.contains(tt.dom.parentNode)){_e.contentElement=tt.dom.parentNode;break}}_e.contentElement||(_e.getContent=()=>Fragment.empty)}return _e}matchesNode(_e,et,tt){return this.dirty==NOT_DIRTY&&_e.eq(this.node)&&sameOuterDeco(et,this.outerDeco)&&tt.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(_e,et){let tt=this.node.inlineContent,nt=et,rt=_e.composing?this.localCompositionInfo(_e,et):null,it=rt&&rt.pos>-1?rt:null,ot=rt&&rt.pos<0,at=new ViewTreeUpdater(this,it&&it.node,_e);iterDeco(this.node,this.innerDeco,(st,lt,ct)=>{st.spec.marks?at.syncToMarks(st.spec.marks,tt,_e,lt):st.type.side>=0&&!ct&&at.syncToMarks(lt==this.node.childCount?Mark$1.none:this.node.child(lt).marks,tt,_e,lt),at.placeWidget(st,_e,nt)},(st,lt,ct,ut)=>{at.syncToMarks(st.marks,tt,_e,ut);let dt;at.findNodeMatch(st,lt,ct,ut)||ot&&_e.state.selection.from>nt&&_e.state.selection.to<nt+st.nodeSize&&(dt=at.findIndexWithChild(rt.node))>-1&&at.updateNodeAt(st,lt,ct,dt,_e)||at.updateNextNode(st,lt,ct,_e,ut,nt)||at.addNode(st,lt,ct,_e,nt),nt+=st.nodeSize}),at.syncToMarks([],tt,_e,0),this.node.isTextblock&&at.addTextblockHacks(),at.destroyRest(),(at.changed||this.dirty==CONTENT_DIRTY)&&(it&&this.protectLocalComposition(_e,it),renderDescs(this.contentDOM,this.children,_e),ios&&iosHacks(this.dom))}localCompositionInfo(_e,et){let{from:tt,to:nt}=_e.state.selection;if(!(_e.state.selection instanceof TextSelection)||tt<et||nt>et+this.node.content.size)return null;let rt=_e.input.compositionNode;if(!rt||!this.dom.contains(rt.parentNode))return null;if(this.node.inlineContent){let it=rt.nodeValue,ot=findTextInFragment(this.node.content,it,tt-et,nt-et);return ot<0?null:{node:rt,pos:ot,text:it}}else return{node:rt,pos:-1,text:""}}protectLocalComposition(_e,{node:et,pos:tt,text:nt}){if(this.getDesc(et))return;let rt=et;for(;rt.parentNode!=this.contentDOM;rt=rt.parentNode){for(;rt.previousSibling;)rt.parentNode.removeChild(rt.previousSibling);for(;rt.nextSibling;)rt.parentNode.removeChild(rt.nextSibling);rt.pmViewDesc&&(rt.pmViewDesc=void 0)}let it=new CompositionViewDesc(this,rt,et,nt);_e.input.compositionNodes.push(it),this.children=replaceNodes(this.children,tt,tt+nt.length,_e,it)}update(_e,et,tt,nt){return this.dirty==NODE_DIRTY||!_e.sameMarkup(this.node)?!1:(this.updateInner(_e,et,tt,nt),!0)}updateInner(_e,et,tt,nt){this.updateOuterDeco(et),this.node=_e,this.innerDeco=tt,this.contentDOM&&this.updateChildren(nt,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(_e){if(sameOuterDeco(_e,this.outerDeco))return;let et=this.nodeDOM.nodeType!=1,tt=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,et),computeOuterDeco(_e,this.node,et)),this.dom!=tt&&(tt.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=_e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc($,_e,et,tt,nt){applyOuterDeco(tt,_e,$);let rt=new NodeViewDesc(void 0,$,_e,et,tt,tt,tt,nt,0);return rt.contentDOM&&rt.updateChildren(nt,0),rt}class TextViewDesc extends NodeViewDesc{constructor(_e,et,tt,nt,rt,it,ot){super(_e,et,tt,nt,rt,null,it,ot,0)}parseRule(){let _e=this.nodeDOM.parentNode;for(;_e&&_e!=this.dom&&!_e.pmIsDeco;)_e=_e.parentNode;return{skip:_e||!0}}update(_e,et,tt,nt){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!_e.sameMarkup(this.node)?!1:(this.updateOuterDeco(et),(this.dirty!=NOT_DIRTY||_e.text!=this.node.text)&&_e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=_e.text,nt.trackWrites==this.nodeDOM&&(nt.trackWrites=null)),this.node=_e,this.dirty=NOT_DIRTY,!0)}inParent(){let _e=this.parent.contentDOM;for(let et=this.nodeDOM;et;et=et.parentNode)if(et==_e)return!0;return!1}domFromPos(_e){return{node:this.nodeDOM,offset:_e}}localPosFromDOM(_e,et,tt){return _e==this.nodeDOM?this.posAtStart+Math.min(et,this.node.text.length):super.localPosFromDOM(_e,et,tt)}ignoreMutation(_e){return _e.type!="characterData"&&_e.type!="selection"}slice(_e,et,tt){let nt=this.node.cut(_e,et),rt=document.createTextNode(nt.text);return new TextViewDesc(this.parent,nt,this.outerDeco,this.innerDeco,rt,rt,tt)}markDirty(_e,et){super.markDirty(_e,et),this.dom!=this.nodeDOM&&(_e==0||et==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(_e){return this.node.text==_e}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(_e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==_e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(_e,et,tt,nt,rt,it,ot,at,st,lt){super(_e,et,tt,nt,rt,it,ot,st,lt),this.spec=at}update(_e,et,tt,nt){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==_e.type||this.spec.multiType)){let rt=this.spec.update(_e,et,tt);return rt&&this.updateInner(_e,et,tt,nt),rt}else return!this.contentDOM&&!_e.isLeaf?!1:super.update(_e,et,tt,nt)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(_e,et,tt,nt){this.spec.setSelection?this.spec.setSelection(_e,et,tt.root):super.setSelection(_e,et,tt,nt)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(_e){return this.spec.stopEvent?this.spec.stopEvent(_e):!1}ignoreMutation(_e){return this.spec.ignoreMutation?this.spec.ignoreMutation(_e):super.ignoreMutation(_e)}}function renderDescs($,_e,et){let tt=$.firstChild,nt=!1;for(let rt=0;rt<_e.length;rt++){let it=_e[rt],ot=it.dom;if(ot.parentNode==$){for(;ot!=tt;)tt=rm(tt),nt=!0;tt=tt.nextSibling}else nt=!0,$.insertBefore(ot,tt);if(it instanceof MarkViewDesc){let at=tt?tt.previousSibling:$.lastChild;renderDescs(it.contentDOM,it.children,et),tt=at?at.nextSibling:$.firstChild}}for(;tt;)tt=rm(tt),nt=!0;nt&&et.trackWrites==$&&(et.trackWrites=null)}const OuterDecoLevel=function($){$&&(this.nodeName=$)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco($,_e,et){if($.length==0)return noDeco;let tt=et?noDeco[0]:new OuterDecoLevel,nt=[tt];for(let rt=0;rt<$.length;rt++){let it=$[rt].type.attrs;if(it){it.nodeName&&nt.push(tt=new OuterDecoLevel(it.nodeName));for(let ot in it){let at=it[ot];at!=null&&(et&&nt.length==1&&nt.push(tt=new OuterDecoLevel(_e.isInline?"span":"div")),ot=="class"?tt.class=(tt.class?tt.class+" ":"")+at:ot=="style"?tt.style=(tt.style?tt.style+";":"")+at:ot!="nodeName"&&(tt[ot]=at))}}}return nt}function patchOuterDeco($,_e,et,tt){if(et==noDeco&&tt==noDeco)return _e;let nt=_e;for(let rt=0;rt<tt.length;rt++){let it=tt[rt],ot=et[rt];if(rt){let at;ot&&ot.nodeName==it.nodeName&&nt!=$&&(at=nt.parentNode)&&at.nodeName.toLowerCase()==it.nodeName||(at=document.createElement(it.nodeName),at.pmIsDeco=!0,at.appendChild(nt),ot=noDeco[0]),nt=at}patchAttributes(nt,ot||noDeco[0],it)}return nt}function patchAttributes($,_e,et){for(let tt in _e)tt!="class"&&tt!="style"&&tt!="nodeName"&&!(tt in et)&&$.removeAttribute(tt);for(let tt in et)tt!="class"&&tt!="style"&&tt!="nodeName"&&et[tt]!=_e[tt]&&$.setAttribute(tt,et[tt]);if(_e.class!=et.class){let tt=_e.class?_e.class.split(" ").filter(Boolean):[],nt=et.class?et.class.split(" ").filter(Boolean):[];for(let rt=0;rt<tt.length;rt++)nt.indexOf(tt[rt])==-1&&$.classList.remove(tt[rt]);for(let rt=0;rt<nt.length;rt++)tt.indexOf(nt[rt])==-1&&$.classList.add(nt[rt]);$.classList.length==0&&$.removeAttribute("class")}if(_e.style!=et.style){if(_e.style){let tt=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,nt;for(;nt=tt.exec(_e.style);)$.style.removeProperty(nt[1])}et.style&&($.style.cssText+=et.style)}}function applyOuterDeco($,_e,et){return patchOuterDeco($,$,noDeco,computeOuterDeco(_e,et,$.nodeType!=1))}function sameOuterDeco($,_e){if($.length!=_e.length)return!1;for(let et=0;et<$.length;et++)if(!$[et].type.eq(_e[et].type))return!1;return!0}function rm($){let _e=$.nextSibling;return $.parentNode.removeChild($),_e}class ViewTreeUpdater{constructor(_e,et,tt){this.lock=et,this.view=tt,this.index=0,this.stack=[],this.changed=!1,this.top=_e,this.preMatch=preMatch(_e.node.content,_e)}destroyBetween(_e,et){if(_e!=et){for(let tt=_e;tt<et;tt++)this.top.children[tt].destroy();this.top.children.splice(_e,et-_e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(_e,et,tt,nt){let rt=0,it=this.stack.length>>1,ot=Math.min(it,_e.length);for(;rt<ot&&(rt==it-1?this.top:this.stack[rt+1<<1]).matchesMark(_e[rt])&&_e[rt].type.spec.spanning!==!1;)rt++;for(;rt<it;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),it--;for(;it<_e.length;){this.stack.push(this.top,this.index+1);let at=-1,st=this.top.children.length;nt<this.preMatch.index&&(st=Math.min(this.index+3,st));for(let lt=this.index;lt<st;lt++){let ct=this.top.children[lt];if(ct.matchesMark(_e[it])&&!this.isLocked(ct.dom)){at=lt;break}}if(at>-1)at>this.index&&(this.changed=!0,this.destroyBetween(this.index,at)),this.top=this.top.children[this.index];else{let lt=MarkViewDesc.create(this.top,_e[it],et,tt);this.top.children.splice(this.index,0,lt),this.top=lt,this.changed=!0}this.index=0,it++}}findNodeMatch(_e,et,tt,nt){let rt=-1,it;if(nt>=this.preMatch.index&&(it=this.preMatch.matches[nt-this.preMatch.index]).parent==this.top&&it.matchesNode(_e,et,tt))rt=this.top.children.indexOf(it,this.index);else for(let ot=this.index,at=Math.min(this.top.children.length,ot+5);ot<at;ot++){let st=this.top.children[ot];if(st.matchesNode(_e,et,tt)&&!this.preMatch.matched.has(st)){rt=ot;break}}return rt<0?!1:(this.destroyBetween(this.index,rt),this.index++,!0)}updateNodeAt(_e,et,tt,nt,rt){let it=this.top.children[nt];return it.dirty==NODE_DIRTY&&it.dom==it.contentDOM&&(it.dirty=CONTENT_DIRTY),it.update(_e,et,tt,rt)?(this.destroyBetween(this.index,nt),this.index++,!0):!1}findIndexWithChild(_e){for(;;){let et=_e.parentNode;if(!et)return-1;if(et==this.top.contentDOM){let tt=_e.pmViewDesc;if(tt){for(let nt=this.index;nt<this.top.children.length;nt++)if(this.top.children[nt]==tt)return nt}return-1}_e=et}}updateNextNode(_e,et,tt,nt,rt,it){for(let ot=this.index;ot<this.top.children.length;ot++){let at=this.top.children[ot];if(at instanceof NodeViewDesc){let st=this.preMatch.matched.get(at);if(st!=null&&st!=rt)return!1;let lt=at.dom,ct,ut=this.isLocked(lt)&&!(_e.isText&&at.node&&at.node.isText&&at.nodeDOM.nodeValue==_e.text&&at.dirty!=NODE_DIRTY&&sameOuterDeco(et,at.outerDeco));if(!ut&&at.update(_e,et,tt,nt))return this.destroyBetween(this.index,ot),at.dom!=lt&&(this.changed=!0),this.index++,!0;if(!ut&&(ct=this.recreateWrapper(at,_e,et,tt,nt,it)))return this.destroyBetween(this.index,ot),this.top.children[this.index]=ct,ct.contentDOM&&(ct.dirty=CONTENT_DIRTY,ct.updateChildren(nt,it+1),ct.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(_e,et,tt,nt,rt,it){if(_e.dirty||et.isAtom||!_e.children.length||!_e.node.content.eq(et.content)||!sameOuterDeco(tt,_e.outerDeco)||!nt.eq(_e.innerDeco))return null;let ot=NodeViewDesc.create(this.top,et,tt,nt,rt,it);if(ot.contentDOM){ot.children=_e.children,_e.children=[];for(let at of ot.children)at.parent=ot}return _e.destroy(),ot}addNode(_e,et,tt,nt,rt){let it=NodeViewDesc.create(this.top,_e,et,tt,nt,rt);it.contentDOM&&it.updateChildren(nt,rt+1),this.top.children.splice(this.index++,0,it),this.changed=!0}placeWidget(_e,et,tt){let nt=this.index<this.top.children.length?this.top.children[this.index]:null;if(nt&&nt.matchesWidget(_e)&&(_e==nt.widget||!nt.widget.type.toDOM.parentNode))this.index++;else{let rt=new WidgetViewDesc(this.top,_e,et,tt);this.top.children.splice(this.index++,0,rt),this.changed=!0}}addTextblockHacks(){let _e=this.top.children[this.index-1],et=this.top;for(;_e instanceof MarkViewDesc;)et=_e,_e=et.children[et.children.length-1];(!_e||!(_e instanceof TextViewDesc)||/\n$/.test(_e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(_e.node.text))&&((safari||chrome)&&_e&&_e.dom.contentEditable=="false"&&this.addHackNode("IMG",et),this.addHackNode("BR",this.top))}addHackNode(_e,et){if(et==this.top&&this.index<et.children.length&&et.children[this.index].matchesHack(_e))this.index++;else{let tt=document.createElement(_e);_e=="IMG"&&(tt.className="ProseMirror-separator",tt.alt=""),_e=="BR"&&(tt.className="ProseMirror-trailingBreak");let nt=new TrailingHackViewDesc(this.top,[],tt,null);et!=this.top?et.children.push(nt):et.children.splice(this.index++,0,nt),this.changed=!0}}isLocked(_e){return this.lock&&(_e==this.lock||_e.nodeType==1&&_e.contains(this.lock.parentNode))}}function preMatch($,_e){let et=_e,tt=et.children.length,nt=$.childCount,rt=new Map,it=[];e:for(;nt>0;){let ot;for(;;)if(tt){let st=et.children[tt-1];if(st instanceof MarkViewDesc)et=st,tt=st.children.length;else{ot=st,tt--;break}}else{if(et==_e)break e;tt=et.parent.children.indexOf(et),et=et.parent}let at=ot.node;if(at){if(at!=$.child(nt-1))break;--nt,rt.set(ot,nt),it.push(ot)}}return{index:nt,matched:rt,matches:it.reverse()}}function compareSide($,_e){return $.type.side-_e.type.side}function iterDeco($,_e,et,tt){let nt=_e.locals($),rt=0;if(nt.length==0){for(let st=0;st<$.childCount;st++){let lt=$.child(st);tt(lt,nt,_e.forChild(rt,lt),st),rt+=lt.nodeSize}return}let it=0,ot=[],at=null;for(let st=0;;){let lt,ct;for(;it<nt.length&&nt[it].to==rt;){let mt=nt[it++];mt.widget&&(lt?(ct||(ct=[lt])).push(mt):lt=mt)}if(lt)if(ct){ct.sort(compareSide);for(let mt=0;mt<ct.length;mt++)et(ct[mt],st,!!at)}else et(lt,st,!!at);let ut,dt;if(at)dt=-1,ut=at,at=null;else if(st<$.childCount)dt=st,ut=$.child(st++);else break;for(let mt=0;mt<ot.length;mt++)ot[mt].to<=rt&&ot.splice(mt--,1);for(;it<nt.length&&nt[it].from<=rt&&nt[it].to>rt;)ot.push(nt[it++]);let ft=rt+ut.nodeSize;if(ut.isText){let mt=ft;it<nt.length&&nt[it].from<mt&&(mt=nt[it].from);for(let ht=0;ht<ot.length;ht++)ot[ht].to<mt&&(mt=ot[ht].to);mt<ft&&(at=ut.cut(mt-rt),ut=ut.cut(0,mt-rt),ft=mt,dt=-1)}else for(;it<nt.length&&nt[it].to<ft;)it++;let pt=ut.isInline&&!ut.isLeaf?ot.filter(mt=>!mt.inline):ot.slice();tt(ut,pt,_e.forChild(rt,ut),dt),rt=ft}}function iosHacks($){if($.nodeName=="UL"||$.nodeName=="OL"){let _e=$.style.cssText;$.style.cssText=_e+"; list-style: square !important",window.getComputedStyle($).listStyle,$.style.cssText=_e}}function findTextInFragment($,_e,et,tt){for(let nt=0,rt=0;nt<$.childCount&&rt<=tt;){let it=$.child(nt++),ot=rt;if(rt+=it.nodeSize,!it.isText)continue;let at=it.text;for(;nt<$.childCount;){let st=$.child(nt++);if(rt+=st.nodeSize,!st.isText)break;at+=st.text}if(rt>=et){if(rt>=tt&&at.slice(tt-_e.length-ot,tt-ot)==_e)return tt-_e.length;let st=ot<tt?at.lastIndexOf(_e,tt-ot-1):-1;if(st>=0&&st+_e.length+ot>=et)return ot+st;if(et==tt&&at.length>=tt+_e.length-ot&&at.slice(tt-ot,tt-ot+_e.length)==_e)return tt}}return-1}function replaceNodes($,_e,et,tt,nt){let rt=[];for(let it=0,ot=0;it<$.length;it++){let at=$[it],st=ot,lt=ot+=at.size;st>=et||lt<=_e?rt.push(at):(st<_e&&rt.push(at.slice(0,_e-st,tt)),nt&&(rt.push(nt),nt=void 0),lt>et&&rt.push(at.slice(et-st,at.size,tt)))}return rt}function selectionFromDOM($,_e=null){let et=$.domSelectionRange(),tt=$.state.doc;if(!et.focusNode)return null;let nt=$.docView.nearestDesc(et.focusNode),rt=nt&&nt.size==0,it=$.docView.posFromDOM(et.focusNode,et.focusOffset,1);if(it<0)return null;let ot=tt.resolve(it),at,st;if(selectionCollapsed(et)){for(at=it;nt&&!nt.node;)nt=nt.parent;let ct=nt.node;if(nt&&ct.isAtom&&NodeSelection.isSelectable(ct)&&nt.parent&&!(ct.isInline&&isOnEdge(et.focusNode,et.focusOffset,nt.dom))){let ut=nt.posBefore;st=new NodeSelection(it==ut?ot:tt.resolve(ut))}}else{if(et instanceof $.dom.ownerDocument.defaultView.Selection&&et.rangeCount>1){let ct=it,ut=it;for(let dt=0;dt<et.rangeCount;dt++){let ft=et.getRangeAt(dt);ct=Math.min(ct,$.docView.posFromDOM(ft.startContainer,ft.startOffset,1)),ut=Math.max(ut,$.docView.posFromDOM(ft.endContainer,ft.endOffset,-1))}if(ct<0)return null;[at,it]=ut==$.state.selection.anchor?[ut,ct]:[ct,ut],ot=tt.resolve(it)}else at=$.docView.posFromDOM(et.anchorNode,et.anchorOffset,1);if(at<0)return null}let lt=tt.resolve(at);if(!st){let ct=_e=="pointer"||$.state.selection.head<ot.pos&&!rt?1:-1;st=selectionBetween($,lt,ot,ct)}return st}function editorOwnsSelection($){return $.editable?$.hasFocus():hasSelection($)&&document.activeElement&&document.activeElement.contains($.dom)}function selectionToDOM($,_e=!1){let et=$.state.selection;if(syncNodeSelection($,et),!!editorOwnsSelection($)){if(!_e&&$.input.mouseDown&&$.input.mouseDown.allowDefault&&chrome){let tt=$.domSelectionRange(),nt=$.domObserver.currentSelection;if(tt.anchorNode&&nt.anchorNode&&isEquivalentPosition(tt.anchorNode,tt.anchorOffset,nt.anchorNode,nt.anchorOffset)){$.input.mouseDown.delayedSelectionSync=!0,$.domObserver.setCurSelection();return}}if($.domObserver.disconnectSelection(),$.cursorWrapper)selectCursorWrapper($);else{let{anchor:tt,head:nt}=et,rt,it;brokenSelectBetweenUneditable&&!(et instanceof TextSelection)&&(et.$from.parent.inlineContent||(rt=temporarilyEditableNear($,et.from)),!et.empty&&!et.$from.parent.inlineContent&&(it=temporarilyEditableNear($,et.to))),$.docView.setSelection(tt,nt,$,_e),brokenSelectBetweenUneditable&&(rt&&resetEditable(rt),it&&resetEditable(it)),et.visible?$.dom.classList.remove("ProseMirror-hideselection"):($.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange($))}$.domObserver.setCurSelection(),$.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear($,_e){let{node:et,offset:tt}=$.docView.domFromPos(_e,0),nt=tt<et.childNodes.length?et.childNodes[tt]:null,rt=tt?et.childNodes[tt-1]:null;if(safari&&nt&&nt.contentEditable=="false")return setEditable(nt);if((!nt||nt.contentEditable=="false")&&(!rt||rt.contentEditable=="false")){if(nt)return setEditable(nt);if(rt)return setEditable(rt)}}function setEditable($){return $.contentEditable="true",safari&&$.draggable&&($.draggable=!1,$.wasDraggable=!0),$}function resetEditable($){$.contentEditable="false",$.wasDraggable&&($.draggable=!0,$.wasDraggable=null)}function removeClassOnSelectionChange($){let _e=$.dom.ownerDocument;_e.removeEventListener("selectionchange",$.input.hideSelectionGuard);let et=$.domSelectionRange(),tt=et.anchorNode,nt=et.anchorOffset;_e.addEventListener("selectionchange",$.input.hideSelectionGuard=()=>{(et.anchorNode!=tt||et.anchorOffset!=nt)&&(_e.removeEventListener("selectionchange",$.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection($)||$.state.selection.visible)&&$.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper($){let _e=$.domSelection();if(!_e)return;let et=$.cursorWrapper.dom,tt=et.nodeName=="IMG";tt?_e.collapse(et.parentNode,domIndex(et)+1):_e.collapse(et,0),!tt&&!$.state.selection.visible&&ie$1&&ie_version<=11&&(et.disabled=!0,et.disabled=!1)}function syncNodeSelection($,_e){if(_e instanceof NodeSelection){let et=$.docView.descAt(_e.from);et!=$.lastSelectedViewDesc&&(clearNodeSelection($),et&&et.selectNode(),$.lastSelectedViewDesc=et)}else clearNodeSelection($)}function clearNodeSelection($){$.lastSelectedViewDesc&&($.lastSelectedViewDesc.parent&&$.lastSelectedViewDesc.deselectNode(),$.lastSelectedViewDesc=void 0)}function selectionBetween($,_e,et,tt){return $.someProp("createSelectionBetween",nt=>nt($,_e,et))||TextSelection.between(_e,et,tt)}function hasFocusAndSelection($){return $.editable&&!$.hasFocus()?!1:hasSelection($)}function hasSelection($){let _e=$.domSelectionRange();if(!_e.anchorNode)return!1;try{return $.dom.contains(_e.anchorNode.nodeType==3?_e.anchorNode.parentNode:_e.anchorNode)&&($.editable||$.dom.contains(_e.focusNode.nodeType==3?_e.focusNode.parentNode:_e.focusNode))}catch{return!1}}function anchorInRightPlace($){let _e=$.docView.domFromPos($.state.selection.anchor,0),et=$.domSelectionRange();return isEquivalentPosition(_e.node,_e.offset,et.anchorNode,et.anchorOffset)}function moveSelectionBlock($,_e){let{$anchor:et,$head:tt}=$.selection,nt=_e>0?et.max(tt):et.min(tt),rt=nt.parent.inlineContent?nt.depth?$.doc.resolve(_e>0?nt.after():nt.before()):null:nt;return rt&&Selection.findFrom(rt,_e)}function apply$2($,_e){return $.dispatch($.state.tr.setSelection(_e).scrollIntoView()),!0}function selectHorizontally($,_e,et){let tt=$.state.selection;if(tt instanceof TextSelection)if(et.indexOf("s")>-1){let{$head:nt}=tt,rt=nt.textOffset?null:_e<0?nt.nodeBefore:nt.nodeAfter;if(!rt||rt.isText||!rt.isLeaf)return!1;let it=$.state.doc.resolve(nt.pos+rt.nodeSize*(_e<0?-1:1));return apply$2($,new TextSelection(tt.$anchor,it))}else if(tt.empty){if($.endOfTextblock(_e>0?"forward":"backward")){let nt=moveSelectionBlock($.state,_e);return nt&&nt instanceof NodeSelection?apply$2($,nt):!1}else if(!(mac$2&&et.indexOf("m")>-1)){let nt=tt.$head,rt=nt.textOffset?null:_e<0?nt.nodeBefore:nt.nodeAfter,it;if(!rt||rt.isText)return!1;let ot=_e<0?nt.pos-rt.nodeSize:nt.pos;return rt.isAtom||(it=$.docView.descAt(ot))&&!it.contentDOM?NodeSelection.isSelectable(rt)?apply$2($,new NodeSelection(_e<0?$.state.doc.resolve(nt.pos-rt.nodeSize):nt)):webkit?apply$2($,new TextSelection($.state.doc.resolve(_e<0?ot:ot+rt.nodeSize))):!1:!1}}else return!1;else{if(tt instanceof NodeSelection&&tt.node.isInline)return apply$2($,new TextSelection(_e>0?tt.$to:tt.$from));{let nt=moveSelectionBlock($.state,_e);return nt?apply$2($,nt):!1}}}function nodeLen($){return $.nodeType==3?$.nodeValue.length:$.childNodes.length}function isIgnorable($,_e){let et=$.pmViewDesc;return et&&et.size==0&&(_e<0||$.nextSibling||$.nodeName!="BR")}function skipIgnoredNodes($,_e){return _e<0?skipIgnoredNodesBefore($):skipIgnoredNodesAfter($)}function skipIgnoredNodesBefore($){let _e=$.domSelectionRange(),et=_e.focusNode,tt=_e.focusOffset;if(!et)return;let nt,rt,it=!1;for(gecko&&et.nodeType==1&&tt<nodeLen(et)&&isIgnorable(et.childNodes[tt],-1)&&(it=!0);;)if(tt>0){if(et.nodeType!=1)break;{let ot=et.childNodes[tt-1];if(isIgnorable(ot,-1))nt=et,rt=--tt;else if(ot.nodeType==3)et=ot,tt=et.nodeValue.length;else break}}else{if(isBlockNode(et))break;{let ot=et.previousSibling;for(;ot&&isIgnorable(ot,-1);)nt=et.parentNode,rt=domIndex(ot),ot=ot.previousSibling;if(ot)et=ot,tt=nodeLen(et);else{if(et=et.parentNode,et==$.dom)break;tt=0}}}it?setSelFocus($,et,tt):nt&&setSelFocus($,nt,rt)}function skipIgnoredNodesAfter($){let _e=$.domSelectionRange(),et=_e.focusNode,tt=_e.focusOffset;if(!et)return;let nt=nodeLen(et),rt,it;for(;;)if(tt<nt){if(et.nodeType!=1)break;let ot=et.childNodes[tt];if(isIgnorable(ot,1))rt=et,it=++tt;else break}else{if(isBlockNode(et))break;{let ot=et.nextSibling;for(;ot&&isIgnorable(ot,1);)rt=ot.parentNode,it=domIndex(ot)+1,ot=ot.nextSibling;if(ot)et=ot,tt=0,nt=nodeLen(et);else{if(et=et.parentNode,et==$.dom)break;tt=nt=0}}}rt&&setSelFocus($,rt,it)}function isBlockNode($){let _e=$.pmViewDesc;return _e&&_e.node&&_e.node.isBlock}function textNodeAfter($,_e){for(;$&&_e==$.childNodes.length&&!hasBlockDesc($);)_e=domIndex($)+1,$=$.parentNode;for(;$&&_e<$.childNodes.length;){let et=$.childNodes[_e];if(et.nodeType==3)return et;if(et.nodeType==1&&et.contentEditable=="false")break;$=et,_e=0}}function textNodeBefore($,_e){for(;$&&!_e&&!hasBlockDesc($);)_e=domIndex($),$=$.parentNode;for(;$&&_e;){let et=$.childNodes[_e-1];if(et.nodeType==3)return et;if(et.nodeType==1&&et.contentEditable=="false")break;$=et,_e=$.childNodes.length}}function setSelFocus($,_e,et){if(_e.nodeType!=3){let rt,it;(it=textNodeAfter(_e,et))?(_e=it,et=0):(rt=textNodeBefore(_e,et))&&(_e=rt,et=rt.nodeValue.length)}let tt=$.domSelection();if(!tt)return;if(selectionCollapsed(tt)){let rt=document.createRange();rt.setEnd(_e,et),rt.setStart(_e,et),tt.removeAllRanges(),tt.addRange(rt)}else tt.extend&&tt.extend(_e,et);$.domObserver.setCurSelection();let{state:nt}=$;setTimeout(()=>{$.state==nt&&selectionToDOM($)},50)}function findDirection($,_e){let et=$.state.doc.resolve(_e);if(!(chrome||windows$1)&&et.parent.inlineContent){let nt=$.coordsAtPos(_e);if(_e>et.start()){let rt=$.coordsAtPos(_e-1),it=(rt.top+rt.bottom)/2;if(it>nt.top&&it<nt.bottom&&Math.abs(rt.left-nt.left)>1)return rt.left<nt.left?"ltr":"rtl"}if(_e<et.end()){let rt=$.coordsAtPos(_e+1),it=(rt.top+rt.bottom)/2;if(it>nt.top&&it<nt.bottom&&Math.abs(rt.left-nt.left)>1)return rt.left>nt.left?"ltr":"rtl"}}return getComputedStyle($.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically($,_e,et){let tt=$.state.selection;if(tt instanceof TextSelection&&!tt.empty||et.indexOf("s")>-1||mac$2&&et.indexOf("m")>-1)return!1;let{$from:nt,$to:rt}=tt;if(!nt.parent.inlineContent||$.endOfTextblock(_e<0?"up":"down")){let it=moveSelectionBlock($.state,_e);if(it&&it instanceof NodeSelection)return apply$2($,it)}if(!nt.parent.inlineContent){let it=_e<0?nt:rt,ot=tt instanceof AllSelection?Selection.near(it,_e):Selection.findFrom(it,_e);return ot?apply$2($,ot):!1}return!1}function stopNativeHorizontalDelete($,_e){if(!($.state.selection instanceof TextSelection))return!0;let{$head:et,$anchor:tt,empty:nt}=$.state.selection;if(!et.sameParent(tt))return!0;if(!nt)return!1;if($.endOfTextblock(_e>0?"forward":"backward"))return!0;let rt=!et.textOffset&&(_e<0?et.nodeBefore:et.nodeAfter);if(rt&&!rt.isText){let it=$.state.tr;return _e<0?it.delete(et.pos-rt.nodeSize,et.pos):it.delete(et.pos,et.pos+rt.nodeSize),$.dispatch(it),!0}return!1}function switchEditable($,_e,et){$.domObserver.stop(),_e.contentEditable=et,$.domObserver.start()}function safariDownArrowBug($){if(!safari||$.state.selection.$head.parentOffset>0)return!1;let{focusNode:_e,focusOffset:et}=$.domSelectionRange();if(_e&&_e.nodeType==1&&et==0&&_e.firstChild&&_e.firstChild.contentEditable=="false"){let tt=_e.firstChild;switchEditable($,tt,"true"),setTimeout(()=>switchEditable($,tt,"false"),20)}return!1}function getMods($){let _e="";return $.ctrlKey&&(_e+="c"),$.metaKey&&(_e+="m"),$.altKey&&(_e+="a"),$.shiftKey&&(_e+="s"),_e}function captureKeyDown($,_e){let et=_e.keyCode,tt=getMods(_e);if(et==8||mac$2&&et==72&&tt=="c")return stopNativeHorizontalDelete($,-1)||skipIgnoredNodes($,-1);if(et==46&&!_e.shiftKey||mac$2&&et==68&&tt=="c")return stopNativeHorizontalDelete($,1)||skipIgnoredNodes($,1);if(et==13||et==27)return!0;if(et==37||mac$2&&et==66&&tt=="c"){let nt=et==37?findDirection($,$.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally($,nt,tt)||skipIgnoredNodes($,nt)}else if(et==39||mac$2&&et==70&&tt=="c"){let nt=et==39?findDirection($,$.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally($,nt,tt)||skipIgnoredNodes($,nt)}else{if(et==38||mac$2&&et==80&&tt=="c")return selectVertically($,-1,tt)||skipIgnoredNodes($,-1);if(et==40||mac$2&&et==78&&tt=="c")return safariDownArrowBug($)||selectVertically($,1,tt)||skipIgnoredNodes($,1);if(tt==(mac$2?"m":"c")&&(et==66||et==73||et==89||et==90))return!0}return!1}function serializeForClipboard($,_e){$.someProp("transformCopied",dt=>{_e=dt(_e,$)});let et=[],{content:tt,openStart:nt,openEnd:rt}=_e;for(;nt>1&&rt>1&&tt.childCount==1&&tt.firstChild.childCount==1;){nt--,rt--;let dt=tt.firstChild;et.push(dt.type.name,dt.attrs!=dt.type.defaultAttrs?dt.attrs:null),tt=dt.content}let it=$.someProp("clipboardSerializer")||DOMSerializer.fromSchema($.state.schema),ot=detachedDoc(),at=ot.createElement("div");at.appendChild(it.serializeFragment(tt,{document:ot}));let st=at.firstChild,lt,ct=0;for(;st&&st.nodeType==1&&(lt=wrapMap[st.nodeName.toLowerCase()]);){for(let dt=lt.length-1;dt>=0;dt--){let ft=ot.createElement(lt[dt]);for(;at.firstChild;)ft.appendChild(at.firstChild);at.appendChild(ft),ct++}st=at.firstChild}st&&st.nodeType==1&&st.setAttribute("data-pm-slice",`${nt} ${rt}${ct?` -${ct}`:""} ${JSON.stringify(et)}`);let ut=$.someProp("clipboardTextSerializer",dt=>dt(_e,$))||_e.content.textBetween(0,_e.content.size,`

`);return{dom:at,text:ut,slice:_e}}function parseFromClipboard($,_e,et,tt,nt){let rt=nt.parent.type.spec.code,it,ot;if(!et&&!_e)return null;let at=!!_e&&(tt||rt||!et);if(at){if($.someProp("transformPastedText",ut=>{_e=ut(_e,rt||tt,$)}),rt)return ot=new Slice(Fragment.from($.state.schema.text(_e.replace(/\r\n?/g,`
`))),0,0),$.someProp("transformPasted",ut=>{ot=ut(ot,$,!0)}),ot;let ct=$.someProp("clipboardTextParser",ut=>ut(_e,nt,tt,$));if(ct)ot=ct;else{let ut=nt.marks(),{schema:dt}=$.state,ft=DOMSerializer.fromSchema(dt);it=document.createElement("div"),_e.split(/(?:\r\n?|\n)+/).forEach(pt=>{let mt=it.appendChild(document.createElement("p"));pt&&mt.appendChild(ft.serializeNode(dt.text(pt,ut)))})}}else $.someProp("transformPastedHTML",ct=>{et=ct(et,$)}),it=readHTML(et),webkit&&restoreReplacedSpaces(it);let st=it&&it.querySelector("[data-pm-slice]"),lt=st&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(st.getAttribute("data-pm-slice")||"");if(lt&&lt[3])for(let ct=+lt[3];ct>0;ct--){let ut=it.firstChild;for(;ut&&ut.nodeType!=1;)ut=ut.nextSibling;if(!ut)break;it=ut}if(ot||(ot=($.someProp("clipboardParser")||$.someProp("domParser")||DOMParser.fromSchema($.state.schema)).parseSlice(it,{preserveWhitespace:!!(at||lt),context:nt,ruleFromNode(ut){return ut.nodeName=="BR"&&!ut.nextSibling&&ut.parentNode&&!inlineParents.test(ut.parentNode.nodeName)?{ignore:!0}:null}})),lt)ot=addContext(closeSlice(ot,+lt[1],+lt[2]),lt[4]);else if(ot=Slice.maxOpen(normalizeSiblings(ot.content,nt),!0),ot.openStart||ot.openEnd){let ct=0,ut=0;for(let dt=ot.content.firstChild;ct<ot.openStart&&!dt.type.spec.isolating;ct++,dt=dt.firstChild);for(let dt=ot.content.lastChild;ut<ot.openEnd&&!dt.type.spec.isolating;ut++,dt=dt.lastChild);ot=closeSlice(ot,ct,ut)}return $.someProp("transformPasted",ct=>{ot=ct(ot,$,at)}),ot}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings($,_e){if($.childCount<2)return $;for(let et=_e.depth;et>=0;et--){let nt=_e.node(et).contentMatchAt(_e.index(et)),rt,it=[];if($.forEach(ot=>{if(!it)return;let at=nt.findWrapping(ot.type),st;if(!at)return it=null;if(st=it.length&&rt.length&&addToSibling(at,rt,ot,it[it.length-1],0))it[it.length-1]=st;else{it.length&&(it[it.length-1]=closeRight(it[it.length-1],rt.length));let lt=withWrappers(ot,at);it.push(lt),nt=nt.matchType(lt.type),rt=at}}),it)return Fragment.from(it)}return $}function withWrappers($,_e,et=0){for(let tt=_e.length-1;tt>=et;tt--)$=_e[tt].create(null,Fragment.from($));return $}function addToSibling($,_e,et,tt,nt){if(nt<$.length&&nt<_e.length&&$[nt]==_e[nt]){let rt=addToSibling($,_e,et,tt.lastChild,nt+1);if(rt)return tt.copy(tt.content.replaceChild(tt.childCount-1,rt));if(tt.contentMatchAt(tt.childCount).matchType(nt==$.length-1?et.type:$[nt+1]))return tt.copy(tt.content.append(Fragment.from(withWrappers(et,$,nt+1))))}}function closeRight($,_e){if(_e==0)return $;let et=$.content.replaceChild($.childCount-1,closeRight($.lastChild,_e-1)),tt=$.contentMatchAt($.childCount).fillBefore(Fragment.empty,!0);return $.copy(et.append(tt))}function closeRange($,_e,et,tt,nt,rt){let it=_e<0?$.firstChild:$.lastChild,ot=it.content;return $.childCount>1&&(rt=0),nt<tt-1&&(ot=closeRange(ot,_e,et,tt,nt+1,rt)),nt>=et&&(ot=_e<0?it.contentMatchAt(0).fillBefore(ot,rt<=nt).append(ot):ot.append(it.contentMatchAt(it.childCount).fillBefore(Fragment.empty,!0))),$.replaceChild(_e<0?0:$.childCount-1,it.copy(ot))}function closeSlice($,_e,et){return _e<$.openStart&&($=new Slice(closeRange($.content,-1,_e,$.openStart,0,$.openEnd),_e,$.openEnd)),et<$.openEnd&&($=new Slice(closeRange($.content,1,et,$.openEnd,0,0),$.openStart,et)),$}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted($){let _e=window.trustedTypes;return _e?(_policy||(_policy=_e.defaultPolicy||_e.createPolicy("ProseMirrorClipboard",{createHTML:et=>et})),_policy.createHTML($)):$}function readHTML($){let _e=/^(\s*<meta [^>]*>)*/.exec($);_e&&($=$.slice(_e[0].length));let et=detachedDoc().createElement("div"),tt=/<([a-z][^>\s]+)/i.exec($),nt;if((nt=tt&&wrapMap[tt[1].toLowerCase()])&&($=nt.map(rt=>"<"+rt+">").join("")+$+nt.map(rt=>"</"+rt+">").reverse().join("")),et.innerHTML=maybeWrapTrusted($),nt)for(let rt=0;rt<nt.length;rt++)et=et.querySelector(nt[rt])||et;return et}function restoreReplacedSpaces($){let _e=$.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let et=0;et<_e.length;et++){let tt=_e[et];tt.childNodes.length==1&&tt.textContent==""&&tt.parentNode&&tt.parentNode.replaceChild($.ownerDocument.createTextNode(" "),tt)}}function addContext($,_e){if(!$.size)return $;let et=$.content.firstChild.type.schema,tt;try{tt=JSON.parse(_e)}catch{return $}let{content:nt,openStart:rt,openEnd:it}=$;for(let ot=tt.length-2;ot>=0;ot-=2){let at=et.nodes[tt[ot]];if(!at||at.hasRequiredAttrs())break;nt=Fragment.from(at.create(tt[ot+1],nt)),rt++,it++}return new Slice(nt,rt,it)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput($){for(let _e in handlers){let et=handlers[_e];$.dom.addEventListener(_e,$.input.eventHandlers[_e]=tt=>{eventBelongsToView($,tt)&&!runCustomHandler($,tt)&&($.editable||!(tt.type in editHandlers))&&et($,tt)},passiveHandlers[_e]?{passive:!0}:void 0)}safari&&$.dom.addEventListener("input",()=>null),ensureListeners($)}function setSelectionOrigin($,_e){$.input.lastSelectionOrigin=_e,$.input.lastSelectionTime=Date.now()}function destroyInput($){$.domObserver.stop();for(let _e in $.input.eventHandlers)$.dom.removeEventListener(_e,$.input.eventHandlers[_e]);clearTimeout($.input.composingTimeout),clearTimeout($.input.lastIOSEnterFallbackTimeout)}function ensureListeners($){$.someProp("handleDOMEvents",_e=>{for(let et in _e)$.input.eventHandlers[et]||$.dom.addEventListener(et,$.input.eventHandlers[et]=tt=>runCustomHandler($,tt))})}function runCustomHandler($,_e){return $.someProp("handleDOMEvents",et=>{let tt=et[_e.type];return tt?tt($,_e)||_e.defaultPrevented:!1})}function eventBelongsToView($,_e){if(!_e.bubbles)return!0;if(_e.defaultPrevented)return!1;for(let et=_e.target;et!=$.dom;et=et.parentNode)if(!et||et.nodeType==11||et.pmViewDesc&&et.pmViewDesc.stopEvent(_e))return!1;return!0}function dispatchEvent($,_e){!runCustomHandler($,_e)&&handlers[_e.type]&&($.editable||!(_e.type in editHandlers))&&handlers[_e.type]($,_e)}editHandlers.keydown=($,_e)=>{let et=_e;if($.input.shiftKey=et.keyCode==16||et.shiftKey,!inOrNearComposition($,et)&&($.input.lastKeyCode=et.keyCode,$.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&et.keyCode==13)))if(et.keyCode!=229&&$.domObserver.forceFlush(),ios&&et.keyCode==13&&!et.ctrlKey&&!et.altKey&&!et.metaKey){let tt=Date.now();$.input.lastIOSEnter=tt,$.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{$.input.lastIOSEnter==tt&&($.someProp("handleKeyDown",nt=>nt($,keyEvent(13,"Enter"))),$.input.lastIOSEnter=0)},200)}else $.someProp("handleKeyDown",tt=>tt($,et))||captureKeyDown($,et)?et.preventDefault():setSelectionOrigin($,"key")};editHandlers.keyup=($,_e)=>{_e.keyCode==16&&($.input.shiftKey=!1)};editHandlers.keypress=($,_e)=>{let et=_e;if(inOrNearComposition($,et)||!et.charCode||et.ctrlKey&&!et.altKey||mac$2&&et.metaKey)return;if($.someProp("handleKeyPress",nt=>nt($,et))){et.preventDefault();return}let tt=$.state.selection;if(!(tt instanceof TextSelection)||!tt.$from.sameParent(tt.$to)){let nt=String.fromCharCode(et.charCode),rt=()=>$.state.tr.insertText(nt).scrollIntoView();!/[\r\n]/.test(nt)&&!$.someProp("handleTextInput",it=>it($,tt.$from.pos,tt.$to.pos,nt,rt))&&$.dispatch(rt()),et.preventDefault()}};function eventCoords($){return{left:$.clientX,top:$.clientY}}function isNear($,_e){let et=_e.x-$.clientX,tt=_e.y-$.clientY;return et*et+tt*tt<100}function runHandlerOnContext($,_e,et,tt,nt){if(tt==-1)return!1;let rt=$.state.doc.resolve(tt);for(let it=rt.depth+1;it>0;it--)if($.someProp(_e,ot=>it>rt.depth?ot($,et,rt.nodeAfter,rt.before(it),nt,!0):ot($,et,rt.node(it),rt.before(it),nt,!1)))return!0;return!1}function updateSelection($,_e,et){if($.focused||$.focus(),$.state.selection.eq(_e))return;let tt=$.state.tr.setSelection(_e);tt.setMeta("pointer",!0),$.dispatch(tt)}function selectClickedLeaf($,_e){if(_e==-1)return!1;let et=$.state.doc.resolve(_e),tt=et.nodeAfter;return tt&&tt.isAtom&&NodeSelection.isSelectable(tt)?(updateSelection($,new NodeSelection(et)),!0):!1}function selectClickedNode($,_e){if(_e==-1)return!1;let et=$.state.selection,tt,nt;et instanceof NodeSelection&&(tt=et.node);let rt=$.state.doc.resolve(_e);for(let it=rt.depth+1;it>0;it--){let ot=it>rt.depth?rt.nodeAfter:rt.node(it);if(NodeSelection.isSelectable(ot)){tt&&et.$from.depth>0&&it>=et.$from.depth&&rt.before(et.$from.depth+1)==et.$from.pos?nt=rt.before(et.$from.depth):nt=rt.before(it);break}}return nt!=null?(updateSelection($,NodeSelection.create($.state.doc,nt)),!0):!1}function handleSingleClick($,_e,et,tt,nt){return runHandlerOnContext($,"handleClickOn",_e,et,tt)||$.someProp("handleClick",rt=>rt($,_e,tt))||(nt?selectClickedNode($,et):selectClickedLeaf($,et))}function handleDoubleClick($,_e,et,tt){return runHandlerOnContext($,"handleDoubleClickOn",_e,et,tt)||$.someProp("handleDoubleClick",nt=>nt($,_e,tt))}function handleTripleClick($,_e,et,tt){return runHandlerOnContext($,"handleTripleClickOn",_e,et,tt)||$.someProp("handleTripleClick",nt=>nt($,_e,tt))||defaultTripleClick($,et,tt)}function defaultTripleClick($,_e,et){if(et.button!=0)return!1;let tt=$.state.doc;if(_e==-1)return tt.inlineContent?(updateSelection($,TextSelection.create(tt,0,tt.content.size)),!0):!1;let nt=tt.resolve(_e);for(let rt=nt.depth+1;rt>0;rt--){let it=rt>nt.depth?nt.nodeAfter:nt.node(rt),ot=nt.before(rt);if(it.inlineContent)updateSelection($,TextSelection.create(tt,ot+1,ot+1+it.content.size));else if(NodeSelection.isSelectable(it))updateSelection($,NodeSelection.create(tt,ot));else continue;return!0}}function forceDOMFlush($){return endComposition($)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=($,_e)=>{let et=_e;$.input.shiftKey=et.shiftKey;let tt=forceDOMFlush($),nt=Date.now(),rt="singleClick";nt-$.input.lastClick.time<500&&isNear(et,$.input.lastClick)&&!et[selectNodeModifier]&&$.input.lastClick.button==et.button&&($.input.lastClick.type=="singleClick"?rt="doubleClick":$.input.lastClick.type=="doubleClick"&&(rt="tripleClick")),$.input.lastClick={time:nt,x:et.clientX,y:et.clientY,type:rt,button:et.button};let it=$.posAtCoords(eventCoords(et));it&&(rt=="singleClick"?($.input.mouseDown&&$.input.mouseDown.done(),$.input.mouseDown=new MouseDown($,it,et,!!tt)):(rt=="doubleClick"?handleDoubleClick:handleTripleClick)($,it.pos,it.inside,et)?et.preventDefault():setSelectionOrigin($,"pointer"))};class MouseDown{constructor(_e,et,tt,nt){this.view=_e,this.pos=et,this.event=tt,this.flushed=nt,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=_e.state.doc,this.selectNode=!!tt[selectNodeModifier],this.allowDefault=tt.shiftKey;let rt,it;if(et.inside>-1)rt=_e.state.doc.nodeAt(et.inside),it=et.inside;else{let lt=_e.state.doc.resolve(et.pos);rt=lt.parent,it=lt.depth?lt.before():0}const ot=nt?null:tt.target,at=ot?_e.docView.nearestDesc(ot,!0):null;this.target=at&&at.nodeDOM.nodeType==1?at.nodeDOM:null;let{selection:st}=_e.state;(tt.button==0&&rt.type.spec.draggable&&rt.type.spec.selectable!==!1||st instanceof NodeSelection&&st.from<=it&&st.to>it)&&(this.mightDrag={node:rt,pos:it,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),_e.root.addEventListener("mouseup",this.up=this.up.bind(this)),_e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(_e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(_e){if(this.done(),!this.view.dom.contains(_e.target))return;let et=this.pos;this.view.state.doc!=this.startDoc&&(et=this.view.posAtCoords(eventCoords(_e))),this.updateAllowDefault(_e),this.allowDefault||!et?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,et.pos,et.inside,_e,this.selectNode)?_e.preventDefault():_e.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(et.pos-this.view.state.selection.from),Math.abs(et.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(et.pos))),_e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(_e){this.updateAllowDefault(_e),setSelectionOrigin(this.view,"pointer"),_e.buttons==0&&this.done()}updateAllowDefault(_e){!this.allowDefault&&(Math.abs(this.event.x-_e.clientX)>4||Math.abs(this.event.y-_e.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=$=>{$.input.lastTouch=Date.now(),forceDOMFlush($),setSelectionOrigin($,"pointer")};handlers.touchmove=$=>{$.input.lastTouch=Date.now(),setSelectionOrigin($,"pointer")};handlers.contextmenu=$=>forceDOMFlush($);function inOrNearComposition($,_e){return $.composing?!0:safari&&Math.abs(_e.timeStamp-$.input.compositionEndedAt)<500?($.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=$=>{if(!$.composing){$.domObserver.flush();let{state:_e}=$,et=_e.selection.$to;if(_e.selection instanceof TextSelection&&(_e.storedMarks||!et.textOffset&&et.parentOffset&&et.nodeBefore.marks.some(tt=>tt.type.spec.inclusive===!1)||chrome&&windows$1&&selectionBeforeUneditable($)))$.markCursor=$.state.storedMarks||et.marks(),endComposition($,!0),$.markCursor=null;else if(endComposition($,!_e.selection.empty),gecko&&_e.selection.empty&&et.parentOffset&&!et.textOffset&&et.nodeBefore.marks.length){let tt=$.domSelectionRange();for(let nt=tt.focusNode,rt=tt.focusOffset;nt&&nt.nodeType==1&&rt!=0;){let it=rt<0?nt.lastChild:nt.childNodes[rt-1];if(!it)break;if(it.nodeType==3){let ot=$.domSelection();ot&&ot.collapse(it,it.nodeValue.length);break}else nt=it,rt=-1}}$.input.composing=!0}scheduleComposeEnd($,timeoutComposition)};function selectionBeforeUneditable($){let{focusNode:_e,focusOffset:et}=$.domSelectionRange();if(!_e||_e.nodeType!=1||et>=_e.childNodes.length)return!1;let tt=_e.childNodes[et];return tt.nodeType==1&&tt.contentEditable=="false"}editHandlers.compositionend=($,_e)=>{$.composing&&($.input.composing=!1,$.input.compositionEndedAt=_e.timeStamp,$.input.compositionPendingChanges=$.domObserver.pendingRecords().length?$.input.compositionID:0,$.input.compositionNode=null,$.input.badSafariComposition?$.domObserver.forceFlush():$.input.compositionPendingChanges&&Promise.resolve().then(()=>$.domObserver.flush()),$.input.compositionID++,scheduleComposeEnd($,20))};function scheduleComposeEnd($,_e){clearTimeout($.input.composingTimeout),_e>-1&&($.input.composingTimeout=setTimeout(()=>endComposition($),_e))}function clearComposition($){for($.composing&&($.input.composing=!1,$.input.compositionEndedAt=timestampFromCustomEvent());$.input.compositionNodes.length>0;)$.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode($){let _e=$.domSelectionRange();if(!_e.focusNode)return null;let et=textNodeBefore$1(_e.focusNode,_e.focusOffset),tt=textNodeAfter$1(_e.focusNode,_e.focusOffset);if(et&&tt&&et!=tt){let nt=tt.pmViewDesc,rt=$.domObserver.lastChangedTextNode;if(et==rt||tt==rt)return rt;if(!nt||!nt.isText(tt.nodeValue))return tt;if($.input.compositionNode==tt){let it=et.pmViewDesc;if(!(!it||!it.isText(et.nodeValue)))return tt}}return et||tt}function timestampFromCustomEvent(){let $=document.createEvent("Event");return $.initEvent("event",!0,!0),$.timeStamp}function endComposition($,_e=!1){if(!(android&&$.domObserver.flushingSoon>=0)){if($.domObserver.forceFlush(),clearComposition($),_e||$.docView&&$.docView.dirty){let et=selectionFromDOM($),tt=$.state.selection;return et&&!et.eq(tt)?$.dispatch($.state.tr.setSelection(et)):($.markCursor||_e)&&!tt.$from.node(tt.$from.sharedDepth(tt.to)).inlineContent?$.dispatch($.state.tr.deleteSelection()):$.updateState($.state),!0}return!1}}function captureCopy($,_e){if(!$.dom.parentNode)return;let et=$.dom.parentNode.appendChild(document.createElement("div"));et.appendChild(_e),et.style.cssText="position: fixed; left: -10000px; top: 10px";let tt=getSelection(),nt=document.createRange();nt.selectNodeContents(_e),$.dom.blur(),tt.removeAllRanges(),tt.addRange(nt),setTimeout(()=>{et.parentNode&&et.parentNode.removeChild(et),$.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=($,_e)=>{let et=_e,tt=$.state.selection,nt=et.type=="cut";if(tt.empty)return;let rt=brokenClipboardAPI?null:et.clipboardData,it=tt.content(),{dom:ot,text:at}=serializeForClipboard($,it);rt?(et.preventDefault(),rt.clearData(),rt.setData("text/html",ot.innerHTML),rt.setData("text/plain",at)):captureCopy($,ot),nt&&$.dispatch($.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode($){return $.openStart==0&&$.openEnd==0&&$.content.childCount==1?$.content.firstChild:null}function capturePaste($,_e){if(!$.dom.parentNode)return;let et=$.input.shiftKey||$.state.selection.$from.parent.type.spec.code,tt=$.dom.parentNode.appendChild(document.createElement(et?"textarea":"div"));et||(tt.contentEditable="true"),tt.style.cssText="position: fixed; left: -10000px; top: 10px",tt.focus();let nt=$.input.shiftKey&&$.input.lastKeyCode!=45;setTimeout(()=>{$.focus(),tt.parentNode&&tt.parentNode.removeChild(tt),et?doPaste($,tt.value,null,nt,_e):doPaste($,tt.textContent,tt.innerHTML,nt,_e)},50)}function doPaste($,_e,et,tt,nt){let rt=parseFromClipboard($,_e,et,tt,$.state.selection.$from);if($.someProp("handlePaste",at=>at($,nt,rt||Slice.empty)))return!0;if(!rt)return!1;let it=sliceSingleNode(rt),ot=it?$.state.tr.replaceSelectionWith(it,tt):$.state.tr.replaceSelection(rt);return $.dispatch(ot.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1($){let _e=$.getData("text/plain")||$.getData("Text");if(_e)return _e;let et=$.getData("text/uri-list");return et?et.replace(/\r?\n/g," "):""}editHandlers.paste=($,_e)=>{let et=_e;if($.composing&&!android)return;let tt=brokenClipboardAPI?null:et.clipboardData,nt=$.input.shiftKey&&$.input.lastKeyCode!=45;tt&&doPaste($,getText$1(tt),tt.getData("text/html"),nt,et)?et.preventDefault():capturePaste($,et)};class Dragging{constructor(_e,et,tt){this.slice=_e,this.move=et,this.node=tt}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves($,_e){let et=$.someProp("dragCopies",tt=>!tt(_e));return et??!_e[dragCopyModifier]}handlers.dragstart=($,_e)=>{let et=_e,tt=$.input.mouseDown;if(tt&&tt.done(),!et.dataTransfer)return;let nt=$.state.selection,rt=nt.empty?null:$.posAtCoords(eventCoords(et)),it;if(!(rt&&rt.pos>=nt.from&&rt.pos<=(nt instanceof NodeSelection?nt.to-1:nt.to))){if(tt&&tt.mightDrag)it=NodeSelection.create($.state.doc,tt.mightDrag.pos);else if(et.target&&et.target.nodeType==1){let ct=$.docView.nearestDesc(et.target,!0);ct&&ct.node.type.spec.draggable&&ct!=$.docView&&(it=NodeSelection.create($.state.doc,ct.posBefore))}}let ot=(it||$.state.selection).content(),{dom:at,text:st,slice:lt}=serializeForClipboard($,ot);(!et.dataTransfer.files.length||!chrome||chrome_version>120)&&et.dataTransfer.clearData(),et.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",at.innerHTML),et.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||et.dataTransfer.setData("text/plain",st),$.dragging=new Dragging(lt,dragMoves($,et),it)};handlers.dragend=$=>{let _e=$.dragging;window.setTimeout(()=>{$.dragging==_e&&($.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=($,_e)=>_e.preventDefault();editHandlers.drop=($,_e)=>{try{handleDrop($,_e,$.dragging)}finally{$.dragging=null}};function handleDrop($,_e,et){if(!_e.dataTransfer)return;let tt=$.posAtCoords(eventCoords(_e));if(!tt)return;let nt=$.state.doc.resolve(tt.pos),rt=et&&et.slice;rt?$.someProp("transformPasted",dt=>{rt=dt(rt,$,!1)}):rt=parseFromClipboard($,getText$1(_e.dataTransfer),brokenClipboardAPI?null:_e.dataTransfer.getData("text/html"),!1,nt);let it=!!(et&&dragMoves($,_e));if($.someProp("handleDrop",dt=>dt($,_e,rt||Slice.empty,it))){_e.preventDefault();return}if(!rt)return;_e.preventDefault();let ot=rt?dropPoint($.state.doc,nt.pos,rt):nt.pos;ot==null&&(ot=nt.pos);let at=$.state.tr;if(it){let{node:dt}=et;dt?dt.replace(at):at.deleteSelection()}let st=at.mapping.map(ot),lt=rt.openStart==0&&rt.openEnd==0&&rt.content.childCount==1,ct=at.doc;if(lt?at.replaceRangeWith(st,st,rt.content.firstChild):at.replaceRange(st,st,rt),at.doc.eq(ct))return;let ut=at.doc.resolve(st);if(lt&&NodeSelection.isSelectable(rt.content.firstChild)&&ut.nodeAfter&&ut.nodeAfter.sameMarkup(rt.content.firstChild))at.setSelection(new NodeSelection(ut));else{let dt=at.mapping.map(ot);at.mapping.maps[at.mapping.maps.length-1].forEach((ft,pt,mt,ht)=>dt=ht),at.setSelection(selectionBetween($,ut,at.doc.resolve(dt)))}$.focus(),$.dispatch(at.setMeta("uiEvent","drop"))}handlers.focus=$=>{$.input.lastFocus=Date.now(),$.focused||($.domObserver.stop(),$.dom.classList.add("ProseMirror-focused"),$.domObserver.start(),$.focused=!0,setTimeout(()=>{$.docView&&$.hasFocus()&&!$.domObserver.currentSelection.eq($.domSelectionRange())&&selectionToDOM($)},20))};handlers.blur=($,_e)=>{let et=_e;$.focused&&($.domObserver.stop(),$.dom.classList.remove("ProseMirror-focused"),$.domObserver.start(),et.relatedTarget&&$.dom.contains(et.relatedTarget)&&$.domObserver.currentSelection.clear(),$.focused=!1)};handlers.beforeinput=($,_e)=>{if(chrome&&android&&_e.inputType=="deleteContentBackward"){$.domObserver.flushSoon();let{domChangeCount:tt}=$.input;setTimeout(()=>{if($.input.domChangeCount!=tt||($.dom.blur(),$.focus(),$.someProp("handleKeyDown",rt=>rt($,keyEvent(8,"Backspace")))))return;let{$cursor:nt}=$.state.selection;nt&&nt.pos>0&&$.dispatch($.state.tr.delete(nt.pos-1,nt.pos).scrollIntoView())},50)}};for(let $ in editHandlers)handlers[$]=editHandlers[$];function compareObjs($,_e){if($==_e)return!0;for(let et in $)if($[et]!==_e[et])return!1;for(let et in _e)if(!(et in $))return!1;return!0}class WidgetType{constructor(_e,et){this.toDOM=_e,this.spec=et||noSpec,this.side=this.spec.side||0}map(_e,et,tt,nt){let{pos:rt,deleted:it}=_e.mapResult(et.from+nt,this.side<0?-1:1);return it?null:new Decoration(rt-tt,rt-tt,this)}valid(){return!0}eq(_e){return this==_e||_e instanceof WidgetType&&(this.spec.key&&this.spec.key==_e.spec.key||this.toDOM==_e.toDOM&&compareObjs(this.spec,_e.spec))}destroy(_e){this.spec.destroy&&this.spec.destroy(_e)}}class InlineType{constructor(_e,et){this.attrs=_e,this.spec=et||noSpec}map(_e,et,tt,nt){let rt=_e.map(et.from+nt,this.spec.inclusiveStart?-1:1)-tt,it=_e.map(et.to+nt,this.spec.inclusiveEnd?1:-1)-tt;return rt>=it?null:new Decoration(rt,it,this)}valid(_e,et){return et.from<et.to}eq(_e){return this==_e||_e instanceof InlineType&&compareObjs(this.attrs,_e.attrs)&&compareObjs(this.spec,_e.spec)}static is(_e){return _e.type instanceof InlineType}destroy(){}}class NodeType{constructor(_e,et){this.attrs=_e,this.spec=et||noSpec}map(_e,et,tt,nt){let rt=_e.mapResult(et.from+nt,1);if(rt.deleted)return null;let it=_e.mapResult(et.to+nt,-1);return it.deleted||it.pos<=rt.pos?null:new Decoration(rt.pos-tt,it.pos-tt,this)}valid(_e,et){let{index:tt,offset:nt}=_e.content.findIndex(et.from),rt;return nt==et.from&&!(rt=_e.child(tt)).isText&&nt+rt.nodeSize==et.to}eq(_e){return this==_e||_e instanceof NodeType&&compareObjs(this.attrs,_e.attrs)&&compareObjs(this.spec,_e.spec)}destroy(){}}class Decoration{constructor(_e,et,tt){this.from=_e,this.to=et,this.type=tt}copy(_e,et){return new Decoration(_e,et,this.type)}eq(_e,et=0){return this.type.eq(_e.type)&&this.from+et==_e.from&&this.to+et==_e.to}map(_e,et,tt){return this.type.map(_e,this,et,tt)}static widget(_e,et,tt){return new Decoration(_e,_e,new WidgetType(et,tt))}static inline(_e,et,tt,nt){return new Decoration(_e,et,new InlineType(tt,nt))}static node(_e,et,tt,nt){return new Decoration(_e,et,new NodeType(tt,nt))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(_e,et){this.local=_e.length?_e:none,this.children=et.length?et:none}static create(_e,et){return et.length?buildTree(et,_e,0,noSpec):empty}find(_e,et,tt){let nt=[];return this.findInner(_e??0,et??1e9,nt,0,tt),nt}findInner(_e,et,tt,nt,rt){for(let it=0;it<this.local.length;it++){let ot=this.local[it];ot.from<=et&&ot.to>=_e&&(!rt||rt(ot.spec))&&tt.push(ot.copy(ot.from+nt,ot.to+nt))}for(let it=0;it<this.children.length;it+=3)if(this.children[it]<et&&this.children[it+1]>_e){let ot=this.children[it]+1;this.children[it+2].findInner(_e-ot,et-ot,tt,nt+ot,rt)}}map(_e,et,tt){return this==empty||_e.maps.length==0?this:this.mapInner(_e,et,0,0,tt||noSpec)}mapInner(_e,et,tt,nt,rt){let it;for(let ot=0;ot<this.local.length;ot++){let at=this.local[ot].map(_e,tt,nt);at&&at.type.valid(et,at)?(it||(it=[])).push(at):rt.onRemove&&rt.onRemove(this.local[ot].spec)}return this.children.length?mapChildren(this.children,it||[],_e,et,tt,nt,rt):it?new DecorationSet(it.sort(byPos),none):empty}add(_e,et){return et.length?this==empty?DecorationSet.create(_e,et):this.addInner(_e,et,0):this}addInner(_e,et,tt){let nt,rt=0;_e.forEach((ot,at)=>{let st=at+tt,lt;if(lt=takeSpansForNode(et,ot,st)){for(nt||(nt=this.children.slice());rt<nt.length&&nt[rt]<at;)rt+=3;nt[rt]==at?nt[rt+2]=nt[rt+2].addInner(ot,lt,st+1):nt.splice(rt,0,at,at+ot.nodeSize,buildTree(lt,ot,st+1,noSpec)),rt+=3}});let it=moveSpans(rt?withoutNulls(et):et,-tt);for(let ot=0;ot<it.length;ot++)it[ot].type.valid(_e,it[ot])||it.splice(ot--,1);return new DecorationSet(it.length?this.local.concat(it).sort(byPos):this.local,nt||this.children)}remove(_e){return _e.length==0||this==empty?this:this.removeInner(_e,0)}removeInner(_e,et){let tt=this.children,nt=this.local;for(let rt=0;rt<tt.length;rt+=3){let it,ot=tt[rt]+et,at=tt[rt+1]+et;for(let lt=0,ct;lt<_e.length;lt++)(ct=_e[lt])&&ct.from>ot&&ct.to<at&&(_e[lt]=null,(it||(it=[])).push(ct));if(!it)continue;tt==this.children&&(tt=this.children.slice());let st=tt[rt+2].removeInner(it,ot+1);st!=empty?tt[rt+2]=st:(tt.splice(rt,3),rt-=3)}if(nt.length){for(let rt=0,it;rt<_e.length;rt++)if(it=_e[rt])for(let ot=0;ot<nt.length;ot++)nt[ot].eq(it,et)&&(nt==this.local&&(nt=this.local.slice()),nt.splice(ot--,1))}return tt==this.children&&nt==this.local?this:nt.length||tt.length?new DecorationSet(nt,tt):empty}forChild(_e,et){if(this==empty)return this;if(et.isLeaf)return DecorationSet.empty;let tt,nt;for(let ot=0;ot<this.children.length;ot+=3)if(this.children[ot]>=_e){this.children[ot]==_e&&(tt=this.children[ot+2]);break}let rt=_e+1,it=rt+et.content.size;for(let ot=0;ot<this.local.length;ot++){let at=this.local[ot];if(at.from<it&&at.to>rt&&at.type instanceof InlineType){let st=Math.max(rt,at.from)-rt,lt=Math.min(it,at.to)-rt;st<lt&&(nt||(nt=[])).push(at.copy(st,lt))}}if(nt){let ot=new DecorationSet(nt.sort(byPos),none);return tt?new DecorationGroup([ot,tt]):ot}return tt||empty}eq(_e){if(this==_e)return!0;if(!(_e instanceof DecorationSet)||this.local.length!=_e.local.length||this.children.length!=_e.children.length)return!1;for(let et=0;et<this.local.length;et++)if(!this.local[et].eq(_e.local[et]))return!1;for(let et=0;et<this.children.length;et+=3)if(this.children[et]!=_e.children[et]||this.children[et+1]!=_e.children[et+1]||!this.children[et+2].eq(_e.children[et+2]))return!1;return!0}locals(_e){return removeOverlap(this.localsInner(_e))}localsInner(_e){if(this==empty)return none;if(_e.inlineContent||!this.local.some(InlineType.is))return this.local;let et=[];for(let tt=0;tt<this.local.length;tt++)this.local[tt].type instanceof InlineType||et.push(this.local[tt]);return et}forEachSet(_e){_e(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(_e){this.members=_e}map(_e,et){const tt=this.members.map(nt=>nt.map(_e,et,noSpec));return DecorationGroup.from(tt)}forChild(_e,et){if(et.isLeaf)return DecorationSet.empty;let tt=[];for(let nt=0;nt<this.members.length;nt++){let rt=this.members[nt].forChild(_e,et);rt!=empty&&(rt instanceof DecorationGroup?tt=tt.concat(rt.members):tt.push(rt))}return DecorationGroup.from(tt)}eq(_e){if(!(_e instanceof DecorationGroup)||_e.members.length!=this.members.length)return!1;for(let et=0;et<this.members.length;et++)if(!this.members[et].eq(_e.members[et]))return!1;return!0}locals(_e){let et,tt=!0;for(let nt=0;nt<this.members.length;nt++){let rt=this.members[nt].localsInner(_e);if(rt.length)if(!et)et=rt;else{tt&&(et=et.slice(),tt=!1);for(let it=0;it<rt.length;it++)et.push(rt[it])}}return et?removeOverlap(tt?et:et.sort(byPos)):none}static from(_e){switch(_e.length){case 0:return empty;case 1:return _e[0];default:return new DecorationGroup(_e.every(et=>et instanceof DecorationSet)?_e:_e.reduce((et,tt)=>et.concat(tt instanceof DecorationSet?tt:tt.members),[]))}}forEachSet(_e){for(let et=0;et<this.members.length;et++)this.members[et].forEachSet(_e)}}function mapChildren($,_e,et,tt,nt,rt,it){let ot=$.slice();for(let st=0,lt=rt;st<et.maps.length;st++){let ct=0;et.maps[st].forEach((ut,dt,ft,pt)=>{let mt=pt-ft-(dt-ut);for(let ht=0;ht<ot.length;ht+=3){let yt=ot[ht+1];if(yt<0||ut>yt+lt-ct)continue;let xt=ot[ht]+lt-ct;dt>=xt?ot[ht+1]=ut<=xt?-2:-1:ut>=lt&&mt&&(ot[ht]+=mt,ot[ht+1]+=mt)}ct+=mt}),lt=et.maps[st].map(lt,-1)}let at=!1;for(let st=0;st<ot.length;st+=3)if(ot[st+1]<0){if(ot[st+1]==-2){at=!0,ot[st+1]=-1;continue}let lt=et.map($[st]+rt),ct=lt-nt;if(ct<0||ct>=tt.content.size){at=!0;continue}let ut=et.map($[st+1]+rt,-1),dt=ut-nt,{index:ft,offset:pt}=tt.content.findIndex(ct),mt=tt.maybeChild(ft);if(mt&&pt==ct&&pt+mt.nodeSize==dt){let ht=ot[st+2].mapInner(et,mt,lt+1,$[st]+rt+1,it);ht!=empty?(ot[st]=ct,ot[st+1]=dt,ot[st+2]=ht):(ot[st+1]=-2,at=!0)}else at=!0}if(at){let st=mapAndGatherRemainingDecorations(ot,$,_e,et,nt,rt,it),lt=buildTree(st,tt,0,it);_e=lt.local;for(let ct=0;ct<ot.length;ct+=3)ot[ct+1]<0&&(ot.splice(ct,3),ct-=3);for(let ct=0,ut=0;ct<lt.children.length;ct+=3){let dt=lt.children[ct];for(;ut<ot.length&&ot[ut]<dt;)ut+=3;ot.splice(ut,0,lt.children[ct],lt.children[ct+1],lt.children[ct+2])}}return new DecorationSet(_e.sort(byPos),ot)}function moveSpans($,_e){if(!_e||!$.length)return $;let et=[];for(let tt=0;tt<$.length;tt++){let nt=$[tt];et.push(new Decoration(nt.from+_e,nt.to+_e,nt.type))}return et}function mapAndGatherRemainingDecorations($,_e,et,tt,nt,rt,it){function ot(at,st){for(let lt=0;lt<at.local.length;lt++){let ct=at.local[lt].map(tt,nt,st);ct?et.push(ct):it.onRemove&&it.onRemove(at.local[lt].spec)}for(let lt=0;lt<at.children.length;lt+=3)ot(at.children[lt+2],at.children[lt]+st+1)}for(let at=0;at<$.length;at+=3)$[at+1]==-1&&ot($[at+2],_e[at]+rt+1);return et}function takeSpansForNode($,_e,et){if(_e.isLeaf)return null;let tt=et+_e.nodeSize,nt=null;for(let rt=0,it;rt<$.length;rt++)(it=$[rt])&&it.from>et&&it.to<tt&&((nt||(nt=[])).push(it),$[rt]=null);return nt}function withoutNulls($){let _e=[];for(let et=0;et<$.length;et++)$[et]!=null&&_e.push($[et]);return _e}function buildTree($,_e,et,tt){let nt=[],rt=!1;_e.forEach((ot,at)=>{let st=takeSpansForNode($,ot,at+et);if(st){rt=!0;let lt=buildTree(st,ot,et+at+1,tt);lt!=empty&&nt.push(at,at+ot.nodeSize,lt)}});let it=moveSpans(rt?withoutNulls($):$,-et).sort(byPos);for(let ot=0;ot<it.length;ot++)it[ot].type.valid(_e,it[ot])||(tt.onRemove&&tt.onRemove(it[ot].spec),it.splice(ot--,1));return it.length||nt.length?new DecorationSet(it,nt):empty}function byPos($,_e){return $.from-_e.from||$.to-_e.to}function removeOverlap($){let _e=$;for(let et=0;et<_e.length-1;et++){let tt=_e[et];if(tt.from!=tt.to)for(let nt=et+1;nt<_e.length;nt++){let rt=_e[nt];if(rt.from==tt.from){rt.to!=tt.to&&(_e==$&&(_e=$.slice()),_e[nt]=rt.copy(rt.from,tt.to),insertAhead(_e,nt+1,rt.copy(tt.to,rt.to)));continue}else{rt.from<tt.to&&(_e==$&&(_e=$.slice()),_e[et]=tt.copy(tt.from,rt.from),insertAhead(_e,nt,tt.copy(rt.from,tt.to)));break}}}return _e}function insertAhead($,_e,et){for(;_e<$.length&&byPos(et,$[_e])>0;)_e++;$.splice(_e,0,et)}function viewDecorations($){let _e=[];return $.someProp("decorations",et=>{let tt=et($.state);tt&&tt!=empty&&_e.push(tt)}),$.cursorWrapper&&_e.push(DecorationSet.create($.state.doc,[$.cursorWrapper.deco])),DecorationGroup.from(_e)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(_e){this.anchorNode=_e.anchorNode,this.anchorOffset=_e.anchorOffset,this.focusNode=_e.focusNode,this.focusOffset=_e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(_e){return _e.anchorNode==this.anchorNode&&_e.anchorOffset==this.anchorOffset&&_e.focusNode==this.focusNode&&_e.focusOffset==this.focusOffset}}class DOMObserver{constructor(_e,et){this.view=_e,this.handleDOMChange=et,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(tt=>{for(let nt=0;nt<tt.length;nt++)this.queue.push(tt[nt]);ie$1&&ie_version<=11&&tt.some(nt=>nt.type=="childList"&&nt.removedNodes.length||nt.type=="characterData"&&nt.oldValue.length>nt.target.nodeValue.length)?this.flushSoon():safari&&_e.composing&&tt.some(nt=>nt.type=="childList"&&nt.target.nodeName=="TR")?(_e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),useCharData&&(this.onCharData=tt=>{this.queue.push({target:tt.target,type:"characterData",oldValue:tt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let _e=this.observer.takeRecords();if(_e.length){for(let et=0;et<_e.length;et++)this.queue.push(_e[et]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let _e=this.view.domSelectionRange();if(_e.focusNode&&isEquivalentPosition(_e.focusNode,_e.focusOffset,_e.anchorNode,_e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(_e){if(!_e.focusNode)return!0;let et=new Set,tt;for(let rt=_e.focusNode;rt;rt=parentNode(rt))et.add(rt);for(let rt=_e.anchorNode;rt;rt=parentNode(rt))if(et.has(rt)){tt=rt;break}let nt=tt&&this.view.docView.nearestDesc(tt);if(nt&&nt.ignoreMutation({type:"selection",target:tt.nodeType==3?tt.parentNode:tt}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let _e of this.observer.takeRecords())this.queue.push(_e);return this.queue}flush(){let{view:_e}=this;if(!_e.docView||this.flushingSoon>-1)return;let et=this.pendingRecords();et.length&&(this.queue=[]);let tt=_e.domSelectionRange(),nt=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(tt)&&hasFocusAndSelection(_e)&&!this.ignoreSelectionChange(tt),rt=-1,it=-1,ot=!1,at=[];if(_e.editable)for(let lt=0;lt<et.length;lt++){let ct=this.registerMutation(et[lt],at);ct&&(rt=rt<0?ct.from:Math.min(ct.from,rt),it=it<0?ct.to:Math.max(ct.to,it),ct.typeOver&&(ot=!0))}if(gecko&&at.length){let lt=at.filter(ct=>ct.nodeName=="BR");if(lt.length==2){let[ct,ut]=lt;ct.parentNode&&ct.parentNode.parentNode==ut.parentNode?ut.remove():ct.remove()}else{let{focusNode:ct}=this.currentSelection;for(let ut of lt){let dt=ut.parentNode;dt&&dt.nodeName=="LI"&&(!ct||blockParent(_e,ct)!=dt)&&ut.remove()}}}else if((chrome||safari)&&at.some(lt=>lt.nodeName=="BR")&&(_e.input.lastKeyCode==8||_e.input.lastKeyCode==46)){for(let lt of at)if(lt.nodeName=="BR"&&lt.parentNode){let ct=lt.nextSibling;ct&&ct.nodeType==1&&ct.contentEditable=="false"&&lt.parentNode.removeChild(lt)}}let st=null;rt<0&&nt&&_e.input.lastFocus>Date.now()-200&&Math.max(_e.input.lastTouch,_e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(tt)&&(st=selectionFromDOM(_e))&&st.eq(Selection.near(_e.state.doc.resolve(0),1))?(_e.input.lastFocus=0,selectionToDOM(_e),this.currentSelection.set(tt),_e.scrollToSelection()):(rt>-1||nt)&&(rt>-1&&(_e.docView.markDirty(rt,it),checkCSS(_e)),_e.input.badSafariComposition&&(_e.input.badSafariComposition=!1,fixUpBadSafariComposition(_e,at)),this.handleDOMChange(rt,it,ot,at),_e.docView&&_e.docView.dirty?_e.updateState(_e.state):this.currentSelection.eq(tt)||selectionToDOM(_e),this.currentSelection.set(tt))}registerMutation(_e,et){if(et.indexOf(_e.target)>-1)return null;let tt=this.view.docView.nearestDesc(_e.target);if(_e.type=="attributes"&&(tt==this.view.docView||_e.attributeName=="contenteditable"||_e.attributeName=="style"&&!_e.oldValue&&!_e.target.getAttribute("style"))||!tt||tt.ignoreMutation(_e))return null;if(_e.type=="childList"){for(let lt=0;lt<_e.addedNodes.length;lt++){let ct=_e.addedNodes[lt];et.push(ct),ct.nodeType==3&&(this.lastChangedTextNode=ct)}if(tt.contentDOM&&tt.contentDOM!=tt.dom&&!tt.contentDOM.contains(_e.target))return{from:tt.posBefore,to:tt.posAfter};let nt=_e.previousSibling,rt=_e.nextSibling;if(ie$1&&ie_version<=11&&_e.addedNodes.length)for(let lt=0;lt<_e.addedNodes.length;lt++){let{previousSibling:ct,nextSibling:ut}=_e.addedNodes[lt];(!ct||Array.prototype.indexOf.call(_e.addedNodes,ct)<0)&&(nt=ct),(!ut||Array.prototype.indexOf.call(_e.addedNodes,ut)<0)&&(rt=ut)}let it=nt&&nt.parentNode==_e.target?domIndex(nt)+1:0,ot=tt.localPosFromDOM(_e.target,it,-1),at=rt&&rt.parentNode==_e.target?domIndex(rt):_e.target.childNodes.length,st=tt.localPosFromDOM(_e.target,at,1);return{from:ot,to:st}}else return _e.type=="attributes"?{from:tt.posAtStart-tt.border,to:tt.posAtEnd+tt.border}:(this.lastChangedTextNode=_e.target,{from:tt.posAtStart,to:tt.posAtEnd,typeOver:_e.target.nodeValue==_e.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS($){if(!cssChecked.has($)&&(cssChecked.set($,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle($.dom).whiteSpace)!==-1)){if($.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange($,_e){let et=_e.startContainer,tt=_e.startOffset,nt=_e.endContainer,rt=_e.endOffset,it=$.domAtPos($.state.selection.anchor);return isEquivalentPosition(it.node,it.offset,nt,rt)&&([et,tt,nt,rt]=[nt,rt,et,tt]),{anchorNode:et,anchorOffset:tt,focusNode:nt,focusOffset:rt}}function safariShadowSelectionRange($,_e){if(_e.getComposedRanges){let nt=_e.getComposedRanges($.root)[0];if(nt)return rangeToSelectionRange($,nt)}let et;function tt(nt){nt.preventDefault(),nt.stopImmediatePropagation(),et=nt.getTargetRanges()[0]}return $.dom.addEventListener("beforeinput",tt,!0),document.execCommand("indent"),$.dom.removeEventListener("beforeinput",tt,!0),et?rangeToSelectionRange($,et):null}function blockParent($,_e){for(let et=_e.parentNode;et&&et!=$.dom;et=et.parentNode){let tt=$.docView.nearestDesc(et,!0);if(tt&&tt.node.isBlock)return et}return null}function fixUpBadSafariComposition($,_e){var et;let{focusNode:tt,focusOffset:nt}=$.domSelectionRange();for(let rt of _e)if(((et=rt.parentNode)===null||et===void 0?void 0:et.nodeName)=="TR"){let it=rt.nextSibling;for(;it&&it.nodeName!="TD"&&it.nodeName!="TH";)it=it.nextSibling;if(it){let ot=it;for(;;){let at=ot.firstChild;if(!at||at.nodeType!=1||at.contentEditable=="false"||/^(BR|IMG)$/.test(at.nodeName))break;ot=at}ot.insertBefore(rt,ot.firstChild),tt==rt&&$.domSelection().collapse(rt,nt)}else rt.parentNode.removeChild(rt)}}function parseBetween($,_e,et){let{node:tt,fromOffset:nt,toOffset:rt,from:it,to:ot}=$.docView.parseRange(_e,et),at=$.domSelectionRange(),st,lt=at.anchorNode;if(lt&&$.dom.contains(lt.nodeType==1?lt:lt.parentNode)&&(st=[{node:lt,offset:at.anchorOffset}],selectionCollapsed(at)||st.push({node:at.focusNode,offset:at.focusOffset})),chrome&&$.input.lastKeyCode===8)for(let mt=rt;mt>nt;mt--){let ht=tt.childNodes[mt-1],yt=ht.pmViewDesc;if(ht.nodeName=="BR"&&!yt){rt=mt;break}if(!yt||yt.size)break}let ct=$.state.doc,ut=$.someProp("domParser")||DOMParser.fromSchema($.state.schema),dt=ct.resolve(it),ft=null,pt=ut.parse(tt,{topNode:dt.parent,topMatch:dt.parent.contentMatchAt(dt.index()),topOpen:!0,from:nt,to:rt,preserveWhitespace:dt.parent.type.whitespace=="pre"?"full":!0,findPositions:st,ruleFromNode,context:dt});if(st&&st[0].pos!=null){let mt=st[0].pos,ht=st[1]&&st[1].pos;ht==null&&(ht=mt),ft={anchor:mt+it,head:ht+it}}return{doc:pt,sel:ft,from:it,to:ot}}function ruleFromNode($){let _e=$.pmViewDesc;if(_e)return _e.parseRule();if($.nodeName=="BR"&&$.parentNode){if(safari&&/^(ul|ol)$/i.test($.parentNode.nodeName)){let et=document.createElement("div");return et.appendChild(document.createElement("li")),{skip:et}}else if($.parentNode.lastChild==$||safari&&/^(tr|table)$/i.test($.parentNode.nodeName))return{ignore:!0}}else if($.nodeName=="IMG"&&$.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange($,_e,et,tt,nt){let rt=$.input.compositionPendingChanges||($.composing?$.input.compositionID:0);if($.input.compositionPendingChanges=0,_e<0){let bt=$.input.lastSelectionTime>Date.now()-50?$.input.lastSelectionOrigin:null,wt=selectionFromDOM($,bt);if(wt&&!$.state.selection.eq(wt)){if(chrome&&android&&$.input.lastKeyCode===13&&Date.now()-100<$.input.lastKeyCodeTime&&$.someProp("handleKeyDown",Ct=>Ct($,keyEvent(13,"Enter"))))return;let _t=$.state.tr.setSelection(wt);bt=="pointer"?_t.setMeta("pointer",!0):bt=="key"&&_t.scrollIntoView(),rt&&_t.setMeta("composition",rt),$.dispatch(_t)}return}let it=$.state.doc.resolve(_e),ot=it.sharedDepth(et);_e=it.before(ot+1),et=$.state.doc.resolve(et).after(ot+1);let at=$.state.selection,st=parseBetween($,_e,et),lt=$.state.doc,ct=lt.slice(st.from,st.to),ut,dt;$.input.lastKeyCode===8&&Date.now()-100<$.input.lastKeyCodeTime?(ut=$.state.selection.to,dt="end"):(ut=$.state.selection.from,dt="start"),$.input.lastKeyCode=null;let ft=findDiff(ct.content,st.doc.content,st.from,ut,dt);if(ft&&$.input.domChangeCount++,(ios&&$.input.lastIOSEnter>Date.now()-225||android)&&nt.some(bt=>bt.nodeType==1&&!isInline.test(bt.nodeName))&&(!ft||ft.endA>=ft.endB)&&$.someProp("handleKeyDown",bt=>bt($,keyEvent(13,"Enter")))){$.input.lastIOSEnter=0;return}if(!ft)if(tt&&at instanceof TextSelection&&!at.empty&&at.$head.sameParent(at.$anchor)&&!$.composing&&!(st.sel&&st.sel.anchor!=st.sel.head))ft={start:at.from,endA:at.to,endB:at.to};else{if(st.sel){let bt=resolveSelection($,$.state.doc,st.sel);if(bt&&!bt.eq($.state.selection)){let wt=$.state.tr.setSelection(bt);rt&&wt.setMeta("composition",rt),$.dispatch(wt)}}return}$.state.selection.from<$.state.selection.to&&ft.start==ft.endB&&$.state.selection instanceof TextSelection&&(ft.start>$.state.selection.from&&ft.start<=$.state.selection.from+2&&$.state.selection.from>=st.from?ft.start=$.state.selection.from:ft.endA<$.state.selection.to&&ft.endA>=$.state.selection.to-2&&$.state.selection.to<=st.to&&(ft.endB+=$.state.selection.to-ft.endA,ft.endA=$.state.selection.to)),ie$1&&ie_version<=11&&ft.endB==ft.start+1&&ft.endA==ft.start&&ft.start>st.from&&st.doc.textBetween(ft.start-st.from-1,ft.start-st.from+1)==" "&&(ft.start--,ft.endA--,ft.endB--);let pt=st.doc.resolveNoCache(ft.start-st.from),mt=st.doc.resolveNoCache(ft.endB-st.from),ht=lt.resolve(ft.start),yt=pt.sameParent(mt)&&pt.parent.inlineContent&&ht.end()>=ft.endA;if((ios&&$.input.lastIOSEnter>Date.now()-225&&(!yt||nt.some(bt=>bt.nodeName=="DIV"||bt.nodeName=="P"))||!yt&&pt.pos<st.doc.content.size&&(!pt.sameParent(mt)||!pt.parent.inlineContent)&&pt.pos<mt.pos&&!/\S/.test(st.doc.textBetween(pt.pos,mt.pos,"","")))&&$.someProp("handleKeyDown",bt=>bt($,keyEvent(13,"Enter")))){$.input.lastIOSEnter=0;return}if($.state.selection.anchor>ft.start&&looksLikeBackspace(lt,ft.start,ft.endA,pt,mt)&&$.someProp("handleKeyDown",bt=>bt($,keyEvent(8,"Backspace")))){android&&chrome&&$.domObserver.suppressSelectionUpdates();return}chrome&&ft.endB==ft.start&&($.input.lastChromeDelete=Date.now()),android&&!yt&&pt.start()!=mt.start()&&mt.parentOffset==0&&pt.depth==mt.depth&&st.sel&&st.sel.anchor==st.sel.head&&st.sel.head==ft.endA&&(ft.endB-=2,mt=st.doc.resolveNoCache(ft.endB-st.from),setTimeout(()=>{$.someProp("handleKeyDown",function(bt){return bt($,keyEvent(13,"Enter"))})},20));let xt=ft.start,St=ft.endA,gt=bt=>{let wt=bt||$.state.tr.replace(xt,St,st.doc.slice(ft.start-st.from,ft.endB-st.from));if(st.sel){let _t=resolveSelection($,wt.doc,st.sel);_t&&!(chrome&&$.composing&&_t.empty&&(ft.start!=ft.endB||$.input.lastChromeDelete<Date.now()-100)&&(_t.head==xt||_t.head==wt.mapping.map(St)-1)||ie$1&&_t.empty&&_t.head==xt)&&wt.setSelection(_t)}return rt&&wt.setMeta("composition",rt),wt.scrollIntoView()},vt;if(yt)if(pt.pos==mt.pos){ie$1&&ie_version<=11&&pt.parentOffset==0&&($.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM($),20));let bt=gt($.state.tr.delete(xt,St)),wt=lt.resolve(ft.start).marksAcross(lt.resolve(ft.endA));wt&&bt.ensureMarks(wt),$.dispatch(bt)}else if(ft.endA==ft.endB&&(vt=isMarkChange(pt.parent.content.cut(pt.parentOffset,mt.parentOffset),ht.parent.content.cut(ht.parentOffset,ft.endA-ht.start())))){let bt=gt($.state.tr);vt.type=="add"?bt.addMark(xt,St,vt.mark):bt.removeMark(xt,St,vt.mark),$.dispatch(bt)}else if(pt.parent.child(pt.index()).isText&&pt.index()==mt.index()-(mt.textOffset?0:1)){let bt=pt.parent.textBetween(pt.parentOffset,mt.parentOffset),wt=()=>gt($.state.tr.insertText(bt,xt,St));$.someProp("handleTextInput",_t=>_t($,xt,St,bt,wt))||$.dispatch(wt())}else $.dispatch(gt());else $.dispatch(gt())}function resolveSelection($,_e,et){return Math.max(et.anchor,et.head)>_e.content.size?null:selectionBetween($,_e.resolve(et.anchor),_e.resolve(et.head))}function isMarkChange($,_e){let et=$.firstChild.marks,tt=_e.firstChild.marks,nt=et,rt=tt,it,ot,at;for(let lt=0;lt<tt.length;lt++)nt=tt[lt].removeFromSet(nt);for(let lt=0;lt<et.length;lt++)rt=et[lt].removeFromSet(rt);if(nt.length==1&&rt.length==0)ot=nt[0],it="add",at=lt=>lt.mark(ot.addToSet(lt.marks));else if(nt.length==0&&rt.length==1)ot=rt[0],it="remove",at=lt=>lt.mark(ot.removeFromSet(lt.marks));else return null;let st=[];for(let lt=0;lt<_e.childCount;lt++)st.push(at(_e.child(lt)));if(Fragment.from(st).eq($))return{mark:ot,type:it}}function looksLikeBackspace($,_e,et,tt,nt){if(et-_e<=nt.pos-tt.pos||skipClosingAndOpening(tt,!0,!1)<nt.pos)return!1;let rt=$.resolve(_e);if(!tt.parent.isTextblock){let ot=rt.nodeAfter;return ot!=null&&et==_e+ot.nodeSize}if(rt.parentOffset<rt.parent.content.size||!rt.parent.isTextblock)return!1;let it=$.resolve(skipClosingAndOpening(rt,!0,!0));return!it.parent.isTextblock||it.pos>et||skipClosingAndOpening(it,!0,!1)<et?!1:tt.parent.content.cut(tt.parentOffset).eq(it.parent.content)}function skipClosingAndOpening($,_e,et){let tt=$.depth,nt=_e?$.end():$.pos;for(;tt>0&&(_e||$.indexAfter(tt)==$.node(tt).childCount);)tt--,nt++,_e=!1;if(et){let rt=$.node(tt).maybeChild($.indexAfter(tt));for(;rt&&!rt.isLeaf;)rt=rt.firstChild,nt++}return nt}function findDiff($,_e,et,tt,nt){let rt=$.findDiffStart(_e,et);if(rt==null)return null;let{a:it,b:ot}=$.findDiffEnd(_e,et+$.size,et+_e.size);if(nt=="end"){let at=Math.max(0,rt-Math.min(it,ot));tt-=it+at-rt}if(it<rt&&$.size<_e.size){let at=tt<=rt&&tt>=it?rt-tt:0;rt-=at,rt&&rt<_e.size&&isSurrogatePair(_e.textBetween(rt-1,rt+1))&&(rt+=at?1:-1),ot=rt+(ot-it),it=rt}else if(ot<rt){let at=tt<=rt&&tt>=ot?rt-tt:0;rt-=at,rt&&rt<$.size&&isSurrogatePair($.textBetween(rt-1,rt+1))&&(rt+=at?1:-1),it=rt+(it-ot),ot=rt}return{start:rt,endA:it,endB:ot}}function isSurrogatePair($){if($.length!=2)return!1;let _e=$.charCodeAt(0),et=$.charCodeAt(1);return _e>=56320&&_e<=57343&&et>=55296&&et<=56319}class EditorView{constructor(_e,et){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=et,this.state=et.state,this.directPlugins=et.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=_e&&_e.mount||document.createElement("div"),_e&&(_e.appendChild?_e.appendChild(this.dom):typeof _e=="function"?_e(this.dom):_e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(tt,nt,rt,it)=>readDOMChange(this,tt,nt,rt,it)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let _e=this._props;this._props={};for(let et in _e)this._props[et]=_e[et];this._props.state=this.state}return this._props}update(_e){_e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let et=this._props;this._props=_e,_e.plugins&&(_e.plugins.forEach(checkStateComponent),this.directPlugins=_e.plugins),this.updateStateInner(_e.state,et)}setProps(_e){let et={};for(let tt in this._props)et[tt]=this._props[tt];et.state=this.state;for(let tt in _e)et[tt]=_e[tt];this.update(et)}updateState(_e){this.updateStateInner(_e,this._props)}updateStateInner(_e,et){var tt;let nt=this.state,rt=!1,it=!1;_e.storedMarks&&this.composing&&(clearComposition(this),it=!0),this.state=_e;let ot=nt.plugins!=_e.plugins||this._props.plugins!=et.plugins;if(ot||this._props.plugins!=et.plugins||this._props.nodeViews!=et.nodeViews){let dt=buildNodeViews(this);changedNodeViews(dt,this.nodeViews)&&(this.nodeViews=dt,rt=!0)}(ot||et.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let at=viewDecorations(this),st=computeDocDeco(this),lt=nt.plugins!=_e.plugins&&!nt.doc.eq(_e.doc)?"reset":_e.scrollToSelection>nt.scrollToSelection?"to selection":"preserve",ct=rt||!this.docView.matchesNode(_e.doc,st,at);(ct||!_e.selection.eq(nt.selection))&&(it=!0);let ut=lt=="preserve"&&it&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(it){this.domObserver.stop();let dt=ct&&(ie$1||chrome)&&!this.composing&&!nt.selection.empty&&!_e.selection.empty&&selectionContextChanged(nt.selection,_e.selection);if(ct){let ft=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(rt||!this.docView.update(_e.doc,st,at,this))&&(this.docView.updateOuterDeco(st),this.docView.destroy(),this.docView=docViewDesc(_e.doc,st,at,this.dom,this)),ft&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(dt=!0)}dt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,dt):(syncNodeSelection(this,_e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(nt),!((tt=this.dragging)===null||tt===void 0)&&tt.node&&!nt.doc.eq(_e.doc)&&this.updateDraggedNode(this.dragging,nt),lt=="reset"?this.dom.scrollTop=0:lt=="to selection"?this.scrollToSelection():ut&&resetScrollPos(ut)}scrollToSelection(){let _e=this.domSelectionRange().focusNode;if(!(!_e||!this.dom.contains(_e.nodeType==1?_e:_e.parentNode))){if(!this.someProp("handleScrollToSelection",et=>et(this)))if(this.state.selection instanceof NodeSelection){let et=this.docView.domAfterPos(this.state.selection.from);et.nodeType==1&&scrollRectIntoView(this,et.getBoundingClientRect(),_e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),_e)}}destroyPluginViews(){let _e;for(;_e=this.pluginViews.pop();)_e.destroy&&_e.destroy()}updatePluginViews(_e){if(!_e||_e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let et=0;et<this.directPlugins.length;et++){let tt=this.directPlugins[et];tt.spec.view&&this.pluginViews.push(tt.spec.view(this))}for(let et=0;et<this.state.plugins.length;et++){let tt=this.state.plugins[et];tt.spec.view&&this.pluginViews.push(tt.spec.view(this))}}else for(let et=0;et<this.pluginViews.length;et++){let tt=this.pluginViews[et];tt.update&&tt.update(this,_e)}}updateDraggedNode(_e,et){let tt=_e.node,nt=-1;if(this.state.doc.nodeAt(tt.from)==tt.node)nt=tt.from;else{let rt=tt.from+(this.state.doc.content.size-et.doc.content.size);(rt>0&&this.state.doc.nodeAt(rt))==tt.node&&(nt=rt)}this.dragging=new Dragging(_e.slice,_e.move,nt<0?void 0:NodeSelection.create(this.state.doc,nt))}someProp(_e,et){let tt=this._props&&this._props[_e],nt;if(tt!=null&&(nt=et?et(tt):tt))return nt;for(let it=0;it<this.directPlugins.length;it++){let ot=this.directPlugins[it].props[_e];if(ot!=null&&(nt=et?et(ot):ot))return nt}let rt=this.state.plugins;if(rt)for(let it=0;it<rt.length;it++){let ot=rt[it].props[_e];if(ot!=null&&(nt=et?et(ot):ot))return nt}}hasFocus(){if(ie$1){let _e=this.root.activeElement;if(_e==this.dom)return!0;if(!_e||!this.dom.contains(_e))return!1;for(;_e&&this.dom!=_e&&this.dom.contains(_e);){if(_e.contentEditable=="false")return!1;_e=_e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let _e=this._root;if(_e==null){for(let et=this.dom.parentNode;et;et=et.parentNode)if(et.nodeType==9||et.nodeType==11&&et.host)return et.getSelection||(Object.getPrototypeOf(et).getSelection=()=>et.ownerDocument.getSelection()),this._root=et}return _e||document}updateRoot(){this._root=null}posAtCoords(_e){return posAtCoords(this,_e)}coordsAtPos(_e,et=1){return coordsAtPos(this,_e,et)}domAtPos(_e,et=0){return this.docView.domFromPos(_e,et)}nodeDOM(_e){let et=this.docView.descAt(_e);return et?et.nodeDOM:null}posAtDOM(_e,et,tt=-1){let nt=this.docView.posFromDOM(_e,et,tt);if(nt==null)throw new RangeError("DOM position not inside the editor");return nt}endOfTextblock(_e,et){return endOfTextblock(this,et||this.state,_e)}pasteHTML(_e,et){return doPaste(this,"",_e,!1,et||new ClipboardEvent("paste"))}pasteText(_e,et){return doPaste(this,_e,null,!0,et||new ClipboardEvent("paste"))}serializeForClipboard(_e){return serializeForClipboard(this,_e)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(_e){return dispatchEvent(this,_e)}domSelectionRange(){let _e=this.domSelection();return _e?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,_e)||_e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function($){let _e=this._props.dispatchTransaction;_e?_e.call(this,$):this.updateState(this.state.apply($))};function computeDocDeco($){let _e=Object.create(null);return _e.class="ProseMirror",_e.contenteditable=String($.editable),$.someProp("attributes",et=>{if(typeof et=="function"&&(et=et($.state)),et)for(let tt in et)tt=="class"?_e.class+=" "+et[tt]:tt=="style"?_e.style=(_e.style?_e.style+";":"")+et[tt]:!_e[tt]&&tt!="contenteditable"&&tt!="nodeName"&&(_e[tt]=String(et[tt]))}),_e.translate||(_e.translate="no"),[Decoration.node(0,$.state.doc.content.size,_e)]}function updateCursorWrapper($){if($.markCursor){let _e=document.createElement("img");_e.className="ProseMirror-separator",_e.setAttribute("mark-placeholder","true"),_e.setAttribute("alt",""),$.cursorWrapper={dom:_e,deco:Decoration.widget($.state.selection.from,_e,{raw:!0,marks:$.markCursor})}}else $.cursorWrapper=null}function getEditable($){return!$.someProp("editable",_e=>_e($.state)===!1)}function selectionContextChanged($,_e){let et=Math.min($.$anchor.sharedDepth($.head),_e.$anchor.sharedDepth(_e.head));return $.$anchor.start(et)!=_e.$anchor.start(et)}function buildNodeViews($){let _e=Object.create(null);function et(tt){for(let nt in tt)Object.prototype.hasOwnProperty.call(_e,nt)||(_e[nt]=tt[nt])}return $.someProp("nodeViews",et),$.someProp("markViews",et),_e}function changedNodeViews($,_e){let et=0,tt=0;for(let nt in $){if($[nt]!=_e[nt])return!0;et++}for(let nt in _e)tt++;return et!=tt}function checkStateComponent($){if($.spec.state||$.spec.filterTransaction||$.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$2=0;i$2<10;i$2++)base[48+i$2]=base[96+i$2]=String(i$2);for(var i$2=1;i$2<=24;i$2++)base[i$2+111]="F"+i$2;for(var i$2=65;i$2<=90;i$2++)base[i$2]=String.fromCharCode(i$2+32),shift[i$2]=String.fromCharCode(i$2);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName($){var _e=mac$1&&$.metaKey&&$.shiftKey&&!$.ctrlKey&&!$.altKey||ie&&$.shiftKey&&$.key&&$.key.length==1||$.key=="Unidentified",et=!_e&&$.key||($.shiftKey?shift:base)[$.keyCode]||$.key||"Unidentified";return et=="Esc"&&(et="Escape"),et=="Del"&&(et="Delete"),et=="Left"&&(et="ArrowLeft"),et=="Up"&&(et="ArrowUp"),et=="Right"&&(et="ArrowRight"),et=="Down"&&(et="ArrowDown"),et}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1($){let _e=$.split(/-(?!$)/),et=_e[_e.length-1];et=="Space"&&(et=" ");let tt,nt,rt,it;for(let ot=0;ot<_e.length-1;ot++){let at=_e[ot];if(/^(cmd|meta|m)$/i.test(at))it=!0;else if(/^a(lt)?$/i.test(at))tt=!0;else if(/^(c|ctrl|control)$/i.test(at))nt=!0;else if(/^s(hift)?$/i.test(at))rt=!0;else if(/^mod$/i.test(at))mac?it=!0:nt=!0;else throw new Error("Unrecognized modifier name: "+at)}return tt&&(et="Alt-"+et),nt&&(et="Ctrl-"+et),it&&(et="Meta-"+et),rt&&(et="Shift-"+et),et}function normalize$3($){let _e=Object.create(null);for(let et in $)_e[normalizeKeyName$1(et)]=$[et];return _e}function modifiers($,_e,et=!0){return _e.altKey&&($="Alt-"+$),_e.ctrlKey&&($="Ctrl-"+$),_e.metaKey&&($="Meta-"+$),et&&_e.shiftKey&&($="Shift-"+$),$}function keymap($){return new Plugin({props:{handleKeyDown:keydownHandler($)}})}function keydownHandler($){let _e=normalize$3($);return function(et,tt){let nt=keyName(tt),rt,it=_e[modifiers(nt,tt)];if(it&&it(et.state,et.dispatch,et))return!0;if(nt.length==1&&nt!=" "){if(tt.shiftKey){let ot=_e[modifiers(nt,tt,!1)];if(ot&&ot(et.state,et.dispatch,et))return!0}if((tt.altKey||tt.metaKey||tt.ctrlKey)&&!(windows&&tt.ctrlKey&&tt.altKey)&&(rt=base[tt.keyCode])&&rt!=nt){let ot=_e[modifiers(rt,tt)];if(ot&&ot(et.state,et.dispatch,et))return!0}}return!1}}const deleteSelection$1=($,_e)=>$.selection.empty?!1:(_e&&_e($.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart($,_e){let{$cursor:et}=$.selection;return!et||(_e?!_e.endOfTextblock("backward",$):et.parentOffset>0)?null:et}const joinBackward$1=($,_e,et)=>{let tt=atBlockStart($,et);if(!tt)return!1;let nt=findCutBefore(tt);if(!nt){let it=tt.blockRange(),ot=it&&liftTarget(it);return ot==null?!1:(_e&&_e($.tr.lift(it,ot).scrollIntoView()),!0)}let rt=nt.nodeBefore;if(deleteBarrier($,nt,_e,-1))return!0;if(tt.parent.content.size==0&&(textblockAt(rt,"end")||NodeSelection.isSelectable(rt)))for(let it=tt.depth;;it--){let ot=replaceStep($.doc,tt.before(it),tt.after(it),Slice.empty);if(ot&&ot.slice.size<ot.to-ot.from){if(_e){let at=$.tr.step(ot);at.setSelection(textblockAt(rt,"end")?Selection.findFrom(at.doc.resolve(at.mapping.map(nt.pos,-1)),-1):NodeSelection.create(at.doc,nt.pos-rt.nodeSize)),_e(at.scrollIntoView())}return!0}if(it==1||tt.node(it-1).childCount>1)break}return rt.isAtom&&nt.depth==tt.depth-1?(_e&&_e($.tr.delete(nt.pos-rt.nodeSize,nt.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=($,_e,et)=>{let tt=atBlockStart($,et);if(!tt)return!1;let nt=findCutBefore(tt);return nt?joinTextblocksAround($,nt,_e):!1},joinTextblockForward$1=($,_e,et)=>{let tt=atBlockEnd($,et);if(!tt)return!1;let nt=findCutAfter(tt);return nt?joinTextblocksAround($,nt,_e):!1};function joinTextblocksAround($,_e,et){let tt=_e.nodeBefore,nt=tt,rt=_e.pos-1;for(;!nt.isTextblock;rt--){if(nt.type.spec.isolating)return!1;let lt=nt.lastChild;if(!lt)return!1;nt=lt}let it=_e.nodeAfter,ot=it,at=_e.pos+1;for(;!ot.isTextblock;at++){if(ot.type.spec.isolating)return!1;let lt=ot.firstChild;if(!lt)return!1;ot=lt}let st=replaceStep($.doc,rt,at,Slice.empty);if(!st||st.from!=rt||st instanceof ReplaceStep&&st.slice.size>=at-rt)return!1;if(et){let lt=$.tr.step(st);lt.setSelection(TextSelection.create(lt.doc,rt)),et(lt.scrollIntoView())}return!0}function textblockAt($,_e,et=!1){for(let tt=$;tt;tt=_e=="start"?tt.firstChild:tt.lastChild){if(tt.isTextblock)return!0;if(et&&tt.childCount!=1)return!1}return!1}const selectNodeBackward$1=($,_e,et)=>{let{$head:tt,empty:nt}=$.selection,rt=tt;if(!nt)return!1;if(tt.parent.isTextblock){if(et?!et.endOfTextblock("backward",$):tt.parentOffset>0)return!1;rt=findCutBefore(tt)}let it=rt&&rt.nodeBefore;return!it||!NodeSelection.isSelectable(it)?!1:(_e&&_e($.tr.setSelection(NodeSelection.create($.doc,rt.pos-it.nodeSize)).scrollIntoView()),!0)};function findCutBefore($){if(!$.parent.type.spec.isolating)for(let _e=$.depth-1;_e>=0;_e--){if($.index(_e)>0)return $.doc.resolve($.before(_e+1));if($.node(_e).type.spec.isolating)break}return null}function atBlockEnd($,_e){let{$cursor:et}=$.selection;return!et||(_e?!_e.endOfTextblock("forward",$):et.parentOffset<et.parent.content.size)?null:et}const joinForward$1=($,_e,et)=>{let tt=atBlockEnd($,et);if(!tt)return!1;let nt=findCutAfter(tt);if(!nt)return!1;let rt=nt.nodeAfter;if(deleteBarrier($,nt,_e,1))return!0;if(tt.parent.content.size==0&&(textblockAt(rt,"start")||NodeSelection.isSelectable(rt))){let it=replaceStep($.doc,tt.before(),tt.after(),Slice.empty);if(it&&it.slice.size<it.to-it.from){if(_e){let ot=$.tr.step(it);ot.setSelection(textblockAt(rt,"start")?Selection.findFrom(ot.doc.resolve(ot.mapping.map(nt.pos)),1):NodeSelection.create(ot.doc,ot.mapping.map(nt.pos))),_e(ot.scrollIntoView())}return!0}}return rt.isAtom&&nt.depth==tt.depth-1?(_e&&_e($.tr.delete(nt.pos,nt.pos+rt.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=($,_e,et)=>{let{$head:tt,empty:nt}=$.selection,rt=tt;if(!nt)return!1;if(tt.parent.isTextblock){if(et?!et.endOfTextblock("forward",$):tt.parentOffset<tt.parent.content.size)return!1;rt=findCutAfter(tt)}let it=rt&&rt.nodeAfter;return!it||!NodeSelection.isSelectable(it)?!1:(_e&&_e($.tr.setSelection(NodeSelection.create($.doc,rt.pos)).scrollIntoView()),!0)};function findCutAfter($){if(!$.parent.type.spec.isolating)for(let _e=$.depth-1;_e>=0;_e--){let et=$.node(_e);if($.index(_e)+1<et.childCount)return $.doc.resolve($.after(_e+1));if(et.type.spec.isolating)break}return null}const joinUp$1=($,_e)=>{let et=$.selection,tt=et instanceof NodeSelection,nt;if(tt){if(et.node.isTextblock||!canJoin($.doc,et.from))return!1;nt=et.from}else if(nt=joinPoint($.doc,et.from,-1),nt==null)return!1;if(_e){let rt=$.tr.join(nt);tt&&rt.setSelection(NodeSelection.create(rt.doc,nt-$.doc.resolve(nt).nodeBefore.nodeSize)),_e(rt.scrollIntoView())}return!0},joinDown$1=($,_e)=>{let et=$.selection,tt;if(et instanceof NodeSelection){if(et.node.isTextblock||!canJoin($.doc,et.to))return!1;tt=et.to}else if(tt=joinPoint($.doc,et.to,1),tt==null)return!1;return _e&&_e($.tr.join(tt).scrollIntoView()),!0},lift$1=($,_e)=>{let{$from:et,$to:tt}=$.selection,nt=et.blockRange(tt),rt=nt&&liftTarget(nt);return rt==null?!1:(_e&&_e($.tr.lift(nt,rt).scrollIntoView()),!0)},newlineInCode$1=($,_e)=>{let{$head:et,$anchor:tt}=$.selection;return!et.parent.type.spec.code||!et.sameParent(tt)?!1:(_e&&_e($.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1($){for(let _e=0;_e<$.edgeCount;_e++){let{type:et}=$.edge(_e);if(et.isTextblock&&!et.hasRequiredAttrs())return et}return null}const exitCode$1=($,_e)=>{let{$head:et,$anchor:tt}=$.selection;if(!et.parent.type.spec.code||!et.sameParent(tt))return!1;let nt=et.node(-1),rt=et.indexAfter(-1),it=defaultBlockAt$1(nt.contentMatchAt(rt));if(!it||!nt.canReplaceWith(rt,rt,it))return!1;if(_e){let ot=et.after(),at=$.tr.replaceWith(ot,ot,it.createAndFill());at.setSelection(Selection.near(at.doc.resolve(ot),1)),_e(at.scrollIntoView())}return!0},createParagraphNear$1=($,_e)=>{let et=$.selection,{$from:tt,$to:nt}=et;if(et instanceof AllSelection||tt.parent.inlineContent||nt.parent.inlineContent)return!1;let rt=defaultBlockAt$1(nt.parent.contentMatchAt(nt.indexAfter()));if(!rt||!rt.isTextblock)return!1;if(_e){let it=(!tt.parentOffset&&nt.index()<nt.parent.childCount?tt:nt).pos,ot=$.tr.insert(it,rt.createAndFill());ot.setSelection(TextSelection.create(ot.doc,it+1)),_e(ot.scrollIntoView())}return!0},liftEmptyBlock$1=($,_e)=>{let{$cursor:et}=$.selection;if(!et||et.parent.content.size)return!1;if(et.depth>1&&et.after()!=et.end(-1)){let rt=et.before();if(canSplit($.doc,rt))return _e&&_e($.tr.split(rt).scrollIntoView()),!0}let tt=et.blockRange(),nt=tt&&liftTarget(tt);return nt==null?!1:(_e&&_e($.tr.lift(tt,nt).scrollIntoView()),!0)};function splitBlockAs($){return(_e,et)=>{let{$from:tt,$to:nt}=_e.selection;if(_e.selection instanceof NodeSelection&&_e.selection.node.isBlock)return!tt.parentOffset||!canSplit(_e.doc,tt.pos)?!1:(et&&et(_e.tr.split(tt.pos).scrollIntoView()),!0);if(!tt.depth)return!1;let rt=[],it,ot,at=!1,st=!1;for(let dt=tt.depth;;dt--)if(tt.node(dt).isBlock){at=tt.end(dt)==tt.pos+(tt.depth-dt),st=tt.start(dt)==tt.pos-(tt.depth-dt),ot=defaultBlockAt$1(tt.node(dt-1).contentMatchAt(tt.indexAfter(dt-1))),rt.unshift(at&&ot?{type:ot}:null),it=dt;break}else{if(dt==1)return!1;rt.unshift(null)}let lt=_e.tr;(_e.selection instanceof TextSelection||_e.selection instanceof AllSelection)&&lt.deleteSelection();let ct=lt.mapping.map(tt.pos),ut=canSplit(lt.doc,ct,rt.length,rt);if(ut||(rt[0]=ot?{type:ot}:null,ut=canSplit(lt.doc,ct,rt.length,rt)),!ut)return!1;if(lt.split(ct,rt.length,rt),!at&&st&&tt.node(it).type!=ot){let dt=lt.mapping.map(tt.before(it)),ft=lt.doc.resolve(dt);ot&&tt.node(it-1).canReplaceWith(ft.index(),ft.index()+1,ot)&&lt.setNodeMarkup(lt.mapping.map(tt.before(it)),ot)}return et&&et(lt.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=($,_e)=>{let{$from:et,to:tt}=$.selection,nt,rt=et.sharedDepth(tt);return rt==0?!1:(nt=et.before(rt),_e&&_e($.tr.setSelection(NodeSelection.create($.doc,nt))),!0)};function joinMaybeClear($,_e,et){let tt=_e.nodeBefore,nt=_e.nodeAfter,rt=_e.index();return!tt||!nt||!tt.type.compatibleContent(nt.type)?!1:!tt.content.size&&_e.parent.canReplace(rt-1,rt)?(et&&et($.tr.delete(_e.pos-tt.nodeSize,_e.pos).scrollIntoView()),!0):!_e.parent.canReplace(rt,rt+1)||!(nt.isTextblock||canJoin($.doc,_e.pos))?!1:(et&&et($.tr.join(_e.pos).scrollIntoView()),!0)}function deleteBarrier($,_e,et,tt){let nt=_e.nodeBefore,rt=_e.nodeAfter,it,ot,at=nt.type.spec.isolating||rt.type.spec.isolating;if(!at&&joinMaybeClear($,_e,et))return!0;let st=!at&&_e.parent.canReplace(_e.index(),_e.index()+1);if(st&&(it=(ot=nt.contentMatchAt(nt.childCount)).findWrapping(rt.type))&&ot.matchType(it[0]||rt.type).validEnd){if(et){let dt=_e.pos+rt.nodeSize,ft=Fragment.empty;for(let ht=it.length-1;ht>=0;ht--)ft=Fragment.from(it[ht].create(null,ft));ft=Fragment.from(nt.copy(ft));let pt=$.tr.step(new ReplaceAroundStep(_e.pos-1,dt,_e.pos,dt,new Slice(ft,1,0),it.length,!0)),mt=pt.doc.resolve(dt+2*it.length);mt.nodeAfter&&mt.nodeAfter.type==nt.type&&canJoin(pt.doc,mt.pos)&&pt.join(mt.pos),et(pt.scrollIntoView())}return!0}let lt=rt.type.spec.isolating||tt>0&&at?null:Selection.findFrom(_e,1),ct=lt&&lt.$from.blockRange(lt.$to),ut=ct&&liftTarget(ct);if(ut!=null&&ut>=_e.depth)return et&&et($.tr.lift(ct,ut).scrollIntoView()),!0;if(st&&textblockAt(rt,"start",!0)&&textblockAt(nt,"end")){let dt=nt,ft=[];for(;ft.push(dt),!dt.isTextblock;)dt=dt.lastChild;let pt=rt,mt=1;for(;!pt.isTextblock;pt=pt.firstChild)mt++;if(dt.canReplace(dt.childCount,dt.childCount,pt.content)){if(et){let ht=Fragment.empty;for(let xt=ft.length-1;xt>=0;xt--)ht=Fragment.from(ft[xt].copy(ht));let yt=$.tr.step(new ReplaceAroundStep(_e.pos-ft.length,_e.pos+rt.nodeSize,_e.pos+mt,_e.pos+rt.nodeSize-mt,new Slice(ht,ft.length,0),0,!0));et(yt.scrollIntoView())}return!0}}return!1}function selectTextblockSide($){return function(_e,et){let tt=_e.selection,nt=$<0?tt.$from:tt.$to,rt=nt.depth;for(;nt.node(rt).isInline;){if(!rt)return!1;rt--}return nt.node(rt).isTextblock?(et&&et(_e.tr.setSelection(TextSelection.create(_e.doc,$<0?nt.start(rt):nt.end(rt)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1($,_e=null){return function(et,tt){let{$from:nt,$to:rt}=et.selection,it=nt.blockRange(rt),ot=it&&findWrapping(it,$,_e);return ot?(tt&&tt(et.tr.wrap(it,ot).scrollIntoView()),!0):!1}}function setBlockType($,_e=null){return function(et,tt){let nt=!1;for(let rt=0;rt<et.selection.ranges.length&&!nt;rt++){let{$from:{pos:it},$to:{pos:ot}}=et.selection.ranges[rt];et.doc.nodesBetween(it,ot,(at,st)=>{if(nt)return!1;if(!(!at.isTextblock||at.hasMarkup($,_e)))if(at.type==$)nt=!0;else{let lt=et.doc.resolve(st),ct=lt.index();nt=lt.parent.canReplaceWith(ct,ct+1,$)}})}if(!nt)return!1;if(tt){let rt=et.tr;for(let it=0;it<et.selection.ranges.length;it++){let{$from:{pos:ot},$to:{pos:at}}=et.selection.ranges[it];rt.setBlockType(ot,at,$,_e)}tt(rt.scrollIntoView())}return!0}}function chainCommands(...$){return function(_e,et,tt){for(let nt=0;nt<$.length;nt++)if($[nt](_e,et,tt))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1($,_e=null){return function(et,tt){let{$from:nt,$to:rt}=et.selection,it=nt.blockRange(rt);if(!it)return!1;let ot=tt?et.tr:null;return wrapRangeInList(ot,it,$,_e)?(tt&&tt(ot.scrollIntoView()),!0):!1}}function wrapRangeInList($,_e,et,tt=null){let nt=!1,rt=_e,it=_e.$from.doc;if(_e.depth>=2&&_e.$from.node(_e.depth-1).type.compatibleContent(et)&&_e.startIndex==0){if(_e.$from.index(_e.depth-1)==0)return!1;let at=it.resolve(_e.start-2);rt=new NodeRange(at,at,_e.depth),_e.endIndex<_e.parent.childCount&&(_e=new NodeRange(_e.$from,it.resolve(_e.$to.end(_e.depth)),_e.depth)),nt=!0}let ot=findWrapping(rt,et,tt,_e);return ot?($&&doWrapInList($,_e,ot,nt,et),!0):!1}function doWrapInList($,_e,et,tt,nt){let rt=Fragment.empty;for(let lt=et.length-1;lt>=0;lt--)rt=Fragment.from(et[lt].type.create(et[lt].attrs,rt));$.step(new ReplaceAroundStep(_e.start-(tt?2:0),_e.end,_e.start,_e.end,new Slice(rt,0,0),et.length,!0));let it=0;for(let lt=0;lt<et.length;lt++)et[lt].type==nt&&(it=lt+1);let ot=et.length-it,at=_e.start+et.length-(tt?2:0),st=_e.parent;for(let lt=_e.startIndex,ct=_e.endIndex,ut=!0;lt<ct;lt++,ut=!1)!ut&&canSplit($.doc,at,ot)&&($.split(at,ot),at+=2*ot),at+=st.child(lt).nodeSize;return $}function liftListItem$1($){return function(_e,et){let{$from:tt,$to:nt}=_e.selection,rt=tt.blockRange(nt,it=>it.childCount>0&&it.firstChild.type==$);return rt?et?tt.node(rt.depth-1).type==$?liftToOuterList(_e,et,$,rt):liftOutOfList(_e,et,rt):!0:!1}}function liftToOuterList($,_e,et,tt){let nt=$.tr,rt=tt.end,it=tt.$to.end(tt.depth);rt<it&&(nt.step(new ReplaceAroundStep(rt-1,it,rt,it,new Slice(Fragment.from(et.create(null,tt.parent.copy())),1,0),1,!0)),tt=new NodeRange(nt.doc.resolve(tt.$from.pos),nt.doc.resolve(it),tt.depth));const ot=liftTarget(tt);if(ot==null)return!1;nt.lift(tt,ot);let at=nt.doc.resolve(nt.mapping.map(rt,-1)-1);return canJoin(nt.doc,at.pos)&&at.nodeBefore.type==at.nodeAfter.type&&nt.join(at.pos),_e(nt.scrollIntoView()),!0}function liftOutOfList($,_e,et){let tt=$.tr,nt=et.parent;for(let dt=et.end,ft=et.endIndex-1,pt=et.startIndex;ft>pt;ft--)dt-=nt.child(ft).nodeSize,tt.delete(dt-1,dt+1);let rt=tt.doc.resolve(et.start),it=rt.nodeAfter;if(tt.mapping.map(et.end)!=et.start+rt.nodeAfter.nodeSize)return!1;let ot=et.startIndex==0,at=et.endIndex==nt.childCount,st=rt.node(-1),lt=rt.index(-1);if(!st.canReplace(lt+(ot?0:1),lt+1,it.content.append(at?Fragment.empty:Fragment.from(nt))))return!1;let ct=rt.pos,ut=ct+it.nodeSize;return tt.step(new ReplaceAroundStep(ct-(ot?1:0),ut+(at?1:0),ct+1,ut-1,new Slice((ot?Fragment.empty:Fragment.from(nt.copy(Fragment.empty))).append(at?Fragment.empty:Fragment.from(nt.copy(Fragment.empty))),ot?0:1,at?0:1),ot?0:1)),_e(tt.scrollIntoView()),!0}function sinkListItem$1($){return function(_e,et){let{$from:tt,$to:nt}=_e.selection,rt=tt.blockRange(nt,st=>st.childCount>0&&st.firstChild.type==$);if(!rt)return!1;let it=rt.startIndex;if(it==0)return!1;let ot=rt.parent,at=ot.child(it-1);if(at.type!=$)return!1;if(et){let st=at.lastChild&&at.lastChild.type==ot.type,lt=Fragment.from(st?$.create():null),ct=new Slice(Fragment.from($.create(null,Fragment.from(ot.type.create(null,lt)))),st?3:1,0),ut=rt.start,dt=rt.end;et(_e.tr.step(new ReplaceAroundStep(ut-(st?3:1),dt,ut,dt,ct,1,!0)).scrollIntoView())}return!0}}function createChainableState($){const{state:_e,transaction:et}=$;let{selection:tt}=et,{doc:nt}=et,{storedMarks:rt}=et;return{..._e,apply:_e.apply.bind(_e),applyTransaction:_e.applyTransaction.bind(_e),plugins:_e.plugins,schema:_e.schema,reconfigure:_e.reconfigure.bind(_e),toJSON:_e.toJSON.bind(_e),get storedMarks(){return rt},get selection(){return tt},get doc(){return nt},get tr(){return tt=et.selection,nt=et.doc,rt=et.storedMarks,et}}}class CommandManager{constructor(_e){this.editor=_e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=_e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:_e,editor:et,state:tt}=this,{view:nt}=et,{tr:rt}=tt,it=this.buildProps(rt);return Object.fromEntries(Object.entries(_e).map(([ot,at])=>[ot,(...lt)=>{const ct=at(...lt)(it);return!rt.getMeta("preventDispatch")&&!this.hasCustomState&&nt.dispatch(rt),ct}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(_e,et=!0){const{rawCommands:tt,editor:nt,state:rt}=this,{view:it}=nt,ot=[],at=!!_e,st=_e||rt.tr,lt=()=>(!at&&et&&!st.getMeta("preventDispatch")&&!this.hasCustomState&&it.dispatch(st),ot.every(ut=>ut===!0)),ct={...Object.fromEntries(Object.entries(tt).map(([ut,dt])=>[ut,(...pt)=>{const mt=this.buildProps(st,et),ht=dt(...pt)(mt);return ot.push(ht),ct}])),run:lt};return ct}createCan(_e){const{rawCommands:et,state:tt}=this,nt=!1,rt=_e||tt.tr,it=this.buildProps(rt,nt);return{...Object.fromEntries(Object.entries(et).map(([at,st])=>[at,(...lt)=>st(...lt)({...it,dispatch:void 0})])),chain:()=>this.createChain(rt,nt)}}buildProps(_e,et=!0){const{rawCommands:tt,editor:nt,state:rt}=this,{view:it}=nt,ot={tr:_e,editor:nt,view:it,state:createChainableState({state:rt,transaction:_e}),dispatch:et?()=>{}:void 0,chain:()=>this.createChain(_e,et),can:()=>this.createCan(_e),get commands(){return Object.fromEntries(Object.entries(tt).map(([at,st])=>[at,(...lt)=>st(...lt)(ot)]))}};return ot}}let EventEmitter$1=class{constructor(){this.callbacks={}}on(_e,et){return this.callbacks[_e]||(this.callbacks[_e]=[]),this.callbacks[_e].push(et),this}emit(_e,...et){const tt=this.callbacks[_e];return tt&&tt.forEach(nt=>nt.apply(this,et)),this}off(_e,et){const tt=this.callbacks[_e];return tt&&(et?this.callbacks[_e]=tt.filter(nt=>nt!==et):delete this.callbacks[_e]),this}once(_e,et){const tt=(...nt)=>{this.off(_e,tt),et.apply(this,nt)};return this.on(_e,tt)}removeAllListeners(){this.callbacks={}}};function getExtensionField($,_e,et){return $.config[_e]===void 0&&$.parent?getExtensionField($.parent,_e,et):typeof $.config[_e]=="function"?$.config[_e].bind({...et,parent:$.parent?getExtensionField($.parent,_e,et):null}):$.config[_e]}function splitExtensions($){const _e=$.filter(nt=>nt.type==="extension"),et=$.filter(nt=>nt.type==="node"),tt=$.filter(nt=>nt.type==="mark");return{baseExtensions:_e,nodeExtensions:et,markExtensions:tt}}function getAttributesFromExtensions($){const _e=[],{nodeExtensions:et,markExtensions:tt}=splitExtensions($),nt=[...et,...tt],rt={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return $.forEach(it=>{const ot={name:it.name,options:it.options,storage:it.storage,extensions:nt},at=getExtensionField(it,"addGlobalAttributes",ot);if(!at)return;at().forEach(lt=>{lt.types.forEach(ct=>{Object.entries(lt.attributes).forEach(([ut,dt])=>{_e.push({type:ct,name:ut,attribute:{...rt,...dt}})})})})}),nt.forEach(it=>{const ot={name:it.name,options:it.options,storage:it.storage},at=getExtensionField(it,"addAttributes",ot);if(!at)return;const st=at();Object.entries(st).forEach(([lt,ct])=>{const ut={...rt,...ct};typeof(ut==null?void 0:ut.default)=="function"&&(ut.default=ut.default()),ut!=null&&ut.isRequired&&(ut==null?void 0:ut.default)===void 0&&delete ut.default,_e.push({type:it.name,name:lt,attribute:ut})})}),_e}function getNodeType($,_e){if(typeof $=="string"){if(!_e.nodes[$])throw Error(`There is no node type named '${$}'. Maybe you forgot to add the extension?`);return _e.nodes[$]}return $}function mergeAttributes(...$){return $.filter(_e=>!!_e).reduce((_e,et)=>{const tt={..._e};return Object.entries(et).forEach(([nt,rt])=>{if(!tt[nt]){tt[nt]=rt;return}if(nt==="class"){const ot=rt?String(rt).split(" "):[],at=tt[nt]?tt[nt].split(" "):[],st=ot.filter(lt=>!at.includes(lt));tt[nt]=[...at,...st].join(" ")}else if(nt==="style"){const ot=rt?rt.split(";").map(lt=>lt.trim()).filter(Boolean):[],at=tt[nt]?tt[nt].split(";").map(lt=>lt.trim()).filter(Boolean):[],st=new Map;at.forEach(lt=>{const[ct,ut]=lt.split(":").map(dt=>dt.trim());st.set(ct,ut)}),ot.forEach(lt=>{const[ct,ut]=lt.split(":").map(dt=>dt.trim());st.set(ct,ut)}),tt[nt]=Array.from(st.entries()).map(([lt,ct])=>`${lt}: ${ct}`).join("; ")}else tt[nt]=rt}),tt},{})}function getRenderedAttributes($,_e){return _e.filter(et=>et.type===$.type.name).filter(et=>et.attribute.rendered).map(et=>et.attribute.renderHTML?et.attribute.renderHTML($.attrs)||{}:{[et.name]:$.attrs[et.name]}).reduce((et,tt)=>mergeAttributes(et,tt),{})}function isFunction$4($){return typeof $=="function"}function callOrReturn($,_e=void 0,...et){return isFunction$4($)?_e?$.bind(_e)(...et):$(...et):$}function isEmptyObject($={}){return Object.keys($).length===0&&$.constructor===Object}function fromString($){return typeof $!="string"?$:$.match(/^[+-]?(?:\d*\.)?\d+$/)?Number($):$==="true"?!0:$==="false"?!1:$}function injectExtensionAttributesToParseRule($,_e){return"style"in $?$:{...$,getAttrs:et=>{const tt=$.getAttrs?$.getAttrs(et):$.attrs;if(tt===!1)return!1;const nt=_e.reduce((rt,it)=>{const ot=it.attribute.parseHTML?it.attribute.parseHTML(et):fromString(et.getAttribute(it.name));return ot==null?rt:{...rt,[it.name]:ot}},{});return{...tt,...nt}}}}function cleanUpSchemaItem($){return Object.fromEntries(Object.entries($).filter(([_e,et])=>_e==="attrs"&&isEmptyObject(et)?!1:et!=null))}function getSchemaByResolvedExtensions($,_e){var et;const tt=getAttributesFromExtensions($),{nodeExtensions:nt,markExtensions:rt}=splitExtensions($),it=(et=nt.find(st=>getExtensionField(st,"topNode")))===null||et===void 0?void 0:et.name,ot=Object.fromEntries(nt.map(st=>{const lt=tt.filter(ht=>ht.type===st.name),ct={name:st.name,options:st.options,storage:st.storage,editor:_e},ut=$.reduce((ht,yt)=>{const xt=getExtensionField(yt,"extendNodeSchema",ct);return{...ht,...xt?xt(st):{}}},{}),dt=cleanUpSchemaItem({...ut,content:callOrReturn(getExtensionField(st,"content",ct)),marks:callOrReturn(getExtensionField(st,"marks",ct)),group:callOrReturn(getExtensionField(st,"group",ct)),inline:callOrReturn(getExtensionField(st,"inline",ct)),atom:callOrReturn(getExtensionField(st,"atom",ct)),selectable:callOrReturn(getExtensionField(st,"selectable",ct)),draggable:callOrReturn(getExtensionField(st,"draggable",ct)),code:callOrReturn(getExtensionField(st,"code",ct)),whitespace:callOrReturn(getExtensionField(st,"whitespace",ct)),linebreakReplacement:callOrReturn(getExtensionField(st,"linebreakReplacement",ct)),defining:callOrReturn(getExtensionField(st,"defining",ct)),isolating:callOrReturn(getExtensionField(st,"isolating",ct)),attrs:Object.fromEntries(lt.map(ht=>{var yt;return[ht.name,{default:(yt=ht==null?void 0:ht.attribute)===null||yt===void 0?void 0:yt.default}]}))}),ft=callOrReturn(getExtensionField(st,"parseHTML",ct));ft&&(dt.parseDOM=ft.map(ht=>injectExtensionAttributesToParseRule(ht,lt)));const pt=getExtensionField(st,"renderHTML",ct);pt&&(dt.toDOM=ht=>pt({node:ht,HTMLAttributes:getRenderedAttributes(ht,lt)}));const mt=getExtensionField(st,"renderText",ct);return mt&&(dt.toText=mt),[st.name,dt]})),at=Object.fromEntries(rt.map(st=>{const lt=tt.filter(mt=>mt.type===st.name),ct={name:st.name,options:st.options,storage:st.storage,editor:_e},ut=$.reduce((mt,ht)=>{const yt=getExtensionField(ht,"extendMarkSchema",ct);return{...mt,...yt?yt(st):{}}},{}),dt=cleanUpSchemaItem({...ut,inclusive:callOrReturn(getExtensionField(st,"inclusive",ct)),excludes:callOrReturn(getExtensionField(st,"excludes",ct)),group:callOrReturn(getExtensionField(st,"group",ct)),spanning:callOrReturn(getExtensionField(st,"spanning",ct)),code:callOrReturn(getExtensionField(st,"code",ct)),attrs:Object.fromEntries(lt.map(mt=>{var ht;return[mt.name,{default:(ht=mt==null?void 0:mt.attribute)===null||ht===void 0?void 0:ht.default}]}))}),ft=callOrReturn(getExtensionField(st,"parseHTML",ct));ft&&(dt.parseDOM=ft.map(mt=>injectExtensionAttributesToParseRule(mt,lt)));const pt=getExtensionField(st,"renderHTML",ct);return pt&&(dt.toDOM=mt=>pt({mark:mt,HTMLAttributes:getRenderedAttributes(mt,lt)})),[st.name,dt]}));return new Schema({topNode:it,nodes:ot,marks:at})}function getSchemaTypeByName($,_e){return _e.nodes[$]||_e.marks[$]||null}function isExtensionRulesEnabled($,_e){return Array.isArray(_e)?_e.some(et=>(typeof et=="string"?et:et.name)===$.name):_e}function getHTMLFromFragment($,_e){const et=DOMSerializer.fromSchema(_e).serializeFragment($),nt=document.implementation.createHTMLDocument().createElement("div");return nt.appendChild(et),nt.innerHTML}const getTextContentFromNodes=($,_e=500)=>{let et="";const tt=$.parentOffset;return $.parent.nodesBetween(Math.max(0,tt-_e),tt,(nt,rt,it,ot)=>{var at,st;const lt=((st=(at=nt.type.spec).toText)===null||st===void 0?void 0:st.call(at,{node:nt,pos:rt,parent:it,index:ot}))||nt.textContent||"%leaf%";et+=nt.isAtom&&!nt.isText?lt:lt.slice(0,Math.max(0,tt-rt))}),et};function isRegExp($){return Object.prototype.toString.call($)==="[object RegExp]"}class InputRule{constructor(_e){this.find=_e.find,this.handler=_e.handler}}const inputRuleMatcherHandler=($,_e)=>{if(isRegExp(_e))return _e.exec($);const et=_e($);if(!et)return null;const tt=[et.text];return tt.index=et.index,tt.input=$,tt.data=et.data,et.replaceWith&&(et.text.includes(et.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),tt.push(et.replaceWith)),tt};function run$1($){var _e;const{editor:et,from:tt,to:nt,text:rt,rules:it,plugin:ot}=$,{view:at}=et;if(at.composing)return!1;const st=at.state.doc.resolve(tt);if(st.parent.type.spec.code||!((_e=st.nodeBefore||st.nodeAfter)===null||_e===void 0)&&_e.marks.find(ut=>ut.type.spec.code))return!1;let lt=!1;const ct=getTextContentFromNodes(st)+rt;return it.forEach(ut=>{if(lt)return;const dt=inputRuleMatcherHandler(ct,ut.find);if(!dt)return;const ft=at.state.tr,pt=createChainableState({state:at.state,transaction:ft}),mt={from:tt-(dt[0].length-rt.length),to:nt},{commands:ht,chain:yt,can:xt}=new CommandManager({editor:et,state:pt});ut.handler({state:pt,range:mt,match:dt,commands:ht,chain:yt,can:xt})===null||!ft.steps.length||(ft.setMeta(ot,{transform:ft,from:tt,to:nt,text:rt}),at.dispatch(ft),lt=!0)}),lt}function inputRulesPlugin($){const{editor:_e,rules:et}=$,tt=new Plugin({state:{init(){return null},apply(nt,rt,it){const ot=nt.getMeta(tt);if(ot)return ot;const at=nt.getMeta("applyInputRules");return!!at&&setTimeout(()=>{let{text:lt}=at;typeof lt=="string"?lt=lt:lt=getHTMLFromFragment(Fragment.from(lt),it.schema);const{from:ct}=at,ut=ct+lt.length;run$1({editor:_e,from:ct,to:ut,text:lt,rules:et,plugin:tt})}),nt.selectionSet||nt.docChanged?null:rt}},props:{handleTextInput(nt,rt,it,ot){return run$1({editor:_e,from:rt,to:it,text:ot,rules:et,plugin:tt})},handleDOMEvents:{compositionend:nt=>(setTimeout(()=>{const{$cursor:rt}=nt.state.selection;rt&&run$1({editor:_e,from:rt.pos,to:rt.pos,text:"",rules:et,plugin:tt})}),!1)},handleKeyDown(nt,rt){if(rt.key!=="Enter")return!1;const{$cursor:it}=nt.state.selection;return it?run$1({editor:_e,from:it.pos,to:it.pos,text:`
`,rules:et,plugin:tt}):!1}},isInputRules:!0});return tt}function getType($){return Object.prototype.toString.call($).slice(8,-1)}function isPlainObject$2($){return getType($)!=="Object"?!1:$.constructor===Object&&Object.getPrototypeOf($)===Object.prototype}function mergeDeep$1($,_e){const et={...$};return isPlainObject$2($)&&isPlainObject$2(_e)&&Object.keys(_e).forEach(tt=>{isPlainObject$2(_e[tt])&&isPlainObject$2($[tt])?et[tt]=mergeDeep$1($[tt],_e[tt]):et[tt]=_e[tt]}),et}class Mark{constructor(_e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Mark(_e)}configure(_e={}){const et=this.extend({...this.config,addOptions:()=>mergeDeep$1(this.options,_e)});return et.name=this.name,et.parent=this.parent,et}extend(_e={}){const et=new Mark(_e);return et.parent=this,this.child=et,et.name=_e.name?_e.name:et.parent.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${et.name}".`),et.options=callOrReturn(getExtensionField(et,"addOptions",{name:et.name})),et.storage=callOrReturn(getExtensionField(et,"addStorage",{name:et.name,options:et.options})),et}static handleExit({editor:_e,mark:et}){const{tr:tt}=_e.state,nt=_e.state.selection.$from;if(nt.pos===nt.end()){const it=nt.marks();if(!!!it.find(st=>(st==null?void 0:st.type.name)===et.name))return!1;const at=it.find(st=>(st==null?void 0:st.type.name)===et.name);return at&&tt.removeStoredMark(at),tt.insertText(" ",nt.pos),_e.view.dispatch(tt),!0}return!1}}function isNumber$5($){return typeof $=="number"}class PasteRule{constructor(_e){this.find=_e.find,this.handler=_e.handler}}const pasteRuleMatcherHandler=($,_e,et)=>{if(isRegExp(_e))return[...$.matchAll(_e)];const tt=_e($,et);return tt?tt.map(nt=>{const rt=[nt.text];return rt.index=nt.index,rt.input=$,rt.data=nt.data,nt.replaceWith&&(nt.text.includes(nt.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),rt.push(nt.replaceWith)),rt}):[]};function run($){const{editor:_e,state:et,from:tt,to:nt,rule:rt,pasteEvent:it,dropEvent:ot}=$,{commands:at,chain:st,can:lt}=new CommandManager({editor:_e,state:et}),ct=[];return et.doc.nodesBetween(tt,nt,(dt,ft)=>{if(!dt.isTextblock||dt.type.spec.code)return;const pt=Math.max(tt,ft),mt=Math.min(nt,ft+dt.content.size),ht=dt.textBetween(pt-ft,mt-ft,void 0,"");pasteRuleMatcherHandler(ht,rt.find,it).forEach(xt=>{if(xt.index===void 0)return;const St=pt+xt.index+1,gt=St+xt[0].length,vt={from:et.tr.mapping.map(St),to:et.tr.mapping.map(gt)},bt=rt.handler({state:et,range:vt,match:xt,commands:at,chain:st,can:lt,pasteEvent:it,dropEvent:ot});ct.push(bt)})}),ct.every(dt=>dt!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=$=>{var _e;const et=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(_e=et.clipboardData)===null||_e===void 0||_e.setData("text/html",$),et};function pasteRulesPlugin($){const{editor:_e,rules:et}=$;let tt=null,nt=!1,rt=!1,it=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,ot;try{ot=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{ot=null}const at=({state:lt,from:ct,to:ut,rule:dt,pasteEvt:ft})=>{const pt=lt.tr,mt=createChainableState({state:lt,transaction:pt});if(!(!run({editor:_e,state:mt,from:Math.max(ct-1,0),to:ut.b-1,rule:dt,pasteEvent:ft,dropEvent:ot})||!pt.steps.length)){try{ot=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{ot=null}return it=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,pt}};return et.map(lt=>new Plugin({view(ct){const ut=ft=>{var pt;tt=!((pt=ct.dom.parentElement)===null||pt===void 0)&&pt.contains(ft.target)?ct.dom.parentElement:null,tt&&(tiptapDragFromOtherEditor=_e)},dt=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",ut),window.addEventListener("dragend",dt),{destroy(){window.removeEventListener("dragstart",ut),window.removeEventListener("dragend",dt)}}},props:{handleDOMEvents:{drop:(ct,ut)=>{if(rt=tt===ct.dom.parentElement,ot=ut,!rt){const dt=tiptapDragFromOtherEditor;dt!=null&&dt.isEditable&&setTimeout(()=>{const ft=dt.state.selection;ft&&dt.commands.deleteRange({from:ft.from,to:ft.to})},10)}return!1},paste:(ct,ut)=>{var dt;const ft=(dt=ut.clipboardData)===null||dt===void 0?void 0:dt.getData("text/html");return it=ut,nt=!!(ft!=null&&ft.includes("data-pm-slice")),!1}}},appendTransaction:(ct,ut,dt)=>{const ft=ct[0],pt=ft.getMeta("uiEvent")==="paste"&&!nt,mt=ft.getMeta("uiEvent")==="drop"&&!rt,ht=ft.getMeta("applyPasteRules"),yt=!!ht;if(!pt&&!mt&&!yt)return;if(yt){let{text:gt}=ht;typeof gt=="string"?gt=gt:gt=getHTMLFromFragment(Fragment.from(gt),dt.schema);const{from:vt}=ht,bt=vt+gt.length,wt=createClipboardPasteEvent(gt);return at({rule:lt,state:dt,from:vt,to:{b:bt},pasteEvt:wt})}const xt=ut.doc.content.findDiffStart(dt.doc.content),St=ut.doc.content.findDiffEnd(dt.doc.content);if(!(!isNumber$5(xt)||!St||xt===St.b))return at({rule:lt,state:dt,from:xt,to:St,pasteEvt:it})}}))}function findDuplicates($){const _e=$.filter((et,tt)=>$.indexOf(et)!==tt);return Array.from(new Set(_e))}class ExtensionManager{constructor(_e,et){this.splittableMarks=[],this.editor=et,this.extensions=ExtensionManager.resolve(_e),this.schema=getSchemaByResolvedExtensions(this.extensions,et),this.setupExtensions()}static resolve(_e){const et=ExtensionManager.sort(ExtensionManager.flatten(_e)),tt=findDuplicates(et.map(nt=>nt.name));return tt.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${tt.map(nt=>`'${nt}'`).join(", ")}]. This can lead to issues.`),et}static flatten(_e){return _e.map(et=>{const tt={name:et.name,options:et.options,storage:et.storage},nt=getExtensionField(et,"addExtensions",tt);return nt?[et,...this.flatten(nt())]:et}).flat(10)}static sort(_e){return _e.sort((tt,nt)=>{const rt=getExtensionField(tt,"priority")||100,it=getExtensionField(nt,"priority")||100;return rt>it?-1:rt<it?1:0})}get commands(){return this.extensions.reduce((_e,et)=>{const tt={name:et.name,options:et.options,storage:et.storage,editor:this.editor,type:getSchemaTypeByName(et.name,this.schema)},nt=getExtensionField(et,"addCommands",tt);return nt?{..._e,...nt()}:_e},{})}get plugins(){const{editor:_e}=this,et=ExtensionManager.sort([...this.extensions].reverse()),tt=[],nt=[],rt=et.map(it=>{const ot={name:it.name,options:it.options,storage:it.storage,editor:_e,type:getSchemaTypeByName(it.name,this.schema)},at=[],st=getExtensionField(it,"addKeyboardShortcuts",ot);let lt={};if(it.type==="mark"&&getExtensionField(it,"exitable",ot)&&(lt.ArrowRight=()=>Mark.handleExit({editor:_e,mark:it})),st){const pt=Object.fromEntries(Object.entries(st()).map(([mt,ht])=>[mt,()=>ht({editor:_e})]));lt={...lt,...pt}}const ct=keymap(lt);at.push(ct);const ut=getExtensionField(it,"addInputRules",ot);isExtensionRulesEnabled(it,_e.options.enableInputRules)&&ut&&tt.push(...ut());const dt=getExtensionField(it,"addPasteRules",ot);isExtensionRulesEnabled(it,_e.options.enablePasteRules)&&dt&&nt.push(...dt());const ft=getExtensionField(it,"addProseMirrorPlugins",ot);if(ft){const pt=ft();at.push(...pt)}return at}).flat();return[inputRulesPlugin({editor:_e,rules:tt}),...pasteRulesPlugin({editor:_e,rules:nt}),...rt]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:_e}=this,{nodeExtensions:et}=splitExtensions(this.extensions);return Object.fromEntries(et.filter(tt=>!!getExtensionField(tt,"addNodeView")).map(tt=>{const nt=this.attributes.filter(at=>at.type===tt.name),rt={name:tt.name,options:tt.options,storage:tt.storage,editor:_e,type:getNodeType(tt.name,this.schema)},it=getExtensionField(tt,"addNodeView",rt);if(!it)return[];const ot=(at,st,lt,ct,ut)=>{const dt=getRenderedAttributes(at,nt);return it()({node:at,view:st,getPos:lt,decorations:ct,innerDecorations:ut,editor:_e,extension:tt,HTMLAttributes:dt})};return[tt.name,ot]}))}setupExtensions(){this.extensions.forEach(_e=>{var et;this.editor.extensionStorage[_e.name]=_e.storage;const tt={name:_e.name,options:_e.options,storage:_e.storage,editor:this.editor,type:getSchemaTypeByName(_e.name,this.schema)};_e.type==="mark"&&(!((et=callOrReturn(getExtensionField(_e,"keepOnSplit",tt)))!==null&&et!==void 0)||et)&&this.splittableMarks.push(_e.name);const nt=getExtensionField(_e,"onBeforeCreate",tt),rt=getExtensionField(_e,"onCreate",tt),it=getExtensionField(_e,"onUpdate",tt),ot=getExtensionField(_e,"onSelectionUpdate",tt),at=getExtensionField(_e,"onTransaction",tt),st=getExtensionField(_e,"onFocus",tt),lt=getExtensionField(_e,"onBlur",tt),ct=getExtensionField(_e,"onDestroy",tt);nt&&this.editor.on("beforeCreate",nt),rt&&this.editor.on("create",rt),it&&this.editor.on("update",it),ot&&this.editor.on("selectionUpdate",ot),at&&this.editor.on("transaction",at),st&&this.editor.on("focus",st),lt&&this.editor.on("blur",lt),ct&&this.editor.on("destroy",ct)})}}class Extension{constructor(_e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Extension(_e)}configure(_e={}){const et=this.extend({...this.config,addOptions:()=>mergeDeep$1(this.options,_e)});return et.name=this.name,et.parent=this.parent,et}extend(_e={}){const et=new Extension({...this.config,..._e});return et.parent=this,this.child=et,et.name=_e.name?_e.name:et.parent.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${et.name}".`),et.options=callOrReturn(getExtensionField(et,"addOptions",{name:et.name})),et.storage=callOrReturn(getExtensionField(et,"addStorage",{name:et.name,options:et.options})),et}}function getTextBetween($,_e,et){const{from:tt,to:nt}=_e,{blockSeparator:rt=`

`,textSerializers:it={}}=et||{};let ot="";return $.nodesBetween(tt,nt,(at,st,lt,ct)=>{var ut;at.isBlock&&st>tt&&(ot+=rt);const dt=it==null?void 0:it[at.type.name];if(dt)return lt&&(ot+=dt({node:at,pos:st,parent:lt,index:ct,range:_e})),!1;at.isText&&(ot+=(ut=at==null?void 0:at.text)===null||ut===void 0?void 0:ut.slice(Math.max(tt,st)-st,nt-st))}),ot}function getTextSerializersFromSchema($){return Object.fromEntries(Object.entries($.nodes).filter(([,_e])=>_e.spec.toText).map(([_e,et])=>[_e,et.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:$}=this,{state:_e,schema:et}=$,{doc:tt,selection:nt}=_e,{ranges:rt}=nt,it=Math.min(...rt.map(lt=>lt.$from.pos)),ot=Math.max(...rt.map(lt=>lt.$to.pos)),at=getTextSerializersFromSchema(et);return getTextBetween(tt,{from:it,to:ot},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:at})}}})]}}),blur=()=>({editor:$,view:_e})=>(requestAnimationFrame(()=>{var et;$.isDestroyed||(_e.dom.blur(),(et=window==null?void 0:window.getSelection())===null||et===void 0||et.removeAllRanges())}),!0),clearContent=($=!1)=>({commands:_e})=>_e.setContent("",$),clearNodes=()=>({state:$,tr:_e,dispatch:et})=>{const{selection:tt}=_e,{ranges:nt}=tt;return et&&nt.forEach(({$from:rt,$to:it})=>{$.doc.nodesBetween(rt.pos,it.pos,(ot,at)=>{if(ot.type.isText)return;const{doc:st,mapping:lt}=_e,ct=st.resolve(lt.map(at)),ut=st.resolve(lt.map(at+ot.nodeSize)),dt=ct.blockRange(ut);if(!dt)return;const ft=liftTarget(dt);if(ot.type.isTextblock){const{defaultType:pt}=ct.parent.contentMatchAt(ct.index());_e.setNodeMarkup(dt.start,pt)}(ft||ft===0)&&_e.lift(dt,ft)})}),!0},command=$=>_e=>$(_e),createParagraphNear=()=>({state:$,dispatch:_e})=>createParagraphNear$1($,_e),cut=($,_e)=>({editor:et,tr:tt})=>{const{state:nt}=et,rt=nt.doc.slice($.from,$.to);tt.deleteRange($.from,$.to);const it=tt.mapping.map(_e);return tt.insert(it,rt.content),tt.setSelection(new TextSelection(tt.doc.resolve(Math.max(it-1,0)))),!0},deleteCurrentNode=()=>({tr:$,dispatch:_e})=>{const{selection:et}=$,tt=et.$anchor.node();if(tt.content.size>0)return!1;const nt=$.selection.$anchor;for(let rt=nt.depth;rt>0;rt-=1)if(nt.node(rt).type===tt.type){if(_e){const ot=nt.before(rt),at=nt.after(rt);$.delete(ot,at).scrollIntoView()}return!0}return!1},deleteNode=$=>({tr:_e,state:et,dispatch:tt})=>{const nt=getNodeType($,et.schema),rt=_e.selection.$anchor;for(let it=rt.depth;it>0;it-=1)if(rt.node(it).type===nt){if(tt){const at=rt.before(it),st=rt.after(it);_e.delete(at,st).scrollIntoView()}return!0}return!1},deleteRange=$=>({tr:_e,dispatch:et})=>{const{from:tt,to:nt}=$;return et&&_e.delete(tt,nt),!0},deleteSelection=()=>({state:$,dispatch:_e})=>deleteSelection$1($,_e),enter=()=>({commands:$})=>$.keyboardShortcut("Enter"),exitCode=()=>({state:$,dispatch:_e})=>exitCode$1($,_e);function objectIncludes($,_e,et={strict:!0}){const tt=Object.keys(_e);return tt.length?tt.every(nt=>et.strict?_e[nt]===$[nt]:isRegExp(_e[nt])?_e[nt].test($[nt]):_e[nt]===$[nt]):!0}function findMarkInSet($,_e,et={}){return $.find(tt=>tt.type===_e&&objectIncludes(Object.fromEntries(Object.keys(et).map(nt=>[nt,tt.attrs[nt]])),et))}function isMarkInSet($,_e,et={}){return!!findMarkInSet($,_e,et)}function getMarkRange($,_e,et){var tt;if(!$||!_e)return;let nt=$.parent.childAfter($.parentOffset);if((!nt.node||!nt.node.marks.some(lt=>lt.type===_e))&&(nt=$.parent.childBefore($.parentOffset)),!nt.node||!nt.node.marks.some(lt=>lt.type===_e)||(et=et||((tt=nt.node.marks[0])===null||tt===void 0?void 0:tt.attrs),!findMarkInSet([...nt.node.marks],_e,et)))return;let it=nt.index,ot=$.start()+nt.offset,at=it+1,st=ot+nt.node.nodeSize;for(;it>0&&isMarkInSet([...$.parent.child(it-1).marks],_e,et);)it-=1,ot-=$.parent.child(it).nodeSize;for(;at<$.parent.childCount&&isMarkInSet([...$.parent.child(at).marks],_e,et);)st+=$.parent.child(at).nodeSize,at+=1;return{from:ot,to:st}}function getMarkType($,_e){if(typeof $=="string"){if(!_e.marks[$])throw Error(`There is no mark type named '${$}'. Maybe you forgot to add the extension?`);return _e.marks[$]}return $}const extendMarkRange=($,_e={})=>({tr:et,state:tt,dispatch:nt})=>{const rt=getMarkType($,tt.schema),{doc:it,selection:ot}=et,{$from:at,from:st,to:lt}=ot;if(nt){const ct=getMarkRange(at,rt,_e);if(ct&&ct.from<=st&&ct.to>=lt){const ut=TextSelection.create(it,ct.from,ct.to);et.setSelection(ut)}}return!0},first=$=>_e=>{const et=typeof $=="function"?$(_e):$;for(let tt=0;tt<et.length;tt+=1)if(et[tt](_e))return!0;return!1};function isTextSelection($){return $ instanceof TextSelection}function minMax($=0,_e=0,et=0){return Math.min(Math.max($,_e),et)}function resolveFocusPosition($,_e=null){if(!_e)return null;const et=Selection.atStart($),tt=Selection.atEnd($);if(_e==="start"||_e===!0)return et;if(_e==="end")return tt;const nt=et.from,rt=tt.to;return _e==="all"?TextSelection.create($,minMax(0,nt,rt),minMax($.content.size,nt,rt)):TextSelection.create($,minMax(_e,nt,rt),minMax(_e,nt,rt))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function isSafari(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const focus=($=null,_e={})=>({editor:et,view:tt,tr:nt,dispatch:rt})=>{_e={scrollIntoView:!0,..._e};const it=()=>{(isiOS()||isAndroid())&&tt.dom.focus(),requestAnimationFrame(()=>{et.isDestroyed||(tt.focus(),isSafari()&&!isiOS()&&!isAndroid()&&tt.dom.focus({preventScroll:!0}))})};if(tt.hasFocus()&&$===null||$===!1)return!0;if(rt&&$===null&&!isTextSelection(et.state.selection))return it(),!0;const ot=resolveFocusPosition(nt.doc,$)||et.state.selection,at=et.state.selection.eq(ot);return rt&&(at||nt.setSelection(ot),at&&nt.storedMarks&&nt.setStoredMarks(nt.storedMarks),it()),!0},forEach$1=($,_e)=>et=>$.every((tt,nt)=>_e(tt,{...et,index:nt})),insertContent=($,_e)=>({tr:et,commands:tt})=>tt.insertContentAt({from:et.selection.from,to:et.selection.to},$,_e),removeWhitespaces=$=>{const _e=$.childNodes;for(let et=_e.length-1;et>=0;et-=1){const tt=_e[et];tt.nodeType===3&&tt.nodeValue&&/^(\n\s\s|\n)$/.test(tt.nodeValue)?$.removeChild(tt):tt.nodeType===1&&removeWhitespaces(tt)}return $};function elementFromString($){const _e=`<body>${$}</body>`,et=new window.DOMParser().parseFromString(_e,"text/html").body;return removeWhitespaces(et)}function createNodeFromContent($,_e,et){if($ instanceof Node$1||$ instanceof Fragment)return $;et={slice:!0,parseOptions:{},...et};const tt=typeof $=="object"&&$!==null,nt=typeof $=="string";if(tt)try{if(Array.isArray($)&&$.length>0)return Fragment.fromArray($.map(ot=>_e.nodeFromJSON(ot)));const it=_e.nodeFromJSON($);return et.errorOnInvalidContent&&it.check(),it}catch(rt){if(et.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:rt});return console.warn("[tiptap warn]: Invalid content.","Passed value:",$,"Error:",rt),createNodeFromContent("",_e,et)}if(nt){if(et.errorOnInvalidContent){let it=!1,ot="";const at=new Schema({topNode:_e.spec.topNode,marks:_e.spec.marks,nodes:_e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:st=>(it=!0,ot=typeof st=="string"?st:st.outerHTML,null)}]}})});if(et.slice?DOMParser.fromSchema(at).parseSlice(elementFromString($),et.parseOptions):DOMParser.fromSchema(at).parse(elementFromString($),et.parseOptions),et.errorOnInvalidContent&&it)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${ot}`)})}const rt=DOMParser.fromSchema(_e);return et.slice?rt.parseSlice(elementFromString($),et.parseOptions).content:rt.parse(elementFromString($),et.parseOptions)}return createNodeFromContent("",_e,et)}function selectionToInsertionEnd($,_e,et){const tt=$.steps.length-1;if(tt<_e)return;const nt=$.steps[tt];if(!(nt instanceof ReplaceStep||nt instanceof ReplaceAroundStep))return;const rt=$.mapping.maps[tt];let it=0;rt.forEach((ot,at,st,lt)=>{it===0&&(it=lt)}),$.setSelection(Selection.near($.doc.resolve(it),et))}const isFragment=$=>!("type"in $),insertContentAt=($,_e,et)=>({tr:tt,dispatch:nt,editor:rt})=>{var it;if(nt){et={parseOptions:rt.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...et};let ot;const at=mt=>{rt.emit("contentError",{editor:rt,error:mt,disableCollaboration:()=>{rt.storage.collaboration&&(rt.storage.collaboration.isDisabled=!0)}})},st={preserveWhitespace:"full",...et.parseOptions};if(!et.errorOnInvalidContent&&!rt.options.enableContentCheck&&rt.options.emitContentError)try{createNodeFromContent(_e,rt.schema,{parseOptions:st,errorOnInvalidContent:!0})}catch(mt){at(mt)}try{ot=createNodeFromContent(_e,rt.schema,{parseOptions:st,errorOnInvalidContent:(it=et.errorOnInvalidContent)!==null&&it!==void 0?it:rt.options.enableContentCheck})}catch(mt){return at(mt),!1}let{from:lt,to:ct}=typeof $=="number"?{from:$,to:$}:{from:$.from,to:$.to},ut=!0,dt=!0;if((isFragment(ot)?ot:[ot]).forEach(mt=>{mt.check(),ut=ut?mt.isText&&mt.marks.length===0:!1,dt=dt?mt.isBlock:!1}),lt===ct&&dt){const{parent:mt}=tt.doc.resolve(lt);mt.isTextblock&&!mt.type.spec.code&&!mt.childCount&&(lt-=1,ct+=1)}let pt;if(ut){if(Array.isArray(_e))pt=_e.map(mt=>mt.text||"").join("");else if(_e instanceof Fragment){let mt="";_e.forEach(ht=>{ht.text&&(mt+=ht.text)}),pt=mt}else typeof _e=="object"&&_e&&_e.text?pt=_e.text:pt=_e;tt.insertText(pt,lt,ct)}else pt=ot,tt.replaceWith(lt,ct,pt);et.updateSelection&&selectionToInsertionEnd(tt,tt.steps.length-1,-1),et.applyInputRules&&tt.setMeta("applyInputRules",{from:lt,text:pt}),et.applyPasteRules&&tt.setMeta("applyPasteRules",{from:lt,text:pt})}return!0},joinUp=()=>({state:$,dispatch:_e})=>joinUp$1($,_e),joinDown=()=>({state:$,dispatch:_e})=>joinDown$1($,_e),joinBackward=()=>({state:$,dispatch:_e})=>joinBackward$1($,_e),joinForward=()=>({state:$,dispatch:_e})=>joinForward$1($,_e),joinItemBackward=()=>({state:$,dispatch:_e,tr:et})=>{try{const tt=joinPoint($.doc,$.selection.$from.pos,-1);return tt==null?!1:(et.join(tt,2),_e&&_e(et),!0)}catch{return!1}},joinItemForward=()=>({state:$,dispatch:_e,tr:et})=>{try{const tt=joinPoint($.doc,$.selection.$from.pos,1);return tt==null?!1:(et.join(tt,2),_e&&_e(et),!0)}catch{return!1}},joinTextblockBackward=()=>({state:$,dispatch:_e})=>joinTextblockBackward$1($,_e),joinTextblockForward=()=>({state:$,dispatch:_e})=>joinTextblockForward$1($,_e);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName($){const _e=$.split(/-(?!$)/);let et=_e[_e.length-1];et==="Space"&&(et=" ");let tt,nt,rt,it;for(let ot=0;ot<_e.length-1;ot+=1){const at=_e[ot];if(/^(cmd|meta|m)$/i.test(at))it=!0;else if(/^a(lt)?$/i.test(at))tt=!0;else if(/^(c|ctrl|control)$/i.test(at))nt=!0;else if(/^s(hift)?$/i.test(at))rt=!0;else if(/^mod$/i.test(at))isiOS()||isMacOS()?it=!0:nt=!0;else throw new Error(`Unrecognized modifier name: ${at}`)}return tt&&(et=`Alt-${et}`),nt&&(et=`Ctrl-${et}`),it&&(et=`Meta-${et}`),rt&&(et=`Shift-${et}`),et}const keyboardShortcut=$=>({editor:_e,view:et,tr:tt,dispatch:nt})=>{const rt=normalizeKeyName($).split(/-(?!$)/),it=rt.find(st=>!["Alt","Ctrl","Meta","Shift"].includes(st)),ot=new KeyboardEvent("keydown",{key:it==="Space"?" ":it,altKey:rt.includes("Alt"),ctrlKey:rt.includes("Ctrl"),metaKey:rt.includes("Meta"),shiftKey:rt.includes("Shift"),bubbles:!0,cancelable:!0}),at=_e.captureTransaction(()=>{et.someProp("handleKeyDown",st=>st(et,ot))});return at==null||at.steps.forEach(st=>{const lt=st.map(tt.mapping);lt&&nt&&tt.maybeStep(lt)}),!0};function isNodeActive($,_e,et={}){const{from:tt,to:nt,empty:rt}=$.selection,it=_e?getNodeType(_e,$.schema):null,ot=[];$.doc.nodesBetween(tt,nt,(ct,ut)=>{if(ct.isText)return;const dt=Math.max(tt,ut),ft=Math.min(nt,ut+ct.nodeSize);ot.push({node:ct,from:dt,to:ft})});const at=nt-tt,st=ot.filter(ct=>it?it.name===ct.node.type.name:!0).filter(ct=>objectIncludes(ct.node.attrs,et,{strict:!1}));return rt?!!st.length:st.reduce((ct,ut)=>ct+ut.to-ut.from,0)>=at}const lift=($,_e={})=>({state:et,dispatch:tt})=>{const nt=getNodeType($,et.schema);return isNodeActive(et,nt,_e)?lift$1(et,tt):!1},liftEmptyBlock=()=>({state:$,dispatch:_e})=>liftEmptyBlock$1($,_e),liftListItem=$=>({state:_e,dispatch:et})=>{const tt=getNodeType($,_e.schema);return liftListItem$1(tt)(_e,et)},newlineInCode=()=>({state:$,dispatch:_e})=>newlineInCode$1($,_e);function getSchemaTypeNameByName($,_e){return _e.nodes[$]?"node":_e.marks[$]?"mark":null}function deleteProps($,_e){const et=typeof _e=="string"?[_e]:_e;return Object.keys($).reduce((tt,nt)=>(et.includes(nt)||(tt[nt]=$[nt]),tt),{})}const resetAttributes=($,_e)=>({tr:et,state:tt,dispatch:nt})=>{let rt=null,it=null;const ot=getSchemaTypeNameByName(typeof $=="string"?$:$.name,tt.schema);return ot?(ot==="node"&&(rt=getNodeType($,tt.schema)),ot==="mark"&&(it=getMarkType($,tt.schema)),nt&&et.selection.ranges.forEach(at=>{tt.doc.nodesBetween(at.$from.pos,at.$to.pos,(st,lt)=>{rt&&rt===st.type&&et.setNodeMarkup(lt,void 0,deleteProps(st.attrs,_e)),it&&st.marks.length&&st.marks.forEach(ct=>{it===ct.type&&et.addMark(lt,lt+st.nodeSize,it.create(deleteProps(ct.attrs,_e)))})})}),!0):!1},scrollIntoView=()=>({tr:$,dispatch:_e})=>(_e&&$.scrollIntoView(),!0),selectAll=()=>({tr:$,dispatch:_e})=>{if(_e){const et=new AllSelection($.doc);$.setSelection(et)}return!0},selectNodeBackward=()=>({state:$,dispatch:_e})=>selectNodeBackward$1($,_e),selectNodeForward=()=>({state:$,dispatch:_e})=>selectNodeForward$1($,_e),selectParentNode=()=>({state:$,dispatch:_e})=>selectParentNode$1($,_e),selectTextblockEnd=()=>({state:$,dispatch:_e})=>selectTextblockEnd$1($,_e),selectTextblockStart=()=>({state:$,dispatch:_e})=>selectTextblockStart$1($,_e);function createDocument($,_e,et={},tt={}){return createNodeFromContent($,_e,{slice:!1,parseOptions:et,errorOnInvalidContent:tt.errorOnInvalidContent})}const setContent=($,_e=!1,et={},tt={})=>({editor:nt,tr:rt,dispatch:it,commands:ot})=>{var at,st;const{doc:lt}=rt;if(et.preserveWhitespace!=="full"){const ct=createDocument($,nt.schema,et,{errorOnInvalidContent:(at=tt.errorOnInvalidContent)!==null&&at!==void 0?at:nt.options.enableContentCheck});return it&&rt.replaceWith(0,lt.content.size,ct).setMeta("preventUpdate",!_e),!0}return it&&rt.setMeta("preventUpdate",!_e),ot.insertContentAt({from:0,to:lt.content.size},$,{parseOptions:et,errorOnInvalidContent:(st=tt.errorOnInvalidContent)!==null&&st!==void 0?st:nt.options.enableContentCheck})};function getMarkAttributes($,_e){const et=getMarkType(_e,$.schema),{from:tt,to:nt,empty:rt}=$.selection,it=[];rt?($.storedMarks&&it.push(...$.storedMarks),it.push(...$.selection.$head.marks())):$.doc.nodesBetween(tt,nt,at=>{it.push(...at.marks)});const ot=it.find(at=>at.type.name===et.name);return ot?{...ot.attrs}:{}}function defaultBlockAt($){for(let _e=0;_e<$.edgeCount;_e+=1){const{type:et}=$.edge(_e);if(et.isTextblock&&!et.hasRequiredAttrs())return et}return null}function findParentNodeClosestToPos($,_e){for(let et=$.depth;et>0;et-=1){const tt=$.node(et);if(_e(tt))return{pos:et>0?$.before(et):0,start:$.start(et),depth:et,node:tt}}}function findParentNode($){return _e=>findParentNodeClosestToPos(_e.$from,$)}function getText($,_e){const et={from:0,to:$.content.size};return getTextBetween($,et,_e)}function getNodeAttributes($,_e){const et=getNodeType(_e,$.schema),{from:tt,to:nt}=$.selection,rt=[];$.doc.nodesBetween(tt,nt,ot=>{rt.push(ot)});const it=rt.reverse().find(ot=>ot.type.name===et.name);return it?{...it.attrs}:{}}function getAttributes($,_e){const et=getSchemaTypeNameByName(typeof _e=="string"?_e:_e.name,$.schema);return et==="node"?getNodeAttributes($,_e):et==="mark"?getMarkAttributes($,_e):{}}function getMarksBetween($,_e,et){const tt=[];return $===_e?et.resolve($).marks().forEach(nt=>{const rt=et.resolve($),it=getMarkRange(rt,nt.type);it&&tt.push({mark:nt,...it})}):et.nodesBetween($,_e,(nt,rt)=>{!nt||(nt==null?void 0:nt.nodeSize)===void 0||tt.push(...nt.marks.map(it=>({from:rt,to:rt+nt.nodeSize,mark:it})))}),tt}function getSplittedAttributes($,_e,et){return Object.fromEntries(Object.entries(et).filter(([tt])=>{const nt=$.find(rt=>rt.type===_e&&rt.name===tt);return nt?nt.attribute.keepOnSplit:!1}))}function isMarkActive($,_e,et={}){const{empty:tt,ranges:nt}=$.selection,rt=_e?getMarkType(_e,$.schema):null;if(tt)return!!($.storedMarks||$.selection.$from.marks()).filter(ct=>rt?rt.name===ct.type.name:!0).find(ct=>objectIncludes(ct.attrs,et,{strict:!1}));let it=0;const ot=[];if(nt.forEach(({$from:ct,$to:ut})=>{const dt=ct.pos,ft=ut.pos;$.doc.nodesBetween(dt,ft,(pt,mt)=>{if(!pt.isText&&!pt.marks.length)return;const ht=Math.max(dt,mt),yt=Math.min(ft,mt+pt.nodeSize),xt=yt-ht;it+=xt,ot.push(...pt.marks.map(St=>({mark:St,from:ht,to:yt})))})}),it===0)return!1;const at=ot.filter(ct=>rt?rt.name===ct.mark.type.name:!0).filter(ct=>objectIncludes(ct.mark.attrs,et,{strict:!1})).reduce((ct,ut)=>ct+ut.to-ut.from,0),st=ot.filter(ct=>rt?ct.mark.type!==rt&&ct.mark.type.excludes(rt):!0).reduce((ct,ut)=>ct+ut.to-ut.from,0);return(at>0?at+st:at)>=it}function isActive($,_e,et={}){if(!_e)return isNodeActive($,null,et)||isMarkActive($,null,et);const tt=getSchemaTypeNameByName(_e,$.schema);return tt==="node"?isNodeActive($,_e,et):tt==="mark"?isMarkActive($,_e,et):!1}function isList($,_e){const{nodeExtensions:et}=splitExtensions(_e),tt=et.find(it=>it.name===$);if(!tt)return!1;const nt={name:tt.name,options:tt.options,storage:tt.storage},rt=callOrReturn(getExtensionField(tt,"group",nt));return typeof rt!="string"?!1:rt.split(" ").includes("list")}function isNodeEmpty($,{checkChildren:_e=!0,ignoreWhitespace:et=!1}={}){var tt;if(et){if($.type.name==="hardBreak")return!0;if($.isText)return/^\s*$/m.test((tt=$.text)!==null&&tt!==void 0?tt:"")}if($.isText)return!$.text;if($.isAtom||$.isLeaf)return!1;if($.content.childCount===0)return!0;if(_e){let nt=!0;return $.content.forEach(rt=>{nt!==!1&&(isNodeEmpty(rt,{ignoreWhitespace:et,checkChildren:_e})||(nt=!1))}),nt}return!1}function isNodeSelection($){return $ instanceof NodeSelection}function canSetMark($,_e,et){var tt;const{selection:nt}=_e;let rt=null;if(isTextSelection(nt)&&(rt=nt.$cursor),rt){const ot=(tt=$.storedMarks)!==null&&tt!==void 0?tt:rt.marks();return!!et.isInSet(ot)||!ot.some(at=>at.type.excludes(et))}const{ranges:it}=nt;return it.some(({$from:ot,$to:at})=>{let st=ot.depth===0?$.doc.inlineContent&&$.doc.type.allowsMarkType(et):!1;return $.doc.nodesBetween(ot.pos,at.pos,(lt,ct,ut)=>{if(st)return!1;if(lt.isInline){const dt=!ut||ut.type.allowsMarkType(et),ft=!!et.isInSet(lt.marks)||!lt.marks.some(pt=>pt.type.excludes(et));st=dt&&ft}return!st}),st})}const setMark=($,_e={})=>({tr:et,state:tt,dispatch:nt})=>{const{selection:rt}=et,{empty:it,ranges:ot}=rt,at=getMarkType($,tt.schema);if(nt)if(it){const st=getMarkAttributes(tt,at);et.addStoredMark(at.create({...st,..._e}))}else ot.forEach(st=>{const lt=st.$from.pos,ct=st.$to.pos;tt.doc.nodesBetween(lt,ct,(ut,dt)=>{const ft=Math.max(dt,lt),pt=Math.min(dt+ut.nodeSize,ct);ut.marks.find(ht=>ht.type===at)?ut.marks.forEach(ht=>{at===ht.type&&et.addMark(ft,pt,at.create({...ht.attrs,..._e}))}):et.addMark(ft,pt,at.create(_e))})});return canSetMark(tt,et,at)},setMeta=($,_e)=>({tr:et})=>(et.setMeta($,_e),!0),setNode=($,_e={})=>({state:et,dispatch:tt,chain:nt})=>{const rt=getNodeType($,et.schema);let it;return et.selection.$anchor.sameParent(et.selection.$head)&&(it=et.selection.$anchor.parent.attrs),rt.isTextblock?nt().command(({commands:ot})=>setBlockType(rt,{...it,..._e})(et)?!0:ot.clearNodes()).command(({state:ot})=>setBlockType(rt,{...it,..._e})(ot,tt)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=$=>({tr:_e,dispatch:et})=>{if(et){const{doc:tt}=_e,nt=minMax($,0,tt.content.size),rt=NodeSelection.create(tt,nt);_e.setSelection(rt)}return!0},setTextSelection=$=>({tr:_e,dispatch:et})=>{if(et){const{doc:tt}=_e,{from:nt,to:rt}=typeof $=="number"?{from:$,to:$}:$,it=TextSelection.atStart(tt).from,ot=TextSelection.atEnd(tt).to,at=minMax(nt,it,ot),st=minMax(rt,it,ot),lt=TextSelection.create(tt,at,st);_e.setSelection(lt)}return!0},sinkListItem=$=>({state:_e,dispatch:et})=>{const tt=getNodeType($,_e.schema);return sinkListItem$1(tt)(_e,et)};function ensureMarks($,_e){const et=$.storedMarks||$.selection.$to.parentOffset&&$.selection.$from.marks();if(et){const tt=et.filter(nt=>_e==null?void 0:_e.includes(nt.type.name));$.tr.ensureMarks(tt)}}const splitBlock=({keepMarks:$=!0}={})=>({tr:_e,state:et,dispatch:tt,editor:nt})=>{const{selection:rt,doc:it}=_e,{$from:ot,$to:at}=rt,st=nt.extensionManager.attributes,lt=getSplittedAttributes(st,ot.node().type.name,ot.node().attrs);if(rt instanceof NodeSelection&&rt.node.isBlock)return!ot.parentOffset||!canSplit(it,ot.pos)?!1:(tt&&($&&ensureMarks(et,nt.extensionManager.splittableMarks),_e.split(ot.pos).scrollIntoView()),!0);if(!ot.parent.isBlock)return!1;const ct=at.parentOffset===at.parent.content.size,ut=ot.depth===0?void 0:defaultBlockAt(ot.node(-1).contentMatchAt(ot.indexAfter(-1)));let dt=ct&&ut?[{type:ut,attrs:lt}]:void 0,ft=canSplit(_e.doc,_e.mapping.map(ot.pos),1,dt);if(!dt&&!ft&&canSplit(_e.doc,_e.mapping.map(ot.pos),1,ut?[{type:ut}]:void 0)&&(ft=!0,dt=ut?[{type:ut,attrs:lt}]:void 0),tt){if(ft&&(rt instanceof TextSelection&&_e.deleteSelection(),_e.split(_e.mapping.map(ot.pos),1,dt),ut&&!ct&&!ot.parentOffset&&ot.parent.type!==ut)){const pt=_e.mapping.map(ot.before()),mt=_e.doc.resolve(pt);ot.node(-1).canReplaceWith(mt.index(),mt.index()+1,ut)&&_e.setNodeMarkup(_e.mapping.map(ot.before()),ut)}$&&ensureMarks(et,nt.extensionManager.splittableMarks),_e.scrollIntoView()}return ft},splitListItem=($,_e={})=>({tr:et,state:tt,dispatch:nt,editor:rt})=>{var it;const ot=getNodeType($,tt.schema),{$from:at,$to:st}=tt.selection,lt=tt.selection.node;if(lt&&lt.isBlock||at.depth<2||!at.sameParent(st))return!1;const ct=at.node(-1);if(ct.type!==ot)return!1;const ut=rt.extensionManager.attributes;if(at.parent.content.size===0&&at.node(-1).childCount===at.indexAfter(-1)){if(at.depth===2||at.node(-3).type!==ot||at.index(-2)!==at.node(-2).childCount-1)return!1;if(nt){let ht=Fragment.empty;const yt=at.index(-1)?1:at.index(-2)?2:3;for(let wt=at.depth-yt;wt>=at.depth-3;wt-=1)ht=Fragment.from(at.node(wt).copy(ht));const xt=at.indexAfter(-1)<at.node(-2).childCount?1:at.indexAfter(-2)<at.node(-3).childCount?2:3,St={...getSplittedAttributes(ut,at.node().type.name,at.node().attrs),..._e},gt=((it=ot.contentMatch.defaultType)===null||it===void 0?void 0:it.createAndFill(St))||void 0;ht=ht.append(Fragment.from(ot.createAndFill(null,gt)||void 0));const vt=at.before(at.depth-(yt-1));et.replace(vt,at.after(-xt),new Slice(ht,4-yt,0));let bt=-1;et.doc.nodesBetween(vt,et.doc.content.size,(wt,_t)=>{if(bt>-1)return!1;wt.isTextblock&&wt.content.size===0&&(bt=_t+1)}),bt>-1&&et.setSelection(TextSelection.near(et.doc.resolve(bt))),et.scrollIntoView()}return!0}const dt=st.pos===at.end()?ct.contentMatchAt(0).defaultType:null,ft={...getSplittedAttributes(ut,ct.type.name,ct.attrs),..._e},pt={...getSplittedAttributes(ut,at.node().type.name,at.node().attrs),..._e};et.delete(at.pos,st.pos);const mt=dt?[{type:ot,attrs:ft},{type:dt,attrs:pt}]:[{type:ot,attrs:ft}];if(!canSplit(et.doc,at.pos,2))return!1;if(nt){const{selection:ht,storedMarks:yt}=tt,{splittableMarks:xt}=rt.extensionManager,St=yt||ht.$to.parentOffset&&ht.$from.marks();if(et.split(at.pos,2,mt).scrollIntoView(),!St||!nt)return!0;const gt=St.filter(vt=>xt.includes(vt.type.name));et.ensureMarks(gt)}return!0},joinListBackwards=($,_e)=>{const et=findParentNode(it=>it.type===_e)($.selection);if(!et)return!0;const tt=$.doc.resolve(Math.max(0,et.pos-1)).before(et.depth);if(tt===void 0)return!0;const nt=$.doc.nodeAt(tt);return et.node.type===(nt==null?void 0:nt.type)&&canJoin($.doc,et.pos)&&$.join(et.pos),!0},joinListForwards=($,_e)=>{const et=findParentNode(it=>it.type===_e)($.selection);if(!et)return!0;const tt=$.doc.resolve(et.start).after(et.depth);if(tt===void 0)return!0;const nt=$.doc.nodeAt(tt);return et.node.type===(nt==null?void 0:nt.type)&&canJoin($.doc,tt)&&$.join(tt),!0},toggleList=($,_e,et,tt={})=>({editor:nt,tr:rt,state:it,dispatch:ot,chain:at,commands:st,can:lt})=>{const{extensions:ct,splittableMarks:ut}=nt.extensionManager,dt=getNodeType($,it.schema),ft=getNodeType(_e,it.schema),{selection:pt,storedMarks:mt}=it,{$from:ht,$to:yt}=pt,xt=ht.blockRange(yt),St=mt||pt.$to.parentOffset&&pt.$from.marks();if(!xt)return!1;const gt=findParentNode(vt=>isList(vt.type.name,ct))(pt);if(xt.depth>=1&&gt&&xt.depth-gt.depth<=1){if(gt.node.type===dt)return st.liftListItem(ft);if(isList(gt.node.type.name,ct)&&dt.validContent(gt.node.content)&&ot)return at().command(()=>(rt.setNodeMarkup(gt.pos,dt),!0)).command(()=>joinListBackwards(rt,dt)).command(()=>joinListForwards(rt,dt)).run()}return!et||!St||!ot?at().command(()=>lt().wrapInList(dt,tt)?!0:st.clearNodes()).wrapInList(dt,tt).command(()=>joinListBackwards(rt,dt)).command(()=>joinListForwards(rt,dt)).run():at().command(()=>{const vt=lt().wrapInList(dt,tt),bt=St.filter(wt=>ut.includes(wt.type.name));return rt.ensureMarks(bt),vt?!0:st.clearNodes()}).wrapInList(dt,tt).command(()=>joinListBackwards(rt,dt)).command(()=>joinListForwards(rt,dt)).run()},toggleMark=($,_e={},et={})=>({state:tt,commands:nt})=>{const{extendEmptyMarkRange:rt=!1}=et,it=getMarkType($,tt.schema);return isMarkActive(tt,it,_e)?nt.unsetMark(it,{extendEmptyMarkRange:rt}):nt.setMark(it,_e)},toggleNode=($,_e,et={})=>({state:tt,commands:nt})=>{const rt=getNodeType($,tt.schema),it=getNodeType(_e,tt.schema),ot=isNodeActive(tt,rt,et);let at;return tt.selection.$anchor.sameParent(tt.selection.$head)&&(at=tt.selection.$anchor.parent.attrs),ot?nt.setNode(it,at):nt.setNode(rt,{...at,...et})},toggleWrap=($,_e={})=>({state:et,commands:tt})=>{const nt=getNodeType($,et.schema);return isNodeActive(et,nt,_e)?tt.lift(nt):tt.wrapIn(nt,_e)},undoInputRule=()=>({state:$,dispatch:_e})=>{const et=$.plugins;for(let tt=0;tt<et.length;tt+=1){const nt=et[tt];let rt;if(nt.spec.isInputRules&&(rt=nt.getState($))){if(_e){const it=$.tr,ot=rt.transform;for(let at=ot.steps.length-1;at>=0;at-=1)it.step(ot.steps[at].invert(ot.docs[at]));if(rt.text){const at=it.doc.resolve(rt.from).marks();it.replaceWith(rt.from,rt.to,$.schema.text(rt.text,at))}else it.delete(rt.from,rt.to)}return!0}}return!1},unsetAllMarks=()=>({tr:$,dispatch:_e})=>{const{selection:et}=$,{empty:tt,ranges:nt}=et;return tt||_e&&nt.forEach(rt=>{$.removeMark(rt.$from.pos,rt.$to.pos)}),!0},unsetMark=($,_e={})=>({tr:et,state:tt,dispatch:nt})=>{var rt;const{extendEmptyMarkRange:it=!1}=_e,{selection:ot}=et,at=getMarkType($,tt.schema),{$from:st,empty:lt,ranges:ct}=ot;if(!nt)return!0;if(lt&&it){let{from:ut,to:dt}=ot;const ft=(rt=st.marks().find(mt=>mt.type===at))===null||rt===void 0?void 0:rt.attrs,pt=getMarkRange(st,at,ft);pt&&(ut=pt.from,dt=pt.to),et.removeMark(ut,dt,at)}else ct.forEach(ut=>{et.removeMark(ut.$from.pos,ut.$to.pos,at)});return et.removeStoredMark(at),!0},updateAttributes=($,_e={})=>({tr:et,state:tt,dispatch:nt})=>{let rt=null,it=null;const ot=getSchemaTypeNameByName(typeof $=="string"?$:$.name,tt.schema);return ot?(ot==="node"&&(rt=getNodeType($,tt.schema)),ot==="mark"&&(it=getMarkType($,tt.schema)),nt&&et.selection.ranges.forEach(at=>{const st=at.$from.pos,lt=at.$to.pos;let ct,ut,dt,ft;et.selection.empty?tt.doc.nodesBetween(st,lt,(pt,mt)=>{rt&&rt===pt.type&&(dt=Math.max(mt,st),ft=Math.min(mt+pt.nodeSize,lt),ct=mt,ut=pt)}):tt.doc.nodesBetween(st,lt,(pt,mt)=>{mt<st&&rt&&rt===pt.type&&(dt=Math.max(mt,st),ft=Math.min(mt+pt.nodeSize,lt),ct=mt,ut=pt),mt>=st&&mt<=lt&&(rt&&rt===pt.type&&et.setNodeMarkup(mt,void 0,{...pt.attrs,..._e}),it&&pt.marks.length&&pt.marks.forEach(ht=>{if(it===ht.type){const yt=Math.max(mt,st),xt=Math.min(mt+pt.nodeSize,lt);et.addMark(yt,xt,it.create({...ht.attrs,..._e}))}}))}),ut&&(ct!==void 0&&et.setNodeMarkup(ct,void 0,{...ut.attrs,..._e}),it&&ut.marks.length&&ut.marks.forEach(pt=>{it===pt.type&&et.addMark(dt,ft,it.create({...pt.attrs,..._e}))}))}),!0):!1},wrapIn=($,_e={})=>({state:et,dispatch:tt})=>{const nt=getNodeType($,et.schema);return wrapIn$1(nt,_e)(et,tt)},wrapInList=($,_e={})=>({state:et,dispatch:tt})=>{const nt=getNodeType($,et.schema);return wrapInList$1(nt,_e)(et,tt)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach:forEach$1,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:($,_e,et,tt)=>{this.editor.emit("drop",{editor:this.editor,event:_e,slice:et,moved:tt})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:$}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(_e,et)=>{$.isFocused=!0;const tt=$.state.tr.setMeta("focus",{event:et}).setMeta("addToHistory",!1);return _e.dispatch(tt),!1},blur:(_e,et)=>{$.isFocused=!1;const tt=$.state.tr.setMeta("blur",{event:et}).setMeta("addToHistory",!1);return _e.dispatch(tt),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const $=()=>this.editor.commands.first(({commands:it})=>[()=>it.undoInputRule(),()=>it.command(({tr:ot})=>{const{selection:at,doc:st}=ot,{empty:lt,$anchor:ct}=at,{pos:ut,parent:dt}=ct,ft=ct.parent.isTextblock&&ut>0?ot.doc.resolve(ut-1):ct,pt=ft.parent.type.spec.isolating,mt=ct.pos-ct.parentOffset,ht=pt&&ft.parent.childCount===1?mt===ct.pos:Selection.atStart(st).from===ut;return!lt||!dt.type.isTextblock||dt.textContent.length||!ht||ht&&ct.parent.type.name==="paragraph"?!1:it.clearNodes()}),()=>it.deleteSelection(),()=>it.joinBackward(),()=>it.selectNodeBackward()]),_e=()=>this.editor.commands.first(({commands:it})=>[()=>it.deleteSelection(),()=>it.deleteCurrentNode(),()=>it.joinForward(),()=>it.selectNodeForward()]),tt={Enter:()=>this.editor.commands.first(({commands:it})=>[()=>it.newlineInCode(),()=>it.createParagraphNear(),()=>it.liftEmptyBlock(),()=>it.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:$,"Mod-Backspace":$,"Shift-Backspace":$,Delete:_e,"Mod-Delete":_e,"Mod-a":()=>this.editor.commands.selectAll()},nt={...tt},rt={...tt,"Ctrl-h":$,"Alt-Backspace":$,"Ctrl-d":_e,"Ctrl-Alt-Backspace":_e,"Alt-Delete":_e,"Alt-d":_e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?rt:nt},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:($,_e,et)=>{if($.some(pt=>pt.getMeta("composition")))return;const tt=$.some(pt=>pt.docChanged)&&!_e.doc.eq(et.doc),nt=$.some(pt=>pt.getMeta("preventClearDocument"));if(!tt||nt)return;const{empty:rt,from:it,to:ot}=_e.selection,at=Selection.atStart(_e.doc).from,st=Selection.atEnd(_e.doc).to;if(rt||!(it===at&&ot===st)||!isNodeEmpty(et.doc))return;const ut=et.tr,dt=createChainableState({state:et,transaction:ut}),{commands:ft}=new CommandManager({editor:this.editor,state:dt});if(ft.clearNodes(),!!ut.steps.length)return ut}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:($,_e,et)=>{this.editor.emit("paste",{editor:this.editor,event:_e,slice:et})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class NodePos{get name(){return this.node.type.name}constructor(_e,et,tt=!1,nt=null){this.currentNode=null,this.actualDepth=null,this.isBlock=tt,this.resolvedPos=_e,this.editor=et,this.currentNode=nt}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var _e;return(_e=this.actualDepth)!==null&&_e!==void 0?_e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(_e){let et=this.from,tt=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}et=this.from+1,tt=this.to-1}this.editor.commands.insertContentAt({from:et,to:tt},_e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const _e=this.resolvedPos.start(this.resolvedPos.depth-1),et=this.resolvedPos.doc.resolve(_e);return new NodePos(et,this.editor)}get before(){let _e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return _e.depth!==this.depth&&(_e=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(_e,this.editor)}get after(){let _e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return _e.depth!==this.depth&&(_e=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(_e,this.editor)}get children(){const _e=[];return this.node.content.forEach((et,tt)=>{const nt=et.isBlock&&!et.isTextblock,rt=et.isAtom&&!et.isText,it=this.pos+tt+(rt?0:1);if(it<0||it>this.resolvedPos.doc.nodeSize-2)return;const ot=this.resolvedPos.doc.resolve(it);if(!nt&&ot.depth<=this.depth)return;const at=new NodePos(ot,this.editor,nt,nt?et:null);nt&&(at.actualDepth=this.depth+1),_e.push(new NodePos(ot,this.editor,nt,nt?et:null))}),_e}get firstChild(){return this.children[0]||null}get lastChild(){const _e=this.children;return _e[_e.length-1]||null}closest(_e,et={}){let tt=null,nt=this.parent;for(;nt&&!tt;){if(nt.node.type.name===_e)if(Object.keys(et).length>0){const rt=nt.node.attrs,it=Object.keys(et);for(let ot=0;ot<it.length;ot+=1){const at=it[ot];if(rt[at]!==et[at])break}}else tt=nt;nt=nt.parent}return tt}querySelector(_e,et={}){return this.querySelectorAll(_e,et,!0)[0]||null}querySelectorAll(_e,et={},tt=!1){let nt=[];if(!this.children||this.children.length===0)return nt;const rt=Object.keys(et);return this.children.forEach(it=>{tt&&nt.length>0||(it.node.type.name===_e&&rt.every(at=>et[at]===it.node.attrs[at])&&nt.push(it),!(tt&&nt.length>0)&&(nt=nt.concat(it.querySelectorAll(_e,et,tt))))}),nt}setAttribute(_e){const{tr:et}=this.editor.state;et.setNodeMarkup(this.from,void 0,{...this.node.attrs,..._e}),this.editor.view.dispatch(et)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag($,_e,et){const tt=document.querySelector("style[data-tiptap-style]");if(tt!==null)return tt;const nt=document.createElement("style");return _e&&nt.setAttribute("nonce",_e),nt.setAttribute("data-tiptap-style",""),nt.innerHTML=$,document.getElementsByTagName("head")[0].appendChild(nt),nt}let Editor$1=class extends EventEmitter$1{constructor(_e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:et})=>{throw et},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(_e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:et,slice:tt,moved:nt})=>this.options.onDrop(et,tt,nt)),this.on("paste",({event:et,slice:tt})=>this.options.onPaste(et,tt)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(_e={}){this.options={...this.options,..._e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(_e,et=!0){this.setOptions({editable:_e}),et&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(_e,et){const tt=isFunction$4(et)?et(_e,[...this.state.plugins]):[...this.state.plugins,_e],nt=this.state.reconfigure({plugins:tt});return this.view.updateState(nt),nt}unregisterPlugin(_e){if(this.isDestroyed)return;const et=this.state.plugins;let tt=et;if([].concat(_e).forEach(rt=>{const it=typeof rt=="string"?`${rt}$`:rt.key;tt=tt.filter(ot=>!ot.key.startsWith(it))}),et.length===tt.length)return;const nt=this.state.reconfigure({plugins:tt});return this.view.updateState(nt),nt}createExtensionManager(){var _e,et;const nt=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(et=(_e=this.options.coreExtensionOptions)===null||_e===void 0?void 0:_e.clipboardTextSerializer)===null||et===void 0?void 0:et.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(rt=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[rt.name]!==!1:!0):[],...this.options.extensions].filter(rt=>["extension","node","mark"].includes(rt==null?void 0:rt.type));this.extensionManager=new ExtensionManager(nt,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var _e;let et;try{et=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(it){if(!(it instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(it.message))throw it;this.emit("contentError",{editor:this,error:it,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(ot=>ot.name!=="collaboration"),this.createExtensionManager()}}),et=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const tt=resolveFocusPosition(et,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(_e=this.options.editorProps)===null||_e===void 0?void 0:_e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:et,selection:tt||void 0})});const nt=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(nt),this.createNodeViews(),this.prependClass();const rt=this.view.dom;rt.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(_e){this.isCapturingTransaction=!0,_e(),this.isCapturingTransaction=!1;const et=this.capturedTransaction;return this.capturedTransaction=null,et}dispatchTransaction(_e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=_e;return}_e.steps.forEach(it=>{var ot;return(ot=this.capturedTransaction)===null||ot===void 0?void 0:ot.step(it)});return}const et=this.state.apply(_e),tt=!this.state.selection.eq(et.selection);this.emit("beforeTransaction",{editor:this,transaction:_e,nextState:et}),this.view.updateState(et),this.emit("transaction",{editor:this,transaction:_e}),tt&&this.emit("selectionUpdate",{editor:this,transaction:_e});const nt=_e.getMeta("focus"),rt=_e.getMeta("blur");nt&&this.emit("focus",{editor:this,event:nt.event,transaction:_e}),rt&&this.emit("blur",{editor:this,event:rt.event,transaction:_e}),!(!_e.docChanged||_e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:_e})}getAttributes(_e){return getAttributes(this.state,_e)}isActive(_e,et){const tt=typeof _e=="string"?_e:null,nt=typeof _e=="string"?et:_e;return isActive(this.state,tt,nt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(_e){const{blockSeparator:et=`

`,textSerializers:tt={}}=_e||{};return getText(this.state.doc,{blockSeparator:et,textSerializers:{...getTextSerializersFromSchema(this.schema),...tt}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const _e=this.view.dom;_e&&_e.editor&&delete _e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var _e;return!(!((_e=this.view)===null||_e===void 0)&&_e.docView)}$node(_e,et){var tt;return((tt=this.$doc)===null||tt===void 0?void 0:tt.querySelector(_e,et))||null}$nodes(_e,et){var tt;return((tt=this.$doc)===null||tt===void 0?void 0:tt.querySelectorAll(_e,et))||null}$pos(_e){const et=this.state.doc.resolve(_e);return new NodePos(et,this)}get $doc(){return this.$pos(0)}};function markInputRule($){return new InputRule({find:$.find,handler:({state:_e,range:et,match:tt})=>{const nt=callOrReturn($.getAttributes,void 0,tt);if(nt===!1||nt===null)return null;const{tr:rt}=_e,it=tt[tt.length-1],ot=tt[0];if(it){const at=ot.search(/\S/),st=et.from+ot.indexOf(it),lt=st+it.length;if(getMarksBetween(et.from,et.to,_e.doc).filter(dt=>dt.mark.type.excluded.find(pt=>pt===$.type&&pt!==dt.mark.type)).filter(dt=>dt.to>st).length)return null;lt<et.to&&rt.delete(lt,et.to),st>et.from&&rt.delete(et.from+at,st);const ut=et.from+at+it.length;rt.addMark(et.from+at,ut,$.type.create(nt||{})),rt.removeStoredMark($.type)}}})}function nodeInputRule($){return new InputRule({find:$.find,handler:({state:_e,range:et,match:tt})=>{const nt=callOrReturn($.getAttributes,void 0,tt)||{},{tr:rt}=_e,it=et.from;let ot=et.to;const at=$.type.create(nt);if(tt[1]){const st=tt[0].lastIndexOf(tt[1]);let lt=it+st;lt>ot?lt=ot:ot=lt+tt[1].length;const ct=tt[0][tt[0].length-1];rt.insertText(ct,it+tt[0].length-1),rt.replaceWith(lt,ot,at)}else if(tt[0]){const st=$.type.isInline?it:it-1;rt.insert(st,$.type.create(nt)).delete(rt.mapping.map(it),rt.mapping.map(ot))}rt.scrollIntoView()}})}function textblockTypeInputRule($){return new InputRule({find:$.find,handler:({state:_e,range:et,match:tt})=>{const nt=_e.doc.resolve(et.from),rt=callOrReturn($.getAttributes,void 0,tt)||{};if(!nt.node(-1).canReplaceWith(nt.index(-1),nt.indexAfter(-1),$.type))return null;_e.tr.delete(et.from,et.to).setBlockType(et.from,et.from,$.type,rt)}})}function wrappingInputRule($){return new InputRule({find:$.find,handler:({state:_e,range:et,match:tt,chain:nt})=>{const rt=callOrReturn($.getAttributes,void 0,tt)||{},it=_e.tr.delete(et.from,et.to),at=it.doc.resolve(et.from).blockRange(),st=at&&findWrapping(at,$.type,rt);if(!st)return null;if(it.wrap(at,st),$.keepMarks&&$.editor){const{selection:ct,storedMarks:ut}=_e,{splittableMarks:dt}=$.editor.extensionManager,ft=ut||ct.$to.parentOffset&&ct.$from.marks();if(ft){const pt=ft.filter(mt=>dt.includes(mt.type.name));it.ensureMarks(pt)}}if($.keepAttributes){const ct=$.type.name==="bulletList"||$.type.name==="orderedList"?"listItem":"taskList";nt().updateAttributes(ct,rt).run()}const lt=it.doc.resolve(et.from-1).nodeBefore;lt&&lt.type===$.type&&canJoin(it.doc,et.from-1)&&(!$.joinPredicate||$.joinPredicate(tt,lt))&&it.join(et.from-1)}})}class Node{constructor(_e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,..._e},this.name=this.config.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(_e={}){return new Node(_e)}configure(_e={}){const et=this.extend({...this.config,addOptions:()=>mergeDeep$1(this.options,_e)});return et.name=this.name,et.parent=this.parent,et}extend(_e={}){const et=new Node(_e);return et.parent=this,this.child=et,et.name=_e.name?_e.name:et.parent.name,_e.defaultOptions&&Object.keys(_e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${et.name}".`),et.options=callOrReturn(getExtensionField(et,"addOptions",{name:et.name})),et.storage=callOrReturn(getExtensionField(et,"addStorage",{name:et.name,options:et.options})),et}}function markPasteRule($){return new PasteRule({find:$.find,handler:({state:_e,range:et,match:tt,pasteEvent:nt})=>{const rt=callOrReturn($.getAttributes,void 0,tt,nt);if(rt===!1||rt===null)return null;const{tr:it}=_e,ot=tt[tt.length-1],at=tt[0];let st=et.to;if(ot){const lt=at.search(/\S/),ct=et.from+at.indexOf(ot),ut=ct+ot.length;if(getMarksBetween(et.from,et.to,_e.doc).filter(ft=>ft.mark.type.excluded.find(mt=>mt===$.type&&mt!==ft.mark.type)).filter(ft=>ft.to>ct).length)return null;ut<et.to&&it.delete(ut,et.to),ct>et.from&&it.delete(et.from+lt,ct),st=et.from+lt+ot.length,it.addMark(et.from+lt,st,$.type.create(rt||{})),it.removeStoredMark($.type)}}})}function canInsertNode($,_e){const{selection:et}=$,{$from:tt}=et;if(et instanceof NodeSelection){const rt=tt.index();return tt.parent.canReplaceWith(rt,rt+1,_e)}let nt=tt.depth;for(;nt>=0;){const rt=tt.index(nt);if(tt.node(nt).contentMatchAt(rt).matchType(_e))return!0;nt-=1}return!1}function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production_min;function requireUseSyncExternalStoreShim_production_min(){if(hasRequiredUseSyncExternalStoreShim_production_min)return useSyncExternalStoreShim_production_min;hasRequiredUseSyncExternalStoreShim_production_min=1;var $=React;function _e(ct,ut){return ct===ut&&(ct!==0||1/ct===1/ut)||ct!==ct&&ut!==ut}var et=typeof Object.is=="function"?Object.is:_e,tt=$.useState,nt=$.useEffect,rt=$.useLayoutEffect,it=$.useDebugValue;function ot(ct,ut){var dt=ut(),ft=tt({inst:{value:dt,getSnapshot:ut}}),pt=ft[0].inst,mt=ft[1];return rt(function(){pt.value=dt,pt.getSnapshot=ut,at(pt)&&mt({inst:pt})},[ct,dt,ut]),nt(function(){return at(pt)&&mt({inst:pt}),ct(function(){at(pt)&&mt({inst:pt})})},[ct]),it(dt),dt}function at(ct){var ut=ct.getSnapshot;ct=ct.value;try{var dt=ut();return!et(ct,dt)}catch{return!0}}function st(ct,ut){return ut()}var lt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?st:ot;return useSyncExternalStoreShim_production_min.useSyncExternalStore=$.useSyncExternalStore!==void 0?$.useSyncExternalStore:lt,useSyncExternalStoreShim_production_min}shim.exports=requireUseSyncExternalStoreShim_production_min();var shimExports=shim.exports;const mergeRefs=(...$)=>_e=>{$.forEach(et=>{typeof et=="function"?et(_e):et&&(et.current=_e)})},Portals=({contentComponent:$})=>{const _e=shimExports.useSyncExternalStore($.subscribe,$.getSnapshot,$.getServerSnapshot);return React.createElement(React.Fragment,null,Object.values(_e))};function getInstance(){const $=new Set;let _e={};return{subscribe(et){return $.add(et),()=>{$.delete(et)}},getSnapshot(){return _e},getServerSnapshot(){return _e},setRenderer(et,tt){_e={..._e,[et]:ReactDOM.createPortal(tt.reactElement,tt.element,et)},$.forEach(nt=>nt())},removeRenderer(et){const tt={..._e};delete tt[et],_e=tt,$.forEach(nt=>nt())}}}class PureEditorContent extends React.Component{constructor(_e){var et;super(_e),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((et=_e.editor)===null||et===void 0)&&et.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const _e=this.props.editor;if(_e&&!_e.isDestroyed&&_e.options.element){if(_e.contentComponent)return;const et=this.editorContentRef.current;et.append(..._e.options.element.childNodes),_e.setOptions({element:et}),_e.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=_e.contentComponent.subscribe(()=>{this.setState(tt=>tt.hasContentComponentInitialized?tt:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),_e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const _e=this.props.editor;if(!_e||(this.initialized=!1,_e.isDestroyed||_e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),_e.contentComponent=null,!_e.options.element.firstChild))return;const et=document.createElement("div");et.append(..._e.options.element.childNodes),_e.setOptions({element:et})}render(){const{editor:_e,innerRef:et,...tt}=this.props;return React.createElement(React.Fragment,null,React.createElement("div",{ref:mergeRefs(et,this.editorContentRef),...tt}),(_e==null?void 0:_e.contentComponent)&&React.createElement(Portals,{contentComponent:_e.contentComponent}))}}const EditorContentWithKey=reactExports.forwardRef(($,_e)=>{const et=React.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[$.editor]);return React.createElement(PureEditorContent,{key:et,innerRef:_e,...$})}),EditorContent=React.memo(EditorContentWithKey);var react=function $(_e,et){if(_e===et)return!0;if(_e&&et&&typeof _e=="object"&&typeof et=="object"){if(_e.constructor!==et.constructor)return!1;var tt,nt,rt;if(Array.isArray(_e)){if(tt=_e.length,tt!=et.length)return!1;for(nt=tt;nt--!==0;)if(!$(_e[nt],et[nt]))return!1;return!0}if(_e instanceof Map&&et instanceof Map){if(_e.size!==et.size)return!1;for(nt of _e.entries())if(!et.has(nt[0]))return!1;for(nt of _e.entries())if(!$(nt[1],et.get(nt[0])))return!1;return!0}if(_e instanceof Set&&et instanceof Set){if(_e.size!==et.size)return!1;for(nt of _e.entries())if(!et.has(nt[0]))return!1;return!0}if(ArrayBuffer.isView(_e)&&ArrayBuffer.isView(et)){if(tt=_e.length,tt!=et.length)return!1;for(nt=tt;nt--!==0;)if(_e[nt]!==et[nt])return!1;return!0}if(_e.constructor===RegExp)return _e.source===et.source&&_e.flags===et.flags;if(_e.valueOf!==Object.prototype.valueOf)return _e.valueOf()===et.valueOf();if(_e.toString!==Object.prototype.toString)return _e.toString()===et.toString();if(rt=Object.keys(_e),tt=rt.length,tt!==Object.keys(et).length)return!1;for(nt=tt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(et,rt[nt]))return!1;for(nt=tt;nt--!==0;){var it=rt[nt];if(!(it==="_owner"&&_e.$$typeof)&&!$(_e[it],et[it]))return!1}return!0}return _e!==_e&&et!==et},deepEqual$1=getDefaultExportFromCjs(react),withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production_min;function requireWithSelector_production_min(){if(hasRequiredWithSelector_production_min)return withSelector_production_min;hasRequiredWithSelector_production_min=1;var $=React,_e=shimExports;function et(st,lt){return st===lt&&(st!==0||1/st===1/lt)||st!==st&&lt!==lt}var tt=typeof Object.is=="function"?Object.is:et,nt=_e.useSyncExternalStore,rt=$.useRef,it=$.useEffect,ot=$.useMemo,at=$.useDebugValue;return withSelector_production_min.useSyncExternalStoreWithSelector=function(st,lt,ct,ut,dt){var ft=rt(null);if(ft.current===null){var pt={hasValue:!1,value:null};ft.current=pt}else pt=ft.current;ft=ot(function(){function ht(vt){if(!yt){if(yt=!0,xt=vt,vt=ut(vt),dt!==void 0&&pt.hasValue){var bt=pt.value;if(dt(bt,vt))return St=bt}return St=vt}if(bt=St,tt(xt,vt))return bt;var wt=ut(vt);return dt!==void 0&&dt(bt,wt)?bt:(xt=vt,St=wt)}var yt=!1,xt,St,gt=ct===void 0?null:ct;return[function(){return ht(lt())},gt===null?void 0:function(){return ht(gt())}]},[lt,ct,ut,dt]);var mt=nt(st,ft[0],ft[1]);return it(function(){pt.hasValue=!0,pt.value=mt},[mt]),at(mt),mt},withSelector_production_min}withSelector.exports=requireWithSelector_production_min();var withSelectorExports=withSelector.exports;const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;class EditorStateManager{constructor(_e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=_e,this.lastSnapshot={editor:_e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(_e){return this.subscribers.add(_e),()=>{this.subscribers.delete(_e)}}watch(_e){if(this.editor=_e,this.editor){const et=()=>{this.transactionNumber+=1,this.subscribers.forEach(nt=>nt())},tt=this.editor;return tt.on("transaction",et),()=>{tt.off("transaction",et)}}}}function useEditorState($){var _e;const[et]=reactExports.useState(()=>new EditorStateManager($.editor)),tt=withSelectorExports.useSyncExternalStoreWithSelector(et.subscribe,et.getSnapshot,et.getServerSnapshot,$.selector,(_e=$.equalityFn)!==null&&_e!==void 0?_e:deepEqual$1);return useIsomorphicLayoutEffect(()=>et.watch($.editor),[$.editor,et]),reactExports.useDebugValue(tt),tt}const isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next);class EditorInstanceManager{constructor(_e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=_e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(_e){this.editor=_e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(et=>et())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const _e={...this.options.current,onBeforeCreate:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onBeforeCreate)===null||rt===void 0?void 0:rt.call(nt,...tt)},onBlur:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onBlur)===null||rt===void 0?void 0:rt.call(nt,...tt)},onCreate:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onCreate)===null||rt===void 0?void 0:rt.call(nt,...tt)},onDestroy:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onDestroy)===null||rt===void 0?void 0:rt.call(nt,...tt)},onFocus:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onFocus)===null||rt===void 0?void 0:rt.call(nt,...tt)},onSelectionUpdate:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onSelectionUpdate)===null||rt===void 0?void 0:rt.call(nt,...tt)},onTransaction:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onTransaction)===null||rt===void 0?void 0:rt.call(nt,...tt)},onUpdate:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onUpdate)===null||rt===void 0?void 0:rt.call(nt,...tt)},onContentError:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onContentError)===null||rt===void 0?void 0:rt.call(nt,...tt)},onDrop:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onDrop)===null||rt===void 0?void 0:rt.call(nt,...tt)},onPaste:(...tt)=>{var nt,rt;return(rt=(nt=this.options.current).onPaste)===null||rt===void 0?void 0:rt.call(nt,...tt)}};return new Editor$1(_e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(_e){return this.subscriptions.add(_e),()=>{this.subscriptions.delete(_e)}}static compareOptions(_e,et){return Object.keys(_e).every(tt=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(tt)?!0:tt==="extensions"&&_e.extensions&&et.extensions?_e.extensions.length!==et.extensions.length?!1:_e.extensions.every((nt,rt)=>{var it;return nt===((it=et.extensions)===null||it===void 0?void 0:it[rt])}):_e[tt]===et[tt])}onRender(_e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&_e.length===0?EditorInstanceManager.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(_e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(_e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=_e;return}if(this.previousDeps.length===_e.length&&this.previousDeps.every((tt,nt)=>tt===_e[nt]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=_e}scheduleDestroy(){const _e=this.instanceId,et=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===_e){et&&et.setOptions(this.options.current);return}et&&!et.isDestroyed&&(et.destroy(),this.instanceId===_e&&this.setEditor(null))},1)}}function useEditor($={},_e=[]){const et=reactExports.useRef($);et.current=$;const[tt]=reactExports.useState(()=>new EditorInstanceManager(et)),nt=shimExports.useSyncExternalStore(tt.subscribe,tt.getEditor,tt.getServerSnapshot);return reactExports.useDebugValue(nt),reactExports.useEffect(tt.onRender(_e)),useEditorState({editor:nt,selector:({transactionNumber:rt})=>$.shouldRerenderOnTransaction===!1?null:$.immediatelyRender&&rt===0?0:rt+1}),nt}const EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;const ReactNodeViewContext=reactExports.createContext({onDragStart:void 0}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React.forwardRef(($,_e)=>{const{onDragStart:et}=useReactNodeView(),tt=$.as||"div";return React.createElement(tt,{...$,ref:_e,"data-node-view-wrapper":"",onDragStart:et,style:{whiteSpace:"normal",...$.style}})});const inputRegex$4=/^\s*>\s$/,Blockquote=Node.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:$}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setBlockquote:()=>({commands:$})=>$.wrapIn(this.name),toggleBlockquote:()=>({commands:$})=>$.toggleWrap(this.name),unsetBlockquote:()=>({commands:$})=>$.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:$=>$.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:$=>$.type.name===this.name},{style:"font-weight",getAttrs:$=>/^(bold(er)?|[5-9]\d{2,})$/.test($)&&null}]},renderHTML({HTMLAttributes:$}){return["strong",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setBold:()=>({commands:$})=>$.setMark(this.name),toggleBold:()=>({commands:$})=>$.toggleMark(this.name),unsetBold:()=>({commands:$})=>$.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$3=/^\s*([-+*])\s$/,BulletList=Node.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:$}){return["ul",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{toggleBulletList:()=>({commands:$,chain:_e})=>this.options.keepAttributes?_e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():$.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let $=wrappingInputRule({find:inputRegex$3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&($=wrappingInputRule({find:inputRegex$3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[$]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:$}){return["code",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setCode:()=>({commands:$})=>$.setMark(this.name),toggleCode:()=>({commands:$})=>$.toggleMark(this.name),unsetCode:()=>({commands:$})=>$.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:$=>{var _e;const{languageClassPrefix:et}=this.options,rt=[...((_e=$.firstElementChild)===null||_e===void 0?void 0:_e.classList)||[]].filter(it=>it.startsWith(et)).map(it=>it.replace(et,""))[0];return rt||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:$,HTMLAttributes:_e}){return["pre",mergeAttributes(this.options.HTMLAttributes,_e),["code",{class:$.attrs.language?this.options.languageClassPrefix+$.attrs.language:null},0]]},addCommands(){return{setCodeBlock:$=>({commands:_e})=>_e.setNode(this.name,$),toggleCodeBlock:$=>({commands:_e})=>_e.toggleNode(this.name,"paragraph",$)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:$,$anchor:_e}=this.editor.state.selection,et=_e.pos===1;return!$||_e.parent.type.name!==this.name?!1:et||!_e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:$})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:_e}=$,{selection:et}=_e,{$from:tt,empty:nt}=et;if(!nt||tt.parent.type!==this.type)return!1;const rt=tt.parentOffset===tt.parent.nodeSize-2,it=tt.parent.textContent.endsWith(`

`);return!rt||!it?!1:$.chain().command(({tr:ot})=>(ot.delete(tt.pos-2,tt.pos),!0)).exitCode().run()},ArrowDown:({editor:$})=>{if(!this.options.exitOnArrowDown)return!1;const{state:_e}=$,{selection:et,doc:tt}=_e,{$from:nt,empty:rt}=et;if(!rt||nt.parent.type!==this.type||!(nt.parentOffset===nt.parent.nodeSize-2))return!1;const ot=nt.after();return ot===void 0?!1:tt.nodeAt(ot)?$.commands.command(({tr:st})=>(st.setSelection(Selection.near(tt.resolve(ot))),!0)):$.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:$=>({language:$[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:$=>({language:$[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:($,_e)=>{if(!_e.clipboardData||this.editor.isActive(this.type.name))return!1;const et=_e.clipboardData.getData("text/plain"),tt=_e.clipboardData.getData("vscode-editor-data"),nt=tt?JSON.parse(tt):void 0,rt=nt==null?void 0:nt.mode;if(!et||!rt)return!1;const{tr:it,schema:ot}=$.state,at=ot.text(et.replace(/\r\n?/g,`
`));return it.replaceSelectionWith(this.type.create({language:rt},at)),it.selection.$from.parent.type!==this.type&&it.setSelection(TextSelection.near(it.doc.resolve(Math.max(0,it.selection.from-2)))),it.setMeta("paste",!0),$.dispatch(it),!0}}})]}}),Document=Node.create({name:"doc",topNode:!0,content:"block+"});function dropCursor($={}){return new Plugin({view(_e){return new DropCursorView(_e,$)}})}class DropCursorView{constructor(_e,et){var tt;this.editorView=_e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(tt=et.width)!==null&&tt!==void 0?tt:1,this.color=et.color===!1?void 0:et.color||"black",this.class=et.class,this.handlers=["dragover","dragend","drop","dragleave"].map(nt=>{let rt=it=>{this[nt](it)};return _e.dom.addEventListener(nt,rt),{name:nt,handler:rt}})}destroy(){this.handlers.forEach(({name:_e,handler:et})=>this.editorView.dom.removeEventListener(_e,et))}update(_e,et){this.cursorPos!=null&&et.doc!=_e.state.doc&&(this.cursorPos>_e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(_e){_e!=this.cursorPos&&(this.cursorPos=_e,_e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let _e=this.editorView.state.doc.resolve(this.cursorPos),et=!_e.parent.inlineContent,tt,nt=this.editorView.dom,rt=nt.getBoundingClientRect(),it=rt.width/nt.offsetWidth,ot=rt.height/nt.offsetHeight;if(et){let ct=_e.nodeBefore,ut=_e.nodeAfter;if(ct||ut){let dt=this.editorView.nodeDOM(this.cursorPos-(ct?ct.nodeSize:0));if(dt){let ft=dt.getBoundingClientRect(),pt=ct?ft.bottom:ft.top;ct&&ut&&(pt=(pt+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let mt=this.width/2*ot;tt={left:ft.left,right:ft.right,top:pt-mt,bottom:pt+mt}}}}if(!tt){let ct=this.editorView.coordsAtPos(this.cursorPos),ut=this.width/2*it;tt={left:ct.left-ut,right:ct.left+ut,top:ct.top,bottom:ct.bottom}}let at=this.editorView.dom.offsetParent;this.element||(this.element=at.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",et),this.element.classList.toggle("prosemirror-dropcursor-inline",!et);let st,lt;if(!at||at==document.body&&getComputedStyle(at).position=="static")st=-pageXOffset,lt=-pageYOffset;else{let ct=at.getBoundingClientRect(),ut=ct.width/at.offsetWidth,dt=ct.height/at.offsetHeight;st=ct.left-at.scrollLeft*ut,lt=ct.top-at.scrollTop*dt}this.element.style.left=(tt.left-st)/it+"px",this.element.style.top=(tt.top-lt)/ot+"px",this.element.style.width=(tt.right-tt.left)/it+"px",this.element.style.height=(tt.bottom-tt.top)/ot+"px"}scheduleRemoval(_e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),_e)}dragover(_e){if(!this.editorView.editable)return;let et=this.editorView.posAtCoords({left:_e.clientX,top:_e.clientY}),tt=et&&et.inside>=0&&this.editorView.state.doc.nodeAt(et.inside),nt=tt&&tt.type.spec.disableDropCursor,rt=typeof nt=="function"?nt(this.editorView,et,_e):nt;if(et&&!rt){let it=et.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let ot=dropPoint(this.editorView.state.doc,it,this.editorView.dragging.slice);ot!=null&&(it=ot)}this.setCursor(it),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(_e){this.editorView.dom.contains(_e.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(_e){super(_e,_e)}map(_e,et){let tt=_e.resolve(et.map(this.head));return GapCursor.valid(tt)?new GapCursor(tt):Selection.near(tt)}content(){return Slice.empty}eq(_e){return _e instanceof GapCursor&&_e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(_e,et){if(typeof et.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(_e.resolve(et.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(_e){let et=_e.parent;if(et.isTextblock||!closedBefore(_e)||!closedAfter(_e))return!1;let tt=et.type.spec.allowGapCursor;if(tt!=null)return tt;let nt=et.contentMatchAt(_e.index()).defaultType;return nt&&nt.isTextblock}static findGapCursorFrom(_e,et,tt=!1){e:for(;;){if(!tt&&GapCursor.valid(_e))return _e;let nt=_e.pos,rt=null;for(let it=_e.depth;;it--){let ot=_e.node(it);if(et>0?_e.indexAfter(it)<ot.childCount:_e.index(it)>0){rt=ot.child(et>0?_e.indexAfter(it):_e.index(it)-1);break}else if(it==0)return null;nt+=et;let at=_e.doc.resolve(nt);if(GapCursor.valid(at))return at}for(;;){let it=et>0?rt.firstChild:rt.lastChild;if(!it){if(rt.isAtom&&!rt.isText&&!NodeSelection.isSelectable(rt)){_e=_e.doc.resolve(nt+rt.nodeSize*et),tt=!1;continue e}break}rt=it,nt+=et;let ot=_e.doc.resolve(nt);if(GapCursor.valid(ot))return ot}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(_e){this.pos=_e}map(_e){return new GapBookmark(_e.map(this.pos))}resolve(_e){let et=_e.resolve(this.pos);return GapCursor.valid(et)?new GapCursor(et):Selection.near(et)}}function needsGap($){return $.isAtom||$.spec.isolating||$.spec.createGapCursor}function closedBefore($){for(let _e=$.depth;_e>=0;_e--){let et=$.index(_e),tt=$.node(_e);if(et==0){if(tt.type.spec.isolating)return!0;continue}for(let nt=tt.child(et-1);;nt=nt.lastChild){if(nt.childCount==0&&!nt.inlineContent||needsGap(nt.type))return!0;if(nt.inlineContent)return!1}}return!0}function closedAfter($){for(let _e=$.depth;_e>=0;_e--){let et=$.indexAfter(_e),tt=$.node(_e);if(et==tt.childCount){if(tt.type.spec.isolating)return!0;continue}for(let nt=tt.child(et);;nt=nt.firstChild){if(nt.childCount==0&&!nt.inlineContent||needsGap(nt.type))return!0;if(nt.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween($,_e,et){return _e.pos==et.pos&&GapCursor.valid(et)?new GapCursor(et):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow($,_e){const et=$=="vert"?_e>0?"down":"up":_e>0?"right":"left";return function(tt,nt,rt){let it=tt.selection,ot=_e>0?it.$to:it.$from,at=it.empty;if(it instanceof TextSelection){if(!rt.endOfTextblock(et)||ot.depth==0)return!1;at=!1,ot=tt.doc.resolve(_e>0?ot.after():ot.before())}let st=GapCursor.findGapCursorFrom(ot,_e,at);return st?(nt&&nt(tt.tr.setSelection(new GapCursor(st))),!0):!1}}function handleClick($,_e,et){if(!$||!$.editable)return!1;let tt=$.state.doc.resolve(_e);if(!GapCursor.valid(tt))return!1;let nt=$.posAtCoords({left:et.clientX,top:et.clientY});return nt&&nt.inside>-1&&NodeSelection.isSelectable($.state.doc.nodeAt(nt.inside))?!1:($.dispatch($.state.tr.setSelection(new GapCursor(tt))),!0)}function beforeinput($,_e){if(_e.inputType!="insertCompositionText"||!($.state.selection instanceof GapCursor))return!1;let{$from:et}=$.state.selection,tt=et.parent.contentMatchAt(et.index()).findWrapping($.state.schema.nodes.text);if(!tt)return!1;let nt=Fragment.empty;for(let it=tt.length-1;it>=0;it--)nt=Fragment.from(tt[it].createAndFill(null,nt));let rt=$.state.tr.replace(et.pos,et.pos,new Slice(nt,0,0));return rt.setSelection(TextSelection.near(rt.doc.resolve(et.pos+1))),$.dispatch(rt),!1}function drawGapCursor($){if(!($.selection instanceof GapCursor))return null;let _e=document.createElement("div");return _e.className="ProseMirror-gapcursor",DecorationSet.create($.doc,[Decoration.widget($.selection.head,_e,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema($){var _e;const et={name:$.name,options:$.options,storage:$.storage};return{allowGapCursor:(_e=callOrReturn(getExtensionField($,"allowGapCursor",et)))!==null&&_e!==void 0?_e:null}}}),HardBreak=Node.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:$}){return["br",mergeAttributes(this.options.HTMLAttributes,$)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:$,chain:_e,state:et,editor:tt})=>$.first([()=>$.exitCode(),()=>$.command(()=>{const{selection:nt,storedMarks:rt}=et;if(nt.$from.parent.type.spec.isolating)return!1;const{keepMarks:it}=this.options,{splittableMarks:ot}=tt.extensionManager,at=rt||nt.$to.parentOffset&&nt.$from.marks();return _e().insertContent({type:this.name}).command(({tr:st,dispatch:lt})=>{if(lt&&at&&it){const ct=at.filter(ut=>ot.includes(ut.type.name));st.ensureMarks(ct)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map($=>({tag:`h${$}`,attrs:{level:$}}))},renderHTML({node:$,HTMLAttributes:_e}){return[`h${this.options.levels.includes($.attrs.level)?$.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,_e),0]},addCommands(){return{setHeading:$=>({commands:_e})=>this.options.levels.includes($.level)?_e.setNode(this.name,$):!1,toggleHeading:$=>({commands:_e})=>this.options.levels.includes($.level)?_e.toggleNode(this.name,"paragraph",$):!1}},addKeyboardShortcuts(){return this.options.levels.reduce(($,_e)=>({...$,[`Mod-Alt-${_e}`]:()=>this.editor.commands.toggleHeading({level:_e})}),{})},addInputRules(){return this.options.levels.map($=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${$}})\\s$`),type:this.type,getAttributes:{level:$}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(_e){return _e.length?(_e=RopeSequence.from(_e),!this.length&&_e||_e.length<GOOD_LEAF_SIZE&&this.leafAppend(_e)||this.length<GOOD_LEAF_SIZE&&_e.leafPrepend(this)||this.appendInner(_e)):this};RopeSequence.prototype.prepend=function(_e){return _e.length?RopeSequence.from(_e).append(this):this};RopeSequence.prototype.appendInner=function(_e){return new Append(this,_e)};RopeSequence.prototype.slice=function(_e,et){return _e===void 0&&(_e=0),et===void 0&&(et=this.length),_e>=et?RopeSequence.empty:this.sliceInner(Math.max(0,_e),Math.min(this.length,et))};RopeSequence.prototype.get=function(_e){if(!(_e<0||_e>=this.length))return this.getInner(_e)};RopeSequence.prototype.forEach=function(_e,et,tt){et===void 0&&(et=0),tt===void 0&&(tt=this.length),et<=tt?this.forEachInner(_e,et,tt,0):this.forEachInvertedInner(_e,et,tt,0)};RopeSequence.prototype.map=function(_e,et,tt){et===void 0&&(et=0),tt===void 0&&(tt=this.length);var nt=[];return this.forEach(function(rt,it){return nt.push(_e(rt,it))},et,tt),nt};RopeSequence.from=function(_e){return _e instanceof RopeSequence?_e:_e&&_e.length?new Leaf(_e):RopeSequence.empty};var Leaf=function($){function _e(tt){$.call(this),this.values=tt}$&&(_e.__proto__=$),_e.prototype=Object.create($&&$.prototype),_e.prototype.constructor=_e;var et={length:{configurable:!0},depth:{configurable:!0}};return _e.prototype.flatten=function(){return this.values},_e.prototype.sliceInner=function(nt,rt){return nt==0&&rt==this.length?this:new _e(this.values.slice(nt,rt))},_e.prototype.getInner=function(nt){return this.values[nt]},_e.prototype.forEachInner=function(nt,rt,it,ot){for(var at=rt;at<it;at++)if(nt(this.values[at],ot+at)===!1)return!1},_e.prototype.forEachInvertedInner=function(nt,rt,it,ot){for(var at=rt-1;at>=it;at--)if(nt(this.values[at],ot+at)===!1)return!1},_e.prototype.leafAppend=function(nt){if(this.length+nt.length<=GOOD_LEAF_SIZE)return new _e(this.values.concat(nt.flatten()))},_e.prototype.leafPrepend=function(nt){if(this.length+nt.length<=GOOD_LEAF_SIZE)return new _e(nt.flatten().concat(this.values))},et.length.get=function(){return this.values.length},et.depth.get=function(){return 0},Object.defineProperties(_e.prototype,et),_e}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function($){function _e(et,tt){$.call(this),this.left=et,this.right=tt,this.length=et.length+tt.length,this.depth=Math.max(et.depth,tt.depth)+1}return $&&(_e.__proto__=$),_e.prototype=Object.create($&&$.prototype),_e.prototype.constructor=_e,_e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},_e.prototype.getInner=function(tt){return tt<this.left.length?this.left.get(tt):this.right.get(tt-this.left.length)},_e.prototype.forEachInner=function(tt,nt,rt,it){var ot=this.left.length;if(nt<ot&&this.left.forEachInner(tt,nt,Math.min(rt,ot),it)===!1||rt>ot&&this.right.forEachInner(tt,Math.max(nt-ot,0),Math.min(this.length,rt)-ot,it+ot)===!1)return!1},_e.prototype.forEachInvertedInner=function(tt,nt,rt,it){var ot=this.left.length;if(nt>ot&&this.right.forEachInvertedInner(tt,nt-ot,Math.max(rt,ot)-ot,it+ot)===!1||rt<ot&&this.left.forEachInvertedInner(tt,Math.min(nt,ot),rt,it)===!1)return!1},_e.prototype.sliceInner=function(tt,nt){if(tt==0&&nt==this.length)return this;var rt=this.left.length;return nt<=rt?this.left.slice(tt,nt):tt>=rt?this.right.slice(tt-rt,nt-rt):this.left.slice(tt,rt).append(this.right.slice(0,nt-rt))},_e.prototype.leafAppend=function(tt){var nt=this.right.leafAppend(tt);if(nt)return new _e(this.left,nt)},_e.prototype.leafPrepend=function(tt){var nt=this.left.leafPrepend(tt);if(nt)return new _e(nt,this.right)},_e.prototype.appendInner=function(tt){return this.left.depth>=Math.max(this.right.depth,tt.depth)+1?new _e(this.left,new _e(this.right,tt)):new _e(this,tt)},_e}(RopeSequence);const max_empty_items=500;class Branch{constructor(_e,et){this.items=_e,this.eventCount=et}popEvent(_e,et){if(this.eventCount==0)return null;let tt=this.items.length;for(;;tt--)if(this.items.get(tt-1).selection){--tt;break}let nt,rt;et&&(nt=this.remapping(tt,this.items.length),rt=nt.maps.length);let it=_e.tr,ot,at,st=[],lt=[];return this.items.forEach((ct,ut)=>{if(!ct.step){nt||(nt=this.remapping(tt,ut+1),rt=nt.maps.length),rt--,lt.push(ct);return}if(nt){lt.push(new Item(ct.map));let dt=ct.step.map(nt.slice(rt)),ft;dt&&it.maybeStep(dt).doc&&(ft=it.mapping.maps[it.mapping.maps.length-1],st.push(new Item(ft,void 0,void 0,st.length+lt.length))),rt--,ft&&nt.appendMap(ft,rt)}else it.maybeStep(ct.step);if(ct.selection)return ot=nt?ct.selection.map(nt.slice(rt)):ct.selection,at=new Branch(this.items.slice(0,tt).append(lt.reverse().concat(st)),this.eventCount-1),!1},this.items.length,0),{remaining:at,transform:it,selection:ot}}addTransform(_e,et,tt,nt){let rt=[],it=this.eventCount,ot=this.items,at=!nt&&ot.length?ot.get(ot.length-1):null;for(let lt=0;lt<_e.steps.length;lt++){let ct=_e.steps[lt].invert(_e.docs[lt]),ut=new Item(_e.mapping.maps[lt],ct,et),dt;(dt=at&&at.merge(ut))&&(ut=dt,lt?rt.pop():ot=ot.slice(0,ot.length-1)),rt.push(ut),et&&(it++,et=void 0),nt||(at=ut)}let st=it-tt.depth;return st>DEPTH_OVERFLOW&&(ot=cutOffEvents(ot,st),it-=st),new Branch(ot.append(rt),it)}remapping(_e,et){let tt=new Mapping;return this.items.forEach((nt,rt)=>{let it=nt.mirrorOffset!=null&&rt-nt.mirrorOffset>=_e?tt.maps.length-nt.mirrorOffset:void 0;tt.appendMap(nt.map,it)},_e,et),tt}addMaps(_e){return this.eventCount==0?this:new Branch(this.items.append(_e.map(et=>new Item(et))),this.eventCount)}rebased(_e,et){if(!this.eventCount)return this;let tt=[],nt=Math.max(0,this.items.length-et),rt=_e.mapping,it=_e.steps.length,ot=this.eventCount;this.items.forEach(ut=>{ut.selection&&ot--},nt);let at=et;this.items.forEach(ut=>{let dt=rt.getMirror(--at);if(dt==null)return;it=Math.min(it,dt);let ft=rt.maps[dt];if(ut.step){let pt=_e.steps[dt].invert(_e.docs[dt]),mt=ut.selection&&ut.selection.map(rt.slice(at+1,dt));mt&&ot++,tt.push(new Item(ft,pt,mt))}else tt.push(new Item(ft))},nt);let st=[];for(let ut=et;ut<it;ut++)st.push(new Item(rt.maps[ut]));let lt=this.items.slice(0,nt).append(st).append(tt),ct=new Branch(lt,ot);return ct.emptyItemCount()>max_empty_items&&(ct=ct.compress(this.items.length-tt.length)),ct}emptyItemCount(){let _e=0;return this.items.forEach(et=>{et.step||_e++}),_e}compress(_e=this.items.length){let et=this.remapping(0,_e),tt=et.maps.length,nt=[],rt=0;return this.items.forEach((it,ot)=>{if(ot>=_e)nt.push(it),it.selection&&rt++;else if(it.step){let at=it.step.map(et.slice(tt)),st=at&&at.getMap();if(tt--,st&&et.appendMap(st,tt),at){let lt=it.selection&&it.selection.map(et.slice(tt));lt&&rt++;let ct=new Item(st.invert(),at,lt),ut,dt=nt.length-1;(ut=nt.length&&nt[dt].merge(ct))?nt[dt]=ut:nt.push(ct)}}else it.map&&tt--},this.items.length,0),new Branch(RopeSequence.from(nt.reverse()),rt)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents($,_e){let et;return $.forEach((tt,nt)=>{if(tt.selection&&_e--==0)return et=nt,!1}),$.slice(et)}class Item{constructor(_e,et,tt,nt){this.map=_e,this.step=et,this.selection=tt,this.mirrorOffset=nt}merge(_e){if(this.step&&_e.step&&!_e.selection){let et=_e.step.merge(this.step);if(et)return new Item(et.getMap().invert(),et,this.selection)}}}class HistoryState{constructor(_e,et,tt,nt,rt){this.done=_e,this.undone=et,this.prevRanges=tt,this.prevTime=nt,this.prevComposition=rt}}const DEPTH_OVERFLOW=20;function applyTransaction($,_e,et,tt){let nt=et.getMeta(historyKey),rt;if(nt)return nt.historyState;et.getMeta(closeHistoryKey)&&($=new HistoryState($.done,$.undone,null,0,-1));let it=et.getMeta("appendedTransaction");if(et.steps.length==0)return $;if(it&&it.getMeta(historyKey))return it.getMeta(historyKey).redo?new HistoryState($.done.addTransform(et,void 0,tt,mustPreserveItems(_e)),$.undone,rangesFor(et.mapping.maps),$.prevTime,$.prevComposition):new HistoryState($.done,$.undone.addTransform(et,void 0,tt,mustPreserveItems(_e)),null,$.prevTime,$.prevComposition);if(et.getMeta("addToHistory")!==!1&&!(it&&it.getMeta("addToHistory")===!1)){let ot=et.getMeta("composition"),at=$.prevTime==0||!it&&$.prevComposition!=ot&&($.prevTime<(et.time||0)-tt.newGroupDelay||!isAdjacentTo(et,$.prevRanges)),st=it?mapRanges($.prevRanges,et.mapping):rangesFor(et.mapping.maps);return new HistoryState($.done.addTransform(et,at?_e.selection.getBookmark():void 0,tt,mustPreserveItems(_e)),Branch.empty,st,et.time,ot??$.prevComposition)}else return(rt=et.getMeta("rebased"))?new HistoryState($.done.rebased(et,rt),$.undone.rebased(et,rt),mapRanges($.prevRanges,et.mapping),$.prevTime,$.prevComposition):new HistoryState($.done.addMaps(et.mapping.maps),$.undone.addMaps(et.mapping.maps),mapRanges($.prevRanges,et.mapping),$.prevTime,$.prevComposition)}function isAdjacentTo($,_e){if(!_e)return!1;if(!$.docChanged)return!0;let et=!1;return $.mapping.maps[0].forEach((tt,nt)=>{for(let rt=0;rt<_e.length;rt+=2)tt<=_e[rt+1]&&nt>=_e[rt]&&(et=!0)}),et}function rangesFor($){let _e=[];for(let et=$.length-1;et>=0&&_e.length==0;et--)$[et].forEach((tt,nt,rt,it)=>_e.push(rt,it));return _e}function mapRanges($,_e){if(!$)return null;let et=[];for(let tt=0;tt<$.length;tt+=2){let nt=_e.map($[tt],1),rt=_e.map($[tt+1],-1);nt<=rt&&et.push(nt,rt)}return et}function histTransaction($,_e,et){let tt=mustPreserveItems(_e),nt=historyKey.get(_e).spec.config,rt=(et?$.undone:$.done).popEvent(_e,tt);if(!rt)return null;let it=rt.selection.resolve(rt.transform.doc),ot=(et?$.done:$.undone).addTransform(rt.transform,_e.selection.getBookmark(),nt,tt),at=new HistoryState(et?ot:rt.remaining,et?rt.remaining:ot,null,0,-1);return rt.transform.setSelection(it).setMeta(historyKey,{redo:et,historyState:at})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems($){let _e=$.plugins;if(cachedPreserveItemsPlugins!=_e){cachedPreserveItems=!1,cachedPreserveItemsPlugins=_e;for(let et=0;et<_e.length;et++)if(_e[et].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history($={}){return $={depth:$.depth||100,newGroupDelay:$.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(_e,et,tt){return applyTransaction(et,tt,_e,$)}},config:$,props:{handleDOMEvents:{beforeinput(_e,et){let tt=et.inputType,nt=tt=="historyUndo"?undo:tt=="historyRedo"?redo:null;return!nt||!_e.editable?!1:(et.preventDefault(),nt(_e.state,_e.dispatch))}}}})}function buildCommand($,_e){return(et,tt)=>{let nt=historyKey.getState(et);if(!nt||($?nt.undone:nt.done).eventCount==0)return!1;if(tt){let rt=histTransaction(nt,et,$);rt&&tt(_e?rt.scrollIntoView():rt)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:$,dispatch:_e})=>undo($,_e),redo:()=>({state:$,dispatch:_e})=>redo($,_e)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HorizontalRule=Node.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:$}){return["hr",mergeAttributes(this.options.HTMLAttributes,$)]},addCommands(){return{setHorizontalRule:()=>({chain:$,state:_e})=>{if(!canInsertNode(_e,_e.schema.nodes[this.name]))return!1;const{selection:et}=_e,{$from:tt,$to:nt}=et,rt=$();return tt.parentOffset===0?rt.insertContentAt({from:Math.max(tt.pos-1,0),to:nt.pos},{type:this.name}):isNodeSelection(et)?rt.insertContentAt(nt.pos,{type:this.name}):rt.insertContent({type:this.name}),rt.command(({tr:it,dispatch:ot})=>{var at;if(ot){const{$to:st}=it.selection,lt=st.end();if(st.nodeAfter)st.nodeAfter.isTextblock?it.setSelection(TextSelection.create(it.doc,st.pos+1)):st.nodeAfter.isBlock?it.setSelection(NodeSelection.create(it.doc,st.pos)):it.setSelection(TextSelection.create(it.doc,st.pos));else{const ct=(at=st.parent.type.contentMatch.defaultType)===null||at===void 0?void 0:at.create();ct&&(it.insert(lt,ct),it.setSelection(TextSelection.create(it.doc,lt+1)))}it.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:$=>$.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:$=>$.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:$}){return["em",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setItalic:()=>({commands:$})=>$.setMark(this.name),toggleItalic:()=>({commands:$})=>$.toggleMark(this.name),unsetItalic:()=>({commands:$})=>$.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem=Node.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:$}){return["li",mergeAttributes(this.options.HTMLAttributes,$),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$1=/^(\d+)\.\s$/,OrderedList=Node.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:$=>$.hasAttribute("start")?parseInt($.getAttribute("start")||"",10):1},type:{default:null,parseHTML:$=>$.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:$}){const{start:_e,...et}=$;return _e===1?["ol",mergeAttributes(this.options.HTMLAttributes,et),0]:["ol",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{toggleOrderedList:()=>({commands:$,chain:_e})=>this.options.keepAttributes?_e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():$.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let $=wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:_e=>({start:+_e[1]}),joinPredicate:(_e,et)=>et.childCount+et.attrs.start===+_e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&($=wrappingInputRule({find:inputRegex$1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:_e=>({start:+_e[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(_e,et)=>et.childCount+et.attrs.start===+_e[1],editor:this.editor})),[$]}}),Paragraph=Node.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:$}){return["p",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setParagraph:()=>({commands:$})=>$.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:$=>$.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:$}){return["s",mergeAttributes(this.options.HTMLAttributes,$),0]},addCommands(){return{setStrike:()=>({commands:$})=>$.setMark(this.name),toggleStrike:()=>({commands:$})=>$.toggleMark(this.name),unsetStrike:()=>({commands:$})=>$.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text$1=Node.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){const $=[];return this.options.bold!==!1&&$.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&$.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&$.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&$.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&$.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&$.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&$.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&$.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&$.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&$.push(Heading.configure(this.options.heading)),this.options.history!==!1&&$.push(History.configure(this.options.history)),this.options.horizontalRule!==!1&&$.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&$.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&$.push(ListItem.configure(this.options.listItem)),this.options.orderedList!==!1&&$.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&$.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&$.push(Strike.configure(this.options.strike)),this.options.text!==!1&&$.push(Text$1.configure(this.options.text)),$}}),Placeholder=Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:$,selection:_e})=>{const et=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:tt}=_e,nt=[];if(!et)return null;const rt=this.editor.isEmpty;return $.descendants((it,ot)=>{const at=tt>=ot&&tt<=ot+it.nodeSize,st=!it.isLeaf&&isNodeEmpty(it);if((at||!this.options.showOnlyCurrent)&&st){const lt=[this.options.emptyNodeClass];rt&&lt.push(this.options.emptyEditorClass);const ct=Decoration.node(ot,ot+it.nodeSize,{class:lt.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:it,pos:ot,hasAnchor:at}):this.options.placeholder});nt.push(ct)}return this.options.includeChildren}),DecorationSet.create($,nt)}}})]}}),CharacterCount=Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:$=>$.length,wordCounter:$=>$.split(" ").filter(_e=>_e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=$=>{const _e=($==null?void 0:$.node)||this.editor.state.doc;if((($==null?void 0:$.mode)||this.options.mode)==="textSize"){const tt=_e.textBetween(0,_e.content.size,void 0," ");return this.options.textCounter(tt)}return _e.nodeSize},this.storage.words=$=>{const _e=($==null?void 0:$.node)||this.editor.state.doc,et=_e.textBetween(0,_e.content.size," "," ");return this.options.wordCounter(et)}},addProseMirrorPlugins(){let $=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(_e,et,tt)=>{if($)return;const nt=this.options.limit;if(nt==null||nt===0){$=!0;return}const rt=this.storage.characters({node:tt.doc});if(rt>nt){const it=rt-nt,ot=0,at=it;console.warn(`[CharacterCount] Initial content exceeded limit of ${nt} characters. Content was automatically trimmed.`);const st=tt.tr.deleteRange(ot,at);return $=!0,st}$=!0},filterTransaction:(_e,et)=>{const tt=this.options.limit;if(!_e.docChanged||tt===0||tt===null||tt===void 0)return!0;const nt=this.storage.characters({node:et.doc}),rt=this.storage.characters({node:_e.doc});if(rt<=tt||nt>tt&&rt>tt&&rt<=nt)return!0;if(nt>tt&&rt>tt&&rt>nt||!_e.getMeta("paste"))return!1;const ot=_e.selection.$head.pos,at=rt-tt,st=ot-at,lt=ot;return _e.deleteRange(st,lt),!(this.storage.characters({node:_e.doc})>tt)}})]}}),methods$o={one:{},two:{},three:{},four:{}},model$6={one:{},two:{},three:{}},compute$b={},hooks=[],tmpWrld={methods:methods$o,model:model$6,compute:compute$b,hooks},isArray$q=$=>Object.prototype.toString.call($)==="[object Array]",fns$5={compute:function($){const{world:_e}=this,et=_e.compute;return typeof $=="string"&&et.hasOwnProperty($)?et[$](this):isArray$q($)?$.forEach(tt=>{_e.compute.hasOwnProperty(tt)?et[tt](this):console.warn("no compute:",$)}):typeof $=="function"?$(this):console.warn("no compute:",$),this}},forEach=function($){return this.fullPointer.forEach((et,tt)=>{const nt=this.update([et]);$(nt,tt)}),this},map$4=function($,_e){const tt=this.fullPointer.map((rt,it)=>{const ot=this.update([rt]),at=$(ot,it);return at===void 0?this.none():at});if(tt.length===0)return _e||this.update([]);if(tt[0]!==void 0&&(typeof tt[0]=="string"||typeof tt[0]=="object"&&(tt[0]===null||!tt[0].isView)))return tt;let nt=[];return tt.forEach(rt=>{nt=nt.concat(rt.fullPointer)}),this.toView(nt)},filter=function($){let _e=this.fullPointer;return _e=_e.filter((tt,nt)=>{const rt=this.update([tt]);return $(rt,nt)}),this.update(_e)},find$8=function($){const et=this.fullPointer.find((tt,nt)=>{const rt=this.update([tt]);return $(rt,nt)});return this.update([et])},some$2=function($){return this.fullPointer.some((et,tt)=>{const nt=this.update([et]);return $(nt,tt)})},random=function($=1){let _e=this.fullPointer,et=Math.floor(Math.random()*_e.length);return et+$>this.length&&(et=this.length-$,et=et<0?0:et),_e=_e.slice(et,et+$),this.update(_e)},loops={forEach,map:map$4,filter,find:find$8,some:some$2,random},utils={termList:function(){return this.methods.one.termList(this.docs)},terms:function($){const _e=this.match(".");return typeof $=="number"?_e.eq($):_e},groups:function($){if($||$===0)return this.update(this._groups[$]||[]);const _e={};return Object.keys(this._groups).forEach(et=>{_e[et]=this.update(this._groups[et])}),_e},eq:function($){let _e=this.pointer;return _e||(_e=this.docs.map((et,tt)=>[tt])),_e[$]?this.update([_e[$]]):this.none()},first:function(){return this.eq(0)},last:function(){const $=this.fullPointer.length-1;return this.eq($)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function($,_e){let et=this.pointer||this.docs.map((tt,nt)=>[nt]);return et=et.slice($,_e),this.update(et)},all:function(){return this.update().toView()},fullSentences:function(){const $=this.fullPointer.map(_e=>[_e[0]]);return this.update($).toView()},none:function(){return this.update([])},isDoc:function($){if(!$||!$.isView)return!1;const _e=this.fullPointer,et=$.fullPointer;return!_e.length===et.length?!1:_e.every((tt,nt)=>et[nt]?tt[0]===et[nt][0]&&tt[1]===et[nt][1]&&tt[2]===et[nt][2]:!1)},wordCount:function(){return this.docs.reduce(($,_e)=>($+=_e.filter(et=>et.text!=="").length,$),0)},isFull:function(){const $=this.pointer;if(!$)return!0;if($.length===0||$[0][0]!==0)return!1;let _e=0,et=0;return this.document.forEach(tt=>_e+=tt.length),this.docs.forEach(tt=>et+=tt.length),_e===et},getNth:function($){return typeof $=="number"?this.eq($):typeof $=="string"?this.if($):this}};utils.group=utils.groups;utils.fullSentence=utils.fullSentences;utils.sentence=utils.fullSentences;utils.lastTerm=utils.lastTerms;utils.firstTerm=utils.firstTerms;const methods$n=Object.assign({},utils,fns$5,loops);methods$n.get=methods$n.eq;class View{constructor(_e,et,tt={}){[["document",_e],["world",tmpWrld],["_groups",tt],["_cache",null],["viewType","View"]].forEach(rt=>{Object.defineProperty(this,rt[0],{value:rt[1],writable:!0})}),this.ptrs=et}get docs(){let _e=this.document;return this.ptrs&&(_e=tmpWrld.methods.one.getDoc(this.ptrs,this.document)),_e}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){const{docs:_e,ptrs:et,document:tt}=this;return(et||_e.map((rt,it)=>[it])).map(rt=>{let[it,ot,at,st,lt]=rt;return ot=ot||0,at=at||(tt[it]||[]).length,tt[it]&&tt[it][ot]&&(st=st||tt[it][ot].id,tt[it][at-1]&&(lt=lt||tt[it][at-1].id)),[it,ot,at,st,lt]})}update(_e){const et=new View(this.document,_e);if(this._cache&&_e&&_e.length>0){const tt=[];_e.forEach((nt,rt)=>{const[it,ot,at]=nt;nt.length===1?tt[rt]=this._cache[it]:ot===0&&this.document[it].length===at&&(tt[rt]=this._cache[it])}),tt.length>0&&(et._cache=tt)}return et.world=this.world,et}toView(_e){return new View(this.document,_e||this.pointer)}fromText(_e){const{methods:et}=this,tt=et.one.tokenize.fromString(_e,this.world),nt=new View(tt);return nt.world=this.world,nt.compute(["normal","freeze","lexicon"]),this.world.compute.preTagger&&nt.compute("preTagger"),nt.compute("unfreeze"),nt}clone(){let _e=this.document.slice(0);_e=_e.map(tt=>tt.map(nt=>(nt=Object.assign({},nt),nt.tags=new Set(nt.tags),nt)));const et=this.update(this.pointer);return et.document=_e,et._cache=this._cache,et}}Object.assign(View.prototype,methods$n);const version="14.14.5",isObject$f=function($){return $&&typeof $=="object"&&!Array.isArray($)},isArray$p=function($){return Object.prototype.toString.call($)==="[object Array]"};function mergeDeep($,_e){if(isObject$f(_e))for(const et in _e)isObject$f(_e[et])?($[et]||Object.assign($,{[et]:{}}),mergeDeep($[et],_e[et])):Object.assign($,{[et]:_e[et]});return $}function mergeQuick($,_e){for(const et in _e)$[et]=$[et]||{},Object.assign($[et],_e[et]);return $}const addIrregulars=function($,_e){const et=$.two.models||{};Object.keys(_e).forEach(tt=>{_e[tt].pastTense&&(et.toPast&&(et.toPast.ex[tt]=_e[tt].pastTense),et.fromPast&&(et.fromPast.ex[_e[tt].pastTense]=tt)),_e[tt].presentTense&&(et.toPresent&&(et.toPresent.ex[tt]=_e[tt].presentTense),et.fromPresent&&(et.fromPresent.ex[_e[tt].presentTense]=tt)),_e[tt].gerund&&(et.toGerund&&(et.toGerund.ex[tt]=_e[tt].gerund),et.fromGerund&&(et.fromGerund.ex[_e[tt].gerund]=tt)),_e[tt].comparative&&(et.toComparative&&(et.toComparative.ex[tt]=_e[tt].comparative),et.fromComparative&&(et.fromComparative.ex[_e[tt].comparative]=tt)),_e[tt].superlative&&(et.toSuperlative&&(et.toSuperlative.ex[tt]=_e[tt].superlative),et.fromSuperlative&&(et.fromSuperlative.ex[_e[tt].superlative]=tt))})},extend$1=function($,_e,et,tt){if(isArray$p($)){$.forEach(at=>extend$1(at,_e,et,tt));return}const{methods:nt,model:rt,compute:it,hooks:ot}=_e;$.methods&&mergeQuick(nt,$.methods),$.model&&mergeDeep(rt,$.model),$.irregulars&&addIrregulars(rt,$.irregulars),$.compute&&Object.assign(it,$.compute),ot&&(_e.hooks=ot.concat($.hooks||[])),$.api&&$.api(et),$.lib&&Object.keys($.lib).forEach(at=>tt[at]=$.lib[at]),$.tags&&tt.addTags($.tags),$.words&&tt.addWords($.words),$.frozen&&tt.addWords($.frozen,!0),$.mutate&&$.mutate(_e,tt)};var define_process_env_default$5={};const verbose=function($){const _e=typeof process>"u"||!define_process_env_default$5?self.env||{}:define_process_env_default$5;return _e.DEBUG_TAGS=$==="tagger"||$===!0?!0:"",_e.DEBUG_MATCH=$==="match"||$===!0?!0:"",_e.DEBUG_CHUNKS=$==="chunker"||$===!0?!0:"",this},isObject$e=$=>Object.prototype.toString.call($)==="[object Object]",isArray$o=function($){return Object.prototype.toString.call($)==="[object Array]"},fromJson=function($){return $.map(_e=>_e.terms.map(et=>(isArray$o(et.tags)&&(et.tags=new Set(et.tags)),et)))},preTokenized=function($){return $.map(_e=>_e.map(et=>({text:et,normal:et,pre:"",post:" ",tags:new Set})))},inputs=function($,_e,et){const{methods:tt}=et,nt=new _e([]);if(nt.world=et,typeof $=="number"&&($=String($)),!$)return nt;if(typeof $=="string"){const rt=tt.one.tokenize.fromString($,et);return new _e(rt)}if(isObject$e($)&&$.isView)return new _e($.document,$.ptrs);if(isArray$o($)){if(isArray$o($[0])){const it=preTokenized($);return new _e(it)}const rt=fromJson($);return new _e(rt)}return nt},world=Object.assign({},tmpWrld),nlp=function($,_e){_e&&nlp.addWords(_e);const et=inputs($,View,world);return $&&et.compute(world.hooks),et};Object.defineProperty(nlp,"_world",{value:world,writable:!0});nlp.tokenize=function($,_e){const{compute:et}=this._world;_e&&nlp.addWords(_e);const tt=inputs($,View,world);return et.contractions&&tt.compute(["alias","normal","machine","contractions"]),tt};nlp.plugin=function($){return extend$1($,this._world,View,this),this};nlp.extend=nlp.plugin;nlp.world=function(){return this._world};nlp.model=function(){return this._world.model};nlp.methods=function(){return this._world.methods};nlp.hooks=function(){return this._world.hooks};nlp.verbose=verbose;nlp.version=version;const createCache=function($){return $.map(et=>{const tt=new Set;return et.forEach(nt=>{nt.normal!==""&&tt.add(nt.normal),nt.switch&&tt.add(`%${nt.switch}%`),nt.implicit&&tt.add(nt.implicit),nt.machine&&tt.add(nt.machine),nt.root&&tt.add(nt.root),nt.alias&&nt.alias.forEach(it=>tt.add(it));const rt=Array.from(nt.tags);for(let it=0;it<rt.length;it+=1)tt.add("#"+rt[it])}),tt})},methods$m={one:{cacheDoc:createCache}},methods$l={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}},addAPI$3=function($){Object.assign($.prototype,methods$l)},compute$a={cache:function($){$._cache=$.methods.one.cacheDoc($.document)}},cache$1={api:addAPI$3,compute:compute$a,methods:methods$m},caseFns={toLowerCase:function(){return this.termList().forEach($=>{$.text=$.text.toLowerCase()}),this},toUpperCase:function(){return this.termList().forEach($=>{$.text=$.text.toUpperCase()}),this},toTitleCase:function(){return this.termList().forEach($=>{$.text=$.text.replace(/^ *[a-z\u00C0-\u00FF]/,_e=>_e.toUpperCase())}),this},toCamelCase:function(){return this.docs.forEach($=>{$.forEach((_e,et)=>{et!==0&&(_e.text=_e.text.replace(/^ *[a-z\u00C0-\u00FF]/,tt=>tt.toUpperCase())),et!==$.length-1&&(_e.post="")})}),this}},isTitleCase$4=$=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test($)||new RegExp("^\\p{Lu}$","u").test($),toTitleCase$2=$=>$.replace(new RegExp("^\\p{Ll}","u"),_e=>_e.toUpperCase()),toLowerCase$1=$=>$.replace(new RegExp("^\\p{Lu}","u"),_e=>_e.toLowerCase()),spliceArr=($,_e,et)=>{if(et.forEach(tt=>tt.dirty=!0),$){const tt=[_e,0].concat(et);Array.prototype.splice.apply($,tt)}return $},endSpace=function($){const _e=/ $/,et=/[-]/,tt=$[$.length-1];tt&&!_e.test(tt.post)&&!et.test(tt.post)&&(tt.post+=" ")},movePunct=($,_e,et)=>{const tt=/[-.?!,;:)'"]/g,nt=$[_e-1];if(!nt)return;const rt=nt.post;if(tt.test(rt)){const it=rt.match(tt).join(""),ot=et[et.length-1];ot.post=it+ot.post,nt.post=nt.post.replace(tt,"")}},moveTitleCase=function($,_e,et){const tt=$[_e];if(_e!==0||!isTitleCase$4(tt.text))return;et[0].text=toTitleCase$2(et[0].text);const nt=$[_e];nt.tags.has("ProperNoun")||nt.tags.has("Acronym")||isTitleCase$4(nt.text)&&nt.text.length>1&&(nt.text=toLowerCase$1(nt.text))},cleanPrepend=function($,_e,et,tt){const[nt,rt,it]=_e;rt===0||it===tt[nt].length?endSpace(et):(endSpace(et),endSpace([$[_e[1]]])),moveTitleCase($,rt,et),spliceArr($,rt,et)},cleanAppend=function($,_e,et,tt){const[nt,,rt]=_e,it=(tt[nt]||[]).length;rt<it?(movePunct($,rt,et),endSpace(et)):it===rt&&(endSpace($),movePunct($,rt,et),tt[nt+1]&&(et[et.length-1].post+=" ")),spliceArr($,_e[2],et),_e[4]=et[et.length-1].id};let index$1=0;const pad3=$=>($=$.length<3?"0"+$:$,$.length<3?"0"+$:$),toId=function($){let[_e,et]=$.index||[0,0];index$1+=1,index$1=index$1>46655?0:index$1,_e=_e>46655?0:_e,et=et>1294?0:et;let tt=pad3(index$1.toString(36));tt+=pad3(_e.toString(36));let nt=et.toString(36);nt=nt.length<2?"0"+nt:nt,tt+=nt;const rt=parseInt(Math.random()*36,10);return tt+=rt.toString(36),$.normal+"|"+tt.toUpperCase()},expand$3=function($){$.has("@hasContraction")&&typeof $.contractions=="function"&&$.grow("@hasContraction").contractions().expand()},isArray$n=$=>Object.prototype.toString.call($)==="[object Array]",addIds$2=function($){return $=$.map(_e=>(_e.id=toId(_e),_e)),$},getTerms=function($,_e){const{methods:et}=_e;return typeof $=="string"?et.one.tokenize.fromString($,_e)[0]:typeof $=="object"&&$.isView?$.clone().docs[0]||[]:isArray$n($)?isArray$n($[0])?$[0]:$:[]},insert=function($,_e,et){const{document:tt,world:nt}=_e;_e.uncache();const rt=_e.fullPointer,it=_e.fullPointer;_e.forEach((at,st)=>{const lt=at.fullPointer[0],[ct]=lt,ut=tt[ct];let dt=getTerms($,nt);dt.length!==0&&(dt=addIds$2(dt),et?(expand$3(_e.update([lt]).firstTerm()),cleanPrepend(ut,lt,dt,tt)):(expand$3(_e.update([lt]).lastTerm()),cleanAppend(ut,lt,dt,tt)),tt[ct]&&tt[ct][lt[1]]&&(lt[3]=tt[ct][lt[1]].id),it[st]=lt,lt[2]+=dt.length,rt[st]=lt)});const ot=_e.toView(rt);return _e.ptrs=it,ot.compute(["id","index","freeze","lexicon"]),ot.world.compute.preTagger&&ot.compute("preTagger"),ot.compute("unfreeze"),ot},fns$4={insertAfter:function($){return insert($,this,!1)},insertBefore:function($){return insert($,this,!0)}};fns$4.append=fns$4.insertAfter;fns$4.prepend=fns$4.insertBefore;fns$4.insert=fns$4.insertAfter;const dollarStub=/\$[0-9a-z]+/g,fns$3={},isTitleCase$3=$=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test($)||new RegExp("^\\p{Lu}$","u").test($),toTitleCase$1=$=>$.replace(new RegExp("^\\p{Ll}","u"),_e=>_e.toUpperCase()),toLowerCase=$=>$.replace(new RegExp("^\\p{Lu}","u"),_e=>_e.toLowerCase()),replaceByFn=function($,_e,et){return $.forEach(tt=>{const nt=_e(tt);tt.replaceWith(nt,et)}),$},subDollarSign=function($,_e){if(typeof $!="string")return $;const et=_e.groups();return $=$.replace(dollarStub,tt=>{const nt=tt.replace(/\$/,"");return et.hasOwnProperty(nt)?et[nt].text():tt}),$};fns$3.replaceWith=function($,_e={}){let et=this.fullPointer;const tt=this;if(this.uncache(),typeof $=="function")return replaceByFn(tt,$,_e);const nt=tt.docs[0];if(!nt)return tt;const rt=_e.possessives&&nt[nt.length-1].tags.has("Possessive"),it=_e.case&&isTitleCase$3(nt[0].text);$=subDollarSign($,tt);const ot=this.update(et);et=et.map(ut=>ut.slice(0,3));const at=(ot.docs[0]||[]).map(ut=>Array.from(ut.tags)),st=ot.docs[0][0].pre,lt=ot.docs[0][ot.docs[0].length-1].post;if(typeof $=="string"&&($=this.fromText($).compute("id")),tt.insertAfter($),ot.has("@hasContraction")&&tt.contractions&&tt.grow("@hasContraction+").contractions().expand(),tt.delete(ot),rt){const ut=tt.docs[0],dt=ut[ut.length-1];dt.tags.has("Possessive")||(dt.text+="'s",dt.normal+="'s",dt.tags.add("Possessive"))}if(st&&tt.docs[0]&&(tt.docs[0][0].pre=st),lt&&tt.docs[0]){const ut=tt.docs[0][tt.docs[0].length-1];ut.post.trim()||(ut.post=lt)}const ct=tt.toView(et).compute(["index","freeze","lexicon"]);if(ct.world.compute.preTagger&&ct.compute("preTagger"),ct.compute("unfreeze"),_e.tags&&ct.terms().forEach((ut,dt)=>{ut.tagSafe(at[dt])}),!ct.docs[0]||!ct.docs[0][0])return ct;if(_e.case){const ut=it?toTitleCase$1:toLowerCase;ct.docs[0][0].text=ut(ct.docs[0][0].text)}return ct};fns$3.replace=function($,_e,et){if($&&!_e)return this.replaceWith($,et);const tt=this.match($);return tt.found?(this.soften(),tt.replaceWith(_e,et)):this};const repairPunct=function($,_e){const et=$.length-1,tt=$[et],nt=$[et-_e];nt&&tt&&(nt.post+=tt.post,nt.post=nt.post.replace(/ +([.?!,;:])/,"$1"),nt.post=nt.post.replace(/[,;:]+([.?!])/,"$1"))},pluckOut=function($,_e){_e.forEach(et=>{const[tt,nt,rt]=et,it=rt-nt;$[tt]&&(rt===$[tt].length&&rt>1&&repairPunct($[tt],it),$[tt].splice(nt,it))});for(let et=$.length-1;et>=0;et-=1)if($[et].length===0&&($.splice(et,1),et===$.length&&$[et-1])){const tt=$[et-1],nt=tt[tt.length-1];nt&&(nt.post=nt.post.trimEnd())}return $},fixPointers$1=function($,_e){return $=$.map(et=>{const[tt]=et;return _e[tt]&&_e[tt].forEach(nt=>{const rt=nt[2]-nt[1];et[1]<=nt[1]&&et[2]>=nt[2]&&(et[2]-=rt)}),et}),$.forEach((et,tt)=>{if(et[1]===0&&et[2]==0)for(let nt=tt+1;nt<$.length;nt+=1)$[nt][0]-=1,$[nt][0]<0&&($[nt][0]=0)}),$=$.filter(et=>et[2]-et[1]>0),$=$.map(et=>(et[3]=null,et[4]=null,et)),$},methods$k={remove:function($){const{indexN:_e}=this.methods.one.pointer;this.uncache();let et=this.all(),tt=this;$&&(et=this,tt=this.match($));const nt=!et.ptrs;tt.has("@hasContraction")&&tt.contractions&&tt.grow("@hasContraction").contractions().expand();let rt=et.fullPointer;const it=tt.fullPointer.reverse(),ot=pluckOut(this.document,it),at=_e(it);return rt=fixPointers$1(rt,at),et.ptrs=rt,et.document=ot,et.compute("index"),nt&&(et.ptrs=void 0),$?et.toView(rt):(this.ptrs=[],et.none())}};methods$k.delete=methods$k.remove;const methods$j={pre:function($,_e){return $===void 0&&this.found?this.docs[0][0].pre:(this.docs.forEach(et=>{const tt=et[0];_e===!0?tt.pre+=$:tt.pre=$}),this)},post:function($,_e){if($===void 0){const et=this.docs[this.docs.length-1];return et[et.length-1].post}return this.docs.forEach(et=>{const tt=et[et.length-1];_e===!0?tt.post+=$:tt.post=$}),this},trim:function(){if(!this.found)return this;const $=this.docs,_e=$[0][0];_e.pre=_e.pre.trimStart();const et=$[$.length-1],tt=et[et.length-1];return tt.post=tt.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach($=>{$.forEach((_e,et)=>{et!==0&&(_e.pre=""),$[et+1]&&(_e.post="-")})}),this},dehyphenate:function(){const $=/[-]/;return this.docs.forEach(_e=>{_e.forEach(et=>{$.test(et.post)&&(et.post=" ")})}),this},toQuotations:function($,_e){return $=$||'"',_e=_e||'"',this.docs.forEach(et=>{et[0].pre=$+et[0].pre;const tt=et[et.length-1];tt.post=_e+tt.post}),this},toParentheses:function($,_e){return $=$||"(",_e=_e||")",this.docs.forEach(et=>{et[0].pre=$+et[0].pre;const tt=et[et.length-1];tt.post=_e+tt.post}),this}};methods$j.deHyphenate=methods$j.dehyphenate;methods$j.toQuotation=methods$j.toQuotations;const alpha$1=($,_e)=>$.normal<_e.normal?-1:$.normal>_e.normal?1:0,length=($,_e)=>{const et=$.normal.trim().length,tt=_e.normal.trim().length;return et<tt?1:et>tt?-1:0},wordCount$1=($,_e)=>$.words<_e.words?1:$.words>_e.words?-1:0,sequential$1=($,_e)=>$[0]<_e[0]?1:$[0]>_e[0]?-1:$[1]>_e[1]?1:-1,byFreq=function($){const _e={};return $.forEach(et=>{_e[et.normal]=_e[et.normal]||0,_e[et.normal]+=1}),$.sort((et,tt)=>{const nt=_e[et.normal],rt=_e[tt.normal];return nt<rt?1:nt>rt?-1:0}),$},methods$i={alpha:alpha$1,length,wordCount:wordCount$1,sequential:sequential$1,byFreq},seqNames=new Set(["index","sequence","seq","sequential","chron","chronological"]),freqNames=new Set(["freq","frequency","topk","repeats"]),alphaNames=new Set(["alpha","alphabetical"]),customSort=function($,_e){let et=$.fullPointer;return et=et.sort((tt,nt)=>(tt=$.update([tt]),nt=$.update([nt]),_e(tt,nt))),$.ptrs=et,$},sort=function($){const{docs:_e,pointer:et}=this;if(this.uncache(),typeof $=="function")return customSort(this,$);$=$||"alpha";const tt=et||_e.map((rt,it)=>[it]);let nt=_e.map((rt,it)=>({index:it,words:rt.length,normal:rt.map(ot=>ot.machine||ot.normal||"").join(" "),pointer:tt[it]}));return seqNames.has($)&&($="sequential"),alphaNames.has($)&&($="alpha"),freqNames.has($)?(nt=methods$i.byFreq(nt),this.update(nt.map(rt=>rt.pointer))):typeof methods$i[$]=="function"?(nt=nt.sort(methods$i[$]),this.update(nt.map(rt=>rt.pointer))):this},reverse$2=function(){let $=this.pointer||this.docs.map((_e,et)=>[et]);return $=[].concat($),$=$.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update($)},unique=function(){const $=new Set;return this.filter(et=>{const tt=et.text("machine");return $.has(tt)?!1:($.add(tt),!0)})},sort$1={unique,reverse:reverse$2,sort},isArray$m=$=>Object.prototype.toString.call($)==="[object Array]",combineDocs=function($,_e){if($.length>0){const et=$[$.length-1],tt=et[et.length-1];/ /.test(tt.post)===!1&&(tt.post+=" ")}return $=$.concat(_e),$},combineViews=function($,_e){if($.document===_e.document){const tt=$.fullPointer.concat(_e.fullPointer);return $.toView(tt).compute("index")}return _e.fullPointer.forEach(tt=>{tt[0]+=$.document.length}),$.document=combineDocs($.document,_e.docs),$.all()},concat={concat:function($){if(typeof $=="string"){const _e=this.fromText($);if(!this.found||!this.ptrs)this.document=this.document.concat(_e.document);else{const et=this.fullPointer,tt=et[et.length-1][0];this.document.splice(tt,0,..._e.document)}return this.all().compute("index")}if(typeof $=="object"&&$.isView)return combineViews(this,$);if(isArray$m($)){const _e=combineDocs(this.document,$);return this.document=_e,this.all()}return this}},harden=function(){return this.ptrs=this.fullPointer,this},soften=function(){let $=this.ptrs;return!$||$.length<1?this:($=$.map(_e=>_e.slice(0,3)),this.ptrs=$,this)},harden$1={harden,soften},methods$h=Object.assign({},caseFns,fns$4,fns$3,methods$k,methods$j,sort$1,concat,harden$1),addAPI$2=function($){Object.assign($.prototype,methods$h)},compute$9={id:function($){const _e=$.docs;for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1){const nt=_e[et][tt];nt.id=nt.id||toId(nt)}}},change={api:addAPI$2,compute:compute$9},contractions$1=[{word:"@",out:["at"]},{word:"arent",out:["are","not"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"dun",out:["do","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"outta",out:["out","of"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]},{word:"shouldnt",out:["should","not"]},{word:"couldnt",out:["could","not"]},{word:"wouldnt",out:["would","not"]},{word:"hasnt",out:["has","not"]},{word:"wasnt",out:["was","not"]},{word:"isnt",out:["is","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]}],t$2=!0,numberSuffixes={st:t$2,nd:t$2,rd:t$2,th:t$2,am:t$2,pm:t$2,max:t$2,"":t$2,s:t$2,e:t$2,er:t$2,re:t$2,me:t$2},model$5={one:{contractions:contractions$1,numberSuffixes}},insertContraction$1=function($,_e,et){const[tt,nt]=_e;!et||et.length===0||(et=et.map((rt,it)=>(rt.implicit=rt.text,rt.machine=rt.text,rt.pre="",rt.post="",rt.text="",rt.normal="",rt.index=[tt,nt+it],rt)),et[0]&&(et[0].pre=$[tt][nt].pre,et[et.length-1].post=$[tt][nt].post,et[0].text=$[tt][nt].text,et[0].normal=$[tt][nt].normal),$[tt].splice(nt,1,...et))},hasContraction$3=/'/,alwaysDid=new Set(["what","how","when","where","why"]),useWould=new Set(["be","go","start","think","need"]),useHad=new Set(["been","gone"]),_apostropheD$1=function($,_e){const et=$[_e].normal.split(hasContraction$3)[0];if(alwaysDid.has(et))return[et,"did"];if($[_e+1]){if(useHad.has($[_e+1].normal))return[et,"had"];if(useWould.has($[_e+1].normal))return[et,"would"]}return null},apostropheT$1=function($,_e){return $[_e].normal==="ain't"||$[_e].normal==="aint"?null:[$[_e].normal.replace(/n't/,""),"not"]},hasContraction$2=/'/,isFeminine=/(e||aison|sion|tion)$/,isMasculine=/(age|isme|acle|ege|oire)$/,preL=($,_e)=>{const et=$[_e].normal.split(hasContraction$2)[1];return et&&et.endsWith("e")?["la",et]:["le",et]},preD=($,_e)=>{const et=$[_e].normal.split(hasContraction$2)[1];return et&&isFeminine.test(et)&&!isMasculine.test(et)?["du",et]:et&&et.endsWith("s")?["des",et]:["de",et]},preJ=($,_e)=>["je",$[_e].normal.split(hasContraction$2)[1]],french={preJ,preL,preD},isRange=/^([0-9.]{1,4}[a-z]{0,2}) ?[-] ?([0-9]{1,4}[a-z]{0,2})$/i,timeRange=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,phoneNum=/^[0-9]{3}-[0-9]{4}$/,numberRange=function($,_e){const et=$[_e];let tt=et.text.match(isRange);return tt!==null?et.tags.has("PhoneNumber")===!0||phoneNum.test(et.text)?null:[tt[1],"to",tt[2]]:(tt=et.text.match(timeRange),tt!==null?[tt[1],"to",tt[4]]:null)},numUnit=/^([+-]?[0-9][.,0-9]*)([a-z/]+)$/,numberUnit=function($,_e,et){const tt=et.model.one.numberSuffixes||{},rt=$[_e].text.match(numUnit);if(rt!==null){const it=rt[2].toLowerCase().trim();return tt.hasOwnProperty(it)?null:[rt[1],it]}return null},byApostrophe$1=/'/,numDash=/^[0-9][^-]*[-].*?[0-9]/,reTag$1=function($,_e,et,tt){const nt=_e.update();nt.document=[$];let rt=et+tt;et>0&&(et-=1),$[rt]&&(rt+=1),nt.ptrs=[[0,et,rt]]},byEnd$1={t:($,_e)=>apostropheT$1($,_e),d:($,_e)=>_apostropheD$1($,_e)},byStart={j:($,_e)=>french.preJ($,_e),l:($,_e)=>french.preL($,_e),d:($,_e)=>french.preD($,_e)},knownOnes=function($,_e,et,tt){for(let nt=0;nt<$.length;nt+=1){const rt=$[nt];if(rt.word===_e.normal)return rt.out;if(tt!==null&&tt===rt.after)return[et].concat(rt.out);if(et!==null&&et===rt.before&&tt&&tt.length>2)return rt.out.concat(tt)}return null},toDocs$1=function($,_e){const et=_e.fromText($.join(" "));return et.compute(["id","alias"]),et.docs[0]},thereHas=function($,_e){for(let et=_e+1;et<5&&$[et];et+=1)if($[et].normal==="been")return["there","has"];return["there","is"]},contractions=$=>{const{world:_e,document:et}=$,{model:tt,methods:nt}=_e,rt=tt.one.contractions||[];et.forEach((it,ot)=>{for(let at=it.length-1;at>=0;at-=1){let st=null,lt=null;if(byApostrophe$1.test(it[at].normal)===!0){const ut=it[at].normal.split(byApostrophe$1);st=ut[0],lt=ut[1]}let ct=knownOnes(rt,it[at],st,lt);if(!ct&&byEnd$1.hasOwnProperty(lt)&&(ct=byEnd$1[lt](it,at,_e)),!ct&&byStart.hasOwnProperty(st)&&(ct=byStart[st](it,at)),st==="there"&&lt==="s"&&(ct=thereHas(it,at)),ct){ct=toDocs$1(ct,$),insertContraction$1(et,[ot,at],ct),reTag$1(et[ot],$,at,ct.length);continue}if(numDash.test(it[at].normal)){ct=numberRange(it,at),ct&&(ct=toDocs$1(ct,$),insertContraction$1(et,[ot,at],ct),nt.one.setTag(ct,"NumberRange",_e),ct[2]&&ct[2].tags.has("Time")&&nt.one.setTag([ct[0]],"Time",_e,null,"time-range"),reTag$1(et[ot],$,at,ct.length));continue}ct=numberUnit(it,at,_e),ct&&(ct=toDocs$1(ct,$),insertContraction$1(et,[ot,at],ct),nt.one.setTag([ct[1]],"Unit",_e,null,"contraction-unit"))}})},compute$8={contractions},plugin$3={model:model$5,compute:compute$8,hooks:["contractions"]},freeze$1=function($){const _e=$.world,{model:et,methods:tt}=$.world,nt=tt.one.setTag,{frozenLex:rt}=et.one,it=et.one._multiCache||{};$.docs.forEach(ot=>{for(let at=0;at<ot.length;at+=1){const st=ot[at],lt=st.machine||st.normal;if(it[lt]!==void 0&&ot[at+1]){const ct=at+it[lt]-1;for(let ut=ct;ut>at;ut-=1){const dt=ot.slice(at,ut+1),ft=dt.map(pt=>pt.machine||pt.normal).join(" ");if(rt.hasOwnProperty(ft)===!0){nt(dt,rt[ft],_e,!1,"1-frozen-multi-lexicon"),dt.forEach(pt=>pt.frozen=!0);continue}}}if(rt[lt]!==void 0&&rt.hasOwnProperty(lt)){nt([st],rt[lt],_e,!1,"1-freeze-lexicon"),st.frozen=!0;continue}}})},unfreeze=function($){return $.docs.forEach(_e=>{_e.forEach(et=>{delete et.frozen})}),$},compute$7={frozen:freeze$1,freeze:freeze$1,unfreeze},blue=$=>"\x1B[34m"+$+"\x1B[0m",dim=$=>"\x1B[3m\x1B[2m"+$+"\x1B[0m",debug$2=function($){$.docs.forEach(_e=>{console.log(blue(`
  `)),_e.forEach(et=>{let tt=`  ${dim("")}  `;const nt=et.implicit||et.text||"-";et.frozen===!0?tt+=`${blue(nt)} `:tt+=dim(nt),console.log(tt)})})},freeze={compute:compute$7,mutate:$=>{const _e=$.methods.one;_e.termMethods.isFrozen=et=>et.frozen===!0,_e.debug.freeze=debug$2,_e.debug.frozen=debug$2},api:function($){$.prototype.freeze=function(){return this.docs.forEach(_e=>{_e.forEach(et=>{et.frozen=!0})}),this},$.prototype.unfreeze=function(){this.compute("unfreeze")},$.prototype.isFrozen=function(){return this.match("@isFrozen+")}},hooks:["freeze"]},multiWord=function($,_e,et){const{model:tt,methods:nt}=et,rt=nt.one.setTag,it=tt.one._multiCache||{},{lexicon:ot}=tt.one||{},at=$[_e],st=at.machine||at.normal;if(it[st]!==void 0&&$[_e+1]){const lt=_e+it[st]-1;for(let ct=lt;ct>_e;ct-=1){const ut=$.slice(_e,ct+1);if(ut.length<=1)return!1;const dt=ut.map(ft=>ft.machine||ft.normal).join(" ");if(ot.hasOwnProperty(dt)===!0){const ft=ot[dt];return rt(ut,ft,et,!1,"1-multi-lexicon"),ft&&ft.length===2&&(ft[0]==="PhrasalVerb"||ft[1]==="PhrasalVerb")&&rt([ut[1]],"Particle",et,!1,"1-phrasal-particle"),!0}}return!1}return null},prefix$4=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,allowPrefix=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]),checkLexicon=function($,_e,et){const{model:tt,methods:nt}=et,rt=nt.one.setTag,{lexicon:it}=tt.one,ot=$[_e],at=ot.machine||ot.normal;if(it[at]!==void 0&&it.hasOwnProperty(at))return rt([ot],it[at],et,!1,"1-lexicon"),!0;if(ot.alias){const st=ot.alias.find(lt=>it.hasOwnProperty(lt));if(st)return rt([ot],it[st],et,!1,"1-lexicon-alias"),!0}if(prefix$4.test(at)===!0){const st=at.replace(prefix$4,"");if(it.hasOwnProperty(st)&&st.length>3&&allowPrefix.has(it[st]))return rt([ot],it[st],et,!1,"1-lexicon-prefix"),!0}return null},lexicon$3=function($){const _e=$.world;$.docs.forEach(et=>{for(let tt=0;tt<et.length;tt+=1)if(et[tt].tags.size===0){let nt=null;nt=nt||multiWord(et,tt,_e),nt=nt||checkLexicon(et,tt,_e)}})},compute$6={lexicon:lexicon$3},expand$2=function($){const _e={},et={};return Object.keys($).forEach(tt=>{const nt=$[tt];tt=tt.toLowerCase().trim(),tt=tt.replace(/'s\b/,"");const rt=tt.split(/ /);rt.length>1&&(et[rt[0]]===void 0||rt.length>et[rt[0]])&&(et[rt[0]]=rt.length),_e[tt]=_e[tt]||nt}),delete _e[""],delete _e[null],delete _e[" "],{lex:_e,_multi:et}},methods$g={one:{expandLexicon:expand$2}},addWords=function($,_e=!1){const et=this.world(),{methods:tt,model:nt}=et;if(!$)return;if(Object.keys($).forEach(ot=>{typeof $[ot]=="string"&&$[ot].startsWith("#")&&($[ot]=$[ot].replace(/^#/,""))}),_e===!0){const{lex:ot,_multi:at}=tt.one.expandLexicon($,et);Object.assign(nt.one._multiCache,at),Object.assign(nt.one.frozenLex,ot);return}if(tt.two.expandLexicon){const{lex:ot,_multi:at}=tt.two.expandLexicon($,et);Object.assign(nt.one.lexicon,ot),Object.assign(nt.one._multiCache,at)}const{lex:rt,_multi:it}=tt.one.expandLexicon($,et);Object.assign(nt.one.lexicon,rt),Object.assign(nt.one._multiCache,it)},lib$5={addWords},model$4={one:{lexicon:{},_multiCache:{},frozenLex:{}}},lexicon$2={model:model$4,methods:methods$g,compute:compute$6,lib:lib$5,hooks:["lexicon"]},tokenize$1=function($,_e){const{methods:et,model:tt}=_e;return et.one.tokenize.splitTerms($,tt).map(rt=>et.one.tokenize.splitWhitespace(rt,tt)).map(rt=>rt.text.toLowerCase())},buildTrie=function($,_e){const et=[{}],tt=[null],nt=[0],rt=[];let it=0;$.forEach(function(ot){let at=0;const st=tokenize$1(ot,_e);for(let lt=0;lt<st.length;lt++){const ct=st[lt];et[at]&&et[at].hasOwnProperty(ct)?at=et[at][ct]:(it++,et[at][ct]=it,et[it]={},at=it,tt[it]=null)}tt[at]=[st.length]});for(const ot in et[0])it=et[0][ot],nt[it]=0,rt.push(it);for(;rt.length;){const ot=rt.shift(),at=Object.keys(et[ot]);for(let st=0;st<at.length;st+=1){const lt=at[st],ct=et[ot][lt];for(rt.push(ct),it=nt[ot];it>0&&!et[it].hasOwnProperty(lt);)it=nt[it];if(et.hasOwnProperty(it)){const ut=et[it][lt];nt[ct]=ut,tt[ut]&&(tt[ct]=tt[ct]||[],tt[ct]=tt[ct].concat(tt[ut]))}else nt[ct]=0}}return{goNext:et,endAs:tt,failTo:nt}},scanWords=function($,_e,et){let tt=0;const nt=[];for(let rt=0;rt<$.length;rt++){const it=$[rt][et.form]||$[rt].normal;for(;tt>0&&(_e.goNext[tt]===void 0||!_e.goNext[tt].hasOwnProperty(it));)tt=_e.failTo[tt]||0;if(_e.goNext[tt].hasOwnProperty(it)&&(tt=_e.goNext[tt][it],_e.endAs[tt])){const ot=_e.endAs[tt];for(let at=0;at<ot.length;at++){const st=ot[at],lt=$[rt-st+1],[ct,ut]=lt.index;nt.push([ct,ut,ut+st,lt.id])}}}return nt},cacheMiss=function($,_e){for(let et=0;et<$.length;et+=1)if(_e.has($[et])===!0)return!1;return!0},scan=function($,_e,et){let tt=[];et.form=et.form||"normal";const nt=$.docs;if(!_e.goNext||!_e.goNext[0])return console.error("Compromise invalid lookup trie"),$.none();const rt=Object.keys(_e.goNext[0]);for(let it=0;it<nt.length;it++){if($._cache&&$._cache[it]&&cacheMiss(rt,$._cache[it])===!0)continue;const ot=nt[it],at=scanWords(ot,_e,et);at.length>0&&(tt=tt.concat(at))}return $.update(tt)},isObject$d=$=>Object.prototype.toString.call($)==="[object Object]";function api$m($){$.prototype.lookup=function(_e,et={}){if(!_e)return this.none();typeof _e=="string"&&(_e=[_e]);const tt=isObject$d(_e)?_e:buildTrie(_e,this.world);let nt=scan(this,tt,et);return nt=nt.settle(),nt}}const truncate$1=($,_e)=>{for(let et=$.length-1;et>=0;et-=1)if($[et]!==_e)return $=$.slice(0,et+1),$;return $},compress=function($){return $.goNext=$.goNext.map(_e=>{if(Object.keys(_e).length!==0)return _e}),$.goNext=truncate$1($.goNext,void 0),$.failTo=truncate$1($.failTo,0),$.endAs=truncate$1($.endAs,null),$},lib$4={buildTrie:function($){const _e=buildTrie($,this.world());return compress(_e)}};lib$4.compile=lib$4.buildTrie;const lookup={api:api$m,lib:lib$4},relPointer=function($,_e){return _e&&$.forEach(et=>{const tt=et[0];_e[tt]&&(et[0]=_e[tt][0],et[1]+=_e[tt][1],et[2]+=_e[tt][1])}),$},fixPointers=function($,_e){let{ptrs:et}=$;const{byGroup:tt}=$;return et=relPointer(et,_e),Object.keys(tt).forEach(nt=>{tt[nt]=relPointer(tt[nt],_e)}),{ptrs:et,byGroup:tt}},parseRegs=function($,_e,et){const tt=et.methods.one;return typeof $=="number"&&($=String($)),typeof $=="string"&&($=tt.killUnicode($,et),$=tt.parseMatch($,_e,et)),$},isObject$c=$=>Object.prototype.toString.call($)==="[object Object]",isView=$=>$&&isObject$c($)&&$.isView===!0,isNet=$=>$&&isObject$c($)&&$.isNet===!0,match$1=function($,_e,et){const tt=this.methods.one;if(isView($))return this.intersection($);if(isNet($))return this.sweep($,{tagger:!1}).view.settle();$=parseRegs($,et,this.world);const nt={regs:$,group:_e},rt=tt.match(this.docs,nt,this._cache),{ptrs:it,byGroup:ot}=fixPointers(rt,this.fullPointer),at=this.toView(it);return at._groups=ot,at},matchOne=function($,_e,et){const tt=this.methods.one;if(isView($))return this.intersection($).eq(0);if(isNet($))return this.sweep($,{tagger:!1,matchOne:!0}).view;$=parseRegs($,et,this.world);const nt={regs:$,group:_e,justOne:!0},rt=tt.match(this.docs,nt,this._cache),{ptrs:it,byGroup:ot}=fixPointers(rt,this.fullPointer),at=this.toView(it);return at._groups=ot,at},has=function($,_e,et){const tt=this.methods.one;if(isView($))return this.intersection($).fullPointer.length>0;if(isNet($))return this.sweep($,{tagger:!1}).view.found;$=parseRegs($,et,this.world);const nt={regs:$,group:_e,justOne:!0};return tt.match(this.docs,nt,this._cache).ptrs.length>0},ifFn=function($,_e,et){const tt=this.methods.one;if(isView($))return this.filter(at=>at.intersection($).found);if(isNet($)){const at=this.sweep($,{tagger:!1}).view.settle();return this.if(at)}$=parseRegs($,et,this.world);const nt={regs:$,group:_e,justOne:!0};let rt=this.fullPointer;const it=this._cache||[];rt=rt.filter((at,st)=>{const lt=this.update([at]);return tt.match(lt.docs,nt,it[st]).ptrs.length>0});const ot=this.update(rt);return this._cache&&(ot._cache=rt.map(at=>it[at[0]])),ot},ifNo=function($,_e,et){const{methods:tt}=this,nt=tt.one;if(isView($))return this.filter(ot=>!ot.intersection($).found);if(isNet($)){const ot=this.sweep($,{tagger:!1}).view.settle();return this.ifNo(ot)}$=parseRegs($,et,this.world);const rt=this._cache||[],it=this.filter((ot,at)=>{const st={regs:$,group:_e,justOne:!0};return nt.match(ot.docs,st,rt[at]).ptrs.length===0});return this._cache&&(it._cache=it.ptrs.map(ot=>rt[ot[0]])),it},match$2={matchOne,match:match$1,has,if:ifFn,ifNo},before=function($,_e,et){const{indexN:tt}=this.methods.one.pointer,nt=[],rt=tt(this.fullPointer);Object.keys(rt).forEach(ot=>{const at=rt[ot].sort((st,lt)=>st[1]>lt[1]?1:-1)[0];at[1]>0&&nt.push([at[0],0,at[1]])});const it=this.toView(nt);return $?it.match($,_e,et):it},after=function($,_e,et){const{indexN:tt}=this.methods.one.pointer,nt=[],rt=tt(this.fullPointer),it=this.document;Object.keys(rt).forEach(at=>{const st=rt[at].sort((ut,dt)=>ut[1]>dt[1]?-1:1)[0],[lt,,ct]=st;ct<it[lt].length&&nt.push([lt,ct,it[lt].length])});const ot=this.toView(nt);return $?ot.match($,_e,et):ot},growLeft=function($,_e,et){typeof $=="string"&&($=this.world.methods.one.parseMatch($,et,this.world)),$[$.length-1].end=!0;const tt=this.fullPointer;return this.forEach((nt,rt)=>{const it=nt.before($,_e);if(it.found){const ot=it.terms();tt[rt][1]-=ot.length,tt[rt][3]=ot.docs[0][0].id}}),this.update(tt)},growRight=function($,_e,et){typeof $=="string"&&($=this.world.methods.one.parseMatch($,et,this.world)),$[0].start=!0;const tt=this.fullPointer;return this.forEach((nt,rt)=>{const it=nt.after($,_e);if(it.found){const ot=it.terms();tt[rt][2]+=ot.length,tt[rt][4]=null}}),this.update(tt)},grow=function($,_e,et){return this.growRight($,_e,et).growLeft($,_e,et)},lookaround={before,after,growLeft,growRight,grow},combine=function($,_e){return[$[0],$[1],_e[2]]},isArray$l=function($){return Object.prototype.toString.call($)==="[object Array]"},getDoc$2=($,_e,et)=>typeof $=="string"||isArray$l($)?_e.match($,et):$||_e.none(),addIds$1=function($,_e){const[et,tt,nt]=$;return _e.document[et]&&_e.document[et][tt]&&($[3]=$[3]||_e.document[et][tt].id,_e.document[et][nt-1]&&($[4]=$[4]||_e.document[et][nt-1].id)),$},methods$f={};methods$f.splitOn=function($,_e){const{splitAll:et}=this.methods.one.pointer,tt=getDoc$2($,this,_e).fullPointer,nt=et(this.fullPointer,tt);let rt=[];return nt.forEach(it=>{rt.push(it.passthrough),rt.push(it.before),rt.push(it.match),rt.push(it.after)}),rt=rt.filter(it=>it),rt=rt.map(it=>addIds$1(it,this)),this.update(rt)};methods$f.splitBefore=function($,_e){const{splitAll:et}=this.methods.one.pointer,tt=getDoc$2($,this,_e).fullPointer,nt=et(this.fullPointer,tt);for(let it=0;it<nt.length;it+=1)!nt[it].after&&nt[it+1]&&nt[it+1].before&&nt[it].match&&nt[it].match[0]===nt[it+1].before[0]&&(nt[it].after=nt[it+1].before,delete nt[it+1].before);let rt=[];return nt.forEach(it=>{rt.push(it.passthrough),rt.push(it.before),it.match&&it.after?rt.push(combine(it.match,it.after)):rt.push(it.match)}),rt=rt.filter(it=>it),rt=rt.map(it=>addIds$1(it,this)),this.update(rt)};methods$f.splitAfter=function($,_e){const{splitAll:et}=this.methods.one.pointer,tt=getDoc$2($,this,_e).fullPointer,nt=et(this.fullPointer,tt);let rt=[];return nt.forEach(it=>{rt.push(it.passthrough),it.before&&it.match?rt.push(combine(it.before,it.match)):(rt.push(it.before),rt.push(it.match)),rt.push(it.after)}),rt=rt.filter(it=>it),rt=rt.map(it=>addIds$1(it,this)),this.update(rt)};methods$f.split=methods$f.splitAfter;const isNeighbour=function($,_e){return!$||!_e||$[0]!==_e[0]?!1:$[2]===_e[1]},mergeIf=function($,_e,et){const tt=$.world,nt=tt.methods.one.parseMatch;_e=_e||".$",et=et||"^.";const rt=nt(_e,{},tt),it=nt(et,{},tt);rt[rt.length-1].end=!0,it[0].start=!0;const ot=$.fullPointer,at=[ot[0]];for(let st=1;st<ot.length;st+=1){const lt=at[at.length-1],ct=ot[st],ut=$.update([lt]),dt=$.update([ct]);isNeighbour(lt,ct)&&ut.has(rt)&&dt.has(it)?at[at.length-1]=[lt[0],lt[1],ct[2],lt[3],ct[4]]:at.push(ct)}return $.update(at)},methods$e={joinIf:function($,_e){return mergeIf(this,$,_e)},join:function(){return mergeIf(this)}},methods$d=Object.assign({},match$2,lookaround,methods$f,methods$e);methods$d.lookBehind=methods$d.before;methods$d.lookBefore=methods$d.before;methods$d.lookAhead=methods$d.after;methods$d.lookAfter=methods$d.after;methods$d.notIf=methods$d.ifNo;const matchAPI=function($){Object.assign($.prototype,methods$d)},bySlashes=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,byParentheses=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,byWord$1=/ /g,isBlock=$=>/^[![^]*(<[^<]*>)?\(/.test($)&&/\)[?\]+*$~]*$/.test($),isReg=$=>/^[![^]*(<[^<]*>)?\//.test($)&&/\/[?\]+*$~]*$/.test($),cleanUp$1=function($){return $=$.map(_e=>_e.trim()),$=$.filter(_e=>_e),$},parseBlocks=function($){const _e=$.split(bySlashes);let et=[];_e.forEach(nt=>{if(isReg(nt)){et.push(nt);return}et=et.concat(nt.split(byParentheses))}),et=cleanUp$1(et);let tt=[];return et.forEach(nt=>{isBlock(nt)||isReg(nt)?tt.push(nt):tt=tt.concat(nt.split(byWord$1))}),tt=cleanUp$1(tt),tt},hasMinMax=/\{([0-9]+)?(, *[0-9]*)?\}/,andSign=/&&/,captureName=new RegExp(/^<\s*(\S+)\s*>/),titleCase$2=$=>$.charAt(0).toUpperCase()+$.substring(1),end=$=>$.charAt($.length-1),start=$=>$.charAt(0),stripStart=$=>$.substring(1),stripEnd=$=>$.substring(0,$.length-1),stripBoth=function($){return $=stripStart($),$=stripEnd($),$},parseToken=function($,_e){const et={};for(let tt=0;tt<2;tt+=1){if(end($)==="$"&&(et.end=!0,$=stripEnd($)),start($)==="^"&&(et.start=!0,$=stripStart($)),end($)==="?"&&(et.optional=!0,$=stripEnd($)),(start($)==="["||end($)==="]")&&(et.group=null,start($)==="["&&(et.groupStart=!0),end($)==="]"&&(et.groupEnd=!0),$=$.replace(/^\[/,""),$=$.replace(/\]$/,""),start($)==="<")){const nt=captureName.exec($);nt.length>=2&&(et.group=nt[1],$=$.replace(nt[0],""))}if(end($)==="+"&&(et.greedy=!0,$=stripEnd($)),$!=="*"&&end($)==="*"&&$!=="\\*"&&(et.greedy=!0,$=stripEnd($)),start($)==="!"&&(et.negative=!0,$=stripStart($)),start($)==="~"&&end($)==="~"&&$.length>2&&($=stripBoth($),et.fuzzy=!0,et.min=_e.fuzzy||.85,/\(/.test($)===!1))return et.word=$,et;if(start($)==="/"&&end($)==="/")return $=stripBoth($),_e.caseSensitive&&(et.use="text"),et.regex=new RegExp($),et;if(hasMinMax.test($)===!0&&($=$.replace(hasMinMax,(nt,rt,it)=>(it===void 0?(et.min=Number(rt),et.max=Number(rt)):(it=it.replace(/, */,""),rt===void 0?(et.min=0,et.max=Number(it)):(et.min=Number(rt),et.max=Number(it||999))),et.greedy=!0,et.min||(et.optional=!0),""))),start($)==="("&&end($)===")"){andSign.test($)?(et.choices=$.split(andSign),et.operator="and"):(et.choices=$.split("|"),et.operator="or"),et.choices[0]=stripStart(et.choices[0]);const nt=et.choices.length-1;et.choices[nt]=stripEnd(et.choices[nt]),et.choices=et.choices.map(rt=>rt.trim()),et.choices=et.choices.filter(rt=>rt),et.choices=et.choices.map(rt=>rt.split(/ /g).map(it=>parseToken(it,_e))),$=""}if(start($)==="{"&&end($)==="}"){if($=stripBoth($),et.root=$,/\//.test($)){const nt=et.root.split(/\//);et.root=nt[0],et.pos=nt[1],et.pos==="adj"&&(et.pos="Adjective"),et.pos=et.pos.charAt(0).toUpperCase()+et.pos.substr(1).toLowerCase(),nt[2]!==void 0&&(et.sense=nt[2])}return et}if(start($)==="<"&&end($)===">")return $=stripBoth($),et.chunk=titleCase$2($),et.greedy=!0,et;if(start($)==="%"&&end($)==="%")return $=stripBoth($),et.switch=$,et}return start($)==="#"?(et.tag=stripStart($),et.tag=titleCase$2(et.tag),et):start($)==="@"?(et.method=stripStart($),et):$==="."?(et.anything=!0,et):$==="*"?(et.anything=!0,et.greedy=!0,et.optional=!0,et):($&&($=$.replace("\\*","*"),$=$.replace("\\.","."),_e.caseSensitive?et.use="text":$=$.toLowerCase(),et.word=$),et)},hasDash$2=/[a-z0-9][-][a-z]/i,splitHyphens$1=function($,_e){const et=_e.model.one.prefixes;for(let tt=$.length-1;tt>=0;tt-=1){const nt=$[tt];if(nt.word&&hasDash$2.test(nt.word)){let rt=nt.word.split(/[-]/g);if(et.hasOwnProperty(rt[0]))continue;rt=rt.filter(it=>it).reverse(),$.splice(tt,1),rt.forEach(it=>{const ot=Object.assign({},nt);ot.word=it,$.splice(tt,0,ot)})}}return $},addVerbs=function($,_e){const{all:et}=_e.methods.two.transform.verb||{},tt=$.root;return et?et(tt,_e.model):[]},addNoun=function($,_e){const{all:et}=_e.methods.two.transform.noun||{};return et?et($.root,_e.model):[$.root]},addAdjective=function($,_e){const{all:et}=_e.methods.two.transform.adjective||{};return et?et($.root,_e.model):[$.root]},inflectRoot=function($,_e){return $=$.map(et=>{if(et.root)if(_e.methods.two&&_e.methods.two.transform){let tt=[];et.pos?et.pos==="Verb"?tt=tt.concat(addVerbs(et,_e)):et.pos==="Noun"?tt=tt.concat(addNoun(et,_e)):et.pos==="Adjective"&&(tt=tt.concat(addAdjective(et,_e))):(tt=tt.concat(addVerbs(et,_e)),tt=tt.concat(addNoun(et,_e)),tt=tt.concat(addAdjective(et,_e))),tt=tt.filter(nt=>nt),tt.length>0&&(et.operator="or",et.fastOr=new Set(tt))}else et.machine=et.root,delete et.id,delete et.root;return et}),$},nameGroups=function($){let _e=0,et=null;for(let tt=0;tt<$.length;tt++){const nt=$[tt];nt.groupStart===!0&&(et=nt.group,et===null&&(et=String(_e),_e+=1)),et!==null&&(nt.group=et),nt.groupEnd===!0&&(et=null)}return $},doFastOrMode=function($){return $.map(_e=>{if(_e.choices!==void 0){if(_e.operator!=="or"||_e.fuzzy===!0)return _e;_e.choices.every(tt=>{if(tt.length!==1)return!1;const nt=tt[0];return nt.fuzzy===!0||nt.start||nt.end?!1:nt.word!==void 0&&nt.negative!==!0&&nt.optional!==!0&&nt.method!==!0})===!0&&(_e.fastOr=new Set,_e.choices.forEach(tt=>{_e.fastOr.add(tt[0].word)}),delete _e.choices)}return _e})},fuzzyOr=function($){return $.map(_e=>(_e.fuzzy&&_e.choices&&_e.choices.forEach(et=>{et.length===1&&et[0].word&&(et[0].fuzzy=!0,et[0].min=_e.min)}),_e))},postProcess=function($){return $=nameGroups($),$=doFastOrMode($),$=fuzzyOr($),$},syntax=function($,_e,et){if($==null||$==="")return[];_e=_e||{},typeof $=="number"&&($=String($));let tt=parseBlocks($);return tt=tt.map(nt=>parseToken(nt,_e)),tt=splitHyphens$1(tt,et),tt=inflectRoot(tt,et),tt=postProcess(tt),tt},anyIntersection=function($,_e){for(const et of _e)if($.has(et))return!0;return!1},failFast=function($,_e){for(let et=0;et<$.length;et+=1){const tt=$[et];if(!(tt.optional===!0||tt.negative===!0||tt.fuzzy===!0)){if(tt.word!==void 0&&_e.has(tt.word)===!1||tt.tag!==void 0&&_e.has("#"+tt.tag)===!1)return!0;if(tt.fastOr&&anyIntersection(tt.fastOr,_e)===!1)return!1}}return!1},editDistance=function($,_e){const et=$.length,tt=_e.length;if(et===0)return tt;if(tt===0)return et;const nt=(tt>et?tt:et)+1;if(Math.abs(et-tt)>(nt||100))return nt||100;const rt=[];for(let ut=0;ut<nt;ut++)rt[ut]=[ut],rt[ut].length=nt;for(let ut=0;ut<nt;ut++)rt[0][ut]=ut;let it,ot,at,st,lt,ct;for(let ut=1;ut<=et;++ut)for(ot=$[ut-1],it=1;it<=tt;++it){if(ut===it&&rt[ut][it]>4)return et;at=_e[it-1],st=ot===at?0:1,lt=rt[ut-1][it]+1,(ct=rt[ut][it-1]+1)<lt&&(lt=ct),(ct=rt[ut-1][it-1]+st)<lt&&(lt=ct),ut>1&&it>1&&ot===_e[it-2]&&$[ut-2]===at&&(ct=rt[ut-2][it-2]+st)<lt?rt[ut][it]=ct:rt[ut][it]=lt}return rt[et][tt]},fuzzyMatch=function($,_e,et=3){if($===_e)return 1;if($.length<et||_e.length<et)return 0;const tt=editDistance($,_e),nt=Math.max($.length,_e.length);return 1-(nt===0?0:tt/nt)},startQuote=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,endQuote=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,hasHyphen$1=/^[-]$/,hasDash$1=/ [-]{1,3} /,hasPost=($,_e)=>$.post.indexOf(_e)!==-1,methods$c={hasQuote:$=>startQuote.test($.pre)||endQuote.test($.post),hasComma:$=>hasPost($,","),hasPeriod:$=>hasPost($,".")===!0&&hasPost($,"...")===!1,hasExclamation:$=>hasPost($,"!"),hasQuestionMark:$=>hasPost($,"?")||hasPost($,""),hasEllipses:$=>hasPost($,"..")||hasPost($,""),hasSemicolon:$=>hasPost($,";"),hasColon:$=>hasPost($,":"),hasSlash:$=>/\//.test($.text),hasHyphen:$=>hasHyphen$1.test($.post)||hasHyphen$1.test($.pre),hasDash:$=>hasDash$1.test($.post)||hasDash$1.test($.pre),hasContraction:$=>!!$.implicit,isAcronym:$=>$.tags.has("Acronym"),isKnown:$=>$.tags.size>0,isTitleCase:$=>new RegExp("^\\p{Lu}[a-z'\\u00C0-\\u00FF]","u").test($.text),isUpperCase:$=>new RegExp("^\\p{Lu}+$","u").test($.text)};methods$c.hasQuotation=methods$c.hasQuote;let wrapMatch=function(){};const doesMatch$1=function($,_e,et,tt){if(_e.anything===!0)return!0;if(_e.start===!0&&et!==0||_e.end===!0&&et!==tt-1)return!1;if(_e.id!==void 0&&_e.id===$.id)return!0;if(_e.word!==void 0)return _e.use?_e.word===$[_e.use]:$.machine!==null&&$.machine===_e.word||$.alias!==void 0&&$.alias.hasOwnProperty(_e.word)||_e.fuzzy===!0&&(_e.word===$.root||fuzzyMatch(_e.word,$.normal)>=_e.min)||$.alias&&$.alias.some(nt=>nt===_e.word)?!0:_e.word===$.text||_e.word===$.normal;if(_e.tag!==void 0)return $.tags.has(_e.tag)===!0;if(_e.method!==void 0)return typeof methods$c[_e.method]=="function"&&methods$c[_e.method]($)===!0;if(_e.pre!==void 0)return $.pre&&$.pre.includes(_e.pre);if(_e.post!==void 0)return $.post&&$.post.includes(_e.post);if(_e.regex!==void 0){let nt=$.normal;return _e.use&&(nt=$[_e.use]),_e.regex.test(nt)}if(_e.chunk!==void 0)return $.chunk===_e.chunk;if(_e.switch!==void 0)return $.switch===_e.switch;if(_e.machine!==void 0)return $.normal===_e.machine||$.machine===_e.machine||$.root===_e.machine;if(_e.sense!==void 0)return $.sense===_e.sense;if(_e.fastOr!==void 0){if(_e.pos&&!$.tags.has(_e.pos))return null;const nt=$.root||$.implicit||$.machine||$.normal;return _e.fastOr.has(nt)||_e.fastOr.has($.text)}return _e.choices!==void 0?_e.operator==="and"?_e.choices.every(nt=>wrapMatch($,nt,et,tt)):_e.choices.some(nt=>wrapMatch($,nt,et,tt)):!1};wrapMatch=function($,_e,et,tt){const nt=doesMatch$1($,_e,et,tt);return _e.negative===!0?!nt:nt};const getGreedy=function($,_e){const et=Object.assign({},$.regs[$.r],{start:!1,end:!1}),tt=$.t;for(;$.t<$.terms.length;$.t+=1){if(_e&&wrapMatch($.terms[$.t],_e,$.start_i+$.t,$.phrase_length))return $.t;const nt=$.t-tt+1;if(et.max!==void 0&&nt===et.max)return $.t;if(wrapMatch($.terms[$.t],et,$.start_i+$.t,$.phrase_length)===!1)return et.min!==void 0&&nt<et.min?null:$.t}return $.t},greedyTo=function($,_e){let et=$.t;if(!_e)return $.terms.length;for(;et<$.terms.length;et+=1)if(wrapMatch($.terms[et],_e,$.start_i+et,$.phrase_length)===!0)return et;return null},isEndGreedy=function($,_e){if($.end===!0&&$.greedy===!0&&_e.start_i+_e.t<_e.phrase_length-1){const et=Object.assign({},$,{end:!1});if(wrapMatch(_e.terms[_e.t],et,_e.start_i+_e.t,_e.phrase_length)===!0)return!0}return!1},getGroup$1=function($,_e){return $.groups[$.inGroup]||($.groups[$.inGroup]={start:_e,length:0}),$.groups[$.inGroup]},doAstrix=function($){const{regs:_e}=$,et=_e[$.r],tt=greedyTo($,_e[$.r+1]);if(tt===null||tt===0||et.min!==void 0&&tt-$.t<et.min)return null;if(et.max!==void 0&&tt-$.t>et.max)return $.t=$.t+et.max,!0;if($.hasGroup===!0){const nt=getGroup$1($,$.t);nt.length=tt-$.t}return $.t=tt,!0},isArray$k=function($){return Object.prototype.toString.call($)==="[object Array]"},doOrBlock=function($,_e=0){const et=$.regs[$.r];let tt=!1;for(let nt=0;nt<et.choices.length;nt+=1){const rt=et.choices[nt];if(!isArray$k(rt))return!1;if(tt=rt.every((it,ot)=>{let at=0;const st=$.t+ot+_e+at;if($.terms[st]===void 0)return!1;const lt=wrapMatch($.terms[st],it,st+$.start_i,$.phrase_length);if(lt===!0&&it.greedy===!0)for(let ct=1;ct<$.terms.length;ct+=1){const ut=$.terms[st+ct];if(ut)if(wrapMatch(ut,it,$.start_i+ct,$.phrase_length)===!0)at+=1;else break}return _e+=at,lt}),tt){_e+=rt.length;break}}return tt&&et.greedy===!0?doOrBlock($,_e):_e},doAndBlock=function($){let _e=0;return $.regs[$.r].choices.every(nt=>{const rt=nt.every((it,ot)=>{const at=$.t+ot;return $.terms[at]===void 0?!1:wrapMatch($.terms[at],it,at,$.phrase_length)});return rt===!0&&nt.length>_e&&(_e=nt.length),rt})===!0?_e:!1},orBlock=function($){const{regs:_e}=$,et=_e[$.r],tt=doOrBlock($);if(tt){if(et.negative===!0)return null;if($.hasGroup===!0){const nt=getGroup$1($,$.t);nt.length+=tt}if(et.end===!0){const nt=$.phrase_length;if($.t+$.start_i+tt!==nt)return null}return $.t+=tt,!0}else if(!et.optional)return null;return!0},andBlock=function($){const{regs:_e}=$,et=_e[$.r],tt=doAndBlock($);if(tt){if(et.negative===!0)return null;if($.hasGroup===!0){const nt=getGroup$1($,$.t);nt.length+=tt}if(et.end===!0){const nt=$.phrase_length-1;if($.t+$.start_i!==nt)return null}return $.t+=tt,!0}else if(!et.optional)return null;return!0},negGreedy=function($,_e,et){let tt=0;for(let nt=$.t;nt<$.terms.length;nt+=1){let rt=wrapMatch($.terms[nt],_e,$.start_i+$.t,$.phrase_length);if(rt||et&&(rt=wrapMatch($.terms[nt],et,$.start_i+$.t,$.phrase_length),rt)||(tt+=1,_e.max!==void 0&&tt===_e.max))break}return tt===0||_e.min&&_e.min>tt?!1:($.t+=tt,!0)},doNegative=function($){const{regs:_e}=$,et=_e[$.r],tt=Object.assign({},et);if(tt.negative=!1,wrapMatch($.terms[$.t],tt,$.start_i+$.t,$.phrase_length))return!1;if(et.optional){const rt=_e[$.r+1];rt&&(wrapMatch($.terms[$.t],rt,$.start_i+$.t,$.phrase_length)?$.r+=1:rt.optional&&_e[$.r+2]&&wrapMatch($.terms[$.t],_e[$.r+2],$.start_i+$.t,$.phrase_length)&&($.r+=2))}return et.greedy?negGreedy($,tt,_e[$.r+1]):($.t+=1,!0)},foundOptional=function($){const{regs:_e}=$,et=_e[$.r],tt=$.terms[$.t],nt=wrapMatch(tt,_e[$.r+1],$.start_i+$.t,$.phrase_length);if(et.negative||nt){const rt=$.terms[$.t+1];(!rt||!wrapMatch(rt,_e[$.r+1],$.start_i+$.t,$.phrase_length))&&($.r+=1)}},greedyMatch=function($){const{regs:_e,phrase_length:et}=$,tt=_e[$.r];return $.t=getGreedy($,_e[$.r+1]),$.t===null||tt.min&&tt.min>$.t||tt.end===!0&&$.start_i+$.t!==et?null:!0},contractionSkip=function($){const _e=$.terms[$.t],et=$.regs[$.r];if(_e.implicit&&$.terms[$.t+1]){if(!$.terms[$.t+1].implicit)return;et.word===_e.normal&&($.t+=1),et.method==="hasContraction"&&($.t+=1)}},setGroup=function($,_e){const et=$.regs[$.r],tt=getGroup$1($,_e);$.t>1&&et.greedy?tt.length+=$.t-_e:tt.length++},simpleMatch=function($){const{regs:_e}=$,et=_e[$.r],tt=$.terms[$.t],nt=$.t;return et.optional&&_e[$.r+1]&&et.negative?!0:(et.optional&&_e[$.r+1]&&foundOptional($),tt.implicit&&$.terms[$.t+1]&&contractionSkip($),$.t+=1,et.end===!0&&$.t!==$.terms.length&&et.greedy!==!0||et.greedy===!0&&!greedyMatch($)?null:($.hasGroup===!0&&setGroup($,nt),!0))},tryHere=function($,_e,et,tt){if($.length===0||_e.length===0)return null;const nt={t:0,terms:$,r:0,regs:_e,groups:{},start_i:et,phrase_length:tt,inGroup:null};for(;nt.r<_e.length;nt.r+=1){const ot=_e[nt.r];if(nt.hasGroup=!!ot.group,nt.hasGroup===!0?nt.inGroup=ot.group:nt.inGroup=null,!nt.terms[nt.t]){if(_e.slice(nt.r).some(lt=>!lt.optional)===!1)break;return null}if(ot.anything===!0&&ot.greedy===!0){if(!doAstrix(nt))return null;continue}if(ot.choices!==void 0&&ot.operator==="or"){if(!orBlock(nt))return null;continue}if(ot.choices!==void 0&&ot.operator==="and"){if(!andBlock(nt))return null;continue}if(ot.anything===!0){if(ot.negative&&ot.anything||!simpleMatch(nt))return null;continue}if(isEndGreedy(ot,nt)===!0){if(!simpleMatch(nt))return null;continue}if(ot.negative){if(!doNegative(nt))return null;continue}if(wrapMatch(nt.terms[nt.t],ot,nt.start_i+nt.t,nt.phrase_length)===!0){if(!simpleMatch(nt))return null;continue}if(ot.optional!==!0)return null}const rt=[null,et,nt.t+et];if(rt[1]===rt[2])return null;const it={};return Object.keys(nt.groups).forEach(ot=>{const at=nt.groups[ot],st=et+at.start;it[ot]=[null,st,st+at.length]}),{pointer:rt,groups:it}},getGroup=function($,_e){const et=[],tt={};return $.length===0?{ptrs:et,byGroup:tt}:(typeof _e=="number"&&(_e=String(_e)),_e?$.forEach(nt=>{nt.groups[_e]&&et.push(nt.groups[_e])}):$.forEach(nt=>{et.push(nt.pointer),Object.keys(nt.groups).forEach(rt=>{tt[rt]=tt[rt]||[],tt[rt].push(nt.groups[rt])})}),{ptrs:et,byGroup:tt})},notIf$1=function($,_e,et){return $=$.filter(tt=>{const[nt,rt,it]=tt.pointer,ot=et[nt].slice(rt,it);for(let at=0;at<ot.length;at+=1){const st=ot.slice(at);if(tryHere(st,_e,at,ot.length)!==null)return!1}return!0}),$},addSentence=function($,_e){return $.pointer[0]=_e,Object.keys($.groups).forEach(et=>{$.groups[et][0]=_e}),$},handleStart=function($,_e,et){let tt=tryHere($,_e,0,$.length);return tt?(tt=addSentence(tt,et),tt):null},runMatch$1=function($,_e,et){et=et||[];const{regs:tt,group:nt,justOne:rt}=_e;let it=[];if(!tt||tt.length===0)return{ptrs:[],byGroup:{}};const ot=tt.filter(at=>at.optional!==!0&&at.negative!==!0).length;e:for(let at=0;at<$.length;at+=1){const st=$[at];if(!(et[at]&&failFast(tt,et[at]))){if(tt[0].start===!0){const lt=handleStart(st,tt,at);lt&&it.push(lt);continue}for(let lt=0;lt<st.length;lt+=1){const ct=st.slice(lt);if(ct.length<ot)break;let ut=tryHere(ct,tt,lt,st.length);if(ut){if(ut=addSentence(ut,at),it.push(ut),rt===!0)break e;const dt=ut.pointer[2];Math.abs(dt-1)>lt&&(lt=Math.abs(dt-1))}}}}return tt[tt.length-1].end===!0&&(it=it.filter(at=>{const st=at.pointer[0];return $[st].length===at.pointer[2]})),_e.notIf&&(it=notIf$1(it,_e.notIf,$)),it=getGroup(it,nt),it.ptrs.forEach(at=>{const[st,lt,ct]=at;at[3]=$[st][lt].id,at[4]=$[st][ct-1].id}),it},methods$b={one:{termMethods:methods$c,parseMatch:syntax,match:runMatch$1}},lib$3={parseMatch:function($,_e){const et=this.world(),tt=et.methods.one.killUnicode;return tt&&($=tt($,et)),et.methods.one.parseMatch($,_e,et)}},match={api:matchAPI,methods:methods$b,lib:lib$3},isClass=/^\../,isId=/^#./,escapeXml=$=>($=$.replace(/&/g,"&amp;"),$=$.replace(/</g,"&lt;"),$=$.replace(/>/g,"&gt;"),$=$.replace(/"/g,"&quot;"),$=$.replace(/'/g,"&apos;"),$),toTag=function($){let _e="",et="</span>";return $=escapeXml($),isClass.test($)?_e=`<span class="${$.replace(/^\./,"")}"`:isId.test($)?_e=`<span id="${$.replace(/^#/,"")}"`:(_e=`<${$}`,et=`</${$}>`),_e+=">",{start:_e,end:et}},getIndex=function($,_e){const et={},tt={};return Object.keys(_e).forEach(nt=>{let rt=_e[nt];const it=toTag(nt);typeof rt=="string"&&(rt=$.match(rt)),rt.docs.forEach(ot=>{if(ot.every(lt=>lt.implicit))return;const at=ot[0].id;et[at]=et[at]||[],et[at].push(it.start);const st=ot[ot.length-1].id;tt[st]=tt[st]||[],tt[st].push(it.end)})}),{starts:et,ends:tt}},html=function($){const{starts:_e,ends:et}=getIndex(this,$);let tt="";return this.docs.forEach(nt=>{for(let rt=0;rt<nt.length;rt+=1){const it=nt[rt];_e.hasOwnProperty(it.id)&&(tt+=_e[it.id].join("")),tt+=it.pre||"",tt+=it.text||"",et.hasOwnProperty(it.id)&&(tt+=et[it.id].join("")),tt+=it.post||""}}),tt},html$1={html},trimEnd=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4-]+$/,trimStart=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,punctToKill=/[,:;)('"\u201D\]]/,isHyphen=/^[-]$/,hasSpace=/ /,textFromTerms=function($,_e,et=!0){let tt="";return $.forEach(nt=>{let rt=nt.pre||"",it=nt.post||"";_e.punctuation==="some"&&(rt=rt.replace(trimStart,""),isHyphen.test(it)&&(it=" "),it=it.replace(punctToKill,""),it=it.replace(/\?!+/,"?"),it=it.replace(/!+/,"!"),it=it.replace(/\?+/,"?"),it=it.replace(/\.{2,}/,""),nt.tags.has("Abbreviation")&&(it=it.replace(/\./,""))),_e.whitespace==="some"&&(rt=rt.replace(/\s/,""),it=it.replace(/\s+/," ")),_e.keepPunct||(rt=rt.replace(trimStart,""),it==="-"?it=" ":it=it.replace(trimEnd,""));let ot=nt[_e.form||"text"]||nt.normal||"";_e.form==="implicit"&&(ot=nt.implicit||nt.text),_e.form==="root"&&nt.implicit&&(ot=nt.root||nt.implicit||nt.normal),(_e.form==="machine"||_e.form==="implicit"||_e.form==="root")&&nt.implicit&&(!it||!hasSpace.test(it))&&(it+=" "),tt+=rt+ot+it}),et===!1&&(tt=tt.trim()),_e.lowerCase===!0&&(tt=tt.toLowerCase()),tt},textFromDoc=function($,_e){let et="";if(!$||!$[0]||!$[0][0])return et;for(let tt=0;tt<$.length;tt+=1)et+=textFromTerms($[tt],_e,!0);if(_e.keepSpace||(et=et.trim()),_e.keepEndPunct===!1){$[0][0].tags.has("Emoticon")||(et=et.replace(trimStart,""));const tt=$[$.length-1];tt[tt.length-1].tags.has("Emoticon")||(et=et.replace(trimEnd,"")),et.endsWith("'")&&!et.endsWith("s'")&&(et=et.replace(/'/,""))}return _e.cleanWhitespace===!0&&(et=et.trim()),et},fmts={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};fmts.clean=fmts.normal;fmts.reduced=fmts.root;const k$2=[];let i$1=0;for(;i$1<64;)k$2[i$1]=0|Math.sin(++i$1%Math.PI)*4294967296;const md5=function($){let _e,et,tt,nt=decodeURI(encodeURI($))+"",rt=nt.length;const it=[_e=1732584193,et=4023233417,~_e,~et],ot=[];for($=--rt/4+2|15,ot[--$]=rt*8;~rt;)ot[rt>>2]|=nt.charCodeAt(rt)<<8*rt--;for(i$1=nt=0;i$1<$;i$1+=16){for(rt=it;nt<64;rt=[tt=rt[3],_e+((tt=rt[0]+[_e&et|~_e&tt,tt&_e|~tt&et,_e^et^tt,et^(_e|~tt)][rt=nt>>4]+k$2[nt]+~~ot[i$1|[nt,5*nt+1,3*nt+5,7*nt][rt]&15])<<(rt=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*rt+nt++%4])|tt>>>-rt),_e,et])_e=rt[1]|0,et=rt[2];for(nt=4;nt;)it[--nt]+=rt[nt]}for($="";nt<32;)$+=(it[nt>>3]>>(1^nt++)*4&15).toString(16);return $},defaults$3={text:!0,terms:!0},opts={case:"none",unicode:"some",form:"machine",punctuation:"some"},merge=function($,_e){return Object.assign({},$,_e)},fns$2={text:$=>textFromTerms($,{keepPunct:!0},!1),normal:$=>textFromTerms($,merge(fmts.normal,{keepPunct:!0}),!1),implicit:$=>textFromTerms($,merge(fmts.implicit,{keepPunct:!0}),!1),machine:$=>textFromTerms($,opts,!1),root:$=>textFromTerms($,merge(opts,{form:"root"}),!1),hash:$=>md5(textFromTerms($,{keepPunct:!0},!1)),offset:$=>{const _e=fns$2.text($).length;return{index:$[0].offset.index,start:$[0].offset.start,length:_e}},terms:$=>$.map(_e=>{const et=Object.assign({},_e);return et.tags=Array.from(_e.tags),et}),confidence:($,_e,et)=>_e.eq(et).confidence(),syllables:($,_e,et)=>_e.eq(et).syllables(),sentence:($,_e,et)=>_e.eq(et).fullSentence().text(),dirty:$=>$.some(_e=>_e.dirty===!0)};fns$2.sentences=fns$2.sentence;fns$2.clean=fns$2.normal;fns$2.reduced=fns$2.root;const toJSON$2=function($,_e){return _e=_e||{},typeof _e=="string"&&(_e={}),_e=Object.assign({},defaults$3,_e),_e.offset&&$.compute("offset"),$.docs.map((et,tt)=>{const nt={};return Object.keys(_e).forEach(rt=>{_e[rt]&&fns$2[rt]&&(nt[rt]=fns$2[rt](et,$,tt))}),nt})},methods$a={json:function($){const _e=toJSON$2(this,$);return typeof $=="number"?_e[$]:_e}};methods$a.data=methods$a.json;const isClientSide=()=>typeof window<"u"&&window.document,debug$1=function($){const _e=this.methods.one.debug||{};return $&&_e.hasOwnProperty($)?(_e[$](this),this):isClientSide()?(_e.clientSide(this),this):(_e.tags(this),this)},toText$3=function($){const _e=$.pre||"",et=$.post||"";return _e+$.text+et},findStarts=function($,_e){const et={};return Object.keys(_e).forEach(tt=>{$.match(tt).fullPointer.forEach(rt=>{et[rt[3]]={fn:_e[tt],end:rt[2]}})}),et},wrap=function($,_e){const et=findStarts($,_e);let tt="";return $.docs.forEach((nt,rt)=>{for(let it=0;it<nt.length;it+=1){const ot=nt[it];if(et.hasOwnProperty(ot.id)){const{fn:at,end:st}=et[ot.id],lt=$.update([[rt,it,st]]);tt+=nt[it].pre||"",tt+=at(lt),it=st-1,tt+=nt[it].post||""}else tt+=toText$3(ot)}}),tt},isObject$b=$=>Object.prototype.toString.call($)==="[object Object]",topk=function($){const _e={};return $.forEach(tt=>{_e[tt]=_e[tt]||0,_e[tt]+=1}),Object.keys(_e).map(tt=>({normal:tt,count:_e[tt]})).sort((tt,nt)=>tt.count>nt.count?-1:0)},out=function($){if(isObject$b($))return wrap(this,$);if($==="text")return this.text();if($==="normal")return this.text("normal");if($==="root")return this.text("root");if($==="machine"||$==="reduced")return this.text("machine");if($==="hash"||$==="md5")return md5(this.text());if($==="json")return this.json();if($==="offset"||$==="offsets")return this.compute("offset"),this.json({offset:!0});if($==="array")return this.docs.map(et=>et.reduce((tt,nt)=>tt+nt.pre+nt.text+nt.post,"").trim()).filter(et=>et);if($==="freq"||$==="frequency"||$==="topk")return topk(this.json({normal:!0}).map(_e=>_e.normal));if($==="terms"){let _e=[];return this.docs.forEach(et=>{let tt=et.map(nt=>nt.text);tt=tt.filter(nt=>nt),_e=_e.concat(tt)}),_e}return $==="tags"?this.docs.map(_e=>_e.reduce((et,tt)=>(et[tt.implicit||tt.normal]=Array.from(tt.tags),et),{})):$==="debug"?this.debug():this.text()},methods$9={debug:debug$1,out,wrap:function($){return wrap(this,$)}},isObject$a=$=>Object.prototype.toString.call($)==="[object Object]",text={text:function($){let _e={};if($&&typeof $=="string"&&fmts.hasOwnProperty($)?_e=Object.assign({},fmts[$]):$&&isObject$a($)&&(_e=Object.assign({},$)),_e.keepSpace===void 0&&!this.isFull()&&(_e.keepSpace=!1),_e.keepEndPunct===void 0&&this.pointer){const et=this.pointer[0];et&&et[1]?_e.keepEndPunct=!1:_e.keepEndPunct=!0}return _e.keepPunct===void 0&&(_e.keepPunct=!0),_e.keepSpace===void 0&&(_e.keepSpace=!0),textFromDoc(this.docs,_e)}},methods$8=Object.assign({},methods$9,text,methods$a,html$1),addAPI$1=function($){Object.assign($.prototype,methods$8)},logClientSide=function($){console.log("%c -=-=- ","background-color:#6699cc;"),$.forEach(_e=>{console.groupCollapsed(_e.text());const tt=_e.docs[0].map(nt=>{let rt=nt.text||"-";nt.implicit&&(rt="["+nt.implicit+"]");const it="["+Array.from(nt.tags).join(", ")+"]";return{text:rt,tags:it}});console.table(tt,["text","tags"]),console.groupEnd()})},reset="\x1B[0m",cli={green:$=>"\x1B[32m"+$+reset,red:$=>"\x1B[31m"+$+reset,blue:$=>"\x1B[34m"+$+reset,magenta:$=>"\x1B[35m"+$+reset,cyan:$=>"\x1B[36m"+$+reset,yellow:$=>"\x1B[33m"+$+reset,black:$=>"\x1B[30m"+$+reset,dim:$=>"\x1B[2m"+$+reset,i:$=>"\x1B[3m"+$+reset},tagString=function($,_e){return _e.one.tagSet&&($=$.map(et=>{if(!_e.one.tagSet.hasOwnProperty(et))return et;const tt=_e.one.tagSet[et].color||"blue";return cli[tt](et)})),$.join(", ")},showTags=function($){const{docs:_e,model:et}=$;_e.length===0&&console.log(cli.blue(`
     `)),_e.forEach(tt=>{console.log(cli.blue(`
  `)),tt.forEach(nt=>{const rt=[...nt.tags||[]];let it=nt.text||"-";nt.sense&&(it=`{${nt.normal}/${nt.sense}}`),nt.implicit&&(it="["+nt.implicit+"]"),it=cli.yellow(it);let ot="'"+it+"'";if(nt.reference){const st=$.update([nt.reference]).text("normal");ot+=` - ${cli.dim(cli.i("["+st+"]"))}`}ot=ot.padEnd(18);const at=cli.blue("   ")+cli.i(ot)+"  - "+tagString(rt,et);console.log(at)})}),console.log(`
`)},showChunks=function($){const{docs:_e}=$;console.log(""),_e.forEach(et=>{const tt=[];et.forEach(nt=>{nt.chunk==="Noun"?tt.push(cli.blue(nt.implicit||nt.normal)):nt.chunk==="Verb"?tt.push(cli.green(nt.implicit||nt.normal)):nt.chunk==="Adjective"?tt.push(cli.yellow(nt.implicit||nt.normal)):nt.chunk==="Pivot"?tt.push(cli.red(nt.implicit||nt.normal)):tt.push(nt.implicit||nt.normal)}),console.log(tt.join(" "),`
`)}),console.log(`
`)},split$1=($,_e,et)=>{const tt=et*9,nt=_e.start+tt,rt=nt+_e.length,it=$.substring(0,nt),ot=$.substring(nt,rt),at=$.substring(rt,$.length);return[it,ot,at]},spliceIn=function($,_e,et){const tt=split$1($,_e,et);return`${tt[0]}${cli.blue(tt[1])}${tt[2]}`},showHighlight=function($){if(!$.found)return;const _e={};$.fullPointer.forEach(et=>{_e[et[0]]=_e[et[0]]||[],_e[et[0]].push(et)}),Object.keys(_e).forEach(et=>{let nt=$.update([[Number(et)]]).text();$.update(_e[et]).json({offset:!0}).forEach((ot,at)=>{nt=spliceIn(nt,ot.offset,at)}),console.log(nt)}),console.log(`
`)},debug={tags:showTags,clientSide:logClientSide,chunks:showChunks,highlight:showHighlight},output={api:addAPI$1,methods:{one:{hash:md5,debug}}},doesOverlap=function($,_e){if($[0]!==_e[0])return!1;const[,et,tt]=$,[,nt,rt]=_e;return et<=nt&&tt>nt||nt<=et&&rt>et},getExtent=function($){let _e=$[0][1],et=$[0][2];return $.forEach(tt=>{tt[1]<_e&&(_e=tt[1]),tt[2]>et&&(et=tt[2])}),[$[0][0],_e,et]},indexN=function($){const _e={};return $.forEach(et=>{_e[et[0]]=_e[et[0]]||[],_e[et[0]].push(et)}),_e},uniquePtrs=function($){const _e={};for(let et=0;et<$.length;et+=1)_e[$[et].join(",")]=$[et];return Object.values(_e)},pivotBy=function($,_e){const[et,tt]=$,nt=_e[1],rt=_e[2],it={};if(tt<nt){const ot=nt<$[2]?nt:$[2];it.before=[et,tt,ot]}return it.match=_e,$[2]>rt&&(it.after=[et,rt,$[2]]),it},doesMatch=function($,_e){return $[1]<=_e[1]&&_e[2]<=$[2]},splitAll=function($,_e){const et=indexN(_e),tt=[];return $.forEach(nt=>{const[rt]=nt;let it=et[rt]||[];if(it=it.filter(at=>doesMatch(nt,at)),it.length===0){tt.push({passthrough:nt});return}it=it.sort((at,st)=>at[1]-st[1]);let ot=nt;it.forEach((at,st)=>{const lt=pivotBy(ot,at);it[st+1]?(tt.push({before:lt.before,match:lt.match}),lt.after&&(ot=lt.after)):tt.push(lt)})}),tt},max$4=20,blindSweep=function($,_e,et){for(let tt=0;tt<max$4;tt+=1){if(_e[et-tt]){const nt=_e[et-tt].findIndex(rt=>rt.id===$);if(nt!==-1)return[et-tt,nt]}if(_e[et+tt]){const nt=_e[et+tt].findIndex(rt=>rt.id===$);if(nt!==-1)return[et+tt,nt]}}return null},repairEnding=function($,_e){const[et,tt,,,nt]=$,rt=_e[et],it=rt.findIndex(ot=>ot.id===nt);return it===-1?($[2]=_e[et].length,$[4]=rt.length?rt[rt.length-1].id:null):$[2]=it,_e[et].slice(tt,$[2]+1)},getDoc$1=function($,_e){let et=[];return $.forEach((tt,nt)=>{if(!tt)return;let[rt,it,ot,at,st]=tt,lt=_e[rt]||[];if(it===void 0&&(it=0),ot===void 0&&(ot=lt.length),at&&(!lt[it]||lt[it].id!==at)){const ct=blindSweep(at,_e,rt);if(ct!==null){const ut=ot-it;lt=_e[ct[0]].slice(ct[1],ct[1]+ut);const dt=lt[0]?lt[0].id:null;$[nt]=[ct[0],ct[1],ct[1]+ut,dt]}}else lt=lt.slice(it,ot);lt.length!==0&&it!==ot&&(st&&lt[lt.length-1].id!==st&&(lt=repairEnding(tt,_e)),et.push(lt))}),et=et.filter(tt=>tt.length>0),et},termList=function($){const _e=[];for(let et=0;et<$.length;et+=1)for(let tt=0;tt<$[et].length;tt+=1)_e.push($[et][tt]);return _e},methods$7={one:{termList,getDoc:getDoc$1,pointer:{indexN,splitAll}}},getUnion=function($,_e){const et=$.concat(_e),tt=indexN(et);let nt=[];return et.forEach(rt=>{const[it]=rt;if(tt[it].length===1){nt.push(rt);return}const ot=tt[it].filter(st=>doesOverlap(rt,st));ot.push(rt);const at=getExtent(ot);nt.push(at)}),nt=uniquePtrs(nt),nt},subtract$1=function($,_e){const et=[];return splitAll($,_e).forEach(nt=>{nt.passthrough&&et.push(nt.passthrough),nt.before&&et.push(nt.before),nt.after&&et.push(nt.after)}),et},intersection=function($,_e){const et=$[1]<_e[1]?_e[1]:$[1],tt=$[2]>_e[2]?_e[2]:$[2];return et<tt?[$[0],et,tt]:null},getIntersection=function($,_e){const et=indexN(_e),tt=[];return $.forEach(nt=>{let rt=et[nt[0]]||[];rt=rt.filter(it=>doesOverlap(nt,it)),rt.length!==0&&rt.forEach(it=>{const ot=intersection(nt,it);ot&&tt.push(ot)})}),tt},isArray$j=function($){return Object.prototype.toString.call($)==="[object Array]"},getDoc=($,_e)=>typeof $=="string"||isArray$j($)?_e.match($):$||_e.none(),addIds=function($,_e){return $.map(et=>{const[tt,nt]=et;return _e[tt]&&_e[tt][nt]&&(et[3]=_e[tt][nt].id),et})},methods$6={};methods$6.union=function($){$=getDoc($,this);let _e=getUnion(this.fullPointer,$.fullPointer);return _e=addIds(_e,this.document),this.toView(_e)};methods$6.and=methods$6.union;methods$6.intersection=function($){$=getDoc($,this);let _e=getIntersection(this.fullPointer,$.fullPointer);return _e=addIds(_e,this.document),this.toView(_e)};methods$6.not=function($){$=getDoc($,this);let _e=subtract$1(this.fullPointer,$.fullPointer);return _e=addIds(_e,this.document),this.toView(_e)};methods$6.difference=methods$6.not;methods$6.complement=function(){const $=this.all();let _e=subtract$1($.fullPointer,this.fullPointer);return _e=addIds(_e,this.document),this.toView(_e)};methods$6.settle=function(){let $=this.fullPointer;return $.forEach(_e=>{$=getUnion($,[_e])}),$=addIds($,this.document),this.update($)};const addAPI=function($){Object.assign($.prototype,methods$6)},pointers={methods:methods$7,api:addAPI},lib$2={buildNet:function($){const et=this.methods().one.buildNet($,this.world());return et.isNet=!0,et}},api$l=function($){$.prototype.sweep=function(_e,et={}){const{world:tt,docs:nt}=this,{methods:rt}=tt;let it=rt.one.bulkMatch(nt,_e,this.methods,et);et.tagger!==!1&&rt.one.bulkTagger(it,nt,this.world),it=it.map(at=>{const st=at.pointer,lt=nt[st[0]][st[1]],ct=st[2]-st[1];return lt.index&&(at.pointer=[lt.index[0],lt.index[1],st[1]+ct]),at});const ot=it.map(at=>at.pointer);return it=it.map(at=>(at.view=this.update([at.pointer]),delete at.regs,delete at.needs,delete at.pointer,delete at._expanded,at)),{view:this.update(ot),found:it}}},getTokenNeeds=function($){return $.optional===!0||$.negative===!0?null:$.tag?"#"+$.tag:$.word?$.word:$.switch?`%${$.switch}%`:null},getNeeds=function($){const _e=[];return $.forEach(et=>{_e.push(getTokenNeeds(et)),et.operator==="and"&&et.choices&&et.choices.forEach(tt=>{tt.forEach(nt=>{_e.push(getTokenNeeds(nt))})})}),_e.filter(et=>et)},getWants=function($){const _e=[];let et=0;return $.forEach(tt=>{tt.operator==="or"&&!tt.optional&&!tt.negative&&(tt.fastOr&&Array.from(tt.fastOr).forEach(nt=>{_e.push(nt)}),tt.choices&&tt.choices.forEach(nt=>{nt.forEach(rt=>{const it=getTokenNeeds(rt);it&&_e.push(it)})}),et+=1)}),{wants:_e,count:et}},parse$5=function($,_e){const et=_e.methods.one.parseMatch;return $.forEach(tt=>{tt.regs=et(tt.match,{},_e),typeof tt.ifNo=="string"&&(tt.ifNo=[tt.ifNo]),tt.notIf&&(tt.notIf=et(tt.notIf,{},_e)),tt.needs=getNeeds(tt.regs);const{wants:nt,count:rt}=getWants(tt.regs);tt.wants=nt,tt.minWant=rt,tt.minWords=tt.regs.filter(it=>!it.optional).length}),$},buildNet=function($,_e){$=parse$5($,_e);const et={};$.forEach(nt=>{nt.needs.forEach(rt=>{et[rt]=Array.isArray(et[rt])?et[rt]:[],et[rt].push(nt)}),nt.wants.forEach(rt=>{et[rt]=Array.isArray(et[rt])?et[rt]:[],et[rt].push(nt)})}),Object.keys(et).forEach(nt=>{const rt={};et[nt]=et[nt].filter(it=>typeof rt[it.match]=="boolean"?!1:(rt[it.match]=!0,!0))});const tt=$.filter(nt=>nt.needs.length===0&&nt.wants.length===0);return{hooks:et,always:tt}},getHooks=function($,_e){return $.map((et,tt)=>{let nt=[];Object.keys(_e).forEach(it=>{$[tt].has(it)&&(nt=nt.concat(_e[it]))});const rt={};return nt=nt.filter(it=>typeof rt[it.match]=="boolean"?!1:(rt[it.match]=!0,!0)),nt})},localTrim=function($,_e){return $.map((et,tt)=>{const nt=_e[tt];return et=et.filter(rt=>rt.needs.every(it=>nt.has(it))),et=et.filter(rt=>!(rt.ifNo!==void 0&&rt.ifNo.some(it=>nt.has(it))===!0)),et=et.filter(rt=>rt.wants.length===0?!0:rt.wants.filter(ot=>nt.has(ot)).length>=rt.minWant),et})},runMatch=function($,_e,et,tt,nt){const rt=[];for(let it=0;it<$.length;it+=1)for(let ot=0;ot<$[it].length;ot+=1){const at=$[it][ot],st=tt.one.match([_e[it]],at);if(st.ptrs.length>0&&(st.ptrs.forEach(lt=>{lt[0]=it;const ct=Object.assign({},at,{pointer:lt});at.unTag!==void 0&&(ct.unTag=at.unTag),rt.push(ct)}),nt.matchOne===!0))return[rt[0]]}return rt},tooSmall=function($,_e){return $.map((et,tt)=>{const nt=_e[tt].length;return et=et.filter(rt=>nt>=rt.minWords),et})},sweep$1=function($,_e,et,tt={}){const nt=et.one.cacheDoc($);let rt=getHooks(nt,_e.hooks);return rt=localTrim(rt,nt),_e.always.length>0&&(rt=rt.map(ot=>ot.concat(_e.always))),rt=tooSmall(rt,$),runMatch(rt,$,nt,et,tt)},canBe$1=function($,_e,et){const tt=et.one.tagSet;if(!tt.hasOwnProperty(_e))return!0;const nt=tt[_e].not||[];for(let rt=0;rt<$.length;rt+=1){const it=$[rt];for(let ot=0;ot<nt.length;ot+=1)if(it.tags.has(nt[ot])===!0)return!1}return!0};var define_process_env_default$4={};const tagger$1=function($,_e,et){const{model:tt,methods:nt}=et,{getDoc:rt,setTag:it,unTag:ot}=nt.one,at=nt.two.looksPlural;return $.length===0?$:((typeof process>"u"||!define_process_env_default$4?self.env||{}:define_process_env_default$4).DEBUG_TAGS&&console.log(`

  \x1B[32m ${$.length} post-tagger:\x1B[0m`),$.map(lt=>{if(!lt.tag&&!lt.chunk&&!lt.unTag)return;const ct=lt.reason||lt.match,ut=rt([lt.pointer],_e)[0];if(!(lt.safe===!0&&(canBe$1(ut,lt.tag,tt)===!1||ut[ut.length-1].post==="-"))){if(lt.tag!==void 0){if(it(ut,lt.tag,et,lt.safe,`[post] '${ct}'`),lt.tag==="Noun"&&at){const dt=ut[ut.length-1];at(dt.text)?it([dt],"Plural",et,lt.safe,"quick-plural"):it([dt],"Singular",et,lt.safe,"quick-singular")}lt.freeze===!0&&ut.forEach(dt=>dt.frozen=!0)}lt.unTag!==void 0&&ot(ut,lt.unTag,et,lt.safe,ct),lt.chunk&&ut.forEach(dt=>dt.chunk=lt.chunk)}}))},methods$5={buildNet,bulkMatch:sweep$1,bulkTagger:tagger$1},sweep={lib:lib$2,api:api$l,methods:{one:methods$5}};var define_process_env_default$3={};const isMulti=/ /,addChunk=function($,_e){_e==="Noun"&&($.chunk=_e),_e==="Verb"&&($.chunk=_e)},tagTerm=function($,_e,et,tt){if($.tags.has(_e)===!0||_e===".")return null;$.frozen===!0&&(tt=!0);const nt=et[_e];if(nt){if(nt.not&&nt.not.length>0)for(let rt=0;rt<nt.not.length;rt+=1){if(tt===!0&&$.tags.has(nt.not[rt]))return null;$.tags.delete(nt.not[rt])}if(nt.parents&&nt.parents.length>0)for(let rt=0;rt<nt.parents.length;rt+=1)$.tags.add(nt.parents[rt]),addChunk($,nt.parents[rt])}return $.tags.add(_e),$.dirty=!0,addChunk($,_e),!0},multiTag=function($,_e,et,tt){const nt=_e.split(isMulti);$.forEach((rt,it)=>{let ot=nt[it];ot&&(ot=ot.replace(/^#/,""),tagTerm(rt,ot,et,tt))})},isArray$i=function($){return Object.prototype.toString.call($)==="[object Array]"},log$2=($,_e,et="")=>{const tt=it=>"\x1B[33m\x1B[3m"+it+"\x1B[0m",nt=it=>"\x1B[3m"+it+"\x1B[0m",rt=$.map(it=>it.text||"["+it.implicit+"]").join(" ");typeof _e!="string"&&_e.length>2&&(_e=_e.slice(0,2).join(", #")+" +"),_e=typeof _e!="string"?_e.join(", #"):_e,console.log(` ${tt(rt).padEnd(24)} \x1B[32m\x1B[0m #${_e.padEnd(22)}  ${nt(et)}`)},setTag$3=function($,_e,et={},tt,nt){const rt=et.model.one.tagSet||{};if(!_e)return;const it=typeof process>"u"||!define_process_env_default$3?self.env||{}:define_process_env_default$3;if(it&&it.DEBUG_TAGS&&log$2($,_e,nt),isArray$i(_e)===!0){_e.forEach(ot=>setTag$3($,ot,et,tt));return}if(typeof _e!="string"){console.warn(`compromise: Invalid tag '${_e}'`);return}if(_e=_e.trim(),isMulti.test(_e)){multiTag($,_e,rt,tt);return}_e=_e.replace(/^#/,"");for(let ot=0;ot<$.length;ot+=1)tagTerm($[ot],_e,rt,tt)},unTag=function($,_e,et){_e=_e.trim().replace(/^#/,"");for(let tt=0;tt<$.length;tt+=1){const nt=$[tt];if(nt.frozen===!0)continue;if(_e==="*"){nt.tags.clear();continue}const rt=et[_e];if(rt&&rt.children.length>0)for(let it=0;it<rt.children.length;it+=1)nt.tags.delete(rt.children[it]);nt.tags.delete(_e)}},canBe=function($,_e,et){if(!et.hasOwnProperty(_e))return!0;const tt=et[_e].not||[];for(let nt=0;nt<tt.length;nt+=1)if($.tags.has(tt[nt]))return!1;return!0},e$1=function($){return $.children=$.children||[],$._cache=$._cache||{},$.props=$.props||{},$._cache.parents=$._cache.parents||[],$._cache.children=$._cache.children||[],$},t$1=/^ *(#|\/\/)/,n$2=function($){let _e=$.trim().split(/->/),et=[];_e.forEach(nt=>{et=et.concat(function(rt){if(!(rt=rt.trim()))return null;if(/^\[/.test(rt)&&/\]$/.test(rt)){let it=(rt=(rt=rt.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return it=it.map(ot=>ot.trim()).filter(ot=>ot),it=it.map(ot=>e$1({id:ot})),it}return[e$1({id:rt})]}(nt))}),et=et.filter(nt=>nt);let tt=et[0];for(let nt=1;nt<et.length;nt+=1)tt.children.push(et[nt]),tt=et[nt];return et[0]},r$1=($,_e)=>{let et=[],tt=[$];for(;tt.length>0;){let nt=tt.pop();et.push(nt),nt.children&&nt.children.forEach(rt=>{_e&&_e(nt,rt),tt.push(rt)})}return et},i=$=>Object.prototype.toString.call($)==="[object Array]",c$2=$=>($=$||"").trim(),s$2=function($=[]){return typeof $=="string"?function(et){let tt=et.split(/\r?\n/),nt=[];tt.forEach(it=>{if(!it.trim()||t$1.test(it))return;let ot=(at=>{const st=/^( {2}|\t)/;let lt=0;for(;st.test(at);)at=at.replace(st,""),lt+=1;return lt})(it);nt.push({indent:ot,node:n$2(it)})});let rt=function(it){let ot={children:[]};return it.forEach((at,st)=>{at.indent===0?ot.children=ot.children.concat(at.node):it[st-1]&&function(lt,ct){let ut=lt[ct].indent;for(;ct>=0;ct-=1)if(lt[ct].indent<ut)return lt[ct];return lt[0]}(it,st).node.children.push(at.node)}),ot}(nt);return rt=e$1(rt),rt}($):i($)?function(et){let tt={};et.forEach(rt=>{tt[rt.id]=rt});let nt=e$1({});return et.forEach(rt=>{if((rt=e$1(rt)).parent)if(tt.hasOwnProperty(rt.parent)){let it=tt[rt.parent];delete rt.parent,it.children.push(rt)}else console.warn(`[Grad] - missing node '${rt.parent}'`);else nt.children.push(rt)}),nt}($):(r$1(_e=$).forEach(e$1),_e);var _e},h$1=$=>"\x1B[31m"+$+"\x1B[0m",o=$=>"\x1B[2m"+$+"\x1B[0m",l$1=function($,_e){let et="-> ";_e&&(et=o(" "));let tt="";return r$1($).forEach((nt,rt)=>{let it=nt.id||"";if(_e&&(it=h$1(it)),rt===0&&!nt.id)return;let ot=nt._cache.parents.length;tt+="    ".repeat(ot)+et+it+`
`}),tt},a$1=function($){let _e=r$1($);_e.forEach(tt=>{delete(tt=Object.assign({},tt)).children});let et=_e[0];return et&&!et.id&&Object.keys(et.props).length===0&&_e.shift(),_e},p$4={text:l$1,txt:l$1,array:a$1,flat:a$1},d$1=function($,_e){return _e==="nested"||_e==="json"?$:_e==="debug"?(console.log(l$1($,!0)),null):p$4.hasOwnProperty(_e)?p$4[_e]($):$},u$1=$=>{r$1($,(_e,et)=>{_e.id&&(_e._cache.parents=_e._cache.parents||[],et._cache.parents=_e._cache.parents.concat([_e.id]))})},f$2=($,_e)=>(Object.keys(_e).forEach(et=>{if(_e[et]instanceof Set){let tt=$[et]||new Set;$[et]=new Set([...tt,..._e[et]])}else if((tt=>tt&&typeof tt=="object"&&!Array.isArray(tt))(_e[et])){let tt=$[et]||{};$[et]=Object.assign({},_e[et],tt)}else i(_e[et])?$[et]=_e[et].concat($[et]||[]):$[et]===void 0&&($[et]=_e[et])}),$),j=/\//;let g$3=class Wr{constructor(_e={}){Object.defineProperty(this,"json",{enumerable:!1,value:_e,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props(_e={}){let et=this.json.props||{};return typeof _e=="string"&&(et[_e]=!0),this.json.props=Object.assign(et,_e),this}get(_e){if(_e=c$2(_e),!j.test(_e)){let tt=this.json.children.find(nt=>nt.id===_e);return new Wr(tt)}let et=((tt,nt)=>{let rt=(it=>typeof it!="string"?it:(it=it.replace(/^\//,"")).split(/\//))(nt=nt||"");for(let it=0;it<rt.length;it+=1){let ot=tt.children.find(at=>at.id===rt[it]);if(!ot)return null;tt=ot}return tt})(this.json,_e)||e$1({});return new Wr(et)}add(_e,et={}){if(i(_e))return _e.forEach(nt=>this.add(c$2(nt),et)),this;_e=c$2(_e);let tt=e$1({id:_e,props:et});return this.json.children.push(tt),new Wr(tt)}remove(_e){return _e=c$2(_e),this.json.children=this.json.children.filter(et=>et.id!==_e),this}nodes(){return r$1(this.json).map(_e=>(delete(_e=Object.assign({},_e)).children,_e))}cache(){return(_e=>{let et=r$1(_e,(nt,rt)=>{nt.id&&(nt._cache.parents=nt._cache.parents||[],nt._cache.children=nt._cache.children||[],rt._cache.parents=nt._cache.parents.concat([nt.id]))}),tt={};et.forEach(nt=>{nt.id&&(tt[nt.id]=nt)}),et.forEach(nt=>{nt._cache.parents.forEach(rt=>{tt.hasOwnProperty(rt)&&tt[rt]._cache.children.push(nt.id)})}),_e._cache.children=Object.keys(tt)})(this.json),this}list(){return r$1(this.json)}fillDown(){var _e;return _e=this.json,r$1(_e,(et,tt)=>{tt.props=f$2(tt.props,et.props)}),this}depth(){u$1(this.json);let _e=r$1(this.json),et=_e.length>1?1:0;return _e.forEach(tt=>{if(tt._cache.parents.length===0)return;let nt=tt._cache.parents.length+1;nt>et&&(et=nt)}),et}out(_e){return u$1(this.json),d$1(this.json,_e)}debug(){return u$1(this.json),d$1(this.json,"debug"),this}};const _=function($){let _e=s$2($);return new g$3(_e)};_.prototype.plugin=function($){$(this)};const colors={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"},getColor=function($){if(colors.hasOwnProperty($.id))return colors[$.id];if(colors.hasOwnProperty($.is))return colors[$.is];const _e=$._cache.parents.find(et=>colors[et]);return colors[_e]},fmt=function($){const _e={};return $.forEach(et=>{const{not:tt,also:nt,is:rt,novel:it}=et.props;let ot=et._cache.parents;nt&&(ot=ot.concat(nt)),_e[et.id]={is:rt,not:tt,novel:it,also:nt,parents:ot,children:et._cache.children,color:getColor(et)}}),Object.keys(_e).forEach(et=>{const tt=new Set(_e[et].not);_e[et].not.forEach(nt=>{_e[nt]&&_e[nt].children.forEach(rt=>tt.add(rt))}),_e[et].not=Array.from(tt)}),_e},toArr=function($){return $?typeof $=="string"?[$]:$:[]},addImplied=function($,_e){return Object.keys($).forEach(et=>{$[et].isA&&($[et].is=$[et].isA),$[et].notA&&($[et].not=$[et].notA),$[et].is&&typeof $[et].is=="string"&&!_e.hasOwnProperty($[et].is)&&!$.hasOwnProperty($[et].is)&&($[$[et].is]={}),$[et].not&&typeof $[et].not=="string"&&!$.hasOwnProperty($[et].not)&&!_e.hasOwnProperty($[et].not)&&!$.hasOwnProperty($[et].not)&&($[$[et].not]={})}),$},validate=function($,_e){return $=addImplied($,_e),Object.keys($).forEach(et=>{$[et].children=toArr($[et].children),$[et].not=toArr($[et].not)}),Object.keys($).forEach(et=>{($[et].not||[]).forEach(nt=>{$[nt]&&$[nt].not&&$[nt].not.push(et)})}),$},compute$5=function($){const _e=Object.keys($).map(tt=>{const nt=$[tt],rt={not:new Set(nt.not),also:nt.also,is:nt.is,novel:nt.novel};return{id:tt,parent:nt.is,props:rt,children:[]}});return _(_e).cache().fillDown().out("array")},fromUser=function($){return Object.keys($).forEach(_e=>{$[_e]=Object.assign({},$[_e]),$[_e].novel=!0}),$},addTags$1=function($,_e){Object.keys(_e).length>0&&($=fromUser($)),$=validate($,_e);const et=Object.assign({},_e,$),tt=compute$5(et);return fmt(tt)},methods$4={one:{setTag:setTag$3,unTag,addTags:addTags$1,canBe}},isArray$h=function($){return Object.prototype.toString.call($)==="[object Array]"},fns$1={tag:function($,_e="",et){if(!this.found||!$)return this;const tt=this.termList();if(tt.length===0)return this;const{methods:nt,verbose:rt,world:it}=this;return rt===!0&&console.log(" +  ",$,_e||""),isArray$h($)?$.forEach(ot=>nt.one.setTag(tt,ot,it,et,_e)):nt.one.setTag(tt,$,it,et,_e),this.uncache(),this},tagSafe:function($,_e=""){return this.tag($,_e,!0)},unTag:function($,_e){if(!this.found||!$)return this;const et=this.termList();if(et.length===0)return this;const{methods:tt,verbose:nt,model:rt}=this;nt===!0&&console.log(" -  ",$,_e||"");const it=rt.one.tagSet;return isArray$h($)?$.forEach(ot=>tt.one.unTag(et,ot,it)):tt.one.unTag(et,$,it),this.uncache(),this},canBe:function($){$=$.replace(/^#/,"");const _e=this.model.one.tagSet,et=this.methods.one.canBe,tt=[];this.document.forEach((rt,it)=>{rt.forEach((ot,at)=>{et(ot,$,_e)||tt.push([it,at,at+1])})});const nt=this.update(tt);return this.difference(nt)}},tagAPI=function($){Object.assign($.prototype,fns$1)},addTags=function($){const{model:_e,methods:et}=this.world(),tt=_e.one.tagSet,nt=et.one.addTags,rt=nt($,tt);return _e.one.tagSet=rt,this},lib$1={addTags},boringTags=new Set(["Auxiliary","Possessive"]),sortByKids=function($,_e){return $=$.sort((et,tt)=>{if(boringTags.has(et)||!_e.hasOwnProperty(tt))return 1;if(boringTags.has(tt)||!_e.hasOwnProperty(et))return-1;let nt=_e[et].children||[];const rt=nt.length;nt=_e[tt].children||[];const it=nt.length;return rt-it}),$},tagRank=function($){const{document:_e,world:et}=$,tt=et.model.one.tagSet;_e.forEach(nt=>{nt.forEach(rt=>{const it=Array.from(rt.tags);rt.tagRank=sortByKids(it,tt)})})},tag={model:{one:{tagSet:{}}},compute:{tagRank},methods:methods$4,api:tagAPI,lib:lib$1},initSplit=/([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g,splitsOnly=/^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/,newLine=/((?:\r?\n|\r)+)/,basicSplit=function($){const _e=[],et=$.split(newLine);for(let tt=0;tt<et.length;tt++){const nt=et[tt].split(initSplit);for(let rt=0;rt<nt.length;rt++)nt[rt+1]&&splitsOnly.test(nt[rt+1])===!0&&(nt[rt]+=nt[rt+1],nt[rt+1]=""),nt[rt]!==""&&_e.push(nt[rt])}return _e},hasLetter$1=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,hasSomething$1=/\S/,notEmpty=function($){const _e=[];for(let et=0;et<$.length;et++){const tt=$[et];if(!(tt===void 0||tt==="")){if(hasSomething$1.test(tt)===!1||hasLetter$1.test(tt)===!1){if(_e[_e.length-1]){_e[_e.length-1]+=tt;continue}else if($[et+1]){$[et+1]=tt+$[et+1];continue}}_e.push(tt)}}return _e},hasNewline=function($){return!!$.match(/\n$/)},smartMerge=function($,_e){const et=_e.methods.one.tokenize.isSentence,tt=_e.model.one.abbreviations||new Set,nt=[];for(let rt=0;rt<$.length;rt++){const it=$[rt];$[rt+1]&&!et(it,tt)&&!hasNewline(it)?$[rt+1]=it+($[rt+1]||""):it&&it.length>0&&(nt.push(it),$[rt]="")}return nt},MAX_QUOTE=280,pairs$1={'"':'"',"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},openQuote=RegExp("["+Object.keys(pairs$1).join("")+"]","g"),closeQuote=RegExp("["+Object.values(pairs$1).join("")+"]","g"),closesQuote=function($){if(!$)return!1;const _e=$.match(closeQuote);return _e!==null&&_e.length===1},quoteMerge=function($){const _e=[];for(let et=0;et<$.length;et+=1){const nt=$[et].match(openQuote);if(nt!==null&&nt.length===1){if(closesQuote($[et+1])&&$[et+1].length<MAX_QUOTE){$[et]+=$[et+1],_e.push($[et]),$[et+1]="",et+=1;continue}if(closesQuote($[et+2])){const rt=$[et+1]+$[et+2];if(rt.length<MAX_QUOTE){$[et]+=rt,_e.push($[et]),$[et+1]="",$[et+2]="",et+=2;continue}}}_e.push($[et])}return _e},MAX_LEN=250,hasOpen$2=/\(/g,hasClosed$2=/\)/g,mergeParens=function($){const _e=[];for(let et=0;et<$.length;et+=1){const nt=$[et].match(hasOpen$2);if(nt!==null&&nt.length===1&&$[et+1]&&$[et+1].length<MAX_LEN&&$[et+1].match(hasClosed$2)!==null&&nt.length===1&&!hasOpen$2.test($[et+1])){$[et]+=$[et+1],_e.push($[et]),$[et+1]="",et+=1;continue}_e.push($[et])}return _e},hasSomething=/\S/,startWhitespace=/^\s+/,splitSentences=function($,_e){if($=$||"",$=String($),!$||typeof $!="string"||hasSomething.test($)===!1)return[];$=$.replace(""," ");const et=basicSplit($);let tt=notEmpty(et);if(tt=smartMerge(tt,_e),tt=quoteMerge(tt),tt=mergeParens(tt),tt.length===0)return[$];for(let nt=1;nt<tt.length;nt+=1){const rt=tt[nt].match(startWhitespace);rt!==null&&(tt[nt-1]+=rt[0],tt[nt]=tt[nt].replace(startWhitespace,""))}return tt},hasHyphen=function($,_e){const et=$.split(/[-]/);if(et.length<=1)return!1;const{prefixes:tt,suffixes:nt}=_e.one;return et[0].length===1&&/[a-z]/i.test(et[0])||tt.hasOwnProperty(et[0])||(et[1]=et[1].trim().replace(/[.?!]$/,""),nt.hasOwnProperty(et[1]))?!1:/^([a-z\u00C0-\u00FF`"'/]+)[-]([a-z0-9\u00C0-\u00FF].*)/i.test($)===!0||/^[('"]?([0-9]{1,4})[-]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i.test($)===!0},splitHyphens=function($){const _e=[],et=$.split(/[-]/);let tt="-";const nt=$.match(/[-]/);nt&&nt[0]&&(tt=nt);for(let rt=0;rt<et.length;rt++)rt===et.length-1?_e.push(et[rt]):_e.push(et[rt]+tt);return _e},combineRanges=function($){const _e=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-] ?$/,et=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let tt=0;tt<$.length-1;tt+=1)$[tt+1]&&_e.test($[tt])&&et.test($[tt+1])&&($[tt]=$[tt]+$[tt+1],$[tt+1]=null);return $},isSlash=new RegExp("\\p{L} ?\\/ ?\\p{L}+$","u"),combineSlashes=function($){for(let _e=1;_e<$.length-1;_e++)isSlash.test($[_e])&&($[_e-1]+=$[_e]+$[_e+1],$[_e]=null,$[_e+1]=null);return $},wordlike=/\S/,isBoundary=/^[!?.]+$/,naiiveSplit=/(\S+)/;let notWord=[".","?","!",":",";","-","","","--","...","(",")","[","]",'"',"'","`","","","*",""];notWord=notWord.reduce(($,_e)=>($[_e]=!0,$),{});const isArray$g=function($){return Object.prototype.toString.call($)==="[object Array]"},splitWords=function($,_e){let et=[],tt=[];if($=$||"",typeof $=="number"&&($=String($)),isArray$g($))return $;const nt=$.split(naiiveSplit);for(let it=0;it<nt.length;it++){if(hasHyphen(nt[it],_e)===!0){tt=tt.concat(splitHyphens(nt[it]));continue}tt.push(nt[it])}let rt="";for(let it=0;it<tt.length;it++){const ot=tt[it];wordlike.test(ot)===!0&&notWord.hasOwnProperty(ot)===!1&&isBoundary.test(ot)===!1?(et.length>0?(et[et.length-1]+=rt,et.push(ot)):et.push(rt+ot),rt=""):rt+=ot}return rt&&(et.length===0&&(et[0]=""),et[et.length-1]+=rt),et=combineSlashes(et),et=combineRanges(et),et=et.filter(it=>it),et},isLetter=new RegExp("\\p{Letter}","u"),isNumber$4=/[\p{Number}\p{Currency_Symbol}]/u,hasAcronym=/^[a-z]\.([a-z]\.)+/i,chillin=/[sn][']$/,normalizePunctuation=function($,_e){const{prePunctuation:et,postPunctuation:tt,emoticons:nt}=_e.one;let rt=$,it="",ot="";const at=Array.from($);if(nt.hasOwnProperty($.trim()))return{str:$.trim(),pre:it,post:" "};let st=at.length;for(let lt=0;lt<st;lt+=1){const ct=at[0];if(et[ct]!==!0){if((ct==="+"||ct==="-")&&isNumber$4.test(at[1])||ct==="'"&&ct.length===3&&isNumber$4.test(at[1])||isLetter.test(ct)||isNumber$4.test(ct))break;it+=at.shift()}}st=at.length;for(let lt=0;lt<st;lt+=1){const ct=at[at.length-1];if(tt[ct]!==!0){if(isLetter.test(ct)||isNumber$4.test(ct))break;ct==="."&&hasAcronym.test(rt)===!0||ct==="'"&&chillin.test(rt)===!0||(ot=at.pop()+ot)}}return $=at.join(""),$===""&&(rt=rt.replace(/ *$/,lt=>(ot=lt||"","")),$=rt,it=""),{str:$,pre:it,post:ot}},parseTerm=($,_e)=>{const{str:et,pre:tt,post:nt}=normalizePunctuation($,_e);return{text:et,pre:tt,post:nt,tags:new Set}},killUnicode=function($,_e){const et=_e.model.one.unicode||{};$=$||"";const tt=$.split("");return tt.forEach((nt,rt)=>{et[nt]&&(tt[rt]=et[nt])}),tt.join("")},clean=function($){$=$||"",$=$.toLowerCase(),$=$.trim();const _e=$;return $=$.replace(/[,;.!?]+$/,""),$=$.replace(/\u2026/g,"..."),$=$.replace(/\u2013/g,"-"),/^[:;]/.test($)===!1&&($=$.replace(/\.{3,}$/g,""),$=$.replace(/[",.!:;?)]+$/g,""),$=$.replace(/^['"(]+/g,"")),$=$.replace(/[\u200B-\u200D\uFEFF]/g,""),$=$.trim(),$===""&&($=_e),$=$.replace(/([0-9]),([0-9])/g,"$1$2"),$},periodAcronym$1=/([A-Z]\.)+[A-Z]?,?$/,oneLetterAcronym$1=/^[A-Z]\.,?$/,noPeriodAcronym$1=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym$1=/([a-z]\.)+[a-z]\.?$/,isAcronym$2=function($){return periodAcronym$1.test($)===!0||lowerCaseAcronym$1.test($)===!0||oneLetterAcronym$1.test($)===!0||noPeriodAcronym$1.test($)===!0},doAcronym=function($){return isAcronym$2($)&&($=$.replace(/\./g,"")),$},normalize$2=function($,_e){const et=_e.methods.one.killUnicode;let tt=$.text||"";tt=clean(tt),tt=et(tt,_e),tt=doAcronym(tt),$.normal=tt},parse$4=function($,_e){const{methods:et,model:tt}=_e,{splitSentences:nt,splitTerms:rt,splitWhitespace:it}=et.one.tokenize;return $=$||"",$=nt($,_e).map(at=>{let st=rt(at,tt);return st=st.map(lt=>it(lt,tt)),st.forEach(lt=>{normalize$2(lt,_e)}),st}),$},isAcronym$1=/[ .][A-Z]\.? *$/i,hasEllipse=/(?:\u2026|\.{2,}) *$/,hasLetter=new RegExp("\\p{L}","u"),hasPeriod$1=/\. *$/,leadInit=/^[A-Z]\. $/,isSentence=function($,_e){if(hasLetter.test($)===!1||isAcronym$1.test($)===!0||$.length===3&&leadInit.test($)||hasEllipse.test($)===!0)return!1;const tt=$.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),nt=tt[tt.length-1].toLowerCase();return!(_e.hasOwnProperty(nt)===!0&&hasPeriod$1.test($)===!0)},methods$3={one:{killUnicode,tokenize:{splitSentences,isSentence,splitTerms:splitWords,splitWhitespace:parseTerm,fromString:parse$4}}},aliases$1={"&":"and","@":"at","%":"percent",plz:"please",bein:"being"},misc$6=["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"],honorifics$1=["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],months=["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],nouns$3=["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],organizations=["dept","univ","assn","bros","inc","ltd","co"],places$2=["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],units=["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","g","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"],list$2=[[misc$6],[units,"Unit"],[nouns$3,"Noun"],[honorifics$1,"Honorific"],[months,"Month"],[organizations,"Organization"],[places$2,"Place"]],abbreviations={},lexicon$1={};list$2.forEach($=>{$[0].forEach(_e=>{abbreviations[_e]=!0,lexicon$1[_e]="Abbreviation",$[1]!==void 0&&(lexicon$1[_e]=[lexicon$1[_e],$[1]])})});const prefixes$2=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce(($,_e)=>($[_e]=!0,$),{}),suffixes$4={like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0},compact={"!":"","?":"",'"':'"',"'":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",I:"",i:"i",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""},unicode={};Object.keys(compact).forEach(function($){compact[$].split("").forEach(function(_e){unicode[_e]=$})});const prePunctuation={"#":!0,"@":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},postPunctuation={"%":!0,_:!0,"":!0,"":!0,"":!0,"":!0,"\uFEFF":!0},emoticons$1={"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0},model$3={one:{aliases:aliases$1,abbreviations,prefixes:prefixes$2,suffixes:suffixes$4,prePunctuation,postPunctuation,lexicon:lexicon$1,unicode,emoticons:emoticons$1}},hasSlash$1=/\//,hasDomain=/[a-z]\.[a-z]/i,isMath=/[0-9]/,addAliases=function($,_e){const et=$.normal||$.text||$.machine,tt=_e.model.one.aliases;if(tt.hasOwnProperty(et)&&($.alias=$.alias||[],$.alias.push(tt[et])),hasSlash$1.test(et)&&!hasDomain.test(et)&&!isMath.test(et)){const nt=et.split(hasSlash$1);nt.length<=3&&nt.forEach(rt=>{rt=rt.trim(),rt!==""&&($.alias=$.alias||[],$.alias.push(rt))})}return $},hasDash=new RegExp("^\\p{Letter}+-\\p{Letter}+$","u"),doMachine=function($){let _e=$.implicit||$.normal||$.text;_e=_e.replace(/[']s$/,""),_e=_e.replace(/s[']$/,"s"),_e=_e.replace(/([aeiou][ktrp])in'$/,"$1ing"),hasDash.test(_e)&&(_e=_e.replace(/-/g,"")),_e=_e.replace(/^[#@]/,""),_e!==$.normal&&($.machine=_e)},freq=function($){const _e=$.docs,et={};for(let tt=0;tt<_e.length;tt+=1)for(let nt=0;nt<_e[tt].length;nt+=1){const rt=_e[tt][nt],it=rt.machine||rt.normal;et[it]=et[it]||0,et[it]+=1}for(let tt=0;tt<_e.length;tt+=1)for(let nt=0;nt<_e[tt].length;nt+=1){const rt=_e[tt][nt],it=rt.machine||rt.normal;rt.freq=et[it]}},offset=function($){let _e=0,et=0;const tt=$.document;for(let nt=0;nt<tt.length;nt+=1)for(let rt=0;rt<tt[nt].length;rt+=1){const it=tt[nt][rt];it.offset={index:et,start:_e+it.pre.length,length:it.text.length},_e+=it.pre.length+it.text.length+it.post.length,et+=1}},index=function($){const _e=$.document;for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1)_e[et][tt].index=[et,tt]},wordCount=function($){let _e=0;const et=$.docs;for(let tt=0;tt<et.length;tt+=1)for(let nt=0;nt<et[tt].length;nt+=1)et[tt][nt].normal!==""&&(_e+=1,et[tt][nt].wordCount=_e)},termLoop$1=function($,_e){const et=$.docs;for(let tt=0;tt<et.length;tt+=1)for(let nt=0;nt<et[tt].length;nt+=1)_e(et[tt][nt],$.world)},methods$2={alias:$=>termLoop$1($,addAliases),machine:$=>termLoop$1($,doMachine),normal:$=>termLoop$1($,normalize$2),freq,offset,index,wordCount},tokenize={compute:methods$2,methods:methods$3,model:model$3,hooks:["alias","machine","index","id"]},typeahead$1=function($){const _e=$.model.one.typeahead,et=$.docs;if(et.length===0||Object.keys(_e).length===0)return;const tt=et[et.length-1]||[],nt=tt[tt.length-1];if(!nt.post&&_e.hasOwnProperty(nt.normal)){const rt=_e[nt.normal];nt.implicit=rt,nt.machine=rt,nt.typeahead=!0,$.compute.preTagger&&$.last().unTag("*").compute(["lexicon","preTagger"])}},compute$4={typeahead:typeahead$1},autoFill=function(){const $=this.docs;if($.length===0)return this;const _e=$[$.length-1]||[],et=_e[_e.length-1];return et.typeahead===!0&&et.machine&&(et.text=et.machine,et.normal=et.machine),this},api$k=function($){$.prototype.autoFill=autoFill},getPrefixes=function($,_e,et){let tt={};const nt=[],rt=et.prefixes||{};return $.forEach(it=>{it=it.toLowerCase().trim();let ot=it.length;_e.max&&ot>_e.max&&(ot=_e.max);for(let at=_e.min;at<ot;at+=1){const st=it.substring(0,at);if(!(_e.safe&&et.model.one.lexicon.hasOwnProperty(st))){if(rt.hasOwnProperty(st)===!0){nt.push(st);continue}if(tt.hasOwnProperty(st)===!0){nt.push(st);continue}tt[st]=it}}}),tt=Object.assign({},rt,tt),nt.forEach(it=>{delete tt[it]}),tt},isObject$9=$=>Object.prototype.toString.call($)==="[object Object]",defaults$2={safe:!0,min:3},prepare=function($=[],_e={}){const et=this.model();_e=Object.assign({},defaults$2,_e),isObject$9($)&&(Object.assign(et.one.lexicon,$),$=Object.keys($));const tt=getPrefixes($,_e,this.world());return Object.keys(tt).forEach(nt=>{if(et.one.typeahead.hasOwnProperty(nt)){delete et.one.typeahead[nt];return}et.one.typeahead[nt]=tt[nt]}),this},lib={typeahead:prepare},model$2={one:{typeahead:{}}},typeahead={model:model$2,api:api$k,lib,compute:compute$4,hooks:["typeahead"]};nlp.extend(change);nlp.extend(output);nlp.extend(match);nlp.extend(pointers);nlp.extend(tag);nlp.plugin(plugin$3);nlp.extend(tokenize);nlp.extend(freeze);nlp.plugin(cache$1);nlp.extend(lookup);nlp.extend(typeahead);nlp.extend(lexicon$2);nlp.extend(sweep);const irregularPlurals={addendum:"addenda",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",opus:"opera",ovum:"ova",phenomenon:"phenomena",referendum:"referenda",alga:"algae",alumna:"alumnae",antenna:"antennae",formula:"formulae",larva:"larvae",nebula:"nebulae",vertebra:"vertebrae",analysis:"analyses",axis:"axes",diagnosis:"diagnoses",parenthesis:"parentheses",prognosis:"prognoses",synopsis:"synopses",thesis:"theses",neurosis:"neuroses",appendix:"appendices",index:"indices",matrix:"matrices",ox:"oxen",sex:"sexes",alumnus:"alumni",bacillus:"bacilli",cactus:"cacti",fungus:"fungi",hippopotamus:"hippopotami",libretto:"libretti",modulus:"moduli",nucleus:"nuclei",octopus:"octopi",radius:"radii",stimulus:"stimuli",syllabus:"syllabi",cookie:"cookies",calorie:"calories",auntie:"aunties",movie:"movies",pie:"pies",rookie:"rookies",tie:"ties",zombie:"zombies",leaf:"leaves",loaf:"loaves",thief:"thieves",foot:"feet",goose:"geese",tooth:"teeth",beau:"beaux",chateau:"chateaux",tableau:"tableaux",bus:"buses",gas:"gases",circus:"circuses",crisis:"crises",virus:"viruses",database:"databases",excuse:"excuses",abuse:"abuses",avocado:"avocados",barracks:"barracks",child:"children",clothes:"clothes",echo:"echoes",embargo:"embargoes",epoch:"epochs",deer:"deer",halo:"halos",man:"men",woman:"women",mosquito:"mosquitoes",mouse:"mice",person:"people",quiz:"quizzes",rodeo:"rodeos",shoe:"shoes",sombrero:"sombreros",stomach:"stomachs",tornado:"tornados",tuxedo:"tuxedos",volcano:"volcanoes"},lexData={Comparative:"truebett1f0;arth0ew0in0;er",Superlative:"trueearlier",PresentTense:"truebests,sounds",Condition:"truelest,unless",PastTense:"truebegan,came,d4had,kneel3l2m0sa4we1;ea0sg2;nt;eap0i0;ed;id",Participle:"true0:09;a06b01cZdXeat0fSgQhPoJprov0rHs7t6u4w1;ak0ithdra02o2r1;i02uY;k0v0;nd1pr04;ergoJoJ;ak0hHo3;e9h7lain,o6p5t4un3w1;o1um;rn;g,k;ol0reS;iQok0;ught,wn;ak0o1runk;ne,wn;en,wn;ewriNi1uJ;dd0s0;ut3ver1;do4se0t1;ak0h2;do2g1;roG;ne;ast0i7;iv0o1;ne,tt0;all0loBor1;bi3g2s1;ak0e0;iv0o9;dd0;ove,r1;a5eamt,iv0;hos0lu1;ng;e4i3lo2ui1;lt;wn;tt0;at0en,gun;r2w1;ak0ok0;is0;en",Gerund:"trueaccord0be0doin,go0result0stain0;ing",Expression:"truea0Yb0Uc0Sd0Oe0Mfarew0Lg0FhZjeez,lWmVnToOpLsJtIuFvEw7y0;a5e3i1u0;ck,p;k04p0;ee,pee;a0p,s;!h;!a,h,y;a5h2o1t0;af,f;rd up,w;atsoever,e1o0;a,ops;e,w;hoo,t;ery w06oi0L;gh,h0;! 0h,m;huh,oh;here nPsk,ut tut;h0ic;eesh,hh,it,oo;ff,h1l0ow,sst;ease,s,z;ew,ooey;h1i,mg,o0uch,w,y;h,o,ps;! 0h;hTmy go0wT;d,sh;a7evertheless,o0;!pe;eh,mm;ah,eh,m1ol0;!s;ao,fao;aCeBi9o2u0;h,mph,rra0zzC;h,y;l1o0;r6y9;la,y0;! 0;c1moCsmok0;es;ow;!p hip hoor0;ay;ck,e,llo,y;ha1i,lleluj0;ah;!ha;ah,ee4o1r0;eat scott,r;l1od0sh; grief,bye;ly;! whiz;ell;e0h,t cetera,ureka,ww,xcuse me;k,p;'oh,a0rat,uh;m0ng;mit,n0;!it;mon,o0;ngratulations,wabunga;a2oo1r0tw,ye;avo,r;!ya;h,m; 1h0ka,las,men,rgh,ye;!a,em,h,oy;la",Negative:"truen0;ever,o0;n,t",QuestionWord:"truehow3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Reflexive:"trueh4it5my5o1the0your2;ir1m1;ne3ur0;sel0;f,ves;er0im0;self",Plural:"truedick0gre0ones,records;ens","Unit|Noun":"truecEfDgChBinchAk9lb,m6newt5oz,p4qt,t1y0;ardEd;able1b0ea1sp;!l,sp;spo1;a,t,x;on9;!b,g,i1l,m,p0;h,s;!les;!b,elvin,g,m;!es;g,z;al,b;eet,oot,t;m,up0;!s",Value:"truea few",Imperative:"truebewa0come he0;re","Plural|Verb":"trueleaves",Demonym:"true0:15;1:12;a0Vb0Oc0Dd0Ce08f07g04h02iYjVkTlPmLnIomHpEqatari,rCs7t5u4v3welAz2;am0Gimbabwe0;enezuel0ietnam0I;gAkrai1;aiwTex0hai,rinida0Ju2;ni0Prkmen;a5cotti4e3ingapoOlovak,oma0Spaniard,udRw2y0W;ede,iss;negal0Cr09;sh;mo0uT;o5us0Jw2;and0;a2eru0Fhilippi0Nortugu07uerto r0S;kist3lesti1na2raguay0;ma1;ani;ami00i2orweP;caragu0geri2;an,en;a3ex0Lo2;ngo0Drocc0;cedo1la2;gasy,y07;a4eb9i2;b2thua1;e0Cy0;o,t01;azakh,eny0o2uwaiI;re0;a2orda1;ma0Ap2;anO;celandic,nd4r2sraeli,ta01vo05;a2iB;ni0qi;i0oneU;aiAin2ondur0unO;di;amEe2hanai0reek,uatemal0;or2rm0;gi0;ilipino,ren8;cuadoVgyp4mira3ngli2sto1thiopi0urope0;shm0;ti;ti0;aPominUut3;a9h6o4roat3ub0ze2;ch;!i0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el6o4r3ul2;gaE;azi9it;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;genti2me1;ne;ba1ge2;ri0;ni0;gh0r2;ic0;an",Organization:"true0:4Q;a3Tb3Bc2Od2He2Df27g1Zh1Ti1Pj1Nk1Ll1Gm12n0Po0Mp0Cqu0Br02sTtHuCv9w3xiaomi,y1;amaha,m1Bou1w1B;gov,tu3C;a4e2iki1orld trade organizati33;leaRped0O;lls fargo,st1;fie2Hinghou2R;l1rner br3U;gree3Jl street journ2Im1E;an halOeriz2Xisa,o1;dafo2Yl1;kswagMvo;b4kip,n2ps,s1;a tod3Aps;es3Mi1;lev3Fted natio3C;er,s; mobi32aco beRd bOe9gi frida3Lh3im horto3Amz,o1witt3D;shi49y1;ota,s r 05;e 1in lizzy;b3carpen3Jdaily ma3Dguess w2holli0s1w2;mashing pumpki35uprem0;ho;ea1lack eyed pe3Xyr0Q;ch bo3Dtl0;l2n3Qs1xas instrumen1U;co,la m1F;efoni0Kus;a8cientology,e5ieme2Ymirnoff,np,o3pice gir6quare0Ata1ubaru;rbuc1to34;ks;ny,undgard1;en;a2x pisto1;ls;g1Wrs;few2Minsbur31lesfor03msu2E;adiohead,b8e4o1yana3C;man empi1Xyal 1;b1dutch she4;ank;a3d 1max,vl20;bu1c2Ahot chili peppe2Ylobst2N;ll;ders dige1Ll madrid;c,s;ant3Aizn2Q;a8bs,e5fiz2Ihilip4i3r1;emier 1udenti1D;leagTo2K;nk floyd,zza hut; morrBs;psi2tro1uge0E;br33chi0Tn33;!co;lant2Un1yp16; 2ason27da2P;ld navy,pec,range juli2xf1;am;us;aAb9e6fl,h5i4o1sa,vid3wa;k2tre dame,vart1;is;ia;ke,ntendo,ss0QvZ;l,s;c,st1Otflix,w1; 1sweek;kids on the block,york0D;a,c;nd22s2t1;ional aca2Po,we0U;a,c02d0S;aDcdonalCe9i6lb,o3tv,y1;spa1;ce;b1Tnsanto,ody blu0t1;ley cr1or0T;ue;c2t1;as,subisO;helin,rosoft;dica2rcedes benz,talli1;ca;id,re;ds;cs milk,tt19z24;a3e1g,ittle caesa1P; ore09novo,x1;is,mark,us; 1bour party;pres0Dz boy;atv,fc,kk,lm,m1od1O;art;iffy lu0Roy divisi0Jpmorgan1sa;! cha09;bm,hop,k3n1tv;g,te1;l,rpol;ea;a5ewlett pack1Vi3o1sbc,yundai;me dep1n1P;ot;tac1zbollah;hi;lliburt08sbro;eneral 6hq,ithub,l5mb,o2reen d0Ou1;cci,ns n ros0;ldman sachs,o1;dye1g0H;ar;axo smith kli04encoW;electr0Nm1;oto0Z;a5bi,c barcelo4da,edex,i2leetwood m03o1rito l0G;rd,xcY;at,fa,nancial1restoZ; tim0;na;cebook,nnie mae;b0Asa,u3xxon1; m1m1;ob0J;!rosceptics;aiml0De5isney,o4u1;nkin donu2po0Zran dur1;an;ts;j,w jon0;a,f lepp12ll,peche mode,r spieg02stiny's chi1;ld;aJbc,hFiDloudflaCnn,o3r1;aigsli5eedence clearwater reviv1ossra09;al;c7inba6l4m1o0Est09;ca2p1;aq;st;dplSg1;ate;se;a c1o chanQ;ola;re;a,sco1tigroup;! systems;ev2i1;ck fil a,na daily;r1y;on;d2pital o1rls jr;ne;bury,ill1;ac;aEbc,eBf9l5mw,ni,o1p,rexiteeU;ei3mbardiIston 1;glo1pizza;be;ng;o2ue c1;roV;ckbuster video,omingda1;le; g1g1;oodriL;cht2e ge0rkshire hathaw1;ay;el;cardi,idu,nana republ3s1xt5y5;f,kin robbi1;ns;ic;bYcTdidSerosmith,iRlKmEnheuser busDol,ppleAr6s4u3v2y1;er;is,on;di,todesk;hland o1sociated E;il;b3g2m1;co;os;ys; compu1be0;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 5catel2ta1;ir;! lu1;ce1;nt;jazeera,qae1;da;g,rbnb;as;/dc,a3er,tivision1;! blizz1;ard;demy of scienc0;es;ba",Possessive:"trueits,my,our0thy;!s","Noun|Verb":"true0:9W;1:AA;2:96;3:A3;4:9R;5:A2;6:9K;7:8N;8:7L;9:A8;A:93;B:8D;C:8X;a9Ob8Qc7Id6Re6Gf5Sg5Hh55i4Xj4Uk4Rl4Em40n3Vo3Sp2Squ2Rr21s0Jt02u00vVwGyFzD;ip,oD;ne,om;awn,e6Fie68;aOeMhJiHoErD;ap,e9Oink2;nd0rDuC;kDry,sh5Hth;!shop;ck,nDpe,re,sh;!d,g;e86iD;p,sD;k,p0t2;aDed,lco8W;r,th0;it,lk,rEsDt4ve,x;h,te;!ehou1ra9;aGen5FiFoD;iDmAte,w;ce,d;be,ew,sA;cuum,l4B;pDr7;da5gra6Elo6A;aReQhrPiOoMrGuEwiDy5Z;n,st;nDrn;e,n7O;aGeFiEoDu6;t,ub2;bu5ck4Jgg0m,p;at,k,nd;ck,de,in,nsDp,v7J;f0i8R;ll,ne,p,r4Yss,t94uD;ch,r;ck,de,e,le,me,p,re;e5Wow,u6;ar,e,ll,mp0st,xt;g,lDng2rg7Ps5x;k,ly;a0Sc0Ne0Kh0Fi0Dk0Cl0Am08n06o05pXquaBtKuFwD;ea88iD;ng,pe,t4;bGit,m,ppErD;fa3ge,pri1v2U;lDo6S;e6Py;!je8;aMeLiKoHrEuDy2;dy,ff,mb2;a85eEiDo5Pugg2;ke,ng;am,ss,t4;ckEop,p,rD;e,m;ing,pi2;ck,nk,t4;er,m,p;ck,ff,ge,in,ke,lEmp,nd,p2rDte,y;!e,t;k,l;aJeIiHlGoFrDur,y;ay,e56inDu3;g,k2;ns8Bt;a5Qit;ll,n,r87te;ed,ll;m,n,rk;b,uC;aDee1Tow;ke,p;a5Je4FiDo53;le,rk;eep,iDou4;ce,p,t;ateboa7Ii;de,gnDl2Vnk,p,ze;!al;aGeFiEoDuff2;ck,p,re,w;ft,p,v0;d,i3Ylt0;ck,de,pe,re,ve;aEed,nDrv1It;se,t2N;l,r4t;aGhedu2oBrD;aEeDibb2o3Z;en,w;pe,t4;le,n,r2M;cDfegua72il,mp2;k,rifi3;aZeHhy6LiGoEuD;b,in,le,n,s5X;a6ck,ll,oDpe,u5;f,t;de,ng,ot,p,s1W;aTcSdo,el,fQgPje8lOmMnLo17pJque6sFturn,vDwa6V;eDi27;al,r1;er74oFpe8tEuD;lt,me;!a55;l71rt;air,eaDly,o53;l,t;dezvo2Zt;aDedy;ke,rk;ea1i4G;a6Iist0r5N;act6Yer1Vo71uD;nd,se;a38o6F;ch,s6G;c1Dge,iEke,lly,nDp1Wt1W;ge,k,t;n,se;es6Biv0;a04e00hYiXlToNrEsy4uD;mp,n4rcha1sh;aKeIiHoDu4O;be,ceFdu3fi2grDje8mi1p,te6;amDe6W;!me;ed,ss;ce,de,nt;sDy;er6Cs;cti3i1;iHlFoEp,re,sDuCw0;e,i5Yt;l,p;iDl;ce,sh;nt,s5V;aEce,e32uD;g,mp,n7;ce,nDy;!t;ck,le,n17pe,tNvot;a1oD;ne,tograph;ak,eFnErDt;fu55mA;!c32;!l,r;ckJiInHrFsEtDu1y;ch,e9;s,te;k,tD;!y;!ic;nt,r,se;!a7;bje8ff0il,oErDutli3Qver4B;bAd0ie9;ze;a4ReFoDur1;d,tD;e,i3;ed,gle8tD;!work;aMeKiIoEuD;rd0;ck,d3Rld,nEp,uDve;nt,th;it5EkD;ey;lk,n4Brr5CsDx;s,ta2B;asuBn4UrDss;ge,it;il,nFp,rk3WsEtD;ch,t0;h,k,t0;da5n0oeuvB;aLeJiHoEuD;mp,st;aEbby,ck,g,oDve;k,t;d,n;cDe,ft,mAnIst;en1k;aDc0Pe4vK;ch,d,k,p,se;bFcEnd,p,t4uD;gh,n4;e,k;el,o2U;eEiDno4E;ck,d,ll,ss;el,y;aEo1OuD;i3mp;m,zz;mpJnEr46ssD;ue;c1Rdex,fluGha2k,se2HteDvoi3;nt,rD;e6fa3viD;ew;en3;a8le2A;aJeHiGoEuD;g,nt;l3Ano2Dok,pDr1u1;!e;ghli1Fke,nt,re,t;aDd7lp;d,t;ck,mGndFrEsh,tDu9;ch,e;bo3Xm,ne4Eve6;!le;!m0;aMear,ift,lKossJrFuD;arDe4Alp,n;antee,d;aFiEoDumb2;uCwth;ll,nd,p;de,sp;ip;aBoDue;ss,w;g,in,me,ng,s,te,ze;aZeWiRlNoJrFuD;ck,el,nDss,zz;c38d;aEoDy;st,wn;cDgme,me,nchi1;tuB;cFg,il,ld,rD;ce,e29mDwa31;!at;us;aFe0Vip,oDy;at,ck,od,wD;!er;g,ke,me,re,sh,vo1E;eGgFlEnDre,sh,t,x;an3i0Q;e,m,t0;ht,uB;ld;aEeDn3;d,l;r,tuB;ce,il,ll,rm,vo2W;cho,d7ffe8nMsKxFyeD;!baD;ll;cGerci1hFpDtra8;eriDo0W;en3me9;au6ibA;el,han7u1;caDtima5;pe;count0d,vy;a01eSiMoJrEuDye;b,el,mp,pli2X;aGeFiEoD;ne,p;ft,ll,nk,p,ve;am,ss;ft,g,in;cEd7ubt,wnloD;ad;k,u0E;ge6p,sFt4vD;e,iDor3;de;char7gui1h,liEpD;at4lay,u5;ke;al,bKcJfeIlGmaCposAsEtaD;il;e07iD;gn,re;ay,ega5iD;ght;at,ct;li04rea1;a5ut;b,ma7n3rDte;e,t;a0Eent0Dh06irc2l03oKrFuD;be,e,rDt;b,e,l,ve;aGeFoEuDy;sh;p,ss,wd;dAep;ck,ft,sh;at,de,in,lTmMnFordina5py,re,st,uDv0;gh,nDp2rt;s01t;ceHdu8fli8glomeIsFtDveN;a8rD;a6ol;e9tru8;ct;ntDrn;ra5;bHfoGmFpD;leDouCromi1;me9;aCe9it,u5;rt;at,iD;ne;lap1oD;r,ur;aEiDoud,ub;ck,p;im,w;aEeDip;at,ck,er;iGllen7nErD;ge,m,t;ge,nD;el;n,r;er,re;ke,ll,mp,noe,pGrXsFtEuDve;se,ti0I;alog,ch;h,t;!tuB;re;a03eZiXlToPrHuEyD;pa11;bb2ck2dgEff0mp,rDst,zz;den,n;et;anJeHiFoadEuD;i1sh;ca6;be,d7;ge;aDed;ch,k;ch,d;aFg,mb,nEoDrd0tt2x,ycott;k,st,t;d,e;rd,st;aFeCiDoYur;nk,tz;nd;me;as,d,ke,nd,opsy,tD;!ch,e;aFef,lt,nDt;d,efA;it;r,t;ck,il,lan3nIrFsEtt2;le;e,h;!gDk;aDe;in;!d,g,k;bu1c05dZge,iYlVnTppQrLsIttGucEwaD;rd;tiD;on;aDempt;ck;k,sD;i6ocia5;st;chFmD;!oD;ur;!iD;ve;eEroa4;ch;al;chDg0sw0;or;aEt0;er;rm;d,m,r;dreHvD;an3oD;ca5;te;ce;ss;cDe,he,t;eFoD;rd,u9;nt;nt,ss;se",Actor:"true0:7B;1:7G;2:6A;3:7F;4:7O;5:7K;a6Nb62c4Ud4Be41f3Sg3Bh30i2Uj2Qkin2Pl2Km26n1Zo1Sp0Vqu0Tr0JsQtJuHvEw8yo6;gi,ut6;h,ub0;aAe9i8o7r6;estl0it0;m2rk0;fe,nn0t2Bza2H;atherm2ld0;ge earn0it0nder0rri1;eter7i6oyF;ll5Qp,s3Z;an,ina2U;n6s0;c6Uder03;aoisea23e9herapi5iktok0o8r6ut1yco6S;a6endseLo43;d0mp,nscri0Bvel0;ddl0u1G;a0Qchn7en6na4st0;ag0;i3Oo0D;aiXcUeRhPiMki0mu26oJpGquaFtBu7wee6;p0theart;lt2per7r6;f0ge6Iviv1;h6inten0Ist5Ivis1;ero,um2;a8ep7r6;ang0eam0;bro2Nc2Ofa2Nmo2Nsi20;ff0tesm2;tt0;ec7ir2Do6;kesp59u0M;ia5Jt3;l7me6An,rcere6ul;r,ss;di0oi5;n7s6;sy,t0;g0n0;am2ephe1Iow6;girl,m2r2Q;cretInior cit3Fr6;gea4v6;a4it1;hol4Xi7reen6ulpt1;wr2C;e01on;l1nt;aEe9o8u6;l0nn6;er up,ingE;g40le mod3Zof0;a4Zc8fug2Ppo32searQv6;ere4Uolution6;ary;e6luYru22;ptio3T;bbi,dic5Vpp0;arter6e2Z;back;aYeWhSiRlOoKr8sycho7u6;nk,p31;logi5;aGeDiBo6;d9fess1g7ph47s6;pe2Ktitu51;en6ramm0;it1y;igy,uc0;est4Nme mini0Unce6s3E;!ss;a7si6;de4;ch0;ctiti39nk0P;dca0Oet,li6pula50rnst42;c2Itic6;al scie6i2;nti5;a6umb0;nn0y6;er,ma4Lwright;lgrim,one0;a8iloso7otogra7ra6ysi1V;se;ph0;ntom,rmaci5;r6ssi1T;form0s4O;i3El,nel3Yr8st1tr6wn;i6on;arWot;ent4Wi42tn0;ccupa4ffBp8r7ut6;ca5l0B;ac4Iganiz0ig2Fph2;er3t6;i1Jomet6;ri5;ic0spring;aBe9ie4Xo7u6;n,rser3J;b6mad,vi4V;le2Vo4D;i6mesis,phew;ce,ghb1;nny,rr3t1X;aEeDiAo7u6yst1Y;m8si16;der3gul,m7n6th0;arDk;!my;ni7s6;f02s0Jt0;on,st0;chan1Qnt1rcha4;gi9k0n8rtyr,t6y1;e,riar6;ch;ag0iac;ci2stra3I;a7e2Aieutena4o6;rd,s0v0;bor0d7ndlo6ss,urea3Fwy0ym2;rd;!y;!s28;e8o7u6;ggl0;gg0urna2U;st0;c3Hdol,llu3Ummigra4n6; l9c1Qfa4habi42nov3s7ve6;nt1stig3;pe0Nt6;a1Fig3ru0M;aw;airFeBistoAo8u6ygie1K;man6sba2H;!ita8;bo,st6usekN;age,e3P;ri2;ir,r6;m7o6;!ine;it;dress0sty2C;aLeIhostGirl26ladi3oCrand7u6;e5ru;c9daug0Jfa8m7pa6s2Y;!re4;a,o6;th0;hi1B;al7d6lf0;!de3A;ie,k6te26;eep0;!wr6;it0;isha,n6;i6tl04;us;mbl0rden0;aDella,iAo7r6;eela2Nie1P;e,re6ster pare4;be1Hm2r6st0;unn0;an2ZgZlmm17nanci0r6tt0;e6st la2H; marsh2OfigXm2;rm0th0;conoEdDlectriCm8n7x6;amin0cellency,i2A;emy,trepreneur,vironmenta1J;c8p6;er1loye6;e,r;ee;ci2;it1;mi5;aKeBi8ork,ri7u6we02;de,tche2H;ft0v0;ct3eti7plom2Hre6va;ct1;ci2ti2;aDcor3fencCi0InAput9s7tectLvel6;op0;ce1Ge6ign0;rt0;ee,y;iz6;en;em2;c1Ml0;d8nc0redev7ug6;ht0;il;!dy;a06e04fo,hXitizenWlToBr9u6;r3stomer6;! representat6;ive;e3it6;ic;lJmGnAord9rpor1Nu7w6;boy,ork0;n6ri0;ciTte1Q;in3;fidantAgressSs9t6;e0Kr6;ibut1o6;ll0;tab13ul1O;!e;edi2m6pos0rade;a0EeQissi6;on0;leag8on7um6;ni5;el;ue;e6own;an0r6;ic,k;!s;a9e7i6um;ld;erle6f;ad0;ir7nce6plFract0;ll1;m2wI;lebri6o;ty;dBptAr6shi0;e7pe6;nt0;r,t6;ak0;ain;et;aMeLiJlogg0oErBu6;dd0Fild0rgl9siness6;m2p7w6;om2;ers05;ar;i7o6;!k0th0;cklay0de,gadi0;hemi2oge8y6;!frie6;nd;ym2;an;cyc6sR;li5;atbox0ings;by,nk0r6;b0on7te6;nd0;!e07;c04dWge4nQpLrHsFtAu7yatull6;ah;nt7t6;h1oG;!ie;h8t6;e6orney;nda4;ie5le6;te;sis00tron6;aut,om0;chbis8isto7tis6;an,t;crU;hop;ost9p6;ari6rentiS;ti6;on;le;a9cest1im3nou8y6;bo6;dy;nc0;ly5rc6;hi5;mi8v6;entur0is1;er;ni7r6;al;str3;at1;or;counBquaintanArob9t6;ivi5or,re6;ss;st;at;ce;ta4;nt","Adj|Noun":"true0:16;a1Db17c0Ud0Re0Mf0Dg0Ah08i06ju05l02mWnUoSpNrIsBt7u4v1watershed;a1ision0Z;gabo4nilla,ria1;b0Vnt;ndergr1pstairs;adua14ou1;nd;a3e1oken,ri0;en,r1;min0rori13;boo,n;age,e5ilv0Flack,o3quat,ta2u1well;bordina0Xper5;b0Lndard;ciali0Yl1vereign;e,ve16;cret,n1ri0;ior;a4e2ou1ubbiL;nd,tiY;ar,bBl0Wnt0p1side11;resent0Vublican;ci0Qsh;a4eriodic0last0Zotenti0r1;emi2incip0o1;!fession0;er,um;rall4st,tie0U;ff1pposi0Hv0;ens0Oi0C;agg01ov1uts;el;a5e3iniatJo1;bi01der07r1;al,t0;di1tr0N;an,um;le,riG;attOi2u1;sh;ber0ght,qC;stice,veniT;de0mpressioYn1;cumbe0Edividu0no0Dsta0Eterim;alf,o1umdrum;bby,melF;en2old,ra1;ph0Bve;er0ious;a7e5i4l3u1;git03t1;ure;uid;ne;llow,m1;aFiL;ir,t,vo1;riOuriO;l3p00x1;c1ecutUpeV;ess;d1iK;er;ar2e1;mographUrivO;k,l2;hiGlassSo2rude,unn1;ing;m5n1operK;creCstitueOte2vertab1;le;mpor1nt;ary;ic,m2p1;anion,lex;er2u1;ni8;ci0;al;e5lank,o4r1;i2u1;te;ef;ttom,urgeois;st;cadem9d6l2ntarct9r1;ab,ct8;e3tern1;at1;ive;rt;oles1ult;ce1;nt;ic","Adj|Past":"true0:4Q;1:4C;2:4H;3:4E;a44b3Tc36d2Je29f20g1Wh1Si1Jj1Gkno1Fl1Am15n12o0Xp0Mqu0Kr08sLtEuAv9w4yellow0;a7ea6o4rinkl0;r4u3Y;n,ri0;k31th3;rp0sh0tZ;ari0e1O;n5p4s0;d1li1Rset;cov3derstood,i4;fi0t0;a8e3Rhr7i6ouTr4urn0wi4C;a4imm0ou2G;ck0in0pp0;ed,r0;eat2Qi37;m0nn0r4;get0ni2T;aOcKeIhGimFm0Hoak0pDt7u4;bsid3Ogge44s4;pe4ta2Y;ct0nd0;a8e7i2Eok0r5u4;ff0mp0nn0;ength2Hip4;ed,p0;am0reotyp0;in0t0;eci4ik0oH;al3Efi0;pRul1;a4ock0ut;d0r0;a4c1Jle2t31;l0s3Ut0;a6or5r4;at4e25;ch0;r0tt3;t4ut0;is2Mur1;aEe5o4;tt0;cAdJf2Bg9je2l8m0Knew0p7qu6s4;eTpe2t4;or0ri2;e3Dir0;e1lac0;at0e2Q;i0Rul1;eiv0o4ycl0;mme2Lrd0v3;in0lli0ti2A;a4ot0;li28;aCer30iBlAo9r5u4;mp0zzl0;e6i2Oo4;ce2Fd4lo1Anou30pos0te2v0;uc0;fe1CocCp0Iss0;i2Kli1L;ann0e2CuS;ck0erc0ss0;ck0i2Hr4st0;allLk0;bse7c6pp13rgan2Dver4;lo4whelm0;ok0;cupi0;rv0;aJe5o4;t0uri1A;ed0gle2;a6e5ix0o4ut0ys1N;di1Nt15u26;as0Clt0;n4rk0;ag0ufact0A;e6i5o4;ad0ck0st,v0;cens0m04st0;ft,v4;el0;tt0wn;a5o15u4;dg0s1B;gg0;llumSmpAn4sol1;br0cre1Ldebt0f8jZspir0t5v4;it0olv0;e4ox0Y;gr1n4re23;d0si15;e2l1o1Wuri1;li0o01r4;ov0;a6e1o4um03;ok0r4;ri0Z;mm3rm0;i6r5u4;a1Bid0;a0Ui0Rown;ft0;aAe9i8l6oc0Ir4;a4i0oz0Y;ctHg19m0;avo0Ju4;st3;ni08tt0x0;ar0;d0il0sc4;in1;dCl1mBn9quipp0s8x4;agger1c6p4te0T;a0Se4os0;ct0rie1D;it0;cap0tabliZ;cha0XgFha1As4;ur0;a0Zbarra0N;i0Buc1;aMeDi5r4;a01i0;gni08miniSre2s4;a9c6grun0Ft4;o4re0Hu17;rt0;iplWou4;nt0r4;ag0;bl0;cBdRf9l8p7ra6t5v4;elop0ot0;ail0ermQ;ng0;re07;ay0ight0;e4in0o0M;rr0;ay0enTor1;m5t0z4;ed,zl0;ag0p4;en0;aPeLhIlHo9r6u4;lt4r0stom03;iv1;a5owd0u4;sh0;ck0mp0;d0loAm7n4ok0v3;centr1f5s4troC;id3olid1;us0;b5pl4;ic1;in0;r0ur0;assi9os0utt3;ar5i4;ll0;g0m0;lebr1n6r4;ti4;fi0;tralJ;g0lcul1;aDewild3iCl9o7r5urn4;ed,t;ok4uis0;en;il0r0t4und;tl0;e5i4;nd0;ss0;as0;ffl0k0laMs0tt3;bPcNdKfIg0lFmaz0nDppBrm0ss9u5wa4;rd0;g5thor4;iz0;me4;nt0;o6u4;m0r0;li0re4;ci1;im1ticip1;at0;a5leg0t3;er0;rm0;fe2;ct0;ju5o7va4;nc0;st0;ce4knowledg0;pt0;and5so4;rb0;on0;ed",Singular:"true0:5J;1:5H;2:4W;3:4S;4:52;5:57;6:5L;7:56;8:5B;a52b4Lc3Nd35e2Xf2Og2Jh28in24j23k22l1Um1Ln1Ho1Bp0Rqu0Qr0FsZtMuHvCw9x r58yo yo;a9ha3Po3Q;f3i4Rt0Gy9;! arou39;arCeAideo ga2Qo9;cabu4Jl5C;gOr9t;di4Zt1Y;iety,ni4P;nBp30rAs 9;do43s5E;bani1in0;coordinat3Ader9;estima1to24we41; rex,aKeJhHiFoErBuAv9;! show;m2On2rntLto1D;agedy,ib9o4E;e,u9;n0ta46;ni1p2rq3L;c,er,m9;etF;ing9ree26;!y;am,mp3F;ct2le6x return;aNcMeKhor4QiJkHoGpin off,tDuBy9;ll9ner7st4T;ab2X;b9i1n28per bowl,rro1X;st3Ltot0;atAipe2Go1Lrate7udent9;! lo0I;i39u1;ft ser4Lmeo1I;elet5i9;ll,r3V;b38gn2Tte;ab2Jc9min3B;t,urity gua2N;e6ho2Y;bbatic0la3Jndwi0Qpi5;av5eDhetor2iAo9;de6om,w;tAv9;erb2C;e,u0;bDcBf9publ2r10spi1;er9orm3;e6r0;i9ord label;p2Ht0;a1u46;estion mark,ot2F;aPeMhoLiIlGoErAu9yram1F;ddi3HpErpo1Js3J;eBo9;bl3Zs9;pe3Jta1;dic1Rmi1Fp1Qroga8ss relea1F;p9rt0;py;a9ebisci1;q2Dte;cn2eAg9;!gy;!r;ne call,tocoK;anut,dAr9t0yo1;cen3Jsp3K;al,est0;nop4rAt9;e,hog5;adi11i2V;atme0bj3FcBpia1rde0thers,utspok5ve9wn3;n,r9;ti0Pview;cuAe9;an;pi3;arBitAot9umb3;a2Fhi2R;e,ra1;cot2ra8;aFeCiAo9ur0;nopo4p18rni2Nsq1Rti36uld;c,li11n0As9tt5;chief,si34;dAnu,t9;al,i3;al,ic;gna1mm0nd15rsupi0te9yf4;ri0;aDegCiBu9;ddi1n9;ch;me,p09; Be0M;bor14y9; 9er;up;eyno1itt5;el4ourn0;cBdices,itia8ni25sAtel0Lvert9;eb1J;e28titu1;en8i2T;aIeEighDoAu9;man right,s22;me9rmoFsp1Ftb0K;! r9;un; scho0YriY;a9i1N;d9v5; start,pho9;ne;ndful,sh brown,v5ze;aBelat0Ilaci3r9ul4yp1S;an9enadi3id;a1Cd slam,ny;df4r9;l2ni1I;aGeti1HiFlu1oCrAun9;er0;ee market,i9onti3;ga1;l4ur9;so9;me;ePref4;br2mi4;conoFffi7gg,lecto0Rmbas1EnCpidem2s1Zth2venBxAyel9;id;ampZempl0Nte6;i19t;er7terp9;ri9;se;my;eLiEoBr9ump tru0U;agonf4i9;er,ve thru;cAg7i4or,ssi3wn9;side;to0EumenE;aEgniDnn3sAvide9;nd;conte6incen8p9tri11;osi9;ti0C;ta0H;le0X;athBcAf9ni0terre6;ault 05err0;al,im0;!b9;ed;aWeThMiLlJoDr9;edit caBuc9;ib9;le;rd;efficDke,lCmmuniqLnsApi3rr0t0Xus9yo1;in;erv9uI;ato02;ic,lQ;ie6;er7i9oth;e6n2;ty,vil wM;aDeqCick5ocoBr9;istmas car9ysanthemum;ol;la1;ue;ndeli3racteri9;st2;iAllEr9;e0tifica1;liZ;hi3nFpErCt9ucus;erpi9hedr0;ll9;ar;!bohyd9ri3;ra1;it0;aAe,nib0t9;on;l,ry;aMeLiop2leJoHrDu9;nny,r9tterf4;g9i0;la9;ry;eakAi9;ck;fa9throB;st;dy,ro9wl;ugh;mi9;sh;an,l4;nkiArri3;er;ng;cSdMlInFppeti1rDsBtt2utop9;sy;ic;ce6pe9;ct;r9sen0;ay;ecAoma4tiA;ly;do1;i5l9;er7y;gy;en; hominDjAvan9;tage;ec8;ti9;ve;em;cCeAqui9;tt0;ta1;te;iAru0;al;de6;nt","Person|Noun":"truea0Eb07c03dWeUfQgOhLjHkiGlFmCnBolive,p7r4s3trini06v1wa0;ng,rd,tts;an,enus,iol0;a,et;ky,onPumm09;ay,e1o0uby;bin,d,se;ed,x;a2e1o0;l,tt04;aLnJ;dYge,tR;at,orm;a0eloW;t0x,ya;!s;a9eo,iH;ng,tP;a2e1o0;lGy;an,w3;de,smi4y;a0erb,iOolBuntR;ll,z0;el;ail,e0iLuy;ne;a1ern,i0lo;elds,nn;ith,n0;ny;a0dEmir,ula,ve;rl;a4e3i1j,ol0;ly;ck,x0;ie;an,ja;i0wn;sy;am,h0liff,rystal;a0in,ristian;mbers,ri0;ty;a4e3i2o,r0ud;an0ook;dy;ll;nedict,rg;k0nks;er;l0rt;fredo,ma","Actor|Verb":"trueaCb8c5doctor,engineAfool,g3host,judge,m2nerd,p1recruit,scout,ushAvolunteAwi0;mp,tneA;arent,ilot;an,ime;eek,oof,r0uide;adu8oom;ha1o0;ach,nscript,ok;mpion,uffeur;o2u0;lly,tch0;er;ss;ddi1ffili0rchite1;ate;ct",MaleName:"true0:H6;1:FZ;2:DS;3:GQ;4:CZ;5:FV;6:GM;7:FP;8:GW;9:ET;A:C2;B:GD;aF8bE1cCQdBMeASfA1g8Yh88i7Uj6Sk6Bl5Mm48n3So3Ip33qu31r26s1Et0Ru0Ov0CwTxSyHzC;aCor0;cChC1karia,nAT;!hDkC;!aF6;!ar7CeF5;aJevgenBSoEuC;en,rFVsCu3FvEF;if,uf;nDs6OusC;ouf,s6N;aCg;s,tC;an,h0;hli,nCrosE1ss09;is,nC;!iBU;avi2ho5;aPeNiDoCyaEL;jcieBJlfgang,odrFutR;lFnC;f8TsC;lCt1;ow;bGey,frEhe4QlC;aE5iCy;am,e,s;ed8iC;d,ed;eAur;i,ndeD2rn2sC;!l9t1;lDyC;l1ne;lDtC;!er;aCHy;aKernDAiFladDoC;jteB0lodymyr;!iC;mFQsDB;cFha0ktBZnceDrgCOvC;a0ek;!nC;t,zo;!e4StBV;lCnC7sily;!entC;in9J;ghE2lCm70nax,ri,sm0;riCyss87;ch,k;aWeRhNiLoGrEuDyC;!l2roEDs1;n6r6E;avD0eCist0oy,um0;ntCRvBKy;bFdAWmCny;!asDmCoharu;aFFie,y;!z;iA6y;mCt4;!my,othy;adEeoDia0SomC;!as;!dor91;!de4;dFrC;enBKrC;anBJeCy;ll,nBI;!dy;dgh,ha,iCnn2req,tsu5V;cDAka;aYcotWeThPiMlobod0oKpenc2tEurDvenAEyCzym1;ed,lvest2;aj,e9V;anFeDuC;!aA;fan17phEQvCwaA;e77ie;!islaCl9;v,w;lom1rBuC;leymaDHta;dDgmu9UlCm1yabonga;as,v8B;!dhart8Yn9;aEeClo75;lCrm0;d1t1;h9Jne,qu1Jun,wn,yne;aDbastiEDk2Yl5Mpp,rgCth,ymoCU;e1Dio;m4n;!tC;!ie,y;eDPlFmEnCq67tosCMul;dCj2UtiA5;e01ro;!iATkeB6mC4u5;!ik,vato9K;aZeUheC8iRoGuDyC;an,ou;b99dDf4peAssC;!elEG;ol00y;an,bLc7MdJel,geIh0lHmGnEry,sDyC;!ce;ar7Ocoe,s;!aCnBU;ld,n;an,eo;a7Ef;l7Jr;e3Eg2n9olfo,riC;go;bBNeDH;cCl9;ar87c86h54kCo;!ey,ie,y;cFeA3gDid,ubByCza;an8Ln06;g85iC;naC6s;ep;ch8Kfa5hHin2je8HlGmFndEoHpha5sDul,wi36yC;an,mo8O;h9Im4;alDSol3O;iD0on;f,ph;ul;e9CinC;cy,t1;aOeLhilJiFrCyoG;aDeC;m,st1;ka85v2O;eDoC;tr;r8GtC;er,ro;!ipCl6H;!p6U;dCLrcy,tC;ar,e9JrC;!o7;b9Udra8So9UscAHtri62ulCv8I;!ie,o7;ctav6Ji2lImHndrBRrGsDtCum6wB;is,to;aDc6k6m0vCwaBE;al79;ma;i,vR;ar,er;aDeksandr,ivC;er,i2;f,v;aNeLguyBiFoCu3O;aDel,j4l0ma0rC;beAm0;h,m;cFels,g5i9EkDlC;es,s;!au,h96l78olaC;!i,y;hCkCol76;ol75;al,d,il,ls1vC;ilAF;hom,tC;e,hC;anCy;!a5i5;aYeViLoGuDyC;l4Nr1;hamDr84staC;fa,p6E;ed,mG;di10e,hamEis4JntDritz,sCussa;es,he;e,y;ad,ed,mC;ad,ed;cGgu5hai,kFlEnDtchC;!e8O;a9Pik;house,o7t1;ae73eC3ha8Iolaj;ah,hDkC;!ey,y;aDeC;al,l;el,l;hDlv3rC;le,ri8Ev4T;di,met;ay0c00gn4hWjd,ks2NlTmadZnSrKsXtDuric7VxC;imilBKwe8B;eHhEi69tCus,y69;!eo,hCia7;ew,i67;eDiC;as,eu,s;us,w;j,o;cHiGkFlEqu8Qsha83tCv3;iCy;!m,n;in,on;el,o7us;a6Yo7us;!elCin,o7us;!l8o;frAEi5Zny,u5;achDcoCik;lm;ai,y;amDdi,e5VmC;oud;adCm6W;ou;aulCi9P;ay;aWeOiMloyd,oJuDyC;le,nd1;cFdEiDkCth2uk;a7e;gi,s,z;ov7Cv6Hw6H;!as,iC;a6Een;g0nn52renDuCvA4we7D;!iS;!zo;am,n4oC;n5r;a9Yevi,la5KnHoFst2thaEvC;eCi;nte;bo;nCpo8V;!a82el,id;!nC;aAy;mEnd1rDsz73urenCwr6K;ce,t;ry,s;ar,beAont;aOeIhalHiFla4onr63rDu5SylC;e,s;istCzysztof;i0oph2;er0ngsl9p,rC;ilA9k,ollos;ed,id;en0iGnDrmCv4Z;it;!dDnCt1;e2Ny;ri4Z;r,th;cp2j4mEna8BrDsp6them,uC;ri;im,l;al,il;a03eXiVoFuC;an,lCst3;en,iC;an,en,o,us;aQeOhKkub4AnIrGsDzC;ef;eDhCi9Wue;!ua;!f,ph;dCge;i,on;!aCny;h,s,th6J;anDnC;!ath6Hie,n72;!nC;!es;!l,sCy;ph;o,qu3;an,mC;!i,m6V;d,ffFns,rCs4;a7JemDmai7QoCry;me,ni1H;i9Dy;!e73rC;ey,y;cKdBkImHrEsDvi2yC;dBs1;on,p2;ed,oDrCv67;e6Qod;d,s61;al,es5Wis1;a,e,oCub;b,v;ob,qu13;aTbNchiMgLke53lija,nuKonut,rIsEtCv0;ai,suC;ki;aDha0i8XmaCsac;el,il;ac,iaC;h,s;a,vinCw3;!g;k,nngu6X;nac1Xor;ka;ai,rahC;im;aReLoIuCyd6;beAgGmFsC;eyDsC;a3e3;in,n;ber5W;h,o;m2raDsse3wC;a5Pie;c49t1K;a0Qct3XiGnDrC;beAman08;dr7VrC;iCy2N;!k,q1R;n0Tt3S;bKlJmza,nIo,rEsDyC;a5KdB;an,s0;lEo67r2IuCv9;hi5Hki,tC;a,o;an,ey;k,s;!im;ib;a08e00iUlenToQrMuCyorgy;iHnFsC;!taC;f,vC;!e,o;n6tC;er,h2;do,lC;herDlC;auCerQ;me;aEegCov2;!g,orC;!io,y;dy,h7C;dfr9nza3XrDttfC;ri6C;an,d47;!n;acoGlEno,oCuseppe;rgiCvan6O;!o,s;be6Ies,lC;es;mo;oFrC;aDha4HrCt;it,y;ld,rd8;ffErgC;!e7iCy;!os;!r9;bElBrCv3;eCla1Nr4Hth,y;th;e,rC;e3YielC;!i4;aXeSiQlOorrest,rCyod2E;aHedFiC;edDtC;s,z;ri18;!d42eri11riC;ck,k;nCs2;cEkC;ie,lC;in,yn;esLisC;!co,z3M;etch2oC;ri0yd;d5lConn;ip;deriFliEng,rC;dinaCg4nan0B;nd8;pe,x;co;bCdi,hd;iEriC;ce,zC;io;an,en,o;benez2dZfrYit0lTmMnJo3rFsteb0th0ugenEvCymBzra;an,eCge4D;ns,re3K;!e;gi,iDnCrol,v3w3;est8ie,st;cCk;!h,k;o0DriCzo;co,qC;ue;aHerGiDmC;aGe3A;lCrh0;!iC;a10o,s;s1y;nu5;beAd1iEliDm2t1viCwood;n,s;ot28s;!as,j5Hot,sC;ha;a3en;!dGg6mFoDua2QwC;a2Pin;arC;do;oZuZ;ie;a04eTiOmitrNoFrag0uEwDylC;an,l0;ay3Hig4D;a3Gdl9nc0st3;minFnDri0ugCvydGy2S;!lF;!a36nCov0;e1Eie,y;go,iDykC;as;cCk;!k;i,y;armuFetDll1mitri7neCon,rk;sh;er,m6riC;ch;id;andLepak,j0lbeAmetri4nIon,rGsEvDwCxt2;ay30ey;en,in;hawn,moC;nd;ek,riC;ck;is,nC;is,y;rt;re;an,le,mKnIrEvC;e,iC;!d;en,iEne0PrCyl;eCin,yl;l45n;n,o,us;!iCny;el,lo;iCon;an,en,on;a0Fe0Ch03iar0lRoJrFuDyrC;il,us;rtC;!is;aEistC;iaCob12;no;ig;dy,lInErC;ey,neliCy;s,us;nEor,rDstaC;nt3;ad;or;by,e,in,l3t1;aHeEiCyde;fCnt,ve;fo0Xt1;menDt4;us;s,t;rFuDyC;!t1;dCs;e,io;enC;ce;aHeGrisC;!toC;phCs;!eC;!r;st2t;d,rCs;b5leC;s,y;cDdrCs6;ic;il;lHmFrC;ey,lDroCy;ll;!o7t1;er1iC;lo;!eb,v3;a09eZiVjorn,laUoSrEuCyr1;ddy,rtKst2;er;aKeFiEuDyC;an,ce,on;ce,no;an,ce;nDtC;!t;dDtC;!on;an,on;dFnC;dDisC;lav;en,on;!foOl9y;bby,gd0rCyd;is;i0Lke;bElDshC;al;al,lL;ek;nIrCshoi;at,nEtC;!raC;m,nd;aDhaCie;rd;rd8;!iDjam3nCs1;ie,y;to;kaMlazs,nHrC;n9rDtC;!holomew;eCy;tt;ey;dCeD;ar,iC;le;ar1Nb1Dd16fon15gust3hm12i0Zja0Yl0Bm07nTputsiSrGsaFugustEveDyCziz;a0kh0;ry;o,us;hi;aMchiKiJjun,mHnEon,tCy0;em,hCie,ur8;ur;aDoC;!ld;ud,v;aCin;an,nd8;!el,ki;baCe;ld;ta;aq;aMdHgel8tCw6;hoFoC;iDnC;!i8y;ne;ny;er7rCy;eDzC;ej;!as,i,j,s,w;!s;s,tolC;iCy;!y;ar,iEmaCos;nu5r;el;ne,r,t;aVbSdBeJfHiGl01onFphonsEt1vC;aPin;on;e,o;so,zo;!sR;!onZrC;ed;c,jaHksFssaHxC;!andC;er,rC;e,os,u;andCei;ar,er,r;ndC;ro;en;eDrecC;ht;rt8;dd3in,n,sC;taC;ir;ni;dDm6;ar;an,en;ad,eC;d,t;in;so;aGi,olErDvC;ik;ian8;f8ph;!o;mCn;!a;dGeFraDuC;!bakr,lfazl;hCm;am;!l;allFel,oulaye,ulC;!lDrahm0;an;ah,o;ah;av,on",Uncountable:"true0:2E;1:2L;2:33;a2Ub2Lc29d22e1Rf1Ng1Eh16i11j0Yk0Wl0Rm0Hn0Do0Cp03rZsLt9uran2Jv7w3you gu0E;a5his17i4oo3;d,l;ldlife,ne;rm8t1;apor,ernacul29i3;neg28ol1Otae;eDhBiAo8r4un3yranny;a,gst1B;aff2Oea1Ko4ue nor3;th;o08u3;bleshoot2Ose1Tt;night,othpas1Vwn3;foEsfoE;me off,n;er3und1;e,mod2S;a,nnis;aDcCeBhAi9ki8o7p6t4u3weepstak0;g1Unshi2Hshi;ati08e3;am,el;ace2Keci0;ap,cc1meth2C;n,ttl0;lk;eep,ingl0or1C;lf,na1Gri0;ene1Kisso1C;d0Wfe2l4nd,t3;i0Iurn;m1Ut;abi0e4ic3;e,ke15;c3i01laxa11search;ogni10rea10;a9e8hys7luto,o5re3ut2;amble,mis0s3ten20;en1Zs0L;l3rk;i28l0EyH; 16i28;a24tr0F;nt3ti0M;i0s;bstetri24vercrowd1Qxyg09;a5e4owada3utella;ys;ptu1Ows;il poliZtional securi2;aAe8o5u3;m3s1H;ps;n3o1K;ey,o3;gamy;a3cha0Elancholy,rchandi1Htallurgy;sl0t;chine3g1Aj1Hrs,thema1Q; learn1Cry;aught1e6i5ogi4u3;ck,g12;c,s1M;ce,ghtn18nguis1LteratWv1;ath1isVss;ara0EindergartPn3;icke0Aowled0Y;e3upit1;a3llyfiGwel0G;ns;ce,gnor6mp5n3;forma00ter3;net,sta07;atiSort3rov;an18;a7e6isto09o3ung1;ckey,mework,ne4o3rseradi8spitali2use arrest;ky;s2y;adquarteXre;ir,libut,ppiHs3;hi3te;sh;ene8l6o5r3um,ymnas11;a3eZ;niUss;lf,re;ut3yce0F;en; 3ti0W;edit0Hpo3;ol;aNicFlour,o4urnit3;ure;od,rgive3uri1wl;ness;arCcono0LducaBlectr9n7quip8thi0Pvery6x3;ist4per3;ti0B;en0J;body,o08th07;joy3tertain3;ment;ici2o3;ni0H;tiS;nings,th;emi02i6o4raugh3ynas2;ts;pe,wnstai3;rs;abet0ce,s3;honZrepu3;te;aDelciChAivi07l8o3urrency;al,ld w6mmenta5n3ral,ttIuscoB;fusiHt 3;ed;ry;ar;assi01oth0;es;aos,e3;eMwK;us;d,rO;a8i6lood,owlHread5u3;ntGtt1;er;!th;lliarJs3;on;g3ss;ga3;ge;cKdviJeroGirFmBn6ppeal court,r4spi3thleL;rin;ithmet3sen3;ic;i6y3;o4th3;ing;ne;se;en5n3;es2;ty;ds;craft;bi8d3nau7;yna3;mi6;ce;id,ous3;ti3;cs",Infinitive:"true0:9G;1:9T;2:AD;3:90;4:9Z;5:84;6:AH;7:A9;8:92;9:A0;A:AG;B:AI;C:9V;D:8R;E:8O;F:97;G:6H;H:7D;a94b8Hc7Jd68e4Zf4Mg4Gh4Ai3Qj3Nk3Kl3Bm34nou48o2Vp2Equ2Dr1Es0CtZuTvRwI;aOeNiLors5rI;eJiI;ng,te;ak,st3;d5e8TthI;draw,er;a2d,ep;i2ke,nIrn;d1t;aIie;liADniAry;nJpI;ho8Llift;cov1dJear8Hfound8DlIplug,rav82tie,ve94;eaAo3X;erIo;cut,go,staAFvalA3w2G;aSeQhNoMrIu73;aIe72;ffi3Smp3nsI;aBfo7CpI;i8oD;pp3ugh5;aJiJrIwaD;eat5i2;nk;aImA0;ch,se;ck3ilor,keImp1r8L;! paD;a0Ic0He0Fh0Bi0Al08mugg3n07o05p02qu01tUuLwI;aJeeIim;p,t5;ll7Wy;bNccMffLggeCmmKppJrI;mouFpa6Zvi2;o0re6Y;ari0on;er,i4;e7Numb;li9KmJsiIveD;de,st;er9it;aMe8MiKrI;ang3eIi2;ng27w;fIng;f5le;b,gg1rI;t3ve;a4AiA;a4UeJit,l7DoI;il,of;ak,nd;lIot7Kw;icEve;atGeak,i0O;aIi6;m,y;ft,ng,t;aKi6CoJriIun;nk,v6Q;ot,rt5;ke,rp5tt1;eIll,nd,que8Gv1w;!k,m;aven9ul8W;dd5tis1Iy;a0FeKiJoI;am,t,ut;d,p5;a0Ab08c06d05f01group,hea00iZjoi4lXmWnVpTq3MsOtMup,vI;amp,eJiIo3B;sEve;l,rI;e,t;i8rI;ie2ofE;eLiKpo8PtIurfa4;o24rI;aHiBuctu8;de,gn,st;mb3nt;el,hra0lIreseF;a4e71;d1ew,o07;aHe3Fo2;a7eFiIo6Jy;e2nq41ve;mbur0nf38;r0t;inKleBocus,rJuI;el,rbiA;aBeA;an4e;aBu4;ei2k8Bla43oIyc3;gni39nci3up,v1;oot,uI;ff;ct,d,liIp;se,ze;tt3viA;aAenGit,o7;aWerUinpoiFlumm1LoTrLuI;b47ke,niArIt;poDsuI;aFe;eMoI;cKd,fe4XhibEmo7noJpo0sp1tru6vI;e,i6o5L;un4;la3Nu8;aGclu6dJf1occupy,sup0JvI;a6BeF;etermi4TiB;aGllu7rtr5Ksse4Q;cei2fo4NiAmea7plex,sIva6;eve8iCua6;mp1rItrol,ve;a6It6E;bOccuNmEpMutLverIwe;l07sJtu6Yu0wI;helm;ee,h1F;gr5Cnu2Cpa4;era7i4Ipo0;py,r;ey,seItaH;r2ss;aMe0ViJoIultiply;leCu6Pw;micJnIspla4;ce,g3us;!k;iIke,na9;m,ntaH;aPeLiIo0u3N;ke,ng1quIv5;eIi6S;fy;aKnIss5;d,gI;th5;rn,ve;ng2Gu1N;eep,idnJnI;e4Cow;ap;oHuI;gg3xtaI;po0;gno8mVnIrk;cTdRfQgeChPitia7ju8q1CsNtKun6EvI;a6eIo11;nt,rt,st;erJimi6BoxiPrI;odu4u6;aBn,pr03ru6C;iCpi8tIu8;all,il,ruB;abEibE;eCo3Eu0;iIul9;ca7;i7lu6;b5Xmer0pI;aLer4Uin9ly,oJrI;e3Ais6Bo2;rt,se,veI;riA;le,rt;aLeKiIoiCuD;de,jaInd1;ck;ar,iT;mp1ng,pp5raIve;ng5Mss;ath1et,iMle27oLrI;aJeIow;et;b,pp3ze;!ve5A;gg3ve;aTer45i5RlSorMrJuI;lf4Cndrai0r48;eJiIolic;ght5;e0Qsh5;b3XeLfeEgJsI;a3Dee;eIi2;!t;clo0go,shIwa4Z;ad3F;att1ee,i36;lt1st5;a0OdEl0Mm0FnXquip,rWsVtGvTxI;aRcPeDhOiNpJtIu6;ing0Yol;eKi8lIo0un9;aHoI;it,re;ct,di7l;st,t;a3oDu3B;e30lI;a10u6;lt,mi28;alua7oI;ke,l2;chew,pou0tab19;a0u4U;aYcVdTfSgQhan4joy,lPqOrNsuMtKvI;e0YisI;a9i50;er,i4rI;aHenGuC;e,re;iGol0F;ui8;ar9iC;a9eIra2ulf;nd1;or4;ang1oIu8;r0w;irc3lo0ou0ErJuI;mb1;oaGy4D;b3ct;bKer9pI;hasiIow1;ze;aKody,rI;a4oiI;d1l;lm,rk;ap0eBuI;ci40de;rIt;ma0Rn;a0Re04iKo,rIwind3;aw,ed9oI;wn;agno0e,ff1g,mi2Kne,sLvI;eIul9;rIst;ge,t;aWbVcQlod9mant3pNru3TsMtI;iIoDu37;lJngI;uiA;!l;ol2ua6;eJlIo0ro2;a4ea0;n0r0;a2Xe36lKoIu0S;uIv1;ra9;aIo0;im;a3Kur0;b3rm;af5b01cVduBep5fUliTmQnOpMrLsiCtaGvI;eIol2;lop;ch;a20i2;aDiBloIoD;re,y;oIy;te,un4;eJoI;liA;an;mEv1;a4i0Ao06raud,y;ei2iMla8oKrI;ee,yI;!pt;de,mIup3;missi34po0;de,ma7ph1;aJrief,uI;g,nk;rk;mp5rk5uF;a0Dea0h0Ai09l08oKrIurta1G;a2ea7ipp3uI;mb3;ales4e04habEinci6ll03m00nIrro6;cXdUfQju8no7qu1sLtKvI;eIin4;ne,r9y;aHin2Bribu7;er2iLoli2Epi8tJuI;lt,me;itu7raH;in;d1st;eKiJoIroFu0;rm;de,gu8rm;ss;eJoI;ne;mn,n0;eIlu6ur;al,i2;buCe,men4pI;eIi3ly;l,te;eBi6u6;r4xiC;ean0iT;rcumveFte;eJirp,oI;o0p;riAw;ncIre5t1ulk;el;a02eSi6lQoPrKuI;iXrIy;st,y;aLeaKiJoad5;en;ng;stfeLtX;ke;il,l11mba0WrrMth1;eIow;ed;!coQfrie1LgPhMliLqueaKstJtrIwild1;ay;ow;th;e2tt3;a2eJoI;ld;ad;!in,ui3;me;bysEckfi8ff3tI;he;b15c0Rd0Iff0Ggree,l0Cm09n03ppZrXsQttOuMvJwaE;it;eDoI;id;rt;gIto0X;meF;aIeCraB;ch,in;pi8sJtoI;niA;aKeIi04u8;mb3rt,ss;le;il;re;g0Hi0ou0rI;an9i2;eaKly,oiFrI;ai0o2;nt;r,se;aMi0GnJtI;icipa7;eJoIul;un4y;al;ly0;aJu0;se;lga08ze;iKlI;e9oIu6;t,w;gn;ix,oI;rd;a03jNmiKoJsoI;rb;pt,rn;niIt;st1;er;ouJuC;st;rn;cLhie2knowled9quiItiva7;es4re;ce;ge;eQliOoKrJusI;e,tom;ue;mIst;moJpI;any,liA;da7;ma7;te;pt;andPduBet,i6oKsI;coKol2;ve;liArt,uI;nd;sh;de;ct;on",Person:"true0:1Q;a29b1Zc1Md1Ee18f15g13h0Ri0Qj0Nk0Jl0Gm09n06o05p00rPsItCusain bolt,v9w4xzibit,y1;anni,oko on2uji,v1;an,es;en,o;a3ednesday adams,i2o1;lfram,o0Q;ll ferrell,z khalifa;lt disn1Qr1;hol,r0G;a2i1oltai06;n dies0Zrginia wo17;lentino rossi,n goG;a4h3i2ripp,u1yra banks;lZpac shakur;ger woods,mba07;eresa may,or;kashi,t1ylor;um,ya1B;a5carlett johanss0h4i3lobodan milosevic,no2ocr1Lpider1uperm0Fwami; m0Em0E;op dogg,w whi1H;egfried,nbad;akespeaTerlock holm1Sia labeouf;ddam hussa16nt1;a cla11ig9;aAe6i5o3u1za;mi,n dmc,paul,sh limbau1;gh;bin hood,d stew16nald1thko;in0Mo;han0Yngo starr,valdo;ese witherspo0i1mbrandt;ll2nh1;old;ey,y;chmaninoff,ffi,iJshid,y roma1H;a4e3i2la16o1uff daddy;cahont0Ie;lar,p19;le,rZ;lm17ris hilt0;leg,prah winfr0Sra;a2e1iles cra1Bostradam0J; yo,l5tt06wmQ;pole0s;a5e4i2o1ubar03;by,lie5net,rriss0N;randa ju1tt romn0M;ly;rl0GssiaB;cklemo1rkov,s0ta hari,ya angelou;re;ady gaga,e1ibera0Pu;bron jam0Xch wale1e;sa;anye west,e3i1obe bryant;d cudi,efer suther1;la0P;ats,sha;a2effers0fk,k rowling,rr tolki1;en;ck the ripp0Mwaharlal nehru,y z;liTnez,ron m7;a7e5i3u1;lk hog5mphrey1sa01;! bog05;l1tl0H;de; m1dwig,nry 4;an;ile selassFlle ber4m3rrison1;! 1;ford;id,mo09;ry;ast0iannis,o1;odwPtye;ergus0lorence nightinga08r1;an1ederic chopN;s,z;ff5m2nya,ustaXzeki1;el;eril lagasse,i1;le zatop1nem;ek;ie;a6e4i2octor w1rake;ho;ck w1ego maradoC;olf;g1mi lovaOnzel washingt0;as;l1nHrth vadR;ai lNt0;a8h5lint0o1thulhu;n1olio;an,fuci1;us;on;aucKop2ristian baMy1;na;in;millo,ptain beefhe4r1;dinal wols2son1;! palmF;ey;art;a8e5hatt,i3oHro1;ck,n1;te;ll g1ng crosby;atB;ck,nazir bhut2rtil,yon1;ce;to;nksy,rack ob1;ama;l 6r3shton kutch2vril lavig8yn ra1;nd;er;chimed2istot1;le;es;capo2paci1;no;ne",Adjective:"true0:AI;1:BS;2:BI;3:BA;4:A8;5:84;6:AV;7:AN;8:AF;9:7H;A:BQ;B:AY;C:BC;D:BH;E:9Y;aA2b9Ec8Fd7We79f6Ng6Eh61i4Xj4Wk4Tl4Im41n3Po36p2Oquart7Pr2Ds1Dt14uSvOwFye29;aMeKhIiHoF;man5oFrth7G;dADzy;despreB1n w97s86;acked1UoleF;!sa6;ather1PeFll o70ste1D;!k5;nt1Ist6Ate4;aHeGiFola5T;bBUce versa,gi3Lle;ng67rsa5R;ca1gBSluAV;lt0PnLpHrGsFttermoBL;ef9Ku3;b96ge1; Hb32pGsFtiAH;ca6ide d4R;er,i85;f52to da2;a0Fbeco0Hc0Bd04e02f01gu1XheaBGiXkn4OmUnTopp06pRrNsJtHus0wF;aFiel3K;nt0rra0P;app0eXoF;ld,uS;eHi37o5ApGuF;perv06spec39;e1ok9O;en,ttl0;eFu5;cogn06gul2RlGqu84sF;erv0olv0;at0en33;aFrecede0E;id,rallel0;am0otic0;aFet;rri0tF;ch0;nFq26vers3;sur0terFv7U;eFrupt0;st0;air,inish0orese98;mploy0n7Ov97xpF;ect0lain0;eHisFocume01ue;clFput0;os0;cid0rF;!a8Scov9ha8Jlyi8nea8Gprivileg0sMwF;aFei9I;t9y;hGircumcFonvin2U;is0;aFeck0;lleng0rt0;b20ppea85ssuGttend0uthorF;iz0;mi8;i4Ara;aLeIhoHip 25oGrF;anspare1encha1i2;geth9leADp notch,rpB;rny,ugh6H;ena8DmpGrFs6U;r49tia4;eCo8P;leFst4M;nt0;a0Dc09e07h06i04ki03l01mug,nobbi4XoVpRqueami4XtKuFymb94;bHccinAi generis,pFr5;erFre7N;! dup9b,vi70;du0li7Lp6IsFurb7J;eq9Atanda9X;aKeJi16o2QrGubboFy4Q;rn;aightFin5GungS; fFfF;or7V;adfa9Pri6;lwa6Ftu82;arHeGir6NlendBot Fry;on;c3Qe1S;k5se; call0lImb9phistic16rHuFviV;ndFth1B;proof;dBry;dFub6; o2A;e60ipF;pe4shod;ll0n d7R;g2HnF;ceEg6ist9;am3Se9;co1Zem5lfFn6Are7; suf4Xi43;aGholFient3A;ar5;rlFt4A;et;cr0me,tisfac7F;aOeIheumatoBiGoF;bu8Ztt7Gy3;ghtFv3; 1Sf6X;cJdu8PlInown0pro69sGtF;ard0;is47oF;lu2na1;e1Suc45;alcit8Xe1ondi2;bBci3mpa1;aSePicayu7laOoNrGuF;bl7Tnjabi;eKiIoF;b7VfGmi49pFxi2M;er,ort81;a7uD;maFor,sti7va2;!ry;ciDexis0Ima2CpaB;in55puli8G;cBid;ac2Ynt 3IrFti2;ma40tFv7W;!i3Z;i2YrFss7R;anoBtF; 5XiF;al,s5V;bSffQkPld OnMrLth9utKverF;!aIbMdHhGni75seas,t,wF;ei74rou74;a63e7A;ue;ll;do1Ger,si6A;d3Qg2Aotu5Z; bFbFe on o7g3Uli7;oa80;fashion0school;!ay; gua7XbFha5Uli7;eat;eHligGsF;ce7er0So1C;at0;diFse;a1e1;aOeNiMoGuF;anc0de; moEnHrthFt6V;!eFwe7L;a7Krn;chaGdescri7Iprof30sF;top;la1;ght5;arby,cessa4ighbor5wlyw0xt;k0usiaFv3;ti8;aQeNiLoHuF;dIltiF;facet0p6;deHlGnFot,rbBst;ochro4Xth5;dy;rn,st;ddle ag0nF;dbloZi,or;ag9diocEga,naGrFtropolit4Q;e,ry;ci8;cIgenta,inHj0Fkeshift,mmGnFri4Oscu61ver18;da5Dy;ali4Lo4U;!stream;abEho;aOeLiIoFumberi8;ngFuti1R;stan3RtF;erm,i4H;ghtGteraF;l,ry,te;heart0wei5O;ft JgFss9th3;al,eFi0M;nda4;nguBps0te5;apGind5noF;wi8;ut;ad0itte4uniW;ce co0Hgno6Mll0Cm04nHpso 2UrF;a2releF;va1; ZaYcoWdReQfOgrNhibi4Ri05nMoLsHtFvalu5M;aAeF;nDrdepe2K;a7iGolFuboI;ub6ve1;de,gF;nifica1;rdi5N;a2er;own;eriIiLluenVrF;ar0eq5H;pt,rt;eHiGoFul1O;or;e,reA;fiFpe26termi5E;ni2;mpFnsideCrreA;le2;ccuCdeq5Ene,ppr4J;fFsitu,vitro;ro1;mJpF;arHeGl15oFrop9;li2r11;n2LrfeA;ti3;aGeFi18;d4BnD;tuE;egGiF;c0YteC;al,iF;tiF;ma2;ld;aOelNiLoFuma7;a4meInHrrGsFur5;ti6;if4E;e58o3U; ma3GsF;ick;ghfalut2HspF;an49;li00pf33;i4llow0ndGrdFtM; 05coEworki8;sy,y;aLener44iga3Blob3oKrGuF;il1Nng ho;aFea1Fizzl0;cGtF;ef2Vis;ef2U;ld3Aod;iFuc2D;nf2R;aVeSiQlOoJrF;aGeFil5ug3;q43tf2O;gFnt3S;i6ra1;lk13oHrF; keeps,eFge0Vm9tu41;g0Ei2Ds3R;liF;sh;ag4Mowe4uF;e1or45;e4nF;al,i2;d Gmini7rF;ti6ve1;up;bl0lDmIr Fst pac0ux;oGreacF;hi8;ff;ed,ili0R;aXfVlTmQnOqu3rMthere3veryday,xF;aApIquisi2traHuF;be48lF;ta1;!va2L;edRlF;icF;it;eAstF;whi6; Famor0ough,tiE;rou2sui2;erGiF;ne1;ge1;dFe2Aoq34;er5;ficF;ie1;g9sF;t,ygF;oi8;er;aWeMiHoGrFue;ea4owY;ci6mina1ne,r31ti8ubQ;dact2Jfficult,m,sGverF;ge1se;creGePjoi1paCtF;a1inA;et,te; Nadp0WceMfiLgeneCliJmuEpeIreliAsGvoF;id,ut;pFtitu2ul1L;eCoF;nde1;ca2ghF;tf13;a1ni2;as0;facto;i5ngero0I;ar0Ce09h07i06l05oOrIuF;rmudgeon5stoma4teF;sy;ly;aIeHu1EystalF; cleFli7;ar;epy;fFv17z0;ty;erUgTloSmPnGrpoCunterclVveFy;rt;cLdJgr21jIsHtrF;aFi2;dic0Yry;eq1Yta1;oi1ug3;escenFuN;di8;a1QeFiD;it0;atoDmensuCpF;ass1SulF;so4;ni3ss3;e1niza1;ci1J;ockwiD;rcumspeAvil;eFintzy;e4wy;leGrtaF;in;ba2;diac,ef00;a00ePiLliJoGrFuck nak0;and new,isk,on22;gGldface,naF; fi05fi05;us;nd,tF;he;gGpartisFzarE;an;tiF;me;autifOhiNlLnHsFyoN;iWtselF;li8;eGiFt;gn;aFfi03;th;at0oF;v0w;nd;ul;ckwards,rF;e,rT; priori,b13c0Zd0Tf0Ng0Ihe0Hl09mp6nt06pZrTsQttracti0MuLvIwF;aGkF;wa1B;ke,re;ant garGeraF;ge;de;diIsteEtF;heFoimmu7;nt07;re;to4;hGlFtu2;eep;en;bitIchiv3roHtF;ifiFsy;ci3;ga1;ra4;ry;pFt;aHetizi8rF;oprF;ia2;llFre1;ed,i8;ng;iquFsy;at0e;ed;cohKiJkaHl,oGriFterX;ght;ne,of;li7;ne;ke,ve;olF;ic;ad;ain07gressiIi6rF;eeF;ab6;le;ve;fGraB;id;ectGlF;ue1;ioF;na2; JaIeGvF;erD;pt,qF;ua2;ma1;hoc,infinitum;cuCquiGtu3u2;al;esce1;ra2;erSjeAlPoNrKsGuF;nda1;e1olu2trF;aAuD;se;te;eaGuF;pt;st;aFve;rd;aFe;ze;ct;ra1;nt",Pronoun:"trueelle,h3i2me,she,th0us,we,you;e0ou;e,m,y;!l,t;e,im",Preposition:"trueaPbMcLdKexcept,fIinGmid,notwithstandiWoDpXqua,sCt7u4v2w0;/o,hereSith0;! whHin,oW;ersus,i0;a,s a vis;n1p0;!on;like,til;h1ill,oward0;!s;an,ereby,r0;ough0u;!oM;ans,ince,o that,uch G;f1n0ut;!to;!f;! 0to;effect,part;or,r0;om;espite,own,u3;hez,irca;ar1e0oBy;sides,tween;ri7;bo8cross,ft7lo6m4propos,round,s1t0;!op;! 0;a whole,long 0;as;id0ong0;!st;ng;er;ut",SportsTeam:"true0:18;1:1E;2:1D;3:14;a1Db15c0Sd0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Am01new UoRpKqueens parkJreal salt lake,sBt6utah jazz,vancouver whitecaps,w4yW;ashington 4h10;natio1Mredski2wizar0W;ampa bay 7e6o4;ronto 4ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasD;buccanee0ra0K;a8eattle 6porting kansas0Wt4; louis 4oke0V;c1Drams;marine0s4;eah13ounH;cramento Rn 4;antonio spu0diego 4francisco gJjose earthquak1;char08paB; ran07;a9h6ittsburgh 5ortland t4;imbe0rail blaze0;pirat1steele0;il4oenix su2;adelphia 4li1;eagl1philNunE;dr1;akland 4klahoma city thunder,rlando magic;athle0Lrai4;de0;england 8orleans 7york 4;g5je3knYme3red bul0Xy4;anke1;ian3;pelica2sain3;patrio3revolut4;ion;anchEeAi4ontreal impact;ami 8lwaukee b7nnesota 4;t5vi4;kings;imberwolv1wi2;rewe0uc0J;dolphi2heat,marli2;mphis grizz4ts;li1;a6eic5os angeles 4;clippe0dodFlaB;esterV; galaxy,ke0;ansas city 4nF;chiefs,roya0D; pace0polis col3;astr05dynamo,rocke3texa2;olden state warrio0reen bay pac4;ke0;allas 8e4i04od6;nver 6troit 4;lio2pisto2ti4;ge0;broncYnugge3;cowbo5maver4;icZ;ys;arEelLhAincinnati 8leveland 6ol4;orado r4umbus crew sc;api7ocki1;brow2cavalie0guar4in4;dia2;bengaVre4;ds;arlotte horAicago 4;b5cubs,fire,wh4;iteB;ea0ulQ;diff4olina panthe0; city;altimore Alackburn rove0oston 6rooklyn 4uffalo bilN;ne3;ts;cel5red4; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 4;brav1falco2h4;awA;ns;es;on villa,r4;os;c6di4;amondbac4;ks;ardi4;na4;ls",Unit:"truea07b04cXdWexVfTgRhePinYjoule0BkMlJmDnan08oCp9quart0Bsq ft,t7volts,w6y2ze310;g,s;c,f,n;dVear1o0;ttR; 0s 0;old;att,b;erNon0;!ne02;ascals,e1i0;cXnt00;rcent,tJ;hms,unceY;/s,e4i0m,,;/h,cro2l0;e0liK;!;grLsR;gCtJ;it1u0;menQx;erPreP;b5elvins,ilo1m0notO;/h,ph,;!byGgrEmCs;ct0rtzL;aJogrC;allonJb0ig3rB;ps;a0emtEl oz,t4;hrenheit,radG;aby9;eci3m1;aratDe1m0oulombD;,;lsius,nti0;gr2lit1m0;et0;er8;am7;b1y0;te5;l,ps;c2tt0;os0;econd1;re0;!s","Noun|Gerund":"true0:3O;1:3M;2:3N;3:3D;4:32;5:2V;6:3E;7:3K;8:36;9:3J;A:3B;a3Pb37c2Jd27e23f1Vg1Sh1Mi1Ij1Gk1Dl18m13n11o0Wp0Pques0Sr0EsTtNunderMvKwFyDzB;eroi0oB;ni0o3P;aw2eB;ar2l3;aEed4hispe5i5oCrB;ap8est3i1;n0ErB;ki0r31;i1r2s9tc9;isualizi0oB;lunt1Vti0;stan4ta6;aFeDhin6iCraBy8;c6di0i2vel1M;mi0p8;aBs1;c9si0;l6n2s1;aUcReQhOiMkatKl2Wmo6nowJpeItFuCwB;ea5im37;b35f0FrB;fi0vB;e2Mi2J;aAoryt1KrCuB;d2KfS;etc9ugg3;l3n4;bCi0;ebBi0;oar4;gnBnAt1;a3i0;ip8oB;p8rte2u1;a1r27t1;hCo5reBulp1;a2Qe2;edu3oo3;i3yi0;aKeEi4oCuB;li0n2;oBwi0;fi0;aFcEhear7laxi0nDpor1sB;pon4tructB;r2Iu5;de5;or4yc3;di0so2;p8ti0;aFeacek20laEoCrBublis9;a1Teten4in1oces7;iso2siB;tio2;n2yi0;ckaAin1rB;ki0t1O;fEpeDrganiCvB;erco24ula1;si0zi0;ni0ra1;fe5;avi0QeBur7;gotia1twor6;aDeCi2oB;de3nito5;a2dita1e1ssaA;int0XnBrke1;ifUufactu5;aEeaDiBodAyi0;cen7f1mi1stB;e2i0;r2si0;n4ug9;iCnB;ea4it1;c6l3;ogAuB;dAgg3stif12;ci0llust0VmDnBro2;nova1sp0NterBven1;ac1vie02;agi2plo4;aDea1iCoBun1;l4w3;ki0ri0;nd3rB;roWvB;es1;aCene0Lli4rBui4;ee1ie0N;rde2the5;aHeGiDlCorBros1un4;e0Pmat1;ir1oo4;gh1lCnBs9;anZdi0;i0li0;e3nX;r0Zscina1;a1du01nCxB;erci7plo5;chan1di0ginB;ee5;aLeHiGoub1rCum8wB;el3;aDeCiB;bb3n6vi0;a0Qs7;wi0;rTscoDvi0;ba1coZlBvelo8;eCiB;ve5;ga1;nGti0;aVelebUhSlPoDrBur3yc3;aBos7yi0;f1w3;aLdi0lJmFnBo6pi0ve5;dDsCvinB;ci0;trBul1;uc1;muniDpB;lBo7;ai2;ca1;lBo5;ec1;c9ti0;ap8eaCimToBubT;ni0t9;ni0ri0;aBee5;n1t1;ra1;m8rCs1te5;ri0;vi0;aPeNitMlLoGrDuB;dge1il4llBr8;yi0;an4eat9oadB;cas1;di0;a1mEokB;i0kB;ee8;pi0;bi0;es7oa1;c9i0;gin2lonAt1;gi0;bysit1c6ki0tt3;li0;ki0;bando2cGdverti7gi0pproac9rgDssuCtB;trac1;mi0;ui0;hi0;si0;coun1ti0;ti0;ni0;ng",PhrasalVerb:"true0:92;1:96;2:8H;3:8V;4:8A;5:83;6:85;7:98;8:90;9:8G;A:8X;B:8R;C:8U;D:8S;E:70;F:97;G:8Y;H:81;I:7H;J:79;a9Fb7Uc6Rd6Le6Jf5Ig50h4Biron0j47k40l3Em31n2Yo2Wp2Cquiet Hr1Xs0KtZuXvacuu6QwNyammerBzK;ero Dip LonK;e0k0;by,ov9up;aQeMhLiKor0Mrit19;mp0n3Fpe0r5s5;ackAeel Di0S;aLiKn33;gh 3Wrd0;n Dr K;do1in,oJ;it 79k5lk Lrm 69sh Kt83v60;aw3do1o7up;aw3in,oC;rgeBsK;e 2herE;a00eYhViRoQrMuKypP;ckErn K;do1in,oJup;aLiKot0y 30;ckl7Zp F;ck HdK;e 5Y;n7Wp 3Es5K;ck MdLe Kghten 6me0p o0Rre0;aw3ba4do1in,up;e Iy 2;by,oG;ink Lrow K;aw3ba4in,up;ba4ov9up;aKe 77ll62;m 2r 5M;ckBke Llk K;ov9shit,u47;aKba4do1in,leave,o4Dup;ba4ft9pa69w3;a0Vc0Te0Mh0Ii0Fl09m08n07o06p01quar5GtQuOwK;earMiK;ngLtch K;aw3ba4o8K; by;cKi6Bm 2ss0;k 64;aReQiPoNrKud35;aigh2Det75iK;ke 7Sng K;al6Yup;p Krm2F;by,in,oG;c3Ln3Lr 2tc4O;p F;c3Jmp0nd LrKveAy 2O;e Ht 2L;ba4do1up;ar3GeNiMlLrKurB;ead0ingBuc5;a49it 6H;c5ll o3Cn 2;ak Fe1Xll0;a3Bber 2rt0und like;ap 5Vow Duggl5;ash 6Noke0;eep NiKow 6;cLp K;o6Dup;e 68;in,oK;ff,v9;de19gn 4NnKt 6Gz5;gKkE; al6Ale0;aMoKu5W;ot Kut0w 7M;aw3ba4f48oC;c2WdeEk6EveA;e Pll1Nnd Orv5tK; Ktl5J;do1foLin,o7upK;!on;ot,r5Z;aw3ba4do1in,o33up;oCto;al66out0rK;ap65ew 6J;ilAv5;aXeUiSoOuK;b 5Yle0n Kstl5;aLba4do1inKo2Ith4Nu5P;!to;c2Xr8w3;ll Mot LpeAuK;g3Ind17;a2Wf3Po7;ar8in,o7up;ng 68p oKs5;ff,p18;aKelAinEnt0;c6Hd K;o4Dup;c27t0;aZeYiWlToQrOsyc35uK;ll Mn5Kt K;aKba4do1in,oJto47up;pa4Dw3;a3Jdo1in,o21to45up;attleBess KiNop 2;ah2Fon;iLp Kr4Zu1Gwer 6N;do1in,o6Nup;nt0;aLuK;gEmp 6;ce u20y 6D;ck Kg0le 4An 6p5B;oJup;el 5NncilE;c53ir 39n0ss MtLy K;ba4oG; Hc2R;aw3ba4in,oJ;pKw4Y;e4Xt D;aLerd0oK;dAt53;il Hrrow H;aTeQiPoLuK;ddl5ll I;c1FnkeyMp 6uthAve K;aKdo1in,o4Lup;l4Nw3; wi4K;ss0x 2;asur5e3SlLss K;a21up;t 6;ke Ln 6rKs2Ax0;k 6ryA;do,fun,oCsure,up;a02eViQoLuK;ck0st I;aNc4Fg MoKse0;k Kse4D;aft9ba4do1forw37in56o0Zu46;in,oJ;d 6;e NghtMnLsKve 00;ten F;e 2k 2; 2e46;ar8do1in;aMt LvelK; oC;do1go,in,o7up;nEve K;in,oK;pKut;en;c5p 2sh LtchBughAy K;do1o59;in4Po7;eMick Lnock K;do1oCup;oCup;eLy K;in,up;l Ip K;aw3ba4do1f04in,oJto,up;aMoLuK;ic5mpE;ke3St H;c43zz 2;a01eWiToPuK;nLrrKsh 6;y 2;keLt K;ar8do1;r H;lKneErse3K;d Ke 2;ba4dKfast,o0Cup;ear,o1;de Lt K;ba4on,up;aw3o7;aKlp0;d Ml Ir Kt 2;fKof;rom;f11in,o03uW;cPm 2nLsh0ve Kz2P;at,it,to;d Lg KkerP;do1in,o2Tup;do1in,oK;ut,v9;k 2;aZeTive Rloss IoMrLunK; f0S;ab hold,in43ow 2U; Kof 2I;aMb1Mit,oLr8th1IuK;nd9;ff,n,v9;bo7ft9hQw3;aw3bKdo1in,oJrise,up,w3;a4ir2H;ar 6ek0t K;aLb1Fdo1in,oKr8up;ff,n,ut,v9;cLhKl2Fr8t,w3;ead;ross;d aKng 2;bo7;a0Ee07iYlUoQrMuK;ck Ke2N;ar8up;eLighten KownBy 2;aw3oG;eKshe27; 2z5;g 2lMol Krk I;aKwi20;bo7r8;d 6low 2;aLeKip0;sh0;g 6ke0mKrKtten H;e F;gRlPnNrLsKzzle0;h F;e Km 2;aw3ba4up;d0isK;h 2;e Kl 1T;aw3fPin,o7;ht ba4ure0;ePnLsK;s 2;cMd K;fKoG;or;e D;d04l 2;cNll Krm0t1G;aLbKdo1in,o09sho0Eth08victim;a4ehi2O;pa0C;e K;do1oGup;at Kdge0nd 12y5;in,o7up;aOi1HoNrK;aLess 6op KuN;aw3b03in,oC;gBwB; Ile0ubl1B;m 2;a0Ah05l02oOrLut K;aw3ba4do1oCup;ackBeep LoKy0;ss Dwd0;by,do1in,o0Uup;me NoLuntK; o2A;k 6l K;do1oG;aRbQforOin,oNtKu0O;hLoKrue;geth9;rough;ff,ut,v9;th,wK;ard;a4y;paKr8w3;rt;eaLose K;in,oCup;n 6r F;aNeLiK;ll0pE;ck Der Kw F;on,up;t 2;lRncel0rOsMtch LveE; in;o1Nup;h Dt K;doubt,oG;ry LvK;e 08;aw3oJ;l Km H;aLba4do1oJup;ff,n,ut;r8w3;a0Ve0MiteAl0Fo04rQuK;bblNckl05il0Dlk 6ndl05rLsKtMy FzzA;t 00;n 0HsK;t D;e I;ov9;anWeaUiLush K;oGup;ghQng K;aNba4do1forMin,oLuK;nd9p;n,ut;th;bo7lKr8w3;ong;teK;n 2;k K;do1in,o7up;ch0;arTg 6iRn5oPrNssMttlLunce Kx D;aw3ba4;e 6; ar8;e H;do1;k Dt 2;e 2;l 6;do1up;d 2;aPeed0oKurt0;cMw K;aw3ba4do1o7up;ck;k K;in,oC;ck0nk0stA; oQaNef 2lt0nd K;do1ov9up;er;up;r Lt K;do1in,oCup;do1o7;ff,nK;to;ck Pil0nMrgLsK;h D;ainBe D;g DkB; on;in,o7;aw3do1in,oCup;ff,ut;ay;ct FdQir0sk MuctionA; oG;ff;ar8o7;ouK;nd; o7;d K;do1oKup;ff,n;wn;o7up;ut",ProperNoun:"trueaIbDc8dalhousHe7f5gosford,h4iron maiden,kirby,landsdowne,m2nis,r1s0wembF;herwood,paldiB;iel,othwe1;cgi0ercedes,issy;ll;intBudsB;airview,lorence,ra0;mpt9nco;lmo,uro;a1h0;arlt6es5risti;rl0talina;et4i0;ng;arb3e0;et1nt0rke0;ley;on;ie;bid,jax","Person|Place":"truea8d6h4jordan,k3orlando,s1vi0;ctor9rgin9;a0ydney;lvador,mara,ntia4;ent,obe;amil0ous0;ton;arw2ie0;go;lexandr1ust0;in;ia",LastName:"true0:BR;1:BF;2:B5;3:BH;4:AX;5:9Y;6:B6;7:BK;8:B0;9:AV;A:AL;B:8Q;C:8G;D:7K;E:BM;F:AH;aBDb9Zc8Wd88e81f7Kg6Wh64i60j5Lk4Vl4Dm39n2Wo2Op25quispe,r1Ls0Pt0Ev03wTxSyKzG;aIhGimmerm6A;aGou,u;ng,o;khar5ytsE;aKeun9BiHoGun;koya32shiBU;!lG;diGmaz;rim,z;maGng;da,g52mo83sGzaC;aChiBV;iao,u;aLeJiHoGright,u;jcA5lff,ng;lGmm0nkl0sniewsC;kiB1liams33s3;bGiss,lt0;b,er,st0;a6Vgn0lHtG;anabe,s3;k0sh,tG;e2Non;aLeKiHoGukD;gt,lk5roby5;dHllalGnogr3Kr1Css0val3S;ba,ob1W;al,ov4;lasHsel8W;lJn dIrgBEsHzG;qu7;ilyEqu7siljE;en b6Aijk,yk;enzueAIverde;aPeix1VhKi2j8ka43oJrIsui,uG;om5UrG;c2n0un1;an,emblA7ynisC;dorAMlst3Km4rrAth;atch0i8UoG;mHrG;are84laci79;ps3sG;en,on;hirDkah9Mnaka,te,varA;a06ch01eYhUiRmOoMtIuHvGzabo;en9Jobod3N;ar7bot4lliv2zuC;aIeHoG;i7Bj4AyanAB;ele,in2FpheBvens25;l8rm0;kol5lovy5re7Tsa,to,uG;ng,sa;iGy72;rn5tG;!h;l71mHnGrbu;at9cla9Egh;moBo7M;aIeGimizu;hu,vchG;en8Luk;la,r1G;gu9infe5YmGoh,pulveA7rra5P;jGyG;on5;evi6iltz,miHneid0roed0uGwarz;be3Elz;dHtG;!t,z;!t;ar4Th8ito,ka4OlJnGr4saCto,unde19v4;ch7dHtGz;a5Le,os;b53e16;as,ihDm4Po0Y;aVeSiPoJuHyG;a6oo,u;bio,iz,sG;so,u;bKc8Fdrigue67ge10j9YmJosevelt,sItHux,wG;e,li6;a9Ch;enb4Usi;a54e4L;erts15i93;bei4JcHes,vGzzo;as,e9;ci,hards12;ag2es,iHut0yG;es,nol5N;s,t0;dImHnGsmu97v6C;tan1;ir7os;ic,u;aUeOhMiJoHrGut8;asad,if6Zochazk27;lishc2GpGrti72u10we76;e3Aov51;cHe45nG;as,to;as70hl0;aGillips;k,m,n6I;a3Hde3Wete0Bna,rJtG;ersHrovGters54;!a,ic;!en,on;eGic,kiBss3;i9ra,tz,z;h86k,padopoulIrk0tHvG;ic,l4N;el,te39;os;bMconn2Ag2TlJnei6PrHsbor6XweBzG;dem7Rturk;ella4DtGwe6N;ega,iz;iGof7Hs8I;vGyn1R;ei9;aSri1;aPeNiJoGune50ym2;rHvGwak;ak4Qik5otn66;odahl,r4S;cholsZeHkolGls4Jx3;ic,ov84;ls1miG;!n1;ils3mG;co4Xec;gy,kaGray2sh,var38;jiGmu9shiG;ma;a07c04eZiWoMuHyeG;rs;lJnIrGssoli6S;atGp03r7C;i,ov4;oz,te58;d0l0;h2lOnNo0RrHsGza1A;er,s;aKeJiIoz5risHtG;e56on;!on;!n7K;au,i9no,t5J;!lA;r1Btgome59;i3El0;cracFhhail5kkeHlG;l0os64;ls1;hmeJiIj30lHn3Krci0ssiGyer2N;!er;n0Po;er,j0;dDti;cartHlG;aughl8e2;hy;dQe7Egnu68i0jer3TkPmNnMrItHyG;er,r;ei,ic,su21thews;iHkDquAroqu8tinG;ez,s;a5Xc,nG;!o;ci5Vn;a5UmG;ad5;ar5e6Kin1;rig77s1;aVeOiLoJuHyG;!nch;k4nGo;d,gu;mbarGpe3Fvr4we;di;!nGu,yana2B;coln,dG;b21holm,strom;bedEfeKhIitn0kaHn8rGw35;oy;!j;m11tG;in1on1;bvGvG;re;iGmmy,ng,rs2Qu,voie,ws3;ne,t1F;aZeYh2iWlUnez50oNrJuHvar2woG;k,n;cerGmar68znets5;a,o34;aHem0isGyeziu;h23t3O;m0sni4Fus3KvG;ch4O;bay57ch,rh0Usk16vaIwalGzl5;czGsC;yk;cIlG;!cGen4K;huk;!ev4ic,s;e8uiveG;rt;eff0kGl4mu9nnun1;ucF;ll0nnedy;hn,llKminsCne,pIrHstra3Qto,ur,yGzl5;a,s0;j0Rls22;l2oG;or;oe;aPenOha6im14oHuG;ng,r4;e32hInHrge32u6vG;anD;es,ss3;anHnsG;en,on,t3;nesGs1R;en,s1;kiBnings,s1;cJkob4EnGrv0E;kDsG;en,sG;en0Ion;ks3obs2A;brahimDglesi5Nke5Fl0Qno07oneIshikHto,vanoG;u,v54;awa;scu;aVeOiNjaltal8oIrist50uG;!aGb0ghAynh;m2ng;a6dz4fIjgaa3Hk,lHpUrGwe,x3X;ak1Gvat;mAt;er,fm3WmG;ann;ggiBtchcock;iJmingw4BnHrGss;nand7re9;deGriks1;rs3;kkiHnG;on1;la,n1;dz4g1lvoQmOns0ZqNrMsJuIwHyG;asFes;kiB;g1ng;anHhiG;mo14;i,ov0J;di6p0r10t;ue;alaG;in1;rs1;aVeorgUheorghe,iSjonRoLrJuGw3;errGnnar3Co,staf3Ctierr7zm2;a,eG;ro;ayli6ee2Lg4iffithGub0;!s;lIme0UnHodGrbachE;e,m2;calvAzale0S;dGubE;bGs0E;erg;aj,i;bs3l,mGordaO;en7;iev3U;gnMlJmaIndFo,rGsFuthi0;cGdn0za;ia;ge;eaHlG;agh0i,o;no;e,on;aVerQiLjeldsted,lKoIrHuG;chs,entAji41ll0;eem2iedm2;ntaGrt8urni0wl0;na;emi6orA;lipIsHtzgeraG;ld;ch0h0;ovG;!ic;hatDnanIrG;arGei9;a,i;deY;ov4;b0rre1D;dKinsJriksIsGvaB;cob3GpGtra3D;inoza,osiQ;en,s3;te8;er,is3warG;ds;aXePiNjurhuMoKrisco15uHvorakG;!oT;arte,boHmitru,nn,rGt3C;and,ic;is;g2he0Omingu7nErd1ItG;to;us;aGcki2Hmitr2Ossanayake,x3;s,z; JbnaIlHmirGrvisFvi,w2;!ov4;gado,ic;th;bo0groot,jo6lHsilGvriA;va;a cruz,e3uG;ca;hl,mcevsCnIt2WviG;dGes,s;ov,s3;ielsGku22;!en;ki;a0Be06hRiobQlarkPoIrGunningh1H;awfo0RivGuz;elli;h1lKntJoIrGs2Nx;byn,reG;a,ia;ke,p0;i,rer2K;em2liB;ns;!e;anu;aOeMiu,oIristGu6we;eGiaG;ns1;i,ng,p9uHwGy;!dH;dGng;huJ;!n,onGu6;!g;kJnIpm2ttHudhGv7;ry;erjee,o14;!d,g;ma,raboG;rty;bJl0Cng4rG;eghetHnG;a,y;ti;an,ota1C;cerAlder3mpbeLrIstGvadi0B;iGro;llo;doHl0Er,t0uGvalho;so;so,zo;ll;a0Fe01hYiXlUoNrKuIyG;rLtyG;qi;chan2rG;ke,ns;ank5iem,oGyant;oks,wG;ne;gdan5nIruya,su,uchaHyKziG;c,n5;rd;darGik;enG;ko;ov;aGond15;nco,zG;ev4;ancFshw16;a08oGuiy2;umGwmG;ik;ckRethov1gu,ktPnNrG;gJisInG;ascoGds1;ni;ha;er,mG;anG;!n;gtGit7nP;ss3;asF;hi;er,hG;am;b4ch,ez,hRiley,kk0ldw8nMrIshHtAu0;es;ir;bInHtlGua;ett;es,i0;ieYosa;dGik;a9yoG;padhyG;ay;ra;k,ng;ic;bb0Acos09d07g04kht05lZnPrLsl2tJyG;aHd8;in;la;chis3kiG;ns3;aImstro6sl2;an;ng;ujo,ya;dJgelHsaG;ri;ovG;!a;ersJov,reG;aGjEws;ss1;en;en,on,s3;on;eksejEiyEmeiIvG;ar7es;ez;da;ev;arwHuilG;ar;al;ams,l0;er;ta;as",Ordinal:"trueeBf7nin5s3t0zeroE;enDhir1we0;lfCn7;d,t3;e0ixt8;cond,vent7;et0th;e6ie7;i2o0;r0urt3;tie4;ft1rst;ight0lev1;e0h,ie1;en0;th",Cardinal:"truebEeBf5mEnine7one,s4t0zero;en,h2rDw0;e0o;lve,n5;irt6ousands,ree;even2ix2;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illions",Multiple:"trueb3hundred,m3qu2se1t0;housand,r2;pt1xt1;adr0int0;illion",City:"true0:74;1:61;2:6G;3:6J;4:5S;a68b53c4Id48e44f3Wg3Hh39i31j2Wk2Fl23m1Mn1Co19p0Wq0Ur0Os05tRuQvLwDxiBy9z5;a7h5i4Muri4O;a5e5ongsh0;ng3H;greb,nzib5G;ang2e5okoha3Sunfu;katerin3Hrev0;a5n0Q;m5Hn;arsBeAi6roclBu5;h0xi,zh5P;c7n5;d5nipeg,terth4;hoek,s1L;hi5Zkl3A;l63xford;aw;a8e6i5ladivost5Molgogr6L;en3lni6S;ni22r5;o3saill4N;lenc4Wncouv3Sr3ughn;lan bat1Crumqi,trecht;aFbilisi,eEheDiBo9r7u5;l21n63r5;in,ku;i5ondh62;es51poli;kyo,m2Zron1Pulo5;n,uS;an5jua3l2Tmisoa6Bra3;j4Tshui; hag62ssaloni2H;gucigal26hr0l av1U;briz,i6llinn,mpe56ng5rtu,shk2R;i3Esh0;an,chu1n0p2Eyu0;aEeDh8kopje,owe1Gt7u5;ra5zh4X;ba0Ht;aten is55ockholm,rasbou67uttga2V;an8e6i5;jiazhua1llo1m5Xy0;f50n5;ya1zh4H;gh3Kt4Q;att45o1Vv44;cramen16int ClBn5o paulo,ppo3Rrajevo; 7aa,t5;a 5o domin3E;a3fe,m1M;antonio,die3Cfrancisco,j5ped3Nsalvad0J;o5u0;se;em,t lake ci5Fz25;lou58peters24;a9e8i6o5;me,t59;ga,o5yadh;! de janei3F;cife,ims,nn3Jykjavik;b4Sip4lei2Inc2Pwalpindi;ingdao,u5;ez2i0Q;aFeEhDiCo9r7u6yong5;ya1;eb59ya1;a5etor3M;g52to;rt5zn0; 5la4Co;au prin0Melizabe24sa03;ls3Prae5Atts26;iladelph3Gnom pe1Aoenix;ki1tah tik3E;dua,lerYnaji,r4Ot5;na,r32;ak44des0Km1Mr6s5ttawa;a3Vlo;an,d06;a7ew5ing2Fovosibir1Jyc; 5cast36;del24orlea44taip14;g8iro4Wn5pl2Wshv33v0;ch6ji1t5;es,o1;a1o1;a6o5p4;ya;no,sa0W;aEeCi9o6u5;mb2Ani26sc3Y;gadishu,nt6s5;c13ul;evideo,pelli1Rre2Z;ami,l6n14s5;kolc,sissauga;an,waukee;cca,d5lbour2Mmph41ndo1Cssi3;an,ell2Xi3;cau,drAkass2Sl9n8r5shh4A;aca6ib5rakesh,se2L;or;i1Sy;a4EchFdal0Zi47;mo;id;aDeAi8o6u5vSy2;anMckn0Odhia3;n5s angel26;d2g bea1N;brev2Be3Lma5nz,sb2verpo28;!ss27; ma39i5;c5pzig;est16; p6g5ho2Wn0Cusan24;os;az,la33;aHharFiClaipeBo9rak0Du7y5;iv,o5;to;ala lump4n5;mi1sh0;hi0Hlka2Xpavog4si5wlo2;ce;da;ev,n5rkuk;gst2sha5;sa;k5toum;iv;bHdu3llakuric0Qmpa3Fn6ohsiu1ra5un1Iwaguc0Q;c0Pj;d5o,p4;ah1Ty;a7e6i5ohannesV;l1Vn0;dd36rusalem;ip4k5;ar2H;bad0mph1OnArkutUs7taXz5;mir,tapala5;pa;fah0l6tanb5;ul;am2Zi2H;che2d5;ianap2Mo20;aAe7o5yder2W; chi mi5ms,nolulu;nh;f6lsin5rakli2;ki;ei;ifa,lifax,mCn5rb1Dva3;g8nov01oi;aFdanEenDhCiPlasgBo9raz,u5;a5jr23;dal6ng5yaquil;zh1J;aja2Oupe;ld coa1Bthen5;bu2S;ow;ent;e0Uoa;sk;lw7n5za;dhi5gt1E;nag0U;ay;aisal29es,o8r6ukuya5;ma;ankfu5esno;rt;rt5sh0; wor6ale5;za;th;d5indhov0Pl paso;in5mont2;bur5;gh;aBe8ha0Xisp4o7resd0Lu5;b5esseldorf,nkirk,rb0shanbe;ai,l0I;ha,nggu0rtmu13;hradSl6nv5troit;er;hi;donghIe6k09l5masc1Zr es sala1KugavpiY;i0lU;gu,je2;aJebu,hAleve0Vo5raio02uriti1Q;lo7n6penhag0Ar5;do1Ok;akKst0V;gUm5;bo;aBen8i6ongqi1ristchur5;ch;ang m7ca5ttago1;go;g6n5;ai;du,zho1;ng5ttogr14;ch8sha,zh07;gliari,i9lga8mayenJn6pe town,r5tanO;acCdiff;ber1Ac5;un;ry;ro;aWeNhKirmingh0WoJr9u5;chareTdapeTenos air7r5s0tu0;g5sa;as;es;a9is6usse5;ls;ba6t5;ol;ne;sil8tisla7zzav5;il5;le;va;ia;goZst2;op6ubaneshw5;ar;al;iCl9ng8r5;g6l5n;in;en;aluru,hazi;fa6grade,o horizon5;te;st;ji1rut;ghd0BkFn9ot8r7s6yan n4;ur;el,r07;celo3i,ranquil09;ou;du1g6ja lu5;ka;alo6k5;ok;re;ng;ers5u;field;a05b02cc01ddis aba00gartaZhmedXizawl,lSmPnHqa00rEsBt7uck5;la5;nd;he7l5;an5;ta;ns;h5unci2;dod,gab5;at;li5;ngt2;on;a8c5kaOtwerp;hora6o3;na;ge;h7p5;ol5;is;eim;aravati,m0s5;terd5;am; 7buquerq6eppo,giers,ma5;ty;ue;basrah al qadim5mawsil al jadid5;ah;ab5;ad;la;ba;ra;idj0u dha5;bi;an;lbo6rh5;us;rg",Region:"true0:2O;1:2L;2:2U;3:2F;a2Sb2Fc21d1Wes1Vf1Tg1Oh1Ki1Fj1Bk16l13m0Sn09o07pYqVrSsJtEuBverAw6y4zacatec2W;akut0o0Fu4;cat1k09;a5est 4isconsin,yomi1O;bengal,virgin0;rwick3shington4;! dc;acruz,mont;dmurt0t4;ah,tar4; 2Pa12;a6e5laxca1Vripu21u4;scaEva;langa2nnessee,x2J;bas10m4smQtar29;aulip2Hil nadu;a9elang07i7o5taf16u4ylh1J;ff02rr09s1E;me1Gno1Uuth 4;cZdY;ber0c4kkim,naloa;hu1ily;n5rawak,skatchew1xo4;ny; luis potosi,ta catari2;a4hodeA;j4ngp0C;asth1shahi;ingh29u4;e4intana roo;bec,en6retaro;aAe6rince edward4unjab; i4;sl0G;i,n5r4;ak,nambu0F;a0Rnsylv4;an0;ha0Pra4;!na;axa0Zdisha,h4klaho21ntar4reg7ss0Dx0I;io;aLeEo6u4;evo le4nav0X;on;r4tt18va scot0;f9mandy,th4; 4ampton3;c6d5yo4;rk3;ako1O;aroli2;olk;bras1Nva0Dw4; 6foundland4;! and labrad4;or;brunswick,hamp3jers5mexiTyork4;! state;ey;galPyarit;aAeghala0Mi6o4;nta2r4;dov0elos;ch6dlanDn5ss4zor11;issippi,ouri;as geraPneso18;ig1oac1;dhy12harasht0Gine,lac07ni5r4ssachusetts;anhao,i el,ylG;p4toba;ur;anca3e4incoln3ouisI;e4iR;ds;a6e5h4omi;aka06ul2;dah,lant1ntucky,ra01;bardino,lmyk0ns0Qr4;achay,el0nata0X;alis6har4iangxi;kh4;and;co;daho,llino7n4owa;d5gush4;et0;ia2;is;a6ert5i4un1;dalFm0D;ford3;mp3rya2waii;ansu,eorg0lou7oa,u4;an4izhou,jarat;ajuato,gdo4;ng;cester3;lori4uji1;da;sex;ageUe7o5uran4;go;rs4;et;lawaMrby3;aFeaEh9o4rim08umbr0;ahui7l6nnectic5rsi4ventry;ca;ut;i03orado;la;e5hattisgarh,i4uvash0;apRhuahua;chn5rke4;ss0;ya;ra;lGm4;bridge3peche;a9ihar,r8u4;ck4ryat0;ingham3;shi4;re;emen,itish columb0;h0ja cal8lk7s4v7;hkorto4que;st1;an;ar0;iforn0;ia;dygHguascalientes,lBndhr9r5ss4;am;izo2kans5un4;achal 7;as;na;a 4;pradesh;a6ber5t4;ai;ta;ba5s4;ka;ma;ea",Place:"true0:4T;1:4V;2:44;3:4B;4:3I;a4Eb3Gc2Td2Ge26f25g1Vh1Ji1Fk1Cl14m0Vn0No0Jp08r04sTtNuLvJw7y5;a5o0Syz;kut1Bngtze;aDeChitBi9o5upatki,ycom2P;ki26o5;d5l1B;b3Ps5;i4to3Y;c0SllowbroCn5;c2Qgh2;by,chur1P;ed0ntw3Gs22;ke6r3St5;erf1f1; is0Gf3V;auxha3Mirgin is0Jost5;ok;laanbaatar,pto5xb3E;n,wn;a9eotihuac43h7ive49o6ru2Nsarskoe selo,u5;l2Dzigo47;nto,rquay,tt2J;am3e 5orn3E;bronx,hamptons;hiti,j mah0Iu1N;aEcotts bluff,eCfo,herbroQoApring9t7u5yd2F;dbu1Wn5;der03set3B;aff1ock2Nr5;atf1oud;hi37w24;ho,uth5; 1Iam1Zwo3E;a5i2O;f2Tt0;int lawrence riv3Pkhal2D;ayleigh,ed7i5oc1Z;chmo1Eo gran4ver5;be1Dfr09si4; s39cliffe,hi2Y;aCe9h8i5ompeii,utn2;c6ne5tcai2T; 2Pc0G;keri13t0;l,x;k,lh2mbr6n5r2J;n1Hzance;oke;cif38pahanaumokuak30r5;k5then0;si4w1K;ak7r6x5;f1l2X;ange county,d,f1inoco;mTw1G;e8i1Uo5;r5tt2N;th5wi0E; 0Sam19;uschwanste1Pw5; eng6a5h2market,po36;rk;la0P;a8co,e6i5uc;dt1Yll0Z;adow5ko0H;lands;chu picchu,gad2Ridsto1Ql8n7ple6r5;kh2; g1Cw11;hatt2Osf2B;ibu,t0ve1Z;a8e7gw,hr,in5owlOynd02;coln memori5dl2C;al;asi4w3;kefr7mbe1On5s,x;ca2Ig5si05;f1l27t0;ont;azan kreml14e6itchen2Gosrae,rasnoyar5ul;sk;ns0Hs1U;ax,cn,lf1n6ps5st;wiN;d5glew0Lverness;ian27ochina;aDeBi6kg,nd,ov5unti2H;d,enweep;gh6llc5;reL;bu03l5;and5;!s;r5yw0C;ef1tf1;libu24mp6r5stings;f1lem,row;stead,t0;aDodavari,r5uelph;avenAe5imsS;at 8en5; 6f1Fwi5;ch;acr3vall1H;brita0Flak3;hur5;st;ng3y villa0W;airhavHco,ra;aAgli9nf17ppi8u7ver6x5;et1Lf1;glad3t0;rope,st0;ng;nt0;rls1Ls5;t 5;e5si4;nd;aCe9fw,ig8o7ryd6u5xb;mfri3nstab00rh2tt0;en;nca18rcKv19wnt0B;by;n6r5vonpo1D;ry;!h2;nu8r5;l6t5;f1moor;ingt0;be;aLdg,eIgk,hClBo5royd0;l6m5rnwa0B;pt0;c7lingw6osse5;um;ood;he0S;earwat0St;a8el6i5uuk;chen itza,mney ro07natSricahua;m0Zt5;enh2;mor5rlottetPth2;ro;dar 5ntervilA;breaks,faZg5;rove;ld9m8r5versh2;lis6rizo pla5;in;le;bLpbellf1;weQ;aZcn,eNingl01kk,lackLolt0r5uckV;aGiAo5;ckt0ok5wns cany0;lyn,s5;i4to5;ne;de;dge6gh5;am,t0;n6t5;own;or5;th;ceb6m5;lNpt0;rid5;ge;bu5pool,wa8;rn;aconsfEdf1lBr9verly7x5;hi5;ll; hi5;lls;wi5;ck; air,l5;ingh2;am;ie5;ld;ltimore,rnsl6tters5;ea;ey;bLct0driadic,frica,ginJlGmFn9rc8s7tl6yleOzor3;es;!ant8;hcroft,ia; de triomphe,t6;adyr,ca8dov9tarct5;ic5; oce5;an;st5;er;ericas,s;be6dersh5hambra,list0;ot;rt0;cou5;rt;bot7i5;ngd0;on;sf1;ord",Country:"true0:38;1:2L;2:3B;a2Xb2Ec22d1Ye1Sf1Mg1Ch1Ai14j12k0Zl0Um0Gn05om2pZqat1KrXsKtCu7v5wal4yemTz3;a25imbabwe;es,lis and futu2Y;a3enezue32ietnam;nuatu,tican city;gTk6nited 4ruXs3zbeE; 2Ca,sr;arab emirat0Kkingdom,states3;! of am2Y;!raiV;a8haCimor les0Co7rinidad 5u3;nis0rk3valu;ey,me2Zs and caic1V;and t3t3;oba1L;go,kel10nga;iw2ji3nz2T;ki2V;aDcotl1eCi9lov8o6pa2Dri lanka,u5w3yr0;az3edAitzerl1;il1;d2riname;lomon1Xmal0uth 3;afr2KkMsud2;ak0en0;erra leoFn3;gapo1Yt maart3;en;negLrb0ychellZ;int 3moa,n marino,udi arab0;hele26luc0mart21;epublic of ir0Eom2Euss0w3;an27;a4eIhilippinUitcairn1Mo3uerto riN;l1rtugF;ki2Dl4nama,pua new0Vra3;gu7;au,esti3;ne;aBe9i7or3;folk1Ith4w3;ay; k3ern mariana1D;or0O;caragua,ger3ue;!ia;p3ther1Aw zeal1;al;mib0u3;ru;a7exi6icro0Bo3yanm06;ldova,n3roc5zambA;a4gol0t3;enegro,serrat;co;cAdagasc01l7r5urit4yot3;te;an0i16;shall0Xtin3;ique;a4div3i,ta;es;wi,ys0;ao,ed02;a6e5i3uxembourg;b3echtenste12thu1G;er0ya;ban0Isotho;os,tv0;azakh1Fe4iriba04o3uwait,yrgyz1F;rXsovo;eling0Knya;a3erG;ma16p2;c7nd6r4s3taly,vory coast;le of m2rael;a3el1;n,q;ia,oJ;el1;aiTon3ungary;dur0Ng kong;aBermany,ha0QibraltAre8u3;a6ern5inea3ya0P;! biss3;au;sey;deloupe,m,tema0Q;e3na0N;ce,nl1;ar;bUmb0;a7i6r3;ance,ench 3;guia0Epoly3;nes0;ji,nl1;lklandUroeU;ast tim7cu6gypt,l salv6ngl1quatorial4ritr5st3thiop0;on0; guin3;ea;ad3;or;enmark,jibou5ominica4r con3;go;!n C;ti;aBentral african Ah8o5roat0u4yprRzech3; 9ia;ba,racao;c4lo3morQngo brazzaville,okGsta r04te de ivoiL;mb0;osE;i3ristmasG;le,na;republic;m3naUpe verde,ymanA;bod0ero3;on;aGeDhut2o9r5u3;lgar0r3;kina faso,ma,undi;azil,itish 3unei;virgin3; is3;lands;liv0nai5snia and herzegoviHtswaHuvet3; isl1;and;re;l3n8rmuG;ar3gium,ize;us;h4ngladesh,rbad3;os;am4ra3;in;as;fghaGlDmBn6r4ustr3zerbaij2;al0ia;genti3men0uba;na;dorra,g5t3;arct7igua and barbu3;da;o3uil3;la;er3;ica;b3ger0;an0;ia;ni3;st2;an",FirstName:"trueaTblair,cQdOfrancoZgabMhinaLilya,jHkClBm6ni4quinn,re3s0;h0umit,yd;ay,e0iloh;a,lby;g9ne;co,ko0;!s;a1el0ina,org6;!okuhF;ds,naia,r1tt0xiB;i,y;ion,lo;ashawn,eif,uca;a3e1ir0rM;an;lsFn0rry;dall,yat5;i,sD;a0essIie,ude;i1m0;ie,mG;me;ta;rie0y;le;arcy,ev0;an,on;as1h0;arl8eyenne;ey,sidy;drien,kira,l4nd1ubr0vi;ey;i,r0;a,e0;a,y;ex2f1o0;is;ie;ei,is",WeekDay:"truefri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"truedec0february,july,nov0octo1sept0;em0;ber",Date:"trueago,on4som4t1week0yesterd5; end,ends;mr1o0;d2morrow;!w;ed0;ay",Duration:"truecenturAd8h7m5q4se3w1y0;ear8r8;eek0k7;!end,s;ason,c5;tr,uarter;i0onth3;llisecond2nute2;our1r1;ay0ecade0;!s;ies,y",FemaleName:"true0:J7;1:JB;2:IJ;3:IK;4:J1;5:IO;6:JS;7:JO;8:HB;9:JK;A:H4;B:I2;C:IT;D:JH;E:IX;F:BA;G:I4;aGTbFLcDRdD0eBMfB4gADh9Ti9Gj8Dk7Cl5Wm48n3Lo3Hp33qu32r29s15t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof3;e3Sf3la,ra;h2iKlIna,ynH;ab,ep;da,ma;da,h2iHra;nab;aKeJi0FolB7uIvH;et8onDP;i0na;le0sen3;el,gm3Hn,rGLs8W;aoHme0nyi;m5XyAD;aMendDZhiDGiH;dele9lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;ck84kIl8oleAviH;anFenJ4;ky,toriBK;da,lA8rHs0;a,nHoniH9;a,iFR;leHnesH9;nILrH;i1y;g9rHs6xHA;su5te;aYeUhRiNoLrIuHy2;i,la;acJ3iHu0J;c3na,sH;hFta;nHr0F;iFya;aJffaEOnHs6;a,gtiH;ng;!nFSra;aIeHomasi0;a,l9Oo8Ares1;l3ndolwethu;g9Fo88rIssH;!a,ie;eHi,ri7;sa,za;bOlMmKnIrHs6tia0wa0;a60yn;iHya;a,ka,s6;arFe2iHm77ra;!ka;a,iH;a,t6;at6it6;a0Ecarlett,e0AhWiSkye,neza0oQri,tNuIyH;bIGlvi1;ha,mayIJniAsIzH;an3Net8ie,y;anHi7;!a,e,nH;aCe;aIeH;fan4l5Dphan6E;cI5r5;b3fiAAm0LnHphi1;d2ia,ja,ya;er2lJmon1nIobh8QtH;a,i;dy;lETv3;aMeIirHo0risFDy5;a,lDM;ba,e0i5lJrH;iHr6Jyl;!d8Ifa;ia,lDZ;hd,iMki2nJrIu0w0yH;la,ma,na;i,le9on,ron,yn;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye82vH;da,inj;e0ife;en1i0ma;anA9bLd5Oh1SiBkKlJmInd2rHs6vannaC;aCi0;ant6i2;lDOma,ome;ee0in8Tu2;in1ri0;a05eZhXiUoHuthDM;bScRghQl8LnPsJwIxH;anB3ie,y;an,e0;aIeHie,lD;ann7ll1marDGtA;!lHnn1;iHyn;e,nH;a,dF;da,i,na;ayy8G;hel67io;bDRerAyn;a,cIkHmas,nFta,ya;ki,o;h8Xki;ea,iannGMoH;da,n1P;an0bJemFgi0iInHta,y0;a8Bee;han86na;a,eH;cHkaC;a,ca;bi0chIe,i0mo0nHquETy0;di,ia;aERelHiB;!e,le;een4ia0;aPeOhMiLoJrHute6A;iHudenCV;scil3LyamvaB;lHrt3;i0ly;a,paluk;ilome0oebe,ylH;is,lis;ggy,nelope,r5t2;ige,m0VnKo5rvaDMtIulH;a,et8in1;ricHt4T;a,e,ia;do2i07;ctav3dIfD3is6ksa0lHphD3umC5yunbileg;a,ga,iv3;eHvAF;l3t8;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aCeEma;ll1mi;aNcLhariBQkKlaJna,sHta,vi;anHha;ur;!y;a,iDZki;hoGk9YolH;a,e4P;!mh;hir,lHna,risDEsreE;!a,iDDlBV;asuMdLh3i6Dl5nKomi7rgEVtH;aHhal4;lHs6;i1ya;cy,et8;e9iF0ya;nngu2X;a0Ackenz4e02iMoJrignayani,uriDJyH;a,rH;a,iOlNna,tG;bi0i2llBJnH;a,iH;ca,ka,qD9;a,cUdo4ZkaTlOmi,nMrItzi,yH;ar;aJiIlH;anET;am;!l,nB;dy,eHh,n4;nhGrva;aKdJe0iCUlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5DgNi,lKrH;edi7AiIjem,on,yH;em,l;em,sCG;an4iHliCF;nHsCJ;a,da;!an,han;b09cASd07e,g05ha,i04ja,l02n00rLsoum5YtKuIv84xBKyHz4;bell,ra,soBB;d7rH;a,eE;h8Gild1t4;a,cUgQiKjor4l7Un4s6tJwa,yH;!aHbe6Xja9lAE;m,nBL;a,ha,in1;!aJbCGeIja,lDna,sHt63;!a,ol,sa;!l1D;!h,mInH;!a,e,n1;!awit,i;arJeIie,oHr48ueri8;!t;!ry;et46i3B;el4Xi7Cy;dHon,ue5;akranAy;ak,en,iHlo3S;a,ka,nB;a,re,s4te;daHg4;!l3E;alDd4elHge,isDJon0;ei9in1yn;el,le;a0Ne0CiXoQuLyH;d3la,nH;!a,dIe2OnHsCT;!a,e2N;a,sCR;aD4cJel0Pis1lIna,pHz;e,iA;a,u,wa;iHy;a0Se,ja,l2NnB;is,l1UrItt1LuHvel4;el5is1;aKeIi7na,rH;aADi7;lHn1tA;ei;!in1;aTbb9HdSepa,lNnKsJvIzH;!a,be5Ret8z4;!ia;a,et8;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lH;iHy;aA8e;!aH;!nF;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx93y5;iHt4;c3t3;e2PlCO;la,nHra;a,ie,o2;a,or1;a,gh,laH;!ni;!h,nH;a,d2e,n5V;cOdon9DiNkes6mi9Gna,rMtJurIvHxmi,y5;ern1in3;a,e5Aie,yn;as6iIoH;nya,ya;fa,s6;a,isA9;a,la;ey,ie,y;a04eZhXiOlASoNrJyH;lHra;a,ee,ie;istHy6I;a,en,iIyH;!na;!e,n5F;nul,ri,urtnB8;aOerNlB7mJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stE;!na,ra;aHei2ongordzol;dij1w5;el7UiKjsi,lJnIrH;a,i,ri;d2na,za;ey,i,lBLs4y;ra,s6;biAcARdiat7MeBAiSlQmPnyakuma1DrNss6NtKviAyH;!e,lH;a,eH;e,i8T;!a6HeIhHi4TlDri0y;ar8Her8Hie,leErBAy;!lyn8Ori0;a,en,iHl5Xoli0yn;!ma,nFs95;a5il1;ei8Mi,lH;e,ie;a,tl6O;a0AeZiWoOuH;anMdLlHst88;es,iH;a8NeHs8X;!n9tH;!a,te;e5Mi3My;a,iA;!anNcelDdMelGhan7VleLni,sIva0yH;a,ce;eHie;fHlDph7Y;a,in1;en,n1;i7y;!a,e,n45;lHng;!i1DlH;!i1C;anNle0nKrJsH;i8JsH;!e,i8I;i,ri;!a,elGif2CnH;a,et8iHy;!e,f2A;a,eJiInH;a,eIiH;e,n1;!t8;cMda,mi,nIque4YsminFvie2y9zH;min7;a7eIiH;ce,e,n1s;!lHs82t0F;e,le;inIk6HlDquelH;in1yn;da,ta;da,lRmPnOo0rNsIvaHwo0zaro;!a0lu,na;aJiIlaHob89;!n9R;do2;belHdo2;!a,e,l3B;a7Ben1i0ma;di2es,gr72ji;a9elBogH;en1;a,e9iHo0se;a0na;aSeOiJoHus7Kyacin2C;da,ll4rten24snH;a,i9U;lImaH;ri;aIdHlaI;a,egard;ry;ath1BiJlInrietArmi9sH;sa,t1A;en2Uga,mi;di;bi2Fil8MlNnMrJsItHwa,yl8M;i5Tt4;n60ti;iHmo51ri53;etH;!te;aCnaC;a,ey,l4;a02eWiRlPoNrKunJwH;enHyne1R;!dolD;ay,el;acieIetHiselB;a,chE;!la;ld1CogooH;sh;adys,enHor3yn2K;a,da,na;aKgi,lIna,ov8EselHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald5Si,m3Etrud7;et8i4X;a,eHna;s29vieve;ma;bIle,mHrnet,yG;al5Si5;iIrielH;a,l1;!ja;aTeQiPlorOoz3rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0P;n1s66;!ca;a,enc3;en,o0;lIn0rnH;anB;ec3ic3;jr,nArKtHy7;emIiHma,oumaA;ha,ma,n;eh;ah,iBrah,za0;cr4Rd0Re0Qi0Pk0Ol07mXn54rUsOtNuMvHwa;aKelIiH;!e,ta;inFyn;!a;!ngel4V;geni1ni47;h5Yien9ta;mLperanKtH;eIhHrel5;er;l31r7;za;a,eralB;iHma,ne4Lyn;cHka,n;a,ka;aPeNiKmH;aHe21ie,y;!li9nuH;elG;lHn1;e7iHy;a,e,ja;lHrald;da,y;!nue5;aWeUiNlMma,no2oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c3da,e,f,nMsJzaH;!betHveA;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a,i;!in1na;ate1Rta;leEs6;vi;eIiHna,wi0;e,th;l,n;aYeMh3iLjeneKoH;lor5Vminiq4Ln3FrHtt4;a,eEis,la,othHthy;ea,y;ba;an09naCon9ya;anQbPde,eOiMlJmetr3nHsir5M;a,iH;ce,se;a,iIla,orHphi9;es,is;a,l6F;dHrdH;re;!d5Ena;!b2ForaCraC;a,d2nH;!a,e;hl3i0l0GmNnLphn1rIvi1WyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,et8iH;!ca,el1Aka,z;arHia;is;a0Re0Nh04i02lUoJristIynH;di,th3;al,i0;lPnMrIurH;tn1D;aJd2OiHn2Ori9;!nH;a,e,n1;!l4;cepci5Cn4sH;tanHuelo;ce,za;eHleE;en,t8;aJeoIotH;il54;!pat2;ir7rJudH;et8iH;a,ne;a,e,iH;ce,sZ;a2er2ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Sen,iHy;an1e,n1;deJlseIrH;!i7yl;a,y;li9;nMrH;isKlImH;ai9;a,eHot8;n1t8;!sa;d2elGtH;al,elG;cIlH;es8i47;el3ilH;e,ia,y;itlYlXmilWndVrMsKtHy5;aIeIhHri0;er1IleErDy;ri0;a38sH;a37ie;a,iOlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eIie,otHy;a,ta;ne,y;na,s1X;a0Ii0I;a,e,l1;isAl4;in,yn;a0Ke02iZlXoUrH;andi7eRiJoIyH;an0nn;nwDoke;an3HdgMgiLtH;n31tH;!aInH;ey,i,y;ny;d,t8;etH;!t7;an0e,nH;da,na;bbi7glarIlo07nH;iAn4;ka;ancHythe;a,he;an1Clja0nHsm3M;iAtH;ou;aWcVlinUniArPssOtJulaCvH;!erlH;ey,y;hJsy,tH;e,iHy7;e,na;!anH;ie,y;!ie;nItHyl;ha,ie;adIiH;ce;et8i9;ay,da;ca,ky;!triH;ce,z;rbJyaH;rmH;aa;a2o2ra;a2Ub2Od25g21i1Sj5l18m0Zn0Boi,r06sWtVuPvOwa,yIzH;ra,u0;aKes6gJlIn,seH;!l;in;un;!nH;a,na;a,i2K;drLguJrIsteH;ja;el3;stH;in1;a,ey,i,y;aahua,he0;hIi2Gja,miAs2DtrH;id;aMlIraqHt21;at;eIi7yH;!n;e,iHy;gh;!nH;ti;iJleIo6piA;ta;en,n1t8;aHelG;!n1J;a01dje5eZgViTjRnKohito,toHya;inet8nH;el5ia;te;!aKeIiHmJ;e,ka;!mHtt7;ar4;!belIliHmU;sa;!l1;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tH;a,te;!bImHstasiMya;ar3;el;aLberKeliJiHy;e,l3naH;!ta;a,ja;!ly;hGiIl3nB;da;a,ra;le;aWba,ePiMlKthJyH;a,c3sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c3is6jaKksaKna,sJxH;aHia;!nd2;ia,saH;nd2;ra;ia;i0nIyH;ah,na;a,is,naCoud;la;c6da,leEmNnLsH;haClH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lDsH;on;yn;!lH;i9yn;ne;aKbIiHrL;!e,gaK;ey,i7y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Honorific:"truedirector1field marsh2lieutenant1rear0sergeant major,vice0; admir1; gener0;al","Adj|Gerund":"true0:3F;1:3H;2:31;3:2X;4:35;5:33;6:3C;7:2Z;8:36;9:29;a33b2Tc2Bd1Te1If19g12h0Zi0Rl0Nm0Gnu0Fo0Ap04rYsKtEuBvAw1Ayiel3;ar6e08;nBpA;l1Rs0B;fol3n1Zsett2;aEeDhrBi4ouc7rAwis0;e0Bif2oub2us0yi1;ea1SiA;l2vi1;l2mp0rr1J;nt1Vxi1;aMcreec7enten2NhLkyrocke0lo0Vmi2oJpHtDuBweA;e0Ul2;pp2ArA;gi1pri5roun3;aBea8iAri2Hun9;mula0r4;gge4rA;t2vi1;ark2eAraw2;e3llb2F;aAot7;ki1ri1;i9oc29;dYtisf6;aEeBive0oAus7;a4l2;assu4defi9fres7ig9juve07mai9s0vAwar3;ea2italiAol1G;si1zi1;gi1ll6mb2vi1;a6eDier23lun1VrAun2C;eBoA;mi5vo1Z;ce3s5vai2;n3rpleA;xi1;ffCpWutBverAwi1;arc7lap04p0Pri3whel8;goi1l6st1J;en3sA;et0;m2Jrtu4;aEeDiCoBuAyst0L;mb2;t1Jvi1;s5tiga0;an1Rl0n3smeri26;dAtu4;de9;aCeaBiAo0U;fesa0Tvi1;di1ni1;c1Fg19s0;llumiGmFnArri0R;cDfurHsCtBviA;go23ti1;e1Oimi21oxica0rig0V;pi4ul0;orpo20r0K;po5;na0;eaBorr02umilA;ia0;li1rtwar8;lFrA;atiDipCoBuelA;i1li1;undbrea10wi1;pi1;f6ng;a4ea8;a3etc7it0lEoCrBulfA;il2;ee1FighXust1L;rAun3;ebo3thco8;aCoA;a0wA;e4i1;mi1tte4;lectrJmHnExA;aCci0hBis0pA;an3lo3;aOila1B;c0spe1A;ab2coura0CdBergi13ga0Clive9ric7s02tA;hral2i0J;ea4u4;barras5er09pA;owe4;if6;aQeIiBrA;if0;sAzz6;aEgDhearCsen0tA;rAur11;ac0es5;te9;us0;ppoin0r8;biliGcDfi9gra3ligh0mBpres5sAvasG;erE;an3ea9orA;ali0L;a6eiBli9rA;ea5;vi1;ta0;maPri1s7un0zz2;aPhMlo5oAripp2ut0;mGnArrespon3;cer9fDspi4tA;inBrA;as0ibu0ol2;ui1;lic0u5;ni1;fDmCpA;eAromi5;l2ti1;an3;or0;aAil2;llenAnAr8;gi1;l8ptAri1;iva0;aff2eGin3lFoDrBuA;d3st2;eathtaAui5;ki1;gg2i2o8ri1unA;ci1;in3;co8wiA;lAtc7;de4;bsorVcOgonMlJmHnno6ppea2rFsA;pi4su4toA;nBun3;di1;is7;hi1;res0;li1;aFu5;si1;ar8lu4;ri1;mi1;iAzi1;zi1;cAhi1;eleDomA;moBpan6;yi1;da0;ra0;ti1;bi1;ng",Comparable:"true0:3C;1:3Q;2:3F;a3Tb3Cc33d2Te2Mf2Ag1Wh1Li1Fj1Ek1Bl13m0Xn0So0Rp0Iqu0Gr07sHtCug0vAw4y3za0Q;el10ouN;ary,e6hi5i3ry;ck0Cde,l3n1ry,se;d,y;ny,te;a3i3R;k,ry;a3erda2ulgar;gue,in,st;a6en2Xhi5i4ouZr3;anqu2Cen1ue;dy,g36me0ny;ck,rs28;ll,me,rt,wd3I;aRcaPeOhMiLkin0BlImGoEpDt6u4w3;eet,ift;b3dd0Wperfi21rre28;sta26t21;a8e7iff,r4u3;pUr1;a4ict,o3;ng;ig2Vn0N;a1ep,rn;le,rk,te0;e1Si2Vright0;ci1Yft,l3on,re;emn,id;a3el0;ll,rt;e4i3y;g2Mm0Z;ek,nd2T;ck24l0mp1L;a3iRrill,y;dy,l01rp;ve0Jxy;n1Jr3;ce,y;d,fe,int0l1Hv0V;a8e6i5o3ude;mantic,o19sy,u3;gh;pe,t1P;a3d,mo0A;dy,l;gg4iFndom,p3re,w;id;ed;ai2i3;ck,et;hoAi1Fl9o8r5u3;ny,r3;e,p11;egna2ic4o3;fouSud;ey,k0;liXor;ain,easa2;ny;dd,i0ld,ranL;aive,e5i4o3u14;b0Sisy,rm0Ysy;bb0ce,mb0R;a3r1w;r,t;ad,e5ild,o4u3;nda12te;ist,o1;a4ek,l3;low;s0ty;a8e7i6o3ucky;f0Jn4o15u3ve0w10y0N;d,sy;e0g;ke0l,mp,tt0Eve0;e1Qwd;me,r3te;ge;e4i3;nd;en;ol0ui19;cy,ll,n3;secu6t3;e3ima4;llege2rmedia3;te;re;aAe7i6o5u3;ge,m3ng1C;bYid;me0t;gh,l0;a3fXsita2;dy,rWv3;en0y;nd13ppy,r3;d3sh;!y;aFenEhCiBlAoofy,r3;a8e6i5o3ue0Z;o3ss;vy;m,s0;at,e3y;dy,n;nd,y;ad,ib,ooD;a2d1;a3o3;st0;tDuiS;u1y;aCeebBi9l8o6r5u3;ll,n3r0N;!ny;aCesh,iend0;a3nd,rmD;my;at,ir7;erce,nan3;ci9;le;r,ul3;ty;a6erie,sse4v3xtre0B;il;nti3;al;r4s3;tern,y;ly,th0;appZe9i5ru4u3;mb;nk;r5vi4z3;zy;ne;e,ty;a3ep,n9;d3f,r;!ly;agey,h8l7o5r4u3;dd0r0te;isp,uel;ar3ld,mmon,st0ward0zy;se;evKou1;e3il0;ap,e3;sy;aHiFlCoAr5u3;ff,r0sy;ly;a6i3oad;g4llia2;nt;ht;sh,ve;ld,un3;cy;a4o3ue;nd,o1;ck,nd;g,tt3;er;d,ld,w1;dy;bsu6ng5we3;so3;me;ry;rd",Adverb:"truea08b05d00eYfSheQinPjustOkinda,likewiZmMnJoEpCquite,r9s5t2u0very,well;ltima01p0; to,wards5;h1iny bit,o0wiO;o,t6;en,us;eldom,o0uch;!me1rt0; of;how,times,w0C;a1e0;alS;ndomRth05;ar excellenEer0oint blank; Lhaps;f3n0utright;ce0ly;! 0;ag05moX; courGten;ewJo0; longWt 0;onHwithstand9;aybe,eanwhiNore0;!ovT;! aboX;deed,steY;lla,n0;ce;or3u0;ck1l9rther0;!moK;ing; 0evK;exampCgood,suH;n mas0vI;se;e0irect2; 2fini0;te0;ly;juAtrop;ackward,y 0;far,no0; means,w; GbroFd nauseam,gEl7ny5part,s4t 2w0;ay,hi0;le;be7l0mo7wor7;arge,ea6; soon,i4;mo0way;re;l 3mo2ongsi1ready,so,togeth0ways;er;de;st;b1t0;hat;ut;ain;ad;lot,posteriori",Conjunction:"trueaXbTcReNhowMiEjust00noBo9p8supposing,t5wh0yet;e1il0o3;e,st;n1re0thN; if,by,vM;evL;h0il,o;erefOo0;!uU;lus,rovided th9;r0therwiM;! not; mattEr,w0;! 0;since,th4w7;f4n0; 0asmuch;as mIcaForder t0;h0o;at;! 0;only,t0w0;hen;!ev3;ith2ven0;! 0;if,tB;er;o0uz;s,z;e0ut,y the time;cau1f0;ore;se;lt3nd,s 0;far1if,m0soon1t2;uch0; as;hou0;gh",Currency:"true$,aud,bQcOdJeurIfHgbp,hkd,iGjpy,kElDp8r7s3usd,x2y1z0,,,,,,,,,,,;lotyQ;en,uanP;af,of;h0t5;e0il5;k0q0;elK;oubleJp,upeeJ;e2ound st0;er0;lingG;n0soF;ceEnies;empi7i7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!os;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;e0ny;nt1;aht,itcoin0;!s",Determiner:"trueaBboth,d9e6few,le5mu8neiDplenty,s4th2various,wh0;at0ich0;evC;a0e4is,ose;!t;everal,ome;!ast,s;a1l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er","Adj|Present":"truea07b04cVdQeNfJhollIidRlEmCnarrIoBp9qua8r7s3t2uttFw0;aKet,ro0;ng,u08;endChin;e2hort,l1mooth,our,pa9tray,u0;re,speU;i2ow;cu6da02leSpaN;eplica01i02;ck;aHerfePr0;eseUime,omV;bscu1pen,wn;atu0e3odeH;re;a2e1ive,ow0;er;an;st,y;ow;a2i1oul,r0;ee,inge;rm;iIke,ncy,st;l1mpty,x0;emHpress;abo4ic7;amp,e2i1oub0ry,ull;le;ffu9re6;fu8libe0;raE;alm,l5o0;mpleCn3ol,rr1unterfe0;it;e0u7;ct;juga8sum7;ea1o0;se;n,r;ankru1lu0;nt;pt;li2pproxi0rticula1;ma0;te;ght","Person|Adj":"trueb3du2earnest,frank,mi2r0san1woo1;an0ich,u1;dy;sty;ella,rown",Modal:"truec5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ight,ust;an,o0;uld",Verb:"trueborn,cannot,gonna,has,keep tabs,msg","Person|Verb":"trueb8ch7dr6foster,gra5ja9lan4ma2ni9ollie,p1rob,s0wade;kip,pike,t5ue;at,eg,ier2;ck,r0;k,shal;ce;ce,nt;ew;ase,u1;iff,l1ob,u0;ck;aze,ossom","Person|Date":"truea2j0sep;an0une;!uary;p0ugust,v0;ril"},BASE$1=36,seq="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cache=seq.split("").reduce(function($,_e,et){return $[_e]=et,$},{}),toAlphaCode=function($){if(seq[$]!==void 0)return seq[$];let _e=1,et=BASE$1,tt="";for(;$>=et;$-=et,_e++,et*=BASE$1);for(;_e--;){const nt=$%BASE$1;tt=String.fromCharCode((nt<10?48:55)+nt)+tt,$=($-nt)/BASE$1}return tt},fromAlphaCode=function($){if(cache[$]!==void 0)return cache[$];let _e=0,et=1,tt=BASE$1,nt=1;for(;et<$.length;_e+=tt,et++,tt*=BASE$1);for(let rt=$.length-1;rt>=0;rt--,nt*=BASE$1){let it=$.charCodeAt(rt)-48;it>10&&(it-=7),_e+=it*nt}return _e},encoding={toAlphaCode,fromAlphaCode},symbols=function($){const _e=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let et=0;et<$.nodes.length;et++){const tt=_e.exec($.nodes[et]);if(!tt){$.symCount=et;break}$.syms[encoding.fromAlphaCode(tt[1])]=encoding.fromAlphaCode(tt[2])}$.nodes=$.nodes.slice($.symCount,$.nodes.length)},indexFromRef=function($,_e,et){const tt=encoding.fromAlphaCode(_e);return tt<$.symCount?$.syms[tt]:et+tt+1-$.symCount},toArray$3=function($){const _e=[],et=(tt,nt)=>{let rt=$.nodes[tt];rt[0]==="!"&&(_e.push(nt),rt=rt.slice(1));const it=rt.split(/([A-Z0-9,]+)/g);for(let ot=0;ot<it.length;ot+=2){const at=it[ot],st=it[ot+1];if(!at)continue;const lt=nt+at;if(st===","||st===void 0){_e.push(lt);continue}const ct=indexFromRef($,st,tt);et(ct,lt)}};return et(0,""),_e},unpack$1=function($){const _e={nodes:$.split(";"),syms:[],symCount:0};return $.match(":")&&symbols(_e),toArray$3(_e)},unpack=function($){if(!$)return{};const _e=$.split("|").reduce((tt,nt)=>{const rt=nt.split("");return tt[rt[0]]=rt[1],tt},{}),et={};return Object.keys(_e).forEach(function(tt){const nt=unpack$1(_e[tt]);tt==="true"&&(tt=!0);for(let rt=0;rt<nt.length;rt++){const it=nt[rt];et.hasOwnProperty(it)===!0?Array.isArray(et[it])===!1?et[it]=[et[it],tt]:et[it].push(tt):et[it]=tt}}),et},prp=["Possessive","Pronoun"],misc$5={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization","76ers":"SportsTeam","49ers":"SportsTeam",q1:"Date",q2:"Date",q3:"Date",q4:"Date",km2:"Unit",m2:"Unit",dm2:"Unit",cm2:"Unit",mm2:"Unit",mile2:"Unit",in2:"Unit",yd2:"Unit",ft2:"Unit",m3:"Unit",dm3:"Unit",cm3:"Unit",in3:"Unit",ft3:"Unit",yd3:"Unit","at&t":"Organization","black & decker":"Organization","h & m":"Organization","johnson & johnson":"Organization","procter & gamble":"Organization","ben & jerry's":"Organization","&":"Conjunction",i:["Pronoun","Singular"],he:["Pronoun","Singular"],she:["Pronoun","Singular"],it:["Pronoun","Singular"],they:["Pronoun","Plural"],we:["Pronoun","Plural"],was:["Copula","PastTense"],is:["Copula","PresentTense"],are:["Copula","PresentTense"],am:["Copula","PresentTense"],were:["Copula","PastTense"],her:prp,his:prp,hers:prp,their:prp,theirs:prp,themselves:prp,your:prp,our:prp,ours:prp,my:prp,its:prp,vs:["Conjunction","Abbreviation"],if:["Condition","Preposition"],closer:"Comparative",closest:"Superlative",much:"Adverb",may:"Modal",babysat:"PastTense",blew:"PastTense",drank:"PastTense",drove:"PastTense",forgave:"PastTense",skiied:"PastTense",spilt:"PastTense",stung:"PastTense",swam:"PastTense",swung:"PastTense",guaranteed:"PastTense",shrunk:"PastTense",nears:"PresentTense",nearing:"Gerund",neared:"PastTense",no:["Negative","Expression"]},frozenLex={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization","excuse me":"Expression","financial times":"Organization","guns n roses":"Organization","la z boy":"Organization","labour party":"Organization","new kids on the block":"Organization","new york times":"Organization","the guess who":"Organization","thin lizzy":"Organization","prime minister":"Actor","free market":"Singular","lay up":"Singular","living room":"Singular","living rooms":"Plural","spin off":"Singular","appeal court":"Uncountable","cold war":"Uncountable","gene pool":"Uncountable","machine learning":"Uncountable","nail polish":"Uncountable","time off":"Uncountable","take part":"Infinitive","bill gates":"Person","doctor who":"Person","dr who":"Person","he man":"Person","iron man":"Person","kid cudi":"Person","run dmc":"Person","rush limbaugh":"Person","snow white":"Person","tiger woods":"Person","brand new":"Adjective","en route":"Adjective","left wing":"Adjective","off guard":"Adjective","on board":"Adjective","part time":"Adjective","right wing":"Adjective","so called":"Adjective","spot on":"Adjective","straight forward":"Adjective","super duper":"Adjective","tip top":"Adjective","top notch":"Adjective","up to date":"Adjective","win win":"Adjective","brooklyn nets":"SportsTeam","chicago bears":"SportsTeam","houston astros":"SportsTeam","houston dynamo":"SportsTeam","houston rockets":"SportsTeam","houston texans":"SportsTeam","minnesota twins":"SportsTeam","orlando magic":"SportsTeam","san antonio spurs":"SportsTeam","san diego chargers":"SportsTeam","san diego padres":"SportsTeam","iron maiden":"ProperNoun","isle of man":"Country","united states":"Country","united states of america":"Country","prince edward island":"Region","cedar breaks":"Place","cedar falls":"Place","point blank":"Adverb","tiny bit":"Adverb","by the time":"Conjunction","no matter":"Conjunction","civil wars":"Plural","credit cards":"Plural","default rates":"Plural","free markets":"Plural","head starts":"Plural","home runs":"Plural","lay ups":"Plural","phone calls":"Plural","press releases":"Plural","record labels":"Plural","soft serves":"Plural","student loans":"Plural","tax returns":"Plural","tv shows":"Plural","video games":"Plural","took part":"PastTense","takes part":"PresentTense","taking part":"Gerund","taken part":"Participle","light bulb":"Noun","rush hour":"Noun","fluid ounce":"Unit","the rolling stones":"Organization"},emoticons=[":(",":)",":P",":p",":O",";(",";)",";P",";p",";O",":3",":|",":/",":\\",":$",":*",":@",":-(",":-)",":-P",":-p",":-O",":-3",":-|",":-/",":-\\",":-$",":-*",":-@",":^(",":^)",":^P",":^p",":^O",":^3",":^|",":^/",":^\\",":^$",":^*",":^@","):","(:","$:","*:",")-:","(-:","$-:","*-:",")^:","(^:","$^:","*^:","<3","</3","<\\3","=("],suffixes$3={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/ia$/i,"ia"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},addE=/([xsz]|ch|sh)$/,trySuffix=function($){const _e=$[$.length-1];if(suffixes$3.hasOwnProperty(_e)===!0)for(let et=0;et<suffixes$3[_e].length;et+=1){const tt=suffixes$3[_e][et][0];if(tt.test($)===!0)return $.replace(tt,suffixes$3[_e][et][1])}return null},pluralize=function($="",_e){const{irregularPlurals:et,uncountable:tt}=_e.two;if(tt.hasOwnProperty($))return $;if(et.hasOwnProperty($))return et[$];const nt=trySuffix($);return nt!==null?nt:addE.test($)?$+"es":$+"s"},hasSwitch=/\|/,lexicon=misc$5,switches={},tmpModel$1={two:{irregularPlurals,uncountable:{}}};Object.keys(lexData).forEach($=>{const _e=unpack(lexData[$]);if(!hasSwitch.test($)){Object.keys(_e).forEach(et=>{lexicon[et]=$});return}Object.keys(_e).forEach(et=>{if(switches[et]=$,$==="Noun|Verb"){const tt=pluralize(et,tmpModel$1);switches[tt]="Plural|Verb"}})});emoticons.forEach($=>lexicon[$]="Emoticon");delete lexicon[""];delete lexicon[null];delete lexicon[" "];const n$1="Singular",noun$1={beforeTags:{Determiner:n$1,Possessive:n$1,Acronym:n$1,Noun:n$1,Adjective:n$1,PresentTense:n$1,Gerund:n$1,PastTense:n$1,Infinitive:n$1,Date:n$1,Ordinal:n$1,Demonym:n$1},afterTags:{Value:n$1,Modal:n$1,Copula:n$1,PresentTense:n$1,PastTense:n$1,Demonym:n$1,Actor:n$1},beforeWords:{the:n$1,with:n$1,without:n$1,of:n$1,for:n$1,any:n$1,all:n$1,on:n$1,cut:n$1,cuts:n$1,increase:n$1,decrease:n$1,raise:n$1,drop:n$1,save:n$1,saved:n$1,saves:n$1,make:n$1,makes:n$1,made:n$1,minus:n$1,plus:n$1,than:n$1,another:n$1,versus:n$1,neither:n$1,about:n$1,favorite:n$1,best:n$1,daily:n$1,weekly:n$1,linear:n$1,binary:n$1,mobile:n$1,lexical:n$1,technical:n$1,computer:n$1,scientific:n$1,security:n$1,government:n$1,popular:n$1,formal:n$1,no:n$1,more:n$1,one:n$1,let:n$1,her:n$1,his:n$1,their:n$1,our:n$1,us:n$1,sheer:n$1,monthly:n$1,yearly:n$1,current:n$1,previous:n$1,upcoming:n$1,last:n$1,next:n$1,main:n$1,initial:n$1,final:n$1,beginning:n$1,end:n$1,top:n$1,bottom:n$1,future:n$1,past:n$1,major:n$1,minor:n$1,side:n$1,central:n$1,peripheral:n$1,public:n$1,private:n$1},afterWords:{of:n$1,system:n$1,aid:n$1,method:n$1,utility:n$1,tool:n$1,reform:n$1,therapy:n$1,philosophy:n$1,room:n$1,authority:n$1,says:n$1,said:n$1,wants:n$1,wanted:n$1,is:n$1,did:n$1,do:n$1,can:n$1,wise:n$1}},v$1="Infinitive",verb={beforeTags:{Modal:v$1,Adverb:v$1,Negative:v$1,Plural:v$1},afterTags:{Determiner:v$1,Adverb:v$1,Possessive:v$1,Reflexive:v$1,Preposition:v$1,Cardinal:v$1,Comparative:v$1,Superlative:v$1},beforeWords:{i:v$1,we:v$1,you:v$1,they:v$1,to:v$1,please:v$1,will:v$1,have:v$1,had:v$1,would:v$1,could:v$1,should:v$1,do:v$1,did:v$1,does:v$1,can:v$1,must:v$1,us:v$1,me:v$1,let:v$1,even:v$1,when:v$1,help:v$1,he:v$1,she:v$1,it:v$1,being:v$1,bi:v$1,co:v$1,contra:v$1,de:v$1,inter:v$1,intra:v$1,mis:v$1,pre:v$1,out:v$1,counter:v$1,nobody:v$1,somebody:v$1,anybody:v$1,everybody:v$1},afterWords:{the:v$1,me:v$1,you:v$1,him:v$1,us:v$1,her:v$1,his:v$1,them:v$1,they:v$1,it:v$1,himself:v$1,herself:v$1,itself:v$1,myself:v$1,ourselves:v$1,themselves:v$1,something:v$1,anything:v$1,a:v$1,an:v$1,up:v$1,down:v$1,by:v$1,out:v$1,off:v$1,under:v$1,what:v$1,all:v$1,to:v$1,because:v$1,although:v$1,how:v$1,otherwise:v$1,together:v$1,though:v$1,into:v$1,yet:v$1,more:v$1,here:v$1,there:v$1,away:v$1}},clue$7={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{})},jj$2="Adjective",adj$1={beforeTags:{Determiner:jj$2,Possessive:jj$2,Hyphenated:jj$2},afterTags:{Adjective:jj$2},beforeWords:{seem:jj$2,seemed:jj$2,seems:jj$2,feel:jj$2,feels:jj$2,felt:jj$2,stay:jj$2,appear:jj$2,appears:jj$2,appeared:jj$2,also:jj$2,over:jj$2,under:jj$2,too:jj$2,it:jj$2,but:jj$2,still:jj$2,really:jj$2,quite:jj$2,well:jj$2,very:jj$2,truly:jj$2,how:jj$2,deeply:jj$2,hella:jj$2,profoundly:jj$2,extremely:jj$2,so:jj$2,badly:jj$2,mostly:jj$2,totally:jj$2,awfully:jj$2,rather:jj$2,nothing:jj$2,something:jj$2,anything:jj$2,not:jj$2,me:jj$2,is:jj$2,face:jj$2,faces:jj$2,faced:jj$2,look:jj$2,looks:jj$2,looked:jj$2,reveal:jj$2,reveals:jj$2,revealed:jj$2,sound:jj$2,sounded:jj$2,sounds:jj$2,remains:jj$2,remained:jj$2,prove:jj$2,proves:jj$2,proved:jj$2,becomes:jj$2,stays:jj$2,tastes:jj$2,taste:jj$2,smells:jj$2,smell:jj$2,gets:jj$2,grows:jj$2,as:jj$2,rings:jj$2,radiates:jj$2,conveys:jj$2,convey:jj$2,conveyed:jj$2,of:jj$2},afterWords:{too:jj$2,also:jj$2,or:jj$2,enough:jj$2,as:jj$2}},g$2="Gerund",gerund={beforeTags:{Adverb:g$2,Preposition:g$2,Conjunction:g$2},afterTags:{Adverb:g$2,Possessive:g$2,Person:g$2,Pronoun:g$2,Determiner:g$2,Copula:g$2,Preposition:g$2,Conjunction:g$2,Comparative:g$2},beforeWords:{been:g$2,keep:g$2,continue:g$2,stop:g$2,am:g$2,be:g$2,me:g$2,began:g$2,start:g$2,starts:g$2,started:g$2,stops:g$2,stopped:g$2,help:g$2,helps:g$2,avoid:g$2,avoids:g$2,love:g$2,loves:g$2,loved:g$2,hate:g$2,hates:g$2,hated:g$2},afterWords:{you:g$2,me:g$2,her:g$2,him:g$2,his:g$2,them:g$2,their:g$2,it:g$2,this:g$2,there:g$2,on:g$2,about:g$2,for:g$2,up:g$2,down:g$2}},g$1="Gerund",jj$1="Adjective",clue$6={beforeTags:Object.assign({},adj$1.beforeTags,gerund.beforeTags,{Imperative:g$1,Infinitive:jj$1,Plural:g$1}),afterTags:Object.assign({},adj$1.afterTags,gerund.afterTags,{Noun:jj$1}),beforeWords:Object.assign({},adj$1.beforeWords,gerund.beforeWords,{is:jj$1,are:g$1,was:jj$1,of:jj$1,suggest:g$1,suggests:g$1,suggested:g$1,recommend:g$1,recommends:g$1,recommended:g$1,imagine:g$1,imagines:g$1,imagined:g$1,consider:g$1,considered:g$1,considering:g$1,resist:g$1,resists:g$1,resisted:g$1,avoid:g$1,avoided:g$1,avoiding:g$1,except:jj$1,accept:jj$1,assess:g$1,explore:g$1,fear:g$1,fears:g$1,appreciate:g$1,question:g$1,help:g$1,embrace:g$1,with:jj$1}),afterWords:Object.assign({},adj$1.afterWords,gerund.afterWords,{to:g$1,not:g$1,the:g$1})},misc$4={beforeTags:{Determiner:void 0,Cardinal:"Noun",PhrasalVerb:"Adjective"},afterTags:{}},clue$5={beforeTags:Object.assign({},adj$1.beforeTags,noun$1.beforeTags,misc$4.beforeTags),afterTags:Object.assign({},adj$1.afterTags,noun$1.afterTags,misc$4.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,noun$1.beforeWords,{are:"Adjective",is:"Adjective",was:"Adjective",be:"Adjective",off:"Adjective",out:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,noun$1.afterWords)},past$1="PastTense",jj="Adjective",adjPast={beforeTags:{Adverb:past$1,Pronoun:past$1,ProperNoun:past$1,Auxiliary:past$1,Noun:past$1},afterTags:{Possessive:past$1,Pronoun:past$1,Determiner:past$1,Adverb:past$1,Comparative:past$1,Date:past$1,Gerund:past$1},beforeWords:{be:past$1,who:past$1,get:jj,had:past$1,has:past$1,have:past$1,been:past$1,it:past$1,as:past$1,for:jj,more:jj,always:jj},afterWords:{by:past$1,back:past$1,out:past$1,in:past$1,up:past$1,down:past$1,before:past$1,after:past$1,for:past$1,the:past$1,with:past$1,as:past$1,on:past$1,at:past$1,between:past$1,to:past$1,into:past$1,us:past$1,them:past$1,his:past$1,her:past$1,their:past$1,our:past$1,me:past$1,about:jj}},adjPast$1={beforeTags:Object.assign({},adj$1.beforeTags,adjPast.beforeTags),afterTags:Object.assign({},adj$1.afterTags,adjPast.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,adjPast.beforeWords),afterWords:Object.assign({},adj$1.afterWords,adjPast.afterWords)},misc$3={afterTags:{Noun:"Adjective",Conjunction:void 0}},clue$4={beforeTags:Object.assign({},adj$1.beforeTags,verb.beforeTags,{Adverb:void 0,Negative:void 0}),afterTags:Object.assign({},adj$1.afterTags,verb.afterTags,misc$3.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,verb.beforeWords,{have:void 0,had:void 0,not:void 0,went:"Adjective",goes:"Adjective",got:"Adjective",be:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,verb.afterWords,{to:void 0,as:"Adjective"})},misc$2={beforeTags:{Copula:"Gerund",PastTense:"Gerund",PresentTense:"Gerund",Infinitive:"Gerund"},afterTags:{Value:"Gerund"},beforeWords:{are:"Gerund",were:"Gerund",be:"Gerund",no:"Gerund",without:"Gerund",you:"Gerund",we:"Gerund",they:"Gerund",he:"Gerund",she:"Gerund",us:"Gerund",them:"Gerund"},afterWords:{the:"Gerund",this:"Gerund",that:"Gerund",me:"Gerund",us:"Gerund",them:"Gerund"}},clue$3={beforeTags:Object.assign({},gerund.beforeTags,noun$1.beforeTags,misc$2.beforeTags),afterTags:Object.assign({},gerund.afterTags,noun$1.afterTags,misc$2.afterTags),beforeWords:Object.assign({},gerund.beforeWords,noun$1.beforeWords,misc$2.beforeWords),afterWords:Object.assign({},gerund.afterWords,noun$1.afterWords,misc$2.afterWords)},nn$1="Singular",vb$1="Infinitive",clue$2={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{Adjective:nn$1,Particle:nn$1}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{ProperNoun:vb$1,Gerund:vb$1,Adjective:vb$1,Copula:nn$1}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{is:nn$1,was:nn$1,of:nn$1,have:null}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{instead:vb$1,about:vb$1,his:vb$1,her:vb$1,to:null,by:null,in:null})},p$3="Person",person$1={beforeTags:{Honorific:p$3,Person:p$3},afterTags:{Person:p$3,ProperNoun:p$3,Verb:p$3},beforeWords:{hi:p$3,hey:p$3,yo:p$3,dear:p$3,hello:p$3},afterWords:{said:p$3,says:p$3,told:p$3,tells:p$3,feels:p$3,felt:p$3,seems:p$3,thinks:p$3,thought:p$3,spends:p$3,spendt:p$3,plays:p$3,played:p$3,sing:p$3,sang:p$3,learn:p$3,learned:p$3,wants:p$3,wanted:p$3}},m$2="Month",p$2="Person",month={beforeTags:{Date:m$2,Value:m$2},afterTags:{Date:m$2,Value:m$2},beforeWords:{by:m$2,in:m$2,on:m$2,during:m$2,after:m$2,before:m$2,between:m$2,until:m$2,til:m$2,sometime:m$2,of:m$2,this:m$2,next:m$2,last:m$2,previous:m$2,following:m$2,with:p$2},afterWords:{sometime:m$2,in:m$2,of:m$2,until:m$2,the:m$2}},personDate={beforeTags:Object.assign({},person$1.beforeTags,month.beforeTags),afterTags:Object.assign({},person$1.afterTags,month.afterTags),beforeWords:Object.assign({},person$1.beforeWords,month.beforeWords),afterWords:Object.assign({},person$1.afterWords,month.afterWords)},clue$1={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,{i:"Infinitive",we:"Infinitive"}),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords)},clues$3={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags,verb.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags,verb.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,verb.beforeWords),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords,verb.afterWords)},p$1="Place",place={beforeTags:{Place:p$1},afterTags:{Place:p$1,Abbreviation:p$1},beforeWords:{in:p$1,by:p$1,near:p$1,from:p$1,to:p$1},afterWords:{in:p$1,by:p$1,near:p$1,from:p$1,to:p$1,government:p$1,council:p$1,region:p$1,city:p$1}},clue={beforeTags:Object.assign({},place.beforeTags,person$1.beforeTags),afterTags:Object.assign({},place.afterTags,person$1.afterTags),beforeWords:Object.assign({},place.beforeWords,person$1.beforeWords),afterWords:Object.assign({},place.afterWords,person$1.afterWords)},clues$2={beforeTags:Object.assign({},person$1.beforeTags,adj$1.beforeTags),afterTags:Object.assign({},person$1.afterTags,adj$1.afterTags),beforeWords:Object.assign({},person$1.beforeWords,adj$1.beforeWords),afterWords:Object.assign({},person$1.afterWords,adj$1.afterWords)},un="Unit",clues$1={beforeTags:{Value:un},afterTags:{},beforeWords:{per:un,every:un,each:un,square:un,cubic:un,sq:un,metric:un},afterWords:{per:un,squared:un,cubed:un,long:un}},clues={"Actor|Verb":clue$7,"Adj|Gerund":clue$6,"Adj|Noun":clue$5,"Adj|Past":adjPast$1,"Adj|Present":clue$4,"Noun|Verb":clue$2,"Noun|Gerund":clue$3,"Person|Noun":clue$1,"Person|Date":personDate,"Person|Verb":clues$3,"Person|Place":clue,"Person|Adj":clues$2,"Unit|Noun":clues$1},copy$2=($,_e)=>{const et=Object.keys($).reduce((tt,nt)=>(tt[nt]=$[nt]==="Infinitive"?"PresentTense":"Plural",tt),{});return Object.assign(et,_e)};clues["Plural|Verb"]={beforeWords:copy$2(clues["Noun|Verb"].beforeWords,{had:"Plural",have:"Plural"}),afterWords:copy$2(clues["Noun|Verb"].afterWords,{his:"PresentTense",her:"PresentTense",its:"PresentTense",in:null,to:null,is:"PresentTense",by:"PresentTense"}),beforeTags:copy$2(clues["Noun|Verb"].beforeTags,{Conjunction:"PresentTense",Noun:void 0,ProperNoun:"PresentTense"}),afterTags:copy$2(clues["Noun|Verb"].afterTags,{Gerund:"Plural",Noun:"PresentTense",Value:"PresentTense"})};const Adj$2="Adjective",Inf$1="Infinitive",Pres$1="PresentTense",Sing$1="Singular",Past$1="PastTense",Avb="Adverb",Plrl="Plural",Actor$1="Actor",Vb="Verb",Noun$2="Noun",Prop="ProperNoun",Last$1="LastName",Modal="Modal",Place="Place",Prt="Participle",suffixPatterns=[null,null,{ea:Sing$1,ia:Noun$2,ic:Adj$2,ly:Avb,"'n":Vb,"'t":Vb},{oed:Past$1,ued:Past$1,xed:Past$1," so":Avb,"'ll":Modal,"'re":"Copula",azy:Adj$2,eer:Noun$2,end:Vb,ped:Past$1,ffy:Adj$2,ify:Inf$1,ing:"Gerund",ize:Inf$1,ibe:Inf$1,lar:Adj$2,mum:Adj$2,nes:Pres$1,nny:Adj$2,ous:Adj$2,que:Adj$2,ger:Noun$2,ber:Noun$2,rol:Sing$1,sis:Sing$1,ogy:Sing$1,oid:Sing$1,ian:Sing$1,zes:Pres$1,eld:Past$1,ken:Prt,ven:Prt,ten:Prt,ect:Inf$1,ict:Inf$1,ign:Inf$1,oze:Inf$1,ful:Adj$2,bal:Adj$2,ton:Noun$2,pur:Place},{amed:Past$1,aped:Past$1,ched:Past$1,lked:Past$1,rked:Past$1,reed:Past$1,nded:Past$1,mned:Adj$2,cted:Past$1,dged:Past$1,ield:Sing$1,akis:Last$1,cede:Inf$1,chuk:Last$1,czyk:Last$1,ects:Pres$1,iend:Sing$1,ends:Vb,enko:Last$1,ette:Sing$1,iary:Sing$1,wner:Sing$1,fies:Pres$1,fore:Avb,gate:Inf$1,gone:Adj$2,ices:Plrl,ints:Plrl,ruct:Inf$1,ines:Plrl,ions:Plrl,ners:Plrl,pers:Plrl,lers:Plrl,less:Adj$2,llen:Adj$2,made:Adj$2,nsen:Last$1,oses:Pres$1,ould:Modal,some:Adj$2,sson:Last$1,ians:Plrl,tion:Sing$1,tage:Noun$2,ique:Sing$1,tive:Adj$2,tors:Noun$2,vice:Sing$1,lier:Sing$1,fier:Sing$1,wned:Past$1,gent:Sing$1,tist:Actor$1,pist:Actor$1,rist:Actor$1,mist:Actor$1,yist:Actor$1,vist:Actor$1,ists:Actor$1,lite:Sing$1,site:Sing$1,rite:Sing$1,mite:Sing$1,bite:Sing$1,mate:Sing$1,date:Sing$1,ndal:Sing$1,vent:Sing$1,uist:Actor$1,gist:Actor$1,note:Sing$1,cide:Sing$1,ence:Sing$1,wide:Adj$2,vide:Inf$1,ract:Inf$1,duce:Inf$1,pose:Inf$1,eive:Inf$1,lyze:Inf$1,lyse:Inf$1,iant:Adj$2,nary:Adj$2,ghty:Adj$2,uent:Adj$2,erer:Actor$1,bury:Place,dorf:Noun$2,esty:Noun$2,wych:Place,dale:Place,folk:Place,vale:Place,abad:Place,sham:Place,wick:Place,view:Place},{elist:Actor$1,holic:Sing$1,phite:Sing$1,tized:Past$1,urned:Past$1,eased:Past$1,ances:Plrl,bound:Adj$2,ettes:Plrl,fully:Avb,ishes:Pres$1,ities:Plrl,marek:Last$1,nssen:Last$1,ology:Noun$2,osome:Sing$1,tment:Sing$1,ports:Plrl,rough:Adj$2,tches:Pres$1,tieth:"Ordinal",tures:Plrl,wards:Avb,where:Avb,archy:Noun$2,pathy:Noun$2,opoly:Noun$2,embly:Noun$2,phate:Noun$2,ndent:Sing$1,scent:Sing$1,onist:Actor$1,anist:Actor$1,alist:Actor$1,olist:Actor$1,icist:Actor$1,ounce:Inf$1,iable:Adj$2,borne:Adj$2,gnant:Adj$2,inant:Adj$2,igent:Adj$2,atory:Adj$2,rient:Sing$1,dient:Sing$1,maker:Actor$1,burgh:Place,mouth:Place,ceter:Place,ville:Place,hurst:Place,stead:Place,endon:Place,brook:Place,shire:Place,worth:Noun$2,field:Prop,ridge:Place},{auskas:Last$1,parent:Sing$1,cedent:Sing$1,ionary:Sing$1,cklist:Sing$1,brooke:Place,keeper:Actor$1,logist:Actor$1,teenth:"Value",worker:Actor$1,master:Actor$1,writer:Actor$1,brough:Place,cester:Place,ington:Place,cliffe:Place,ingham:Place},{chester:Place,logists:Actor$1,opoulos:Last$1,borough:Place,sdottir:Last$1}],Adj$1="Adjective",Noun$1="Noun",Verb$1="Verb",prefixPatterns=[null,null,{},{neo:Noun$1,bio:Noun$1,"de-":Verb$1,"re-":Verb$1,"un-":Verb$1,"ex-":Noun$1},{anti:Noun$1,auto:Noun$1,faux:Adj$1,hexa:Noun$1,kilo:Noun$1,mono:Noun$1,nano:Noun$1,octa:Noun$1,poly:Noun$1,semi:Adj$1,tele:Noun$1,"pro-":Adj$1,"mis-":Verb$1,"dis-":Verb$1,"pre-":Adj$1},{anglo:Noun$1,centi:Noun$1,ethno:Noun$1,ferro:Noun$1,grand:Noun$1,hepta:Noun$1,hydro:Noun$1,intro:Noun$1,macro:Noun$1,micro:Noun$1,milli:Noun$1,nitro:Noun$1,penta:Noun$1,quasi:Adj$1,radio:Noun$1,tetra:Noun$1,"omni-":Adj$1,"post-":Adj$1},{pseudo:Adj$1,"extra-":Adj$1,"hyper-":Adj$1,"inter-":Adj$1,"intra-":Adj$1,"deca-":Adj$1},{electro:Noun$1}],Adj="Adjective",Inf="Infinitive",Pres="PresentTense",Sing="Singular",Past="PastTense",Adverb="Adverb",Exp="Expression",Actor="Actor",Verb="Verb",Noun="Noun",Last="LastName",endsWith={a:[[/.[aeiou]na$/,Noun,"tuna"],[/.[oau][wvl]ska$/,Last],[/.[^aeiou]ica$/,Sing,"harmonica"],[/^([hyj]a+)+$/,Exp,"haha"]],c:[[/.[^aeiou]ic$/,Adj]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,Past,"popped"],[/.[aeo]{2}[bdgmnprvz]ed$/,Past,"rammed"],[/.[aeiou][sg]hed$/,Past,"gushed"],[/.[aeiou]red$/,Past,"hired"],[/.[aeiou]r?ried$/,Past,"hurried"],[/[^aeiou]ard$/,Sing,"steward"],[/[aeiou][^aeiou]id$/,Adj,""],[/.[vrl]id$/,Adj,"livid"],[/..led$/,Past,"hurled"],[/.[iao]sed$/,Past,""],[/[aeiou]n?[cs]ed$/,Past,""],[/[aeiou][rl]?[mnf]ed$/,Past,""],[/[aeiou][ns]?c?ked$/,Past,"bunked"],[/[aeiou]gned$/,Past],[/[aeiou][nl]?ged$/,Past],[/.[tdbwxyz]ed$/,Past],[/[^aeiou][aeiou][tvx]ed$/,Past],[/.[cdflmnprstv]ied$/,Past,"emptied"]],e:[[/.[lnr]ize$/,Inf,"antagonize"],[/.[^aeiou]ise$/,Inf,"antagonise"],[/.[aeiou]te$/,Inf,"bite"],[/.[^aeiou][ai]ble$/,Adj,"fixable"],[/.[^aeiou]eable$/,Adj,"maleable"],[/.[ts]ive$/,Adj,"festive"],[/[a-z]-like$/,Adj,"woman-like"]],h:[[/.[^aeiouf]ish$/,Adj,"cornish"],[/.v[iy]ch$/,Last,"..ovich"],[/^ug?h+$/,Exp,"ughh"],[/^uh[ -]?oh$/,Exp,"uhoh"],[/[a-z]-ish$/,Adj,"cartoon-ish"]],i:[[/.[oau][wvl]ski$/,Last,"polish-male"]],k:[[/^(k){2}$/,Exp,"kkkk"]],l:[[/.[gl]ial$/,Adj,"familial"],[/.[^aeiou]ful$/,Adj,"fitful"],[/.[nrtumcd]al$/,Adj,"natal"],[/.[^aeiou][ei]al$/,Adj,"familial"]],m:[[/.[^aeiou]ium$/,Sing,"magnesium"],[/[^aeiou]ism$/,Sing,"schism"],[/^[hu]m+$/,Exp,"hmm"],[/^\d+ ?[ap]m$/,"Date","3am"]],n:[[/.[lsrnpb]ian$/,Adj,"republican"],[/[^aeiou]ician$/,Actor,"musician"],[/[aeiou][ktrp]in'$/,"Gerund","cookin'"]],o:[[/^no+$/,Exp,"noooo"],[/^(yo)+$/,Exp,"yoo"],[/^wo{2,}[pt]?$/,Exp,"woop"]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Sing],[/[^i]fer$/,Inf],[/.[^aeiou][ao]pher$/,Actor],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Adj],[/[aeiou].*ist$/,Adj],[/^[a-z]et$/,Verb]],s:[[/.[^aeiou]ises$/,Pres],[/.[rln]ates$/,Pres],[/.[^z]ens$/,Verb],[/.[lstrn]us$/,Sing],[/.[aeiou]sks$/,Pres],[/.[aeiou]kes$/,Pres],[/[aeiou][^aeiou]is$/,Sing],[/[a-z]'s$/,Noun],[/^yes+$/,Exp]],v:[[/.[^aeiou][ai][kln]ov$/,Last]],y:[[/.[cts]hy$/,Adj],[/.[st]ty$/,Adj],[/.[tnl]ary$/,Adj],[/.[oe]ry$/,Sing],[/[rdntkbhs]ly$/,Adverb],[/.(gg|bb|zz)ly$/,Adj],[/...lly$/,Adverb],[/.[gk]y$/,Adj],[/[bszmp]{2}y$/,Adj],[/.[ai]my$/,Adj],[/[ea]{2}zy$/,Adj],[/.[^aeiou]ity$/,Sing]]},vb="Verb",nn="Noun",neighbours$1={leftTags:[["Adjective",nn],["Possessive",nn],["Determiner",nn],["Adverb",vb],["Pronoun",vb],["Value",nn],["Ordinal",nn],["Modal",vb],["Superlative",nn],["Demonym",nn],["Honorific","Person"]],leftWords:[["i",vb],["first",nn],["it",vb],["there",vb],["not",vb],["because",nn],["if",nn],["but",nn],["who",vb],["this",nn],["his",nn],["when",nn],["you",vb],["very","Adjective"],["old",nn],["never",vb],["before",nn],["a",nn],["the",nn],["been",vb]],rightTags:[["Copula",nn],["PastTense",nn],["Conjunction",nn],["Modal",nn]],rightWords:[["there",vb],["me",vb],["man","Adjective"],["him",vb],["it",vb],["were",nn],["took",nn],["himself",vb],["went",nn],["who",nn],["jr","Person"]]},data={Comparative:{fwd:"3:ser,ier1er:h,t,f,l,n1r:e2er:ss,or,om",both:"3er:ver,ear,alm3ner:hin3ter:lat2mer:im2er:ng,rm,mb2ber:ib2ger:ig1er:w,p,k,dier:y",rev:"1:tter,yer2:uer,ver,ffer,oner,eler,ller,iler,ster,cer,uler,sher,ener,gher,aner,adder,nter,eter,rter,hter,rner,fter3:oser,ooler,eafer,user,airer,bler,maler,tler,eater,uger,rger,ainer,urer,ealer,icher,pler,emner,icter,nser,iser4:arser,viner,ucher,rosser,somer,ndomer,moter,oother,uarer,hiter5:nuiner,esser,emierar:urther",ex:"worse:badbetter:good4er:fair,gray,poor1urther:far3ter:fat,hot,wet3der:mad,sad3er:shy,fun4der:glad:4r:cute,dire,fake,fine,free,lame,late,pale,rare,ripe,rude,safe,sore,tame,wide5r:eerie,stale"},Gerund:{fwd:"1:nning,tting,rring,pping,eing,mming,gging,dding,bbing,kking2:eking,oling,eling,eming3:velling,siting,uiting,fiting,loting,geting,ialing,celling4:graming",both:"1:aing,iing,fing,xing,ying,oing,hing,wing2:tzing,rping,izzing,bting,mning,sping,wling,rling,wding,rbing,uping,lming,wning,mping,oning,lting,mbing,lking,fting,hting,sking,gning,pting,cking,ening,nking,iling,eping,ering,rting,rming,cting,lping,ssing,nting,nding,lding,sting,rning,rding,rking3:belling,siping,toming,yaking,uaking,oaning,auling,ooping,aiding,naping,euring,tolling,uzzing,ganing,haning,ualing,halling,iasing,auding,ieting,ceting,ouling,voring,ralling,garing,joring,oaming,oaking,roring,nelling,ooring,uelling,eaming,ooding,eaping,eeting,ooting,ooming,xiting,keting,ooking,ulling,airing,oaring,biting,outing,oiting,earing,naling,oading,eeding,ouring,eaking,aiming,illing,oining,eaning,onging,ealing,aining,eading4:thoming,melling,aboring,ivoting,weating,dfilling,onoring,eriting,imiting,tialling,rgining,otoring,linging,winging,lleting,louding,spelling,mpelling,heating,feating,opelling,choring,welling,ymaking,ctoring,calling,peating,iloring,laiting,utoring,uditing,mmaking,loating,iciting,waiting,mbating,voiding,otalling,nsoring,nselling,ocusing,itoring,eloping5:rselling,umpeting,atrolling,treating,tselling,rpreting,pringing,ummeting,ossoming,elmaking,eselling,rediting,totyping,onmaking,rfeiting,ntrolling5e:chmaking,dkeeping,severing,erouting,ecreting,ephoning,uthoring,ravening,reathing,pediting,erfering,eotyping,fringing,entoring,ombining,ompeting4e:emaking,eething,twining,rruling,chuting,xciting,rseding,scoping,edoring,pinging,lunging,agining,craping,pleting,eleting,nciting,nfining,ncoding,tponing,ecoding,writing,esaling,nvening,gnoring,evoting,mpeding,rvening,dhering,mpiling,storing,nviting,ploring3e:tining,nuring,saking,miring,haling,ceding,xuding,rining,nuting,laring,caring,miling,riding,hoking,piring,lading,curing,uading,noting,taping,futing,paring,hading,loding,siring,guring,vading,voking,during,niting,laning,caping,luting,muting,ruding,ciding,juring,laming,caling,hining,uoting,liding,ciling,duling,tuting,puting,cuting,coring,uiding,tiring,turing,siding,rading,enging,haping,buting,lining,taking,anging,haring,uiring,coming,mining,moting,suring,viding,luding2e:tring,zling,uging,oging,gling,iging,vring,fling,lging,obing,psing,pling,ubing,cling,dling,wsing,iking,rsing,dging,kling,ysing,tling,rging,eging,nsing,uning,osing,uming,using,ibing,bling,aging,ising,asing,ating2ie:rlying1e:zing,uing,cing,ving",rev:"ying:ie1ing:se,ke,te,we,ne,re,de,pe,me,le,c,he2ing:ll,ng,dd,ee,ye,oe,rg,us2ning:un2ging:og,ag,ug,ig,eg2ming:um2bing:ub,ab,eb,ob3ning:lan,can,hin,pin,win3ring:cur,lur,tir,tar,pur,car3ing:ait,del,eel,fin,eat,oat,eem,lel,ool,ein,uin3ping:rop,rap,top,uip,wap,hip,hop,lap,rip,cap3ming:tem,wim,rim,kim,lim3ting:mat,cut,pot,lit,lot,hat,set,pit,put3ding:hed,bed,bid3king:rek3ling:cil,pel3bing:rib4ning:egin4ing:isit,ruit,ilot,nsit,dget,rkel,ival,rcel4ring:efer,nfer4ting:rmit,mmit,ysit,dmit,emit,bmit,tfit,gret4ling:evel,xcel,ivel4ding:hred5ing:arget,posit,rofit5ring:nsfer5ting:nsmit,orget,cquit5ling:ancel,istil",ex:"3:adding,eating,aiming,aiding,airing,outing,gassing,setting,getting,putting,cutting,winning,sitting,betting,mapping,tapping,letting,bidding,hitting,tanning,netting,popping,fitting,capping,lapping,barring,banning,vetting,topping,rotting,tipping,potting,wetting,pitting,dipping,budding,hemming,pinning,jetting,kidding,padding,podding,sipping,wedding,bedding,donning,warring,penning,gutting,cueing,wadding,petting,ripping,napping,matting,tinning,binning,dimming,hopping,mopping,nodding,panning,rapping,ridding,sinning4:selling,falling,calling,waiting,editing,telling,rolling,heating,boating,hanging,beating,coating,singing,tolling,felling,polling,discing,seating,voiding,gelling,yelling,baiting,reining,ruining,seeking,spanning,stepping,knitting,emitting,slipping,quitting,dialing,omitting,clipping,shutting,skinning,abutting,flipping,trotting,cramming,fretting,suiting5:bringing,treating,spelling,stalling,trolling,expelling,rivaling,wringing,deterring,singeing,befitting,refitting6:enrolling,distilling,scrolling,strolling,caucusing,travelling7:installing,redefining,stencilling,recharging,overeating,benefiting,unraveling,programing9:reprogrammingis:being2e:using,aging,owing3e:making,taking,coming,noting,hiring,filing,coding,citing,doping,baking,coping,hoping,lading,caring,naming,voting,riding,mining,curing,lining,ruling,typing,boring,dining,firing,hiding,piling,taping,waning,baling,boning,faring,honing,wiping,luring,timing,wading,piping,fading,biting,zoning,daring,waking,gaming,raking,ceding,tiring,coking,wining,joking,paring,gaping,poking,pining,coring,liming,toting,roping,wiring,aching4e:writing,storing,eroding,framing,smoking,tasting,wasting,phoning,shaking,abiding,braking,flaking,pasting,priming,shoring,sloping,withing,hinging5e:defining,refining,renaming,swathing,fringing,reciting1ie:dying,tying,lying,vying7e:sunbathing"},Participle:{fwd:"1:mt2:llen3:iven,aken:ney:in",both:"1:wn2:me,aten3:seen,bidden,isen4:roven,asten3l:pilt3d:uilt2e:itten1im:wum1eak:poken1ine:hone1ose:osen1in:gun1ake:wokenear:orneal:oleneeze:ozenet:ottenink:unking:ung",rev:"2:unoken:eakought:eekoven:eave1ne:o1own:ly1den:de1in:ay2t:am2n:ee3en:all4n:rive,sake,take5n:rgive",ex:"2:been3:seen,run4:given,taken5:shaken2eak:broken1ive:dove2y:flown3e:hidden,ridden1eek:sought1ake:woken1eave:woven"},PastTense:{fwd:"1:tted,wed,gged,nned,een,rred,pped,yed,bbed,oed,dded,rd,wn,mmed2:eed,nded,et,hted,st,oled,ut,emed,eled,lded,ken,rt,nked,apt,ant,eped,eked3:eared,eat,eaded,nelled,ealt,eeded,ooted,eaked,eaned,eeted,mited,bid,uit,ead,uited,ealed,geted,velled,ialed,belled4:ebuted,hined,comedy:iedome:ameear:oreind:ounding:ung,angep:ptink:ank,unkig:ugall:ellee:awive:aveeeze:ozeold:eldave:ftake:ookell:oldite:oteide:odeine:onein:un,oneal:oleim:amie:ayand:ood1ise:rose1eak:roke1ing:rought1ive:rove1el:elt1id:bade1et:got1y:aid1it:sat3e:lid3d:pent",both:"1:aed,fed,xed,hed2:sged,xted,wled,rped,lked,kied,lmed,lped,uped,bted,rbed,rked,wned,rled,mped,fted,mned,mbed,zzed,omed,ened,cked,gned,lted,sked,ued,zed,nted,ered,rted,rmed,ced,sted,rned,ssed,rded,pted,ved,cted3:cled,eined,siped,ooned,uked,ymed,jored,ouded,ioted,oaned,lged,asped,iged,mured,oided,eiled,yped,taled,moned,yled,lit,kled,oaked,gled,naled,fled,uined,oared,valled,koned,soned,aided,obed,ibed,meted,nicked,rored,micked,keted,vred,ooped,oaded,rited,aired,auled,filled,ouled,ooded,ceted,tolled,oited,bited,aped,tled,vored,dled,eamed,nsed,rsed,sited,owded,pled,sored,rged,osed,pelled,oured,psed,oated,loned,aimed,illed,eured,tred,ioned,celled,bled,wsed,ooked,oiled,itzed,iked,iased,onged,ased,ailed,uned,umed,ained,auded,nulled,ysed,eged,ised,aged,oined,ated,used,dged,doned4:ntied,efited,uaked,caded,fired,roped,halled,roked,himed,culed,tared,lared,tuted,uared,routed,pited,naked,miled,houted,helled,hared,cored,caled,tired,peated,futed,ciled,called,tined,moted,filed,sided,poned,iloted,honed,lleted,huted,ruled,cured,named,preted,vaded,sured,talled,haled,peded,gined,nited,uided,ramed,feited,laked,gured,ctored,unged,pired,cuted,voked,eloped,ralled,rined,coded,icited,vided,uaded,voted,mined,sired,noted,lined,nselled,luted,jured,fided,puted,piled,pared,olored,cided,hoked,enged,tured,geoned,cotted,lamed,uiled,waited,udited,anged,luded,mired,uired,raded5:modelled,izzled,eleted,umpeted,ailored,rseded,treated,eduled,ecited,rammed,eceded,atrolled,nitored,basted,twined,itialled,ncited,gnored,ploded,xcited,nrolled,namelled,plored,efeated,redited,ntrolled,nfined,pleted,llided,lcined,eathed,ibuted,lloted,dhered,cceded3ad:sled2aw:drew2ot:hot2ke:made2ow:hrew,grew2ose:hose2d:ilt2in:egan1un:ran1ink:hought1ick:tuck1ike:ruck1eak:poke,nuck1it:pat1o:did1ow:new1ake:wokego:went",rev:"3:rst,hed,hut,cut,set4:tbid5:dcast,eread,pread,erbidought:uy,eek1ied:ny,ly,dy,ry,fy,py,vy,by,ty,cy1ung:ling,ting,wing1pt:eep1ank:rink1ore:bear,wear1ave:give1oze:reeze1ound:rind,wind1ook:take,hake1aw:see1old:sell1ote:rite1ole:teal1unk:tink1am:wim1ay:lie1ood:tand1eld:hold2d:he,ge,re,le,leed,ne,reed,be,ye,lee,pe,we2ed:dd,oy,or,ey,gg,rr,us,ew,to2ame:ecome,rcome2ped:ap2ged:ag,og,ug,eg2bed:ub,ab,ib,ob2lt:neel2id:pay2ang:pring2ove:trive2med:um2ode:rride2at:ysit3ted:mit,hat,mat,lat,pot,rot,bat3ed:low,end,tow,und,ond,eem,lay,cho,dow,xit,eld,ald,uld,law,lel,eat,oll,ray,ank,fin,oam,out,how,iek,tay,haw,ait,vet,say,cay,bow3d:ste,ede,ode,ete,ree,ude,ame,oke,ote,ime,ute,ade3red:lur,cur,pur,car3ped:hop,rop,uip,rip,lip,tep,top3ded:bed,rod,kid3ade:orbid3led:uel3ned:lan,can,kin,pan,tun3med:rim,lim4ted:quit,llot4ed:pear,rrow,rand,lean,mand,anel,pand,reet,link,abel,evel,imit,ceed,ruit,mind,peal,veal,hool,head,pell,well,mell,uell,band,hear,weak4led:nnel,qual,ebel,ivel4red:nfer,efer,sfer4n:sake,trew4d:ntee4ded:hred4ned:rpin5ed:light,nceal,right,ndear,arget,hread,eight,rtial,eboot5d:edite,nvite5ted:egret5led:ravel",ex:"2:been,upped3:added,aged,aided,aimed,aired,bid,died,dyed,egged,erred,eyed,fit,gassed,hit,lied,owed,pent,pied,tied,used,vied,oiled,outed,banned,barred,bet,canned,cut,dipped,donned,ended,feed,inked,jarred,let,manned,mowed,netted,padded,panned,pitted,popped,potted,put,set,sewn,sowed,tanned,tipped,topped,vowed,weed,bowed,jammed,binned,dimmed,hopped,mopped,nodded,pinned,rigged,sinned,towed,vetted4:ached,baked,baled,boned,bored,called,caned,cared,ceded,cited,coded,cored,cubed,cured,dared,dined,edited,exited,faked,fared,filed,fined,fired,fuelled,gamed,gelled,hired,hoped,joked,lined,mined,named,noted,piled,poked,polled,pored,pulled,reaped,roamed,rolled,ruled,seated,shed,sided,timed,tolled,toned,voted,waited,walled,waned,winged,wiped,wired,zoned,yelled,tamed,lubed,roped,faded,mired,caked,honed,banged,culled,heated,raked,welled,banded,beat,cast,cooled,cost,dealt,feared,folded,footed,handed,headed,heard,hurt,knitted,landed,leaked,leapt,linked,meant,minded,molded,neared,needed,peaked,plodded,plotted,pooled,quit,read,rooted,sealed,seeded,seeped,shipped,shunned,skimmed,slammed,sparred,stemmed,stirred,suited,thinned,twinned,swayed,winked,dialed,abutted,blotted,fretted,healed,heeded,peeled,reeled5:basted,cheated,equalled,eroded,exiled,focused,opined,pleated,primed,quoted,scouted,shored,sloped,smoked,sniped,spelled,spouted,routed,staked,stored,swelled,tasted,treated,wasted,smelled,dwelled,honored,prided,quelled,eloped,scared,coveted,sweated,breaded,cleared,debuted,deterred,freaked,modeled,pleaded,rebutted,speeded6:anchored,defined,endured,impaled,invited,refined,revered,strolled,cringed,recast,thrust,unfolded7:authored,combined,competed,conceded,convened,excreted,extruded,redefined,restored,secreted,rescinded,welcomed8:expedited,infringed9:interfered,intervened,persevered10:contravenedeat:ateis:wasgo:wentare:were3d:bent,lent,rent,sent3e:bit,fled,hid,lost3ed:bled,bred2ow:blew,grew1uy:bought2tch:caught1o:did1ive:dove,gave2aw:drew2ed:fed2y:flew,laid,paid,said1ight:fought1et:got2ve:had1ang:hung2ad:led2ght:lit2ke:made2et:met1un:ran1ise:rose1it:sat1eek:sought1each:taught1ake:woke,took1eave:wove2ise:arose1ear:bore,tore,wore1ind:bound,found,wound2eak:broke2ing:brought,wrung1ome:came2ive:drove1ig:dug1all:fell2el:felt4et:forgot1old:held2ave:left1ing:rang,sang1ide:rode1ink:sank1ee:saw2ine:shone4e:slid1ell:sold,told4d:spent2in:spun1in:won"},PresentTense:{fwd:"1:oes1ve:as",both:"1:xes2:zzes,ches,shes,sses3:iases2y:llies,plies1y:cies,bies,ties,vies,nies,pies,dies,ries,fies:s",rev:"1ies:ly2es:us,go,do3es:cho,eto",ex:"2:does,goes3:gasses5:focusesis:are3y:relies2y:flies2ve:has"},Superlative:{fwd:"1st:e1est:l,m,f,s1iest:cey2est:or,ir3est:ver",both:"4:east5:hwest5lest:erful4est:weet,lgar,tter,oung4most:uter3est:ger,der,rey,iet,ong,ear3test:lat3most:ner2est:pt,ft,nt,ct,rt,ht2test:it2gest:ig1est:b,k,n,p,h,d,wiest:y",rev:"1:ttest,nnest,yest2:sest,stest,rmest,cest,vest,lmest,olest,ilest,ulest,ssest,imest,uest3:rgest,eatest,oorest,plest,allest,urest,iefest,uelest,blest,ugest,amest,yalest,ealest,illest,tlest,itest4:cerest,eriest,somest,rmalest,ndomest,motest,uarest,tiffest5:leverest,rangestar:urthest3ey:riciest",ex:"best:goodworst:bad5est:great4est:fast,full,fair,dull3test:hot,wet,fat4nest:thin1urthest:far3est:gay,shy,ill4test:neat4st:late,wide,fine,safe,cute,fake,pale,rare,rude,sore,ripe,dire6st:severe"},AdjToNoun:{fwd:"1:tistic,eable,lful,sful,ting,tty2:onate,rtable,geous,ced,seful,ctful3:ortive,entedarity:eary:eticfulness:begone1ity:re1y:tiful,gic2ity:ile,imous,ilous,ime2ion:ated2eness:iving2y:trious2ation:iring2tion:vant3ion:ect3ce:mant,mantic3tion:irable3y:est,estic3m:mistic,listic3ess:ning4n:utious4on:rative,native,vative,ective4ce:erant",both:"1:king,wing2:alous,ltuous,oyful,rdous3:gorous,ectable,werful,amatic4:oised,usical,agical,raceful,ocused,lined,ightful5ness:stful,lding,itous,nuous,ulous,otous,nable,gious,ayful,rvous,ntous,lsive,peful,entle,ciful,osive,leful,isive,ncise,reful,mious5ty:ivacious5ties:ubtle5ce:ilient,adiant,atient5cy:icient5sm:gmatic5on:sessive,dictive5ity:pular,sonal,eative,entic5sity:uminous5ism:conic5nce:mperate5ility:mitable5ment:xcited5n:bitious4cy:brant,etent,curate4ility:erable,acable,icable,ptable4ty:nacious,aive,oyal,dacious4n:icious4ce:vient,erent,stent,ndent,dient,quent,ident4ness:adic,ound,hing,pant,sant,oing,oist,tute4icity:imple4ment:fined,mused4ism:otic4ry:dantic4ity:tund,eral4edness:hand4on:uitive4lity:pitable4sm:eroic,namic4sity:nerous3th:arm3ility:pable,bable,dable,iable3cy:hant,nant,icate3ness:red,hin,nse,ict,iet,ite,oud,ind,ied,rce3ion:lute3ity:ual,gal,volous,ial3ce:sent,fensive,lant,gant,gent,lent,dant3on:asive3m:fist,sistic,iastic3y:terious,xurious,ronic,tastic3ur:amorous3e:tunate3ation:mined3sy:rteous3ty:ain3ry:ave3ment:azed2ness:de,on,ue,rn,ur,ft,rp,pe,om,ge,rd,od,ay,ss,er,ll,oy,ap,ht,ld,ad,rt2inousness:umous2ity:neous,ene,id,ane2cy:bate,late2ation:ized2ility:oble,ible2y:odic2e:oving,aring2s:ost2itude:pt2dom:ee2ance:uring2tion:reet2ion:oted2sion:ending2liness:an2or:rdent1th:ung1e:uable1ness:w,h,k,f1ility:mble1or:vent1ement:ging1tiquity:ncient1ment:hedverty:orength:ongeat:otpth:epiness:y",rev:"",ex:"5:forceful,humorous8:charismatic13:understanding5ity:active11ness:adventurous,inquisitive,resourceful8on:aggressive,automatic,perceptive7ness:amorous,fatuous,furtive,ominous,serious5ness:ample,sweet12ness:apprehensive,cantankerous,contemptuous,ostentatious13ness:argumentative,conscientious9ness:assertive,facetious,imperious,inventive,oblivious,rapacious,receptive,seditious,whimsical10ness:attractive,expressive,impressive,loquacious,salubrious,thoughtful3edom:boring4ness:calm,fast,keen,tame8ness:cheerful,gracious,specious,spurious,timorous,unctuous5sity:curious9ion:deliberate8ion:desperate6e:expensive7ce:fragrant3y:furious9ility:ineluctable6ism:mystical8ity:physical,proactive,sensitive,vertical5cy:pliant7ity:positive9ity:practical12ism:professional6ce:prudent3ness:red6cy:vagrant3dom:wise"}},checkEx=function($,_e={}){return _e.hasOwnProperty($)?_e[$]:null},checkSame=function($,_e=[]){for(let et=0;et<_e.length;et+=1)if($.endsWith(_e[et]))return $;return null},checkRules=function($,_e,et={}){_e=_e||{};let tt=$.length-1;for(let nt=tt;nt>=1;nt-=1){let rt=$.length-nt,it=$.substring(rt,$.length);if(_e.hasOwnProperty(it)===!0)return $.slice(0,rt)+_e[it];if(et.hasOwnProperty(it)===!0)return $.slice(0,rt)+et[it]}return _e.hasOwnProperty("")?$+=_e[""]:et.hasOwnProperty("")?$+=et[""]:null},convert=function($="",_e={}){let et=checkEx($,_e.ex);return et=et||checkSame($,_e.same),et=et||checkRules($,_e.fwd,_e.both),et=et||$,et},flipObj=function($){return Object.entries($).reduce((_e,et)=>(_e[et[1]]=et[0],_e),{})},reverse$1=function($={}){return{reversed:!0,both:flipObj($.both),ex:flipObj($.ex),fwd:$.rev||{}}},prefix$3=/^([0-9]+)/,toObject=function($){let _e={};return $.split("").forEach(et=>{let[tt,nt]=et.split(":");nt=(nt||"").split(","),nt.forEach(rt=>{_e[rt]=tt})}),_e},growObject=function($="",_e=""){_e=String(_e);let et=_e.match(prefix$3);if(et===null)return _e;let tt=Number(et[1])||0;return $.substring(0,tt)+_e.replace(prefix$3,"")},unpackOne=function($){let _e=toObject($);return Object.keys(_e).reduce((et,tt)=>(et[tt]=growObject(tt,_e[tt]),et),{})},uncompress=function($={}){return typeof $=="string"&&($=JSON.parse($)),$.fwd=unpackOne($.fwd||""),$.both=unpackOne($.both||""),$.rev=unpackOne($.rev||""),$.ex=unpackOne($.ex||""),$},fromPast=uncompress(data.PastTense),fromPresent=uncompress(data.PresentTense),fromGerund=uncompress(data.Gerund),fromParticiple=uncompress(data.Participle),toPast$3=reverse$1(fromPast),toPresent$2=reverse$1(fromPresent),toGerund$2=reverse$1(fromGerund),toParticiple=reverse$1(fromParticiple),toComparative$1=uncompress(data.Comparative),toSuperlative$1=uncompress(data.Superlative),fromComparative$1=reverse$1(toComparative$1),fromSuperlative$1=reverse$1(toSuperlative$1),adjToNoun=uncompress(data.AdjToNoun),models={fromPast,fromPresent,fromGerund,fromParticiple,toPast:toPast$3,toPresent:toPresent$2,toGerund:toGerund$2,toParticiple,toComparative:toComparative$1,toSuperlative:toSuperlative$1,fromComparative:fromComparative$1,fromSuperlative:fromSuperlative$1,adjToNoun},regexNormal=[[/^[\w.]+@[\w.]+\.[a-z]{2,3}$/,"Email"],[/^(https?:\/\/|www\.)+\w+\.[a-z]{2,3}/,"Url","http.."],[/^[a-z0-9./].+\.(com|net|gov|org|ly|edu|info|biz|dev|ru|jp|de|in|uk|br|io|ai)/,"Url",".com"],[/^[PMCE]ST$/,"Timezone","EST"],[/^ma?c'[a-z]{3}/,"LastName","mc'neil"],[/^o'[a-z]{3}/,"LastName","o'connor"],[/^ma?cd[aeiou][a-z]{3}/,"LastName","mcdonald"],[/^(lol)+[sz]$/,"Expression","lol"],[/^wo{2,}a*h?$/,"Expression","wooah"],[/^(hee?){2,}h?$/,"Expression","hehe"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb","un-vite"],[/^(m|k|cm|km)\/(s|h|hr)$/,"Unit","5 k/m"],[/^(ug|ng|mg)\/(l|m3|ft3)$/,"Unit","ug/L"],[new RegExp("[^:/]\\/\\p{Letter}","u"),"SlashedTerm","love/hate"]],regexText=[[new RegExp("^#[\\p{Number}_]*\\p{Letter}","u"),"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^([A-Z]\.){2}[A-Z]?/i,["Acronym","Noun"],"F.B.I"],[/.{3}[lkmnp]in['`]$/,"Gerund","chillin'"],[/.{4}s['`]$/,"Possessive","flanders'"],[/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]/u,"Emoji","emoji-class"]],regexNumbers=[[/^@1?[0-9](am|pm)$/i,"Time","3pm"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time","3:30pm"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time","3:12:31"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time","1:12pm"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time","1:12:31pm"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date","iso-date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date","iso-dash"],[/^[0-9]{1,4}\/[0-9]{1,2}\/([0-9]{4}|[0-9]{2})$/,"Date","iso-slash"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date","iso-dot"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date","12-dec-2019"],[/^utc ?[+-]?[0-9]+$/,"Timezone","utc-9"],[/^(gmt|utc)[+-][0-9]{1,2}$/i,"Timezone","gmt-3"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber","421-0029"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber","1-800-"],[new RegExp("^[-+]?\\p{Currency_Symbol}[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?([kmb]|bn)?\\+?$","u"),["Money","Value"],"$5.30"],[new RegExp("^[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?\\p{Currency_Symbol}\\+?$","u"),["Money","Value"],"5.30"],[/^[-+]?[$]?[0-9]([0-9,.])+(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"],"$400usd"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"],"5,999"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"],"53rd"],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"],".73th"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"],"-4%"],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"],".3%"],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"],"2/3rds"],[/^[0-9.]{1,3}[a-z]{0,2}[-][0-9]{1,3}[a-z]{0,2}$/,["Value","NumberRange"],"3-4"],[/^[0-9]{1,2}(:[0-9][0-9])?(am|pm)? ?[-] ?[0-9]{1,2}(:[0-9][0-9])?(am|pm)$/,["Time","NumberRange"],"3-4pm"],[/^[0-9.]+([a-z]{1,4})$/,"NumericValue","9km"]],orgWords=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","bureau","cafe","co","caisse","capital","care","cathedral","center","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","data","departement","department","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","faculty","faction","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","llc","ltd","limited","machines","magazine","management","marine","marketing","markets","media","memorial","ministere","ministry","military","mobile","motor","motors","musee","museum","news","observatory","office","oil","optical","orchestra","organization","partners","partnership","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","politburo","polytechnic","post","power","press","productions","quartet","radio","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","societe","subsidiary","society","sons","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce(($,_e)=>($[_e]=!0,$),{}),placeWords=["atoll","basin","bay","beach","bluff","bog","camp","canyon","canyons","cape","cave","caves","cliffs","coast","cove","coves","crater","crossing","creek","desert","dune","dunes","downs","estates","escarpment","estuary","falls","fjord","fjords","forest","forests","glacier","gorge","gorges","grove","gulf","gully","highland","heights","hollow","hill","hills","inlet","island","islands","isthmus","junction","knoll","lagoon","lake","lakeshore","marsh","marshes","mount","mountain","mountains","narrows","peninsula","plains","plateau","pond","rapids","ravine","reef","reefs","ridge","river","rivers","sandhill","shoal","shore","shoreline","shores","strait","straits","springs","stream","swamp","tombolo","trail","trails","trench","valley","vallies","village","volcano","waterfall","watershed","wetland","woods","acres","burough","county","district","municipality","prefecture","province","region","reservation","state","territory","borough","metropolis","downtown","uptown","midtown","city","town","township","hamlet","country","kingdom","enclave","neighbourhood","neighborhood","kingdom","ward","zone","airport","amphitheater","arch","arena","auditorium","bar","barn","basilica","battlefield","bridge","building","castle","centre","coliseum","cineplex","complex","dam","farm","field","fort","garden","gardens","gymnasium","hall","house","levee","library","manor","memorial","monument","museum","gallery","palace","pillar","pits","plantation","playhouse","quarry","sportsfield","sportsplex","stadium","terrace","terraces","theater","tower","park","parks","site","ranch","raceway","sportsplex","ave","st","street","rd","road","lane","landing","crescent","cr","way","tr","terrace","avenue"].reduce(($,_e)=>($[_e]=!0,$),{}),rules$1=[[/([^v])ies$/i,"$1y"],[/(ise)s$/i,"$1"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(ause)s$/i,"$1"],[/(ease)s$/i,"$1"],[/(ious)es$/i,"$1"],[/(ouse)s$/i,"$1"],[/(ose)s$/i,"$1"],[/(..ase)s$/i,"$1"],[/(..[aeiu]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/([xo]|ch|ss|sh)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ic)s$/i,"$1"],[/s$/i,""]],invertObj=function($){return Object.keys($).reduce((_e,et)=>(_e[$[et]]=et,_e),{})},toSingular=function($,_e){const{irregularPlurals:et}=_e.two,tt=invertObj(et);if(tt.hasOwnProperty($))return tt[$];for(let nt=0;nt<rules$1.length;nt++)if(rules$1[nt][0].test($)===!0)return $=$.replace(rules$1[nt][0],rules$1[nt][1]),$;return $},all$2=function($,_e){const et=[$],tt=pluralize($,_e);tt!==$&&et.push(tt);const nt=toSingular($,_e);return nt!==$&&et.push(nt),et},nouns$2={toPlural:pluralize,toSingular,all:all$2};let guessVerb={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","unk","ung","upt","en"],PastTense:["ept","ed","lt","nt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"],Participle:["ken","wn"]};guessVerb=Object.keys(guessVerb).reduce(($,_e)=>(guessVerb[_e].forEach(et=>$[et]=_e),$),{});const getTense$1=function($){const _e=$.substring($.length-3);if(guessVerb.hasOwnProperty(_e)===!0)return guessVerb[_e];const et=$.substring($.length-2);return guessVerb.hasOwnProperty(et)===!0?guessVerb[et]:$.substring($.length-1)==="s"?"PresentTense":null},toParts=function($,_e){let et="",tt={};_e.one&&_e.one.prefixes&&(tt=_e.one.prefixes);let[nt,rt]=$.split(/ /);return rt&&tt[nt]===!0&&(et=nt,nt=rt,rt=""),{prefix:et,verb:nt,particle:rt}},copulaMap={are:"be",were:"be",been:"be",is:"be",am:"be",was:"be",be:"be",being:"be"},toInfinitive$1=function($,_e,et){const{fromPast:tt,fromPresent:nt,fromGerund:rt,fromParticiple:it}=_e.two.models,{prefix:ot,verb:at,particle:st}=toParts($,_e);let lt="";if(et||(et=getTense$1($)),copulaMap.hasOwnProperty($))lt=copulaMap[$];else if(et==="Participle")lt=convert(at,it);else if(et==="PastTense")lt=convert(at,tt);else if(et==="PresentTense")lt=convert(at,nt);else if(et==="Gerund")lt=convert(at,rt);else return $;return st&&(lt+=" "+st),ot&&(lt=ot+" "+lt),lt},parse$3=$=>/ /.test($)?$.split(/ /):[$,""],conjugate=function($,_e){const{toPast:et,toPresent:tt,toGerund:nt,toParticiple:rt}=_e.two.models;if($==="be")return{Infinitive:$,Gerund:"being",PastTense:"was",PresentTense:"is"};const[it,ot]=parse$3($),at={Infinitive:it,PastTense:convert(it,et),PresentTense:convert(it,tt),Gerund:convert(it,nt),FutureTense:"will "+it};let st=convert(it,rt);if(st!==$&&st!==at.PastTense){const lt=_e.one.lexicon||{};(lt[st]==="Participle"||lt[st]==="Adjective")&&($==="play"&&(st="played"),at.Participle=st)}return ot&&Object.keys(at).forEach(lt=>{at[lt]+=" "+ot}),at},all$1=function($,_e){const et=conjugate($,_e);return delete et.FutureTense,Object.values(et).filter(tt=>tt)},verbs$3={toInfinitive:toInfinitive$1,conjugate,all:all$1},toSuperlative=function($,_e){const et=_e.two.models.toSuperlative;return convert($,et)},toComparative=function($,_e){const et=_e.two.models.toComparative;return convert($,et)},fromComparative=function($,_e){const et=_e.two.models.fromComparative;return convert($,et)},fromSuperlative=function($,_e){const et=_e.two.models.fromSuperlative;return convert($,et)},toNoun=function($,_e){const et=_e.two.models.adjToNoun;return convert($,et)},suffixLoop$1=function($="",_e=[]){const et=$.length,tt=et<=6?et-1:6;for(let nt=tt;nt>=1;nt-=1){const rt=$.substring(et-nt,$.length);if(_e[rt.length].hasOwnProperty(rt)===!0){const it=$.slice(0,et-nt),ot=_e[rt.length][rt];return it+ot}}return null},s$1="ically",ical=new Set(["analyt"+s$1,"chem"+s$1,"class"+s$1,"clin"+s$1,"crit"+s$1,"ecolog"+s$1,"electr"+s$1,"empir"+s$1,"frant"+s$1,"grammat"+s$1,"ident"+s$1,"ideolog"+s$1,"log"+s$1,"mag"+s$1,"mathemat"+s$1,"mechan"+s$1,"med"+s$1,"method"+s$1,"method"+s$1,"mus"+s$1,"phys"+s$1,"phys"+s$1,"polit"+s$1,"pract"+s$1,"rad"+s$1,"satir"+s$1,"statist"+s$1,"techn"+s$1,"technolog"+s$1,"theoret"+s$1,"typ"+s$1,"vert"+s$1,"whims"+s$1]),suffixes$2=[null,{},{ly:""},{ily:"y",bly:"ble",ply:"ple"},{ally:"al",rply:"rp"},{ually:"ual",ially:"ial",cally:"cal",eally:"eal",rally:"ral",nally:"nal",mally:"mal",eeply:"eep",eaply:"eap"},{ically:"ic"}],noAdj=new Set(["early","only","hourly","daily","weekly","monthly","yearly","mostly","duly","unduly","especially","undoubtedly","conversely","namely","exceedingly","presumably","accordingly","overly","best","latter","little","long","low"]),exceptions$2={wholly:"whole",fully:"full",truly:"true",gently:"gentle",singly:"single",customarily:"customary",idly:"idle",publically:"public",quickly:"quick",superbly:"superb",cynically:"cynical",well:"good"},toAdjective=function($){return $.endsWith("ly")?ical.has($)?$.replace(/ically/,"ical"):noAdj.has($)?null:exceptions$2.hasOwnProperty($)?exceptions$2[$]:suffixLoop$1($,suffixes$2)||$:null},suffixes$1=[null,{y:"ily"},{ly:"ly",ic:"ically"},{ial:"ially",ual:"ually",tle:"tly",ble:"bly",ple:"ply",ary:"arily"},{},{},{}],exceptions$1={cool:"cooly",whole:"wholly",full:"fully",good:"well",idle:"idly",public:"publicly",single:"singly",special:"especially"},toAdverb=function($){if(exceptions$1.hasOwnProperty($))return exceptions$1[$];let _e=suffixLoop$1($,suffixes$1);return _e||(_e=$+"ly"),_e},all=function($,_e){let et=[$];return et.push(toSuperlative($,_e)),et.push(toComparative($,_e)),et.push(toAdverb($)),et=et.filter(tt=>tt),et=new Set(et),Array.from(et)},adjectives$1={toSuperlative,toComparative,toAdverb,toNoun,fromAdverb:toAdjective,fromSuperlative,fromComparative,all},transform={noun:nouns$2,verb:verbs$3,adjective:adjectives$1},byTag={Singular:($,_e,et,tt)=>{const nt=tt.one.lexicon,rt=et.two.transform.noun.toPlural($,tt);nt[rt]||(_e[rt]=_e[rt]||"Plural")},Actor:($,_e,et,tt)=>{const nt=tt.one.lexicon,rt=et.two.transform.noun.toPlural($,tt);nt[rt]||(_e[rt]=_e[rt]||["Plural","Actor"])},Comparable:($,_e,et,tt)=>{const nt=tt.one.lexicon,{toSuperlative:rt,toComparative:it}=et.two.transform.adjective,ot=rt($,tt);nt[ot]||(_e[ot]=_e[ot]||"Superlative");const at=it($,tt);nt[at]||(_e[at]=_e[at]||"Comparative"),_e[$]="Adjective"},Demonym:($,_e,et,tt)=>{const nt=et.two.transform.noun.toPlural($,tt);_e[nt]=_e[nt]||["Demonym","Plural"]},Infinitive:($,_e,et,tt)=>{const nt=tt.one.lexicon,rt=et.two.transform.verb.conjugate($,tt);Object.entries(rt).forEach(it=>{!nt[it[1]]&&!_e[it[1]]&&it[0]!=="FutureTense"&&(_e[it[1]]=it[0])})},PhrasalVerb:($,_e,et,tt)=>{const nt=tt.one.lexicon;_e[$]=["PhrasalVerb","Infinitive"];const rt=tt.one._multiCache,[it,ot]=$.split(" ");nt[it]||(_e[it]=_e[it]||"Infinitive");const at=et.two.transform.verb.conjugate(it,tt);delete at.FutureTense,Object.entries(at).forEach(st=>{if(st[0]==="Actor"||st[1]==="")return;!_e[st[1]]&&!nt[st[1]]&&(_e[st[1]]=st[0]),rt[st[1]]=2;const lt=st[1]+" "+ot;_e[lt]=_e[lt]||[st[0],"PhrasalVerb"]})},Multiple:($,_e)=>{_e[$]=["Multiple","Cardinal"],_e[$+"th"]=["Multiple","Ordinal"],_e[$+"ths"]=["Multiple","Fraction"]},Cardinal:($,_e)=>{_e[$]=["TextValue","Cardinal"]},Ordinal:($,_e)=>{_e[$]=["TextValue","Ordinal"],_e[$+"s"]=["TextValue","Fraction"]},Place:($,_e)=>{_e[$]=["Place","ProperNoun"]},Region:($,_e)=>{_e[$]=["Region","ProperNoun"]}},expand$1=function($,_e){const{methods:et,model:tt}=_e,nt={},rt={};return Object.keys($).forEach(it=>{const ot=$[it];it=it.toLowerCase().trim(),it=it.replace(/'s\b/,"");const at=it.split(/ /);at.length>1&&(rt[at[0]]===void 0||at.length>rt[at[0]])&&(rt[at[0]]=at.length),byTag.hasOwnProperty(ot)===!0&&byTag[ot](it,nt,et,tt),nt[it]=nt[it]||ot}),delete nt[""],delete nt[null],delete nt[" "],{lex:nt,_multi:rt}},splitOn=function($,_e){const et=/^[0-9]+$/,tt=$[_e];if(!tt)return!1;const nt=new Set(["may","april","august","jan"]);if(tt.normal==="like"||nt.has(tt.normal)||tt.tags.has("Place")||tt.tags.has("Date"))return!1;if($[_e-1]){const it=$[_e-1];if(it.tags.has("Date")||nt.has(it.normal)||it.tags.has("Adjective")||tt.tags.has("Adjective"))return!1}const rt=tt.normal;return!((rt.length===1||rt.length===2||rt.length===4)&&et.test(rt))},quickSplit=function($){const _e=/[,:;]/,et=[];return $.forEach(tt=>{let nt=0;tt.forEach((rt,it)=>{_e.test(rt.post)&&splitOn(tt,it+1)&&(et.push(tt.slice(nt,it+1)),nt=it+1)}),nt<tt.length&&et.push(tt.slice(nt,tt.length))}),et},isPlural$3={e:["mice","louse","antennae","formulae","nebulae","vertebrae","vitae"],i:["tia","octopi","viri","radii","nuclei","fungi","cacti","stimuli"],n:["men"],t:["feet"]},exceptions=new Set(["israelis","menus","logos"]),notPlural$1=["bus","mas","was","ias","xas","vas","cis","lis","nis","ois","ris","sis","tis","xis","aus","cus","eus","fus","gus","ius","lus","nus","das","ous","pus","rus","sus","tus","xus","aos","igos","ados","ogos","'s","ss"],looksPlural=function($){if(!$||$.length<=3)return!1;if(exceptions.has($))return!0;const _e=$[$.length-1];return isPlural$3.hasOwnProperty(_e)?isPlural$3[_e].find(et=>$.endsWith(et)):!(_e!=="s"||notPlural$1.find(et=>$.endsWith(et)))},methods$1={two:{quickSplit,expandLexicon:expand$1,transform,looksPlural}},expandIrregulars=function($){const{irregularPlurals:_e}=$.two,{lexicon:et}=$.one;return Object.entries(_e).forEach(tt=>{et[tt[0]]=et[tt[0]]||"Singular",et[tt[1]]=et[tt[1]]||"Plural"}),$},tmpModel={one:{lexicon:{}},two:{models}},switchDefaults={"Actor|Verb":"Actor","Adj|Gerund":"Adjective","Adj|Noun":"Adjective","Adj|Past":"Adjective","Adj|Present":"Adjective","Noun|Verb":"Singular","Noun|Gerund":"Gerund","Person|Noun":"Noun","Person|Date":"Month","Person|Verb":"FirstName","Person|Place":"Person","Person|Adj":"Comparative","Plural|Verb":"Plural","Unit|Noun":"Noun"},expandLexicon=function($,_e){const et={model:_e,methods:methods$1},{lex:tt,_multi:nt}=methods$1.two.expandLexicon($,et);return Object.assign(_e.one.lexicon,tt),Object.assign(_e.one._multiCache,nt),_e},addUncountables=function($,_e){return Object.keys($).forEach(et=>{$[et]==="Uncountable"&&(_e.two.uncountable[et]=!0,$[et]="Uncountable")}),_e},expandVerb=function($,_e,et){const tt=conjugate($,tmpModel);_e[tt.PastTense]=_e[tt.PastTense]||"PastTense",_e[tt.Gerund]=_e[tt.Gerund]||"Gerund",et===!0&&(_e[tt.PresentTense]=_e[tt.PresentTense]||"PresentTense")},expandAdjective=function($,_e,et){const tt=toSuperlative($,et);_e[tt]=_e[tt]||"Superlative";const nt=toComparative($,et);_e[nt]=_e[nt]||"Comparative"},expandNoun=function($,_e,et){const tt=pluralize($,et);_e[tt]=_e[tt]||"Plural"},expandVariable=function($,_e){const et={},tt=_e.one.lexicon;return Object.keys($).forEach(nt=>{const rt=$[nt];if(et[nt]=switchDefaults[rt],(rt==="Noun|Verb"||rt==="Person|Verb"||rt==="Actor|Verb")&&expandVerb(nt,tt,!1),rt==="Adj|Present"&&(expandVerb(nt,tt,!0),expandAdjective(nt,tt,_e)),rt==="Person|Adj"&&expandAdjective(nt,tt,_e),rt==="Adj|Gerund"||rt==="Noun|Gerund"){const it=toInfinitive$1(nt,tmpModel,"Gerund");tt[it]||(et[it]="Infinitive")}if((rt==="Noun|Gerund"||rt==="Adj|Noun"||rt==="Person|Noun")&&expandNoun(nt,tt,_e),rt==="Adj|Past"){const it=toInfinitive$1(nt,tmpModel,"PastTense");tt[it]||(et[it]="Infinitive")}}),_e=expandLexicon(et,_e),_e},expand=function($){return $=expandLexicon($.one.lexicon,$),$=addUncountables($.one.lexicon,$),$=expandVariable($.two.switches,$),$=expandIrregulars($),$};let model$1={one:{_multiCache:{},lexicon,frozenLex},two:{irregularPlurals,models,suffixPatterns,prefixPatterns,endsWith,neighbours:neighbours$1,regexNormal,regexText,regexNumbers,switches,clues,uncountable:{},orgWords,placeWords}};model$1=expand(model$1);const byPunctuation=function($,_e,et,tt){const nt=tt.methods.one.setTag;if($.length>=3){const rt=/:/;if($[0].post.match(rt)){const ot=$[1];if(ot.tags.has("Value")||ot.tags.has("Email")||ot.tags.has("PhoneNumber"))return;nt([$[0]],"Expression",tt,null,"2-punct-colon''")}}},byHyphen=function($,_e,et,tt){const nt=tt.methods.one.setTag;$[_e].post==="-"&&$[_e+1]&&nt([$[_e],$[_e+1]],"Hyphenated",tt,null,"1-punct-hyphen''")},prefix$2=/^(under|over|mis|re|un|dis|semi)-?/,tagSwitch=function($,_e,et){const tt=et.two.switches,nt=$[_e];if(tt.hasOwnProperty(nt.normal)){nt.switch=tt[nt.normal];return}if(prefix$2.test(nt.normal)){const rt=nt.normal.replace(prefix$2,"");rt.length>3&&tt.hasOwnProperty(rt)&&(nt.switch=tt[rt])}};var define_process_env_default$2={};const log$1=($,_e,et="")=>{const tt=it=>"\x1B[33m\x1B[3m"+it+"\x1B[0m",nt=it=>"\x1B[3m"+it+"\x1B[0m",rt=$.text||"["+$.implicit+"]";typeof _e!="string"&&_e.length>2&&(_e=_e.slice(0,2).join(", #")+" +"),_e=typeof _e!="string"?_e.join(", #"):_e,console.log(` ${tt(rt).padEnd(24)} \x1B[32m\x1B[0m #${_e.padEnd(22)}  ${nt(et)}`)},fastTag=function($,_e,et){if(!_e||_e.length===0||$.frozen===!0)return;const tt=typeof process>"u"||!define_process_env_default$2?self.env||{}:define_process_env_default$2;tt&&tt.DEBUG_TAGS&&log$1($,_e,et),$.tags=$.tags||new Set,typeof _e=="string"?$.tags.add(_e):_e.forEach(nt=>$.tags.add(nt))},uncountable=["Acronym","Abbreviation","ProperNoun","Uncountable","Possessive","Pronoun","Activity","Honorific","Month"],setPluralSingular=function($){!$.tags.has("Noun")||$.tags.has("Plural")||$.tags.has("Singular")||uncountable.find(_e=>$.tags.has(_e))||(looksPlural($.normal)?fastTag($,"Plural","3-plural-guess"):fastTag($,"Singular","3-singular-guess"))},setTense=function($){const _e=$.tags;if(_e.has("Verb")&&_e.size===1){const et=getTense$1($.normal);et&&fastTag($,et,"3-verb-tense-guess")}},fillTags=function($,_e,et){const tt=$[_e],nt=Array.from(tt.tags);for(let rt=0;rt<nt.length;rt+=1)if(et.one.tagSet[nt[rt]]){const it=et.one.tagSet[nt[rt]].parents;fastTag(tt,it,` -inferred by #${nt[rt]}`)}setPluralSingular(tt),setTense(tt)},titleCase$1=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),hasNumber=/[0-9]/,notProper=["Date","Month","WeekDay","Unit","Expression"],hasIVX=/[IVX]/,romanNumeral=/^[IVXLCDM]{2,}$/,romanNumValid=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,nope={li:!0,dc:!0,md:!0,dm:!0,ml:!0},checkCase=function($,_e,et){const tt=$[_e];tt.index=tt.index||[0,0];const nt=tt.index[1],rt=tt.text||"";return nt!==0&&titleCase$1.test(rt)===!0&&hasNumber.test(rt)===!1?notProper.find(it=>tt.tags.has(it))||tt.pre.match(/["']$/)||tt.normal==="the"?null:(fillTags($,_e,et),!tt.tags.has("Noun")&&!tt.frozen&&tt.tags.clear(),fastTag(tt,"ProperNoun","2-titlecase"),!0):rt.length>=2&&romanNumeral.test(rt)&&hasIVX.test(rt)&&romanNumValid.test(rt)&&!nope[tt.normal]?(fastTag(tt,"RomanNumeral","2-xvii"),!0):null},suffixLoop=function($="",_e=[]){const et=$.length;let tt=7;et<=tt&&(tt=et-1);for(let nt=tt;nt>1;nt-=1){const rt=$.substring(et-nt,et);if(_e[rt.length].hasOwnProperty(rt)===!0)return _e[rt.length][rt]}return null},tagBySuffix=function($,_e,et){const tt=$[_e];if(tt.tags.size===0){let nt=suffixLoop(tt.normal,et.two.suffixPatterns);if(nt!==null)return fastTag(tt,nt,"2-suffix"),tt.confidence=.7,!0;if(tt.implicit&&(nt=suffixLoop(tt.implicit,et.two.suffixPatterns),nt!==null))return fastTag(tt,nt,"2-implicit-suffix"),tt.confidence=.7,!0}return null},hasApostrophe=/['`]/,doRegs=function($,_e){for(let et=0;et<_e.length;et+=1)if(_e[et][0].test($)===!0)return _e[et];return null},doEndsWith=function($="",_e){const et=$[$.length-1];if(_e.hasOwnProperty(et)===!0){const tt=_e[et]||[];for(let nt=0;nt<tt.length;nt+=1)if(tt[nt][0].test($)===!0)return tt[nt]}return null},checkRegex=function($,_e,et,tt){const nt=tt.methods.one.setTag,{regexText:rt,regexNormal:it,regexNumbers:ot,endsWith:at}=et.two,st=$[_e],lt=st.machine||st.normal;let ct=st.text;hasApostrophe.test(st.post)&&!hasApostrophe.test(st.pre)&&(ct+=st.post.trim());let ut=doRegs(ct,rt)||doRegs(lt,it);return!ut&&/[0-9]/.test(lt)&&(ut=doRegs(lt,ot)),!ut&&st.tags.size===0&&(ut=doEndsWith(lt,at)),ut?(nt([st],ut[1],tt,null,`2-regex-'${ut[2]||ut[0]}'`),st.confidence=.6,!0):null},prefixLoop=function($="",_e=[]){const et=$.length;let tt=7;tt>et-3&&(tt=et-3);for(let nt=tt;nt>2;nt-=1){const rt=$.substring(0,nt);if(_e[rt.length].hasOwnProperty(rt)===!0)return _e[rt.length][rt]}return null},checkPrefix=function($,_e,et){const tt=$[_e];if(tt.tags.size===0){const nt=prefixLoop(tt.normal,et.two.prefixPatterns);if(nt!==null)return fastTag(tt,nt,"2-prefix"),tt.confidence=.5,!0}return null},min$3=1400,max$3=2100,dateWords=new Set(["in","on","by","until","for","to","during","throughout","through","within","before","after","of","this","next","last","circa","around","post","pre","budget","classic","plan","may"]),seemsGood=function($){if(!$)return!1;const _e=$.normal||$.implicit;return!!(dateWords.has(_e)||$.tags.has("Date")||$.tags.has("Month")||$.tags.has("WeekDay")||$.tags.has("Year")||$.tags.has("ProperNoun"))},seemsOkay=function($){return $?!!($.tags.has("Ordinal")||$.tags.has("Cardinal")&&$.normal.length<3||$.normal==="is"||$.normal==="was"):!1},seemsFine=function($){return $&&($.tags.has("Date")||$.tags.has("Month")||$.tags.has("WeekDay")||$.tags.has("Year"))},tagYear=function($,_e){const et=$[_e];if(et.tags.has("NumericValue")&&et.tags.has("Cardinal")&&et.normal.length===4){const tt=Number(et.normal);if(tt&&!isNaN(tt)&&tt>min$3&&tt<max$3){const nt=$[_e-1],rt=$[_e+1];if(seemsGood(nt)||seemsGood(rt))return fastTag(et,"Year","2-tagYear");if(tt>=1920&&tt<2025){if(seemsOkay(nt)||seemsOkay(rt))return fastTag(et,"Year","2-tagYear-close");if(seemsFine($[_e-2])||seemsFine($[_e+2]))return fastTag(et,"Year","2-tagYear-far");if(nt&&(nt.tags.has("Determiner")||nt.tags.has("Possessive"))&&rt&&rt.tags.has("Noun")&&!rt.tags.has("Plural"))return fastTag(et,"Year","2-tagYear-noun")}}}return null},verbType=function($,_e,et,tt){const nt=tt.methods.one.setTag,rt=$[_e],it=["PastTense","PresentTense","Auxiliary","Modal","Particle"];rt.tags.has("Verb")&&(it.find(at=>rt.tags.has(at))||nt([rt],"Infinitive",tt,null,"2-verb-type''"))},oneLetterAcronym=/^[A-Z]('s|,)?$/,isUpperCase=/^[A-Z-]+$/,upperThenS=/^[A-Z]+s$/,periodAcronym=/([A-Z]\.)+[A-Z]?,?$/,noPeriodAcronym=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym=/([a-z]\.)+[a-z]\.?$/,oneLetterWord={I:!0,A:!0},places$1={la:!0,ny:!0,us:!0,dc:!0,gb:!0},isNoPeriodAcronym=function($,_e){let et=$.text;if(isUpperCase.test(et)===!1)if(et.length>3&&upperThenS.test(et)===!0)et=et.replace(/s$/,"");else return!1;return et.length>5||oneLetterWord.hasOwnProperty(et)||_e.one.lexicon.hasOwnProperty($.normal)?!1:periodAcronym.test(et)===!0||lowerCaseAcronym.test(et)===!0||oneLetterAcronym.test(et)===!0||noPeriodAcronym.test(et)===!0},isAcronym=function($,_e,et){const tt=$[_e];return tt.tags.has("RomanNumeral")||tt.tags.has("Acronym")||tt.frozen?null:isNoPeriodAcronym(tt,et)?(tt.tags.clear(),fastTag(tt,["Acronym","Noun"],"3-no-period-acronym"),places$1[tt.normal]===!0&&fastTag(tt,"Place","3-place-acronym"),upperThenS.test(tt.text)===!0&&fastTag(tt,"Plural","3-plural-acronym"),!0):!oneLetterWord.hasOwnProperty(tt.text)&&oneLetterAcronym.test(tt.text)?(tt.tags.clear(),fastTag(tt,["Acronym","Noun"],"3-one-letter-acronym"),!0):tt.tags.has("Organization")&&tt.text.length<=3?(fastTag(tt,"Acronym","3-org-acronym"),!0):tt.tags.has("Organization")&&isUpperCase.test(tt.text)&&tt.text.length<=6?(fastTag(tt,"Acronym","3-titlecase-acronym"),!0):null},lookAtWord=function($,_e){if(!$)return null;const et=_e.find(tt=>$.normal===tt[0]);return et?et[1]:null},lookAtTag=function($,_e){if(!$)return null;const et=_e.find(tt=>$.tags.has(tt[0]));return et?et[1]:null},neighbours=function($,_e,et){const{leftTags:tt,leftWords:nt,rightWords:rt,rightTags:it}=et.two.neighbours,ot=$[_e];if(ot.tags.size===0){let at=null;if(at=at||lookAtWord($[_e-1],nt),at=at||lookAtWord($[_e+1],rt),at=at||lookAtTag($[_e-1],tt),at=at||lookAtTag($[_e+1],it),at)return fastTag(ot,at,"3-[neighbour]"),fillTags($,_e,et),$[_e].confidence=.2,!0}return null},isTitleCase$2=$=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test($),isOrg=function($,_e,et){return!$||$.tags.has("FirstName")||$.tags.has("Place")?!1:$.tags.has("ProperNoun")||$.tags.has("Organization")||$.tags.has("Acronym")?!0:!et&&isTitleCase$2($.text)?_e===0?$.tags.has("Singular"):!0:!1},tagOrgs$1=function($,_e,et,tt){const nt=et.model.two.orgWords,rt=et.methods.one.setTag,it=$[_e],ot=it.machine||it.normal;if(nt[ot]===!0&&isOrg($[_e-1],_e-1,tt)){rt([$[_e]],"Organization",et,null,"3-[org-word]");for(let at=_e;at>=0&&isOrg($[at],at,tt);at-=1)rt([$[at]],"Organization",et,null,"3-[org-word]")}return null},isTitleCase$1=$=>new RegExp("^\\p{Lu}[\\p{Ll}']","u").test($),isPossessive$1=/'s$/,placeCont=new Set(["athletic","city","community","eastern","federal","financial","great","historic","historical","local","memorial","municipal","national","northern","provincial","southern","state","western","spring","pine","sunset","view","oak","maple","spruce","cedar","willow"]),noBefore=new Set(["center","centre","way","range","bar","bridge","field","pit"]),isPlace=function($,_e,et){if(!$)return!1;const tt=$.tags;return tt.has("Organization")||tt.has("Possessive")||isPossessive$1.test($.normal)?!1:tt.has("ProperNoun")||tt.has("Place")?!0:!et&&isTitleCase$1($.text)?_e===0?tt.has("Singular"):!0:!1},tagOrgs=function($,_e,et,tt){const nt=et.model.two.placeWords,rt=et.methods.one.setTag,it=$[_e],ot=it.machine||it.normal;if(nt[ot]===!0){for(let at=_e-1;at>=0;at-=1)if(!placeCont.has($[at].normal)){if(isPlace($[at],at,tt)){rt($.slice(at,_e+1),"Place",et,null,"3-[place-of-foo]");continue}break}if(noBefore.has(ot))return!1;for(let at=_e+1;at<$.length;at+=1){if(isPlace($[at],at,tt))return rt($.slice(_e,at+1),"Place",et,null,"3-[foo-place]"),!0;if(!($[at].normal==="of"||placeCont.has($[at].normal)))break}}return null},nounFallback=function($,_e,et){let tt=!1;const nt=$[_e].tags;(nt.size===0||nt.size===1&&(nt.has("Hyphenated")||nt.has("HashTag")||nt.has("Prefix")||nt.has("SlashedTerm")))&&(tt=!0),tt&&(fastTag($[_e],"Noun","3-[fallback]"),fillTags($,_e,et),$[_e].confidence=.1)},isTitleCase=/^[A-Z][a-z]/,isCapital=($,_e)=>$[_e].tags.has("ProperNoun")&&isTitleCase.test($[_e].text)?"Noun":null,isAlone=($,_e,et)=>_e===0&&!$[1]?et:null,isEndNoun=function($,_e){return!$[_e+1]&&$[_e-1]&&$[_e-1].tags.has("Determiner")?"Noun":null},isStart=function($,_e,et){return _e===0&&$.length>3?et:null},adhoc={"Adj|Gerund":($,_e)=>isCapital($,_e),"Adj|Noun":($,_e)=>isCapital($,_e)||isEndNoun($,_e),"Actor|Verb":($,_e)=>isCapital($,_e),"Adj|Past":($,_e)=>isCapital($,_e),"Adj|Present":($,_e)=>isCapital($,_e),"Noun|Gerund":($,_e)=>isCapital($,_e),"Noun|Verb":($,_e)=>_e>0&&isCapital($,_e)||isAlone($,_e,"Infinitive"),"Plural|Verb":($,_e)=>isCapital($,_e)||isAlone($,_e,"PresentTense")||isStart($,_e,"Plural"),"Person|Noun":($,_e)=>isCapital($,_e),"Person|Verb":($,_e)=>_e!==0?isCapital($,_e):null,"Person|Adj":($,_e)=>_e===0&&$.length>1||isCapital($,_e)?"Person":null};var define_process_env_default$1={};const env=typeof process>"u"||!define_process_env_default$1?self.env||{}:define_process_env_default$1,prefix$1=/^(under|over|mis|re|un|dis|semi)-?/,checkWord=($,_e)=>{if(!$||!_e)return null;const et=$.normal||$.implicit;let tt=null;return _e.hasOwnProperty(et)&&(tt=_e[et]),tt&&env.DEBUG_TAGS&&console.log(`
  \x1B[2m\x1B[3m      - '${et}' \x1B[0m`),tt},checkTag=($,_e={},et)=>{if(!$||!_e)return null;let nt=Array.from($.tags).sort((rt,it)=>{const ot=et[rt]?et[rt].parents.length:0,at=et[it]?et[it].parents.length:0;return ot>at?-1:1}).find(rt=>_e[rt]);return nt&&env.DEBUG_TAGS&&console.log(`  \x1B[2m\x1B[3m       - '${$.normal||$.implicit}' (#${nt})  \x1B[0m`),nt=_e[nt],nt},pickTag=function($,_e,et,tt){var ot;if(!et)return null;const nt=((ot=$[_e-1])==null?void 0:ot.text)!=="also"?_e-1:Math.max(0,_e-2),rt=tt.one.tagSet;let it=checkWord($[_e+1],et.afterWords);return it=it||checkWord($[nt],et.beforeWords),it=it||checkTag($[nt],et.beforeTags,rt),it=it||checkTag($[_e+1],et.afterTags,rt),it},doSwitches=function($,_e,et){const tt=et.model,nt=et.methods.one.setTag,{switches:rt,clues:it}=tt.two,ot=$[_e];let at=ot.normal||ot.implicit||"";if(prefix$1.test(at)&&!rt[at]&&(at=at.replace(prefix$1,"")),ot.switch){const st=ot.switch;if(ot.tags.has("Acronym")||ot.tags.has("PhrasalVerb"))return;let lt=pickTag($,_e,it[st],tt);adhoc[st]&&(lt=adhoc[st]($,_e)||lt),lt?(nt([ot],lt,et,null,`3-[switch] (${st})`),fillTags($,_e,tt)):env.DEBUG_TAGS&&console.log(`
 -> X  - '${at}'  : (${st})  `)}},beside={there:!0,this:!0,it:!0,him:!0,her:!0,us:!0},imperative$1=function($,_e){const et=_e.methods.one.setTag,tt=_e.model.one._multiCache||{},nt=$[0];if((nt.switch==="Noun|Verb"||nt.tags.has("Infinitive"))&&$.length>=2){if($.length<4&&!beside[$[1].normal]||!nt.tags.has("PhrasalVerb")&&tt.hasOwnProperty(nt.normal))return;($[1].tags.has("Noun")||$[1].tags.has("Determiner"))&&(!$.slice(1,3).some(at=>at.tags.has("Verb"))||nt.tags.has("#PhrasalVerb"))&&et([nt],"Imperative",_e,null,"3-[imperative]")}},ignoreCase=function($){if($.filter(et=>!et.tags.has("ProperNoun")).length<=3)return!1;const _e=/^[a-z]/;return $.every(et=>!_e.test(et.text))},firstPass=function($,_e,et){$.forEach(tt=>{byPunctuation(tt,0,_e,et)})},secondPass=function($,_e,et,tt){for(let nt=0;nt<$.length;nt+=1)$[nt].frozen!==!0&&(tagSwitch($,nt,_e),tt===!1&&checkCase($,nt,_e),tagBySuffix($,nt,_e),checkRegex($,nt,_e,et),checkPrefix($,nt,_e),tagYear($,nt))},thirdPass=function($,_e,et,tt){for(let nt=0;nt<$.length;nt+=1){let rt=isAcronym($,nt,_e);fillTags($,nt,_e),rt=rt||neighbours($,nt,_e),rt=rt||nounFallback($,nt,_e)}for(let nt=0;nt<$.length;nt+=1)$[nt].frozen!==!0&&(tagOrgs$1($,nt,et,tt),tagOrgs($,nt,et,tt),doSwitches($,nt,et),verbType($,nt,_e,et),byHyphen($,nt,_e,et));imperative$1($,et)},preTagger=function($){const{methods:_e,model:et,world:tt}=$,nt=$.docs;firstPass(nt,et,tt);const rt=_e.two.quickSplit(nt);for(let it=0;it<rt.length;it+=1){const ot=rt[it],at=ignoreCase(ot);secondPass(ot,et,tt,at),thirdPass(ot,et,tt,at)}return rt},toRoot$2={Possessive:$=>{let _e=$.machine||$.normal||$.text;return _e=_e.replace(/'s$/,""),_e},Plural:($,_e)=>{const et=$.machine||$.normal||$.text;return _e.methods.two.transform.noun.toSingular(et,_e.model)},Copula:()=>"is",PastTense:($,_e)=>{const et=$.machine||$.normal||$.text;return _e.methods.two.transform.verb.toInfinitive(et,_e.model,"PastTense")},Gerund:($,_e)=>{const et=$.machine||$.normal||$.text;return _e.methods.two.transform.verb.toInfinitive(et,_e.model,"Gerund")},PresentTense:($,_e)=>{const et=$.machine||$.normal||$.text;return $.tags.has("Infinitive")?et:_e.methods.two.transform.verb.toInfinitive(et,_e.model,"PresentTense")},Comparative:($,_e)=>{const et=$.machine||$.normal||$.text;return _e.methods.two.transform.adjective.fromComparative(et,_e.model)},Superlative:($,_e)=>{const et=$.machine||$.normal||$.text;return _e.methods.two.transform.adjective.fromSuperlative(et,_e.model)},Adverb:($,_e)=>{const{fromAdverb:et}=_e.methods.two.transform.adjective,tt=$.machine||$.normal||$.text;return et(tt)}},getRoot$1=function($){const _e=$.world,et=Object.keys(toRoot$2);$.docs.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1){const rt=tt[nt];for(let it=0;it<et.length;it+=1)if(rt.tags.has(et[it])){const ot=toRoot$2[et[it]],at=ot(rt,_e);rt.normal!==at&&(rt.root=at);break}}})},mapping$1={Adverb:"RB",Comparative:"JJR",Superlative:"JJS",Adjective:"JJ",TO:"Conjunction",Modal:"MD",Auxiliary:"MD",Gerund:"VBG",PastTense:"VBD",Participle:"VBN",PresentTense:"VBZ",Infinitive:"VB",Particle:"RP",Verb:"VB",Pronoun:"PRP",Cardinal:"CD",Conjunction:"CC",Determiner:"DT",Preposition:"IN",QuestionWord:"WP",Expression:"UH",Possessive:"POS",ProperNoun:"NNP",Person:"NNP",Place:"NNP",Organization:"NNP",Singular:"NN",Plural:"NNS",Noun:"NN",There:"EX"},toPenn=function($){if($.tags.has("ProperNoun")&&$.tags.has("Plural"))return"NNPS";if($.tags.has("Possessive")&&$.tags.has("Pronoun"))return"PRP$";if($.normal==="there")return"EX";if($.normal==="to")return"TO";const _e=$.tagRank||[];for(let et=0;et<_e.length;et+=1)if(mapping$1.hasOwnProperty(_e[et]))return mapping$1[_e[et]];return null},pennTag=function($){$.compute("tagRank"),$.docs.forEach(_e=>{_e.forEach(et=>{et.penn=toPenn(et)})})},compute$3={preTagger,root:getRoot$1,penn:pennTag},entity=["Person","Place","Organization"],nouns$1={Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural","Uncountable"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Person",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular","Uncountable"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:entity},Actor:{is:"Noun",not:["Place","Organization"]},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:entity},Demonym:{is:"Noun",also:["ProperNoun"],not:entity},Possessive:{is:"Noun"},Reflexive:{is:"Pronoun"}},verbs$2={Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense","FutureTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Imperative:{is:"Verb",not:["PastTense","Gerund","Copula"]},Gerund:{is:"PresentTense",not:["Copula"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","PastTense"]},Copula:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},Participle:{is:"PastTense"},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Passive:{is:"Verb"}},values={Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"TextValue"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},dates$1={Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Date",also:["Noun"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Date",also:["Noun"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Date",also:["Noun"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Date",also:["Noun"]}},anything=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],misc$1={Adjective:{not:["Noun","Verb","Adverb","Value"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:anything},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Determiner"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email","SlashedTerm"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention","SlashedTerm"]},SlashedTerm:{not:["Emoticon","Url","Value"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral","Pronoun","Date"]},Negative:{not:["Noun","Adjective","Value","Expression"]},Condition:{not:["Verb","Adjective","Noun","Value"]},There:{not:["Verb","Adjective","Noun","Value","Conjunction","Preposition"]},Prefix:{not:["Abbreviation","Acronym","ProperNoun"]},Hyphenated:{}},allTags=Object.assign({},nouns$1,verbs$2,values,dates$1,misc$1),preTag={compute:compute$3,methods:methods$1,model:model$1,tags:allTags,hooks:["preTagger"]},postPunct=/[,)"';:\-.]/,setContraction=function($,_e){if(!$.found)return;const et=$.termList();for(let tt=0;tt<et.length-1;tt++){const nt=et[tt];if(postPunct.test(nt.post))return}et[0].implicit=et[0].normal,et[0].text+=_e,et[0].normal+=_e,et.slice(1).forEach(tt=>{tt.implicit=tt.normal,tt.text="",tt.normal=""});for(let tt=0;tt<et.length-1;tt++)et[tt].post=et[tt].post.replace(/ /,"")},contract=function(){const $=this.not("@hasContraction");let _e=$.match("(we|they|you) are");return setContraction(_e,"'re"),_e=$.match("(he|she|they|it|we|you) will"),setContraction(_e,"'ll"),_e=$.match("(he|she|they|it|we) is"),setContraction(_e,"'s"),_e=$.match("#Person is"),setContraction(_e,"'s"),_e=$.match("#Person would"),setContraction(_e,"'d"),_e=$.match("(is|was|had|would|should|could|do|does|have|has|can) not"),setContraction(_e,"n't"),_e=$.match("(i|we|they) have"),setContraction(_e,"'ve"),_e=$.match("(would|should|could) have"),setContraction(_e,"'ve"),_e=$.match("i am"),setContraction(_e,"'m"),_e=$.match("going to"),this},titleCase=new RegExp("^\\p{Lu}[\\p{Ll}']","u"),toTitleCase=function($=""){return $=$.replace(/^ *[a-z\u00C0-\u00FF]/,_e=>_e.toUpperCase()),$},api$j=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Contraction"}expand(){return this.docs.forEach(tt=>{const nt=titleCase.test(tt[0].text);tt.forEach((rt,it)=>{rt.text=rt.implicit||"",delete rt.implicit,it<tt.length-1&&rt.post===""&&(rt.post+=" "),rt.dirty=!0}),nt&&(tt[0].text=toTitleCase(tt[0].text))}),this.compute("normal"),this}}$.prototype.contractions=function(){const et=this.match("@hasContraction+");return new _e(this.document,et.pointer)},$.prototype.contract=contract},insertContraction=function($,_e,et){const[tt,nt]=_e;!et||et.length===0||(et=et.map((rt,it)=>(rt.implicit=rt.text,rt.machine=rt.text,rt.pre="",rt.post="",rt.text="",rt.normal="",rt.index=[tt,nt+it],rt)),et[0]&&(et[0].pre=$[tt][nt].pre,et[et.length-1].post=$[tt][nt].post,et[0].text=$[tt][nt].text,et[0].normal=$[tt][nt].normal),$[tt].splice(nt,1,...et))},hasContraction$1=/'/,hasWords=new Set(["been","become"]),isWords=new Set(["what","how","when","if","too"]),adjLike$1=new Set(["too","also","enough"]),isOrHas=($,_e)=>{for(let et=_e+1;et<$.length;et+=1){const tt=$[et];if(hasWords.has(tt.normal))return"has";if(isWords.has(tt.normal)||tt.tags.has("Gerund")||tt.tags.has("Determiner")||tt.tags.has("Adjective")||tt.switch==="Adj|Past"&&$[et+1]&&(adjLike$1.has($[et+1].normal)||$[et+1].tags.has("Preposition")))return"is";if(tt.tags.has("PastTense"))return $[et+1]&&$[et+1].normal==="for"?"is":"has"}return"is"},apostropheS$1=function($,_e){const et=$[_e].normal.split(hasContraction$1)[0];if(et==="let")return[et,"us"];if(et==="there"){const tt=$[_e+1];if(tt&&tt.tags.has("Plural"))return[et,"are"]}return isOrHas($,_e)==="has"?[et,"has"]:[et,"is"]},hasContraction=/'/,hadWords=new Set(["better","done","before","it","had"]),wouldWords=new Set(["have","be"]),hadOrWould=($,_e)=>{for(let et=_e+1;et<$.length;et+=1){const tt=$[et];if(hadWords.has(tt.normal))return"had";if(wouldWords.has(tt.normal))return"would";if(tt.tags.has("PastTense")||tt.switch==="Adj|Past")return"had";if(tt.tags.has("PresentTense")||tt.tags.has("Infinitive"))return"would";if(tt.tags.has("#Determiner"))return"had";if(tt.tags.has("Adjective"))return"would"}return!1},_apostropheD=function($,_e){const et=$[_e].normal.split(hasContraction)[0];return et==="how"||et==="what"?[et,"did"]:hadOrWould($,_e)==="had"?[et,"had"]:[et,"would"]},lastNoun$1=function($,_e){for(let et=_e-1;et>=0;et-=1)if($[et].tags.has("Noun")||$[et].tags.has("Pronoun")||$[et].tags.has("Plural")||$[et].tags.has("Singular"))return $[et];return null},apostropheT=function($,_e){if($[_e].normal==="ain't"||$[_e].normal==="aint"){if($[_e+1]&&$[_e+1].normal==="never")return["have"];const tt=lastNoun$1($,_e);if(tt){if(tt.normal==="we"||tt.normal==="they")return["are","not"];if(tt.normal==="i")return["am","not"];if(tt.tags&&tt.tags.has("Plural"))return["are","not"]}return["is","not"]}return[$[_e].normal.replace(/n't/,""),"not"]},banList={that:!0,there:!0,let:!0,here:!0,everywhere:!0},beforePossessive={in:!0,by:!0,for:!0},adjLike=new Set(["too","also","enough","about"]),nounLike=new Set(["is","are","did","were","could","should","must","had","have"]),isPossessive=($,_e)=>{const et=$[_e];if(banList.hasOwnProperty(et.machine||et.normal))return!1;if(et.tags.has("Possessive"))return!0;if(et.tags.has("QuestionWord")||et.normal==="he's"||et.normal==="she's")return!1;const tt=$[_e+1];if(!tt)return!0;if(et.normal==="it's")return!!tt.tags.has("#Noun");if(tt.switch=="Noun|Gerund"){const nt=$[_e+2];return nt?nt.tags.has("Copula")?!0:(nt.normal==="on"||nt.normal==="in",!1):!!(et.tags.has("Actor")||et.tags.has("ProperNoun"))}if(tt.tags.has("Verb"))return tt.tags.has("Infinitive")?!0:tt.tags.has("Gerund")?!1:!!tt.tags.has("PresentTense");if(tt.switch==="Adj|Noun"){const nt=$[_e+2];if(!nt)return!1;if(nounLike.has(nt.normal))return!0;if(adjLike.has(nt.normal))return!1}if(tt.tags.has("Noun")){const nt=tt.machine||tt.normal;return!(nt==="here"||nt==="there"||nt==="everywhere"||tt.tags.has("Possessive")||tt.tags.has("ProperNoun")&&!et.tags.has("ProperNoun"))}if($[_e-1]&&beforePossessive[$[_e-1].normal]===!0)return!0;if(tt.tags.has("Adjective")){const nt=$[_e+2];if(!nt)return!1;if(nt.tags.has("Noun")&&!nt.tags.has("Pronoun")){const rt=tt.normal;return!(rt==="above"||rt==="below"||rt==="behind")}return nt.switch==="Noun|Verb"}return!!tt.tags.has("Value")},byApostrophe=/'/,reIndex=function($){$.forEach((_e,et)=>{_e.index&&(_e.index[1]=et)})},reTag=function($,_e,et,tt){const nt=_e.update();nt.document=[$];let rt=et+tt;et>0&&(et-=1),$[rt]&&(rt+=1),nt.ptrs=[[0,et,rt]],nt.compute(["freeze","lexicon","preTagger","unfreeze"]),reIndex($)},byEnd={d:($,_e)=>_apostropheD($,_e),t:($,_e)=>apostropheT($,_e),s:($,_e,et)=>isPossessive($,_e)?et.methods.one.setTag([$[_e]],"Possessive",et,null,"2-contraction"):apostropheS$1($,_e)},toDocs=function($,_e){const et=_e.fromText($.join(" "));return et.compute("id"),et.docs[0]},contractionTwo$1=$=>{const{world:_e,document:et}=$;et.forEach((tt,nt)=>{for(let rt=tt.length-1;rt>=0;rt-=1){if(tt[rt].implicit)continue;let it=null;byApostrophe.test(tt[rt].normal)===!0&&(it=tt[rt].normal.split(byApostrophe)[1]);let ot=null;if(byEnd.hasOwnProperty(it)&&(ot=byEnd[it](tt,rt,_e)),ot){ot=toDocs(ot,$),insertContraction(et,[nt,rt],ot),reTag(et[nt],$,rt,ot.length);continue}}})},compute$2={contractionTwo:contractionTwo$1},contractionTwo={compute:compute$2,api:api$j,hooks:["contractionTwo"]},adj=[{match:"[(all|both)] #Determiner #Noun",group:0,tag:"Noun",reason:"all-noun"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",group:0,tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,notIf:"(all|even)",tag:"Infinitive",reason:"shut-the"},{match:"the [said] #Noun",group:0,tag:"Adjective",reason:"the-said-card"},{match:"[#Hyphenated (#Hyphenated && #PastTense)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"faith-based"},{match:"[#Hyphenated (#Hyphenated && #Gerund)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"self-driving"},{match:"[#PastTense (#Hyphenated && #PhrasalVerb)] (#Noun|#Conjunction)",group:0,tag:"Adjective",reason:"dammed-up"},{match:"(#Hyphenated && #Value) fold",tag:"Adjective",reason:"two-fold"},{match:"must (#Hyphenated && #Infinitive)",tag:"Adjective",reason:"must-win"},{match:"(#Hyphenated && #Infinitive) #Hyphenated",tag:"Adjective",notIf:"#PhrasalVerb",reason:"vacuum-sealed"},{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"[(un|contra|extra|inter|intra|macro|micro|mid|mis|mono|multi|pre|sub|tri|ex)] #Adjective",group:0,tag:["Adjective","Prefix"],reason:"un-skilled"}],adverbAdj="(dark|bright|flat|light|soft|pale|dead|dim|faux|little|wee|sheer|most|near|good|extra|all)",noLy="(hard|fast|late|early|high|right|deep|close|direct)",advAdj=[{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"},{match:`[${adverbAdj}] #Adjective`,group:0,tag:"Adverb",reason:"dark-green"},{match:"#Copula [far too] #Adjective",group:0,tag:"Adverb",reason:"far-too"},{match:"#Copula [still] (in|#Gerund|#Adjective)",group:0,tag:"Adverb",reason:"was-still-walking"},{match:`#Plural ${noLy}`,tag:"#PresentTense #Adverb",reason:"studies-hard"},{match:`#Verb [${noLy}] !#Noun?`,group:0,notIf:"(#Copula|get|got|getting|become|became|becoming|feel|feels|feeling|#Determiner|#Preposition)",tag:"Adverb",reason:"shops-direct"},{match:"[#Plural] a lot",tag:"PresentTense",reason:"studies-a-lot"}],gerundAdj=[{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Gerund [#Gerund]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looking-annoying"},{match:"(looked|look|looks) #Adverb? [%Adj|Gerund%]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looked-amazing"},{match:"[%Adj|Gerund%] #Determiner",group:0,tag:"Gerund",reason:"developing-a"},{match:"#Possessive [%Adj|Gerund%] #Noun",group:0,tag:"Adjective",reason:"leading-manufacturer"},{match:"%Noun|Gerund% %Adj|Gerund%",tag:"Gerund #Adjective",reason:"meaning-alluring"},{match:"(face|embrace|reveal|stop|start|resume) %Adj|Gerund%",tag:"#PresentTense #Adjective",reason:"face-shocking"},{match:"(are|were) [%Adj|Gerund%] #Plural",group:0,tag:"Adjective",reason:"are-enduring-symbols"}],nounAdj=[{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(his|its) [%Adj|Noun%]",group:0,tag:"Noun",notIf:"#Hyphenated",reason:"his-fine"},{match:"#Copula #Adverb? [all]",group:0,tag:"Noun",reason:"is-all"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"#Gerund (giant|capital|center|zone|application)",tag:"Noun",reason:"brewing-giant"},{match:"#Preposition (a|an) [#Adjective]$",group:0,tag:"Noun",reason:"an-instant"},{match:"no [#Adjective] #Modal",group:0,tag:"Noun",reason:"no-golden"},{match:"[brand #Gerund?] new",group:0,tag:"Adverb",reason:"brand-new"},{match:"(#Determiner|#Comparative|new|different) [kind]",group:0,tag:"Noun",reason:"some-kind"},{match:"#Possessive [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"her-favourite"},{match:"must && #Hyphenated .",tag:"Adjective",reason:"must-win"},{match:"#Determiner [#Adjective]$",tag:"Noun",notIf:"(this|that|#Comparative|#Superlative)",reason:"the-south"},{match:"(#Noun && #Hyphenated) (#Adjective && #Hyphenated)",tag:"Adjective",notIf:"(this|that|#Comparative|#Superlative)",reason:"company-wide"},{match:"#Determiner [#Adjective] (#Copula|#Determiner)",notIf:"(#Comparative|#Superlative)",group:0,tag:"Noun",reason:"the-poor"},{match:"[%Adj|Noun%] #Noun",notIf:"(#Pronoun|#ProperNoun)",group:0,tag:"Adjective",reason:"stable-foundations"}],adjVerb=[{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Verb",reason:"slowly-adj"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"[(fine|okay|cool|ok)] by me",group:0,tag:"Adjective",reason:"okay-by-me"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"will #Adjective",tag:"Auxiliary Infinitive",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [%Adj|Present%] to #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"#Copula [#Adjective] (well|badly|quickly|slowly)",group:0,tag:"Verb",reason:"done-well"},{match:"#Adjective and [#Gerund] !#Preposition?",group:0,tag:"Adjective",reason:"rude-and-x"},{match:"#Copula #Adverb? (over|under) [#PastTense]",group:0,tag:"Adjective",reason:"over-cooked"},{match:"#Copula #Adjective+ (and|or) [#PastTense]$",group:0,tag:"Adjective",reason:"bland-and-overcooked"},{match:"got #Adverb? [#PastTense] of",group:0,tag:"Adjective",reason:"got-tired-of"},{match:"(seem|seems|seemed|appear|appeared|appears|feel|feels|felt|sound|sounds|sounded) (#Adverb|#Adjective)? [#PastTense]",group:0,tag:"Adjective",reason:"felt-loved"},{match:"(seem|feel|seemed|felt) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"seem-confused"},{match:"a (bit|little|tad) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"a-bit-confused"},{match:"not be [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"do-not-be-confused"},{match:"#Copula just [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"is-just-right"},{match:"as [#Infinitive] as",group:0,tag:"Adjective",reason:"as-pale-as"},{match:"[%Adj|Past%] and #Adjective",group:0,tag:"Adjective",reason:"faled-and-oppressive"},{match:"or [#PastTense] #Noun",group:0,tag:"Adjective",notIf:"(#Copula|#Pronoun)",reason:"or-heightened-emotion"},{match:"(become|became|becoming|becomes) [#Verb]",group:0,tag:"Adjective",reason:"become-verb"},{match:"#Possessive [#PastTense] #Noun",group:0,tag:"Adjective",reason:"declared-intentions"},{match:"#Copula #Pronoun [%Adj|Present%]",group:0,tag:"Adjective",reason:"is-he-cool"},{match:"#Copula [%Adj|Past%] with",group:0,tag:"Adjective",notIf:"(associated|worn|baked|aged|armed|bound|fried|loaded|mixed|packed|pumped|filled|sealed)",reason:"is-crowded-with"},{match:"#Copula #Adverb? [%Adj|Present%]$",group:0,tag:"Adjective",reason:"was-empty$"}],adv=[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb  [like]",group:0,notIf:"(#Modal|#PhrasalVerb)",tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"[even] #Comparative",group:0,tag:"Adverb",reason:"even-worse"},{match:"[even] (#Determiner|#Possessive)",group:0,tag:"#Adverb",reason:"even-the"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"[way] #Adjective",group:0,tag:"#Adverb",reason:"way-over"},{match:"#PresentTense [(hard|quick|bright|slow|fast|backwards|forwards)]",notIf:"#Copula",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[(super|pretty)] #Adjective",group:0,tag:"Adverb",reason:"super-strong"},{match:"(become|fall|grow) #Adverb? [#PastTense]",group:0,tag:"Adjective",reason:"overly-weakened"},{match:"(a|an) #Adverb [#Participle] #Noun",group:0,tag:"Adjective",reason:"completely-beaten"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Gerund #Adverb? [close]",group:0,tag:"Adverb",notIf:"(getting|becoming|feeling)",reason:"being-close"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(#PresentTense|#PastTense) [back]",group:0,tag:"Adverb",notIf:"(#PhrasalVerb|#Copula)",reason:"charge-back"},{match:"#Verb [around]",group:0,tag:"Adverb",notIf:"#PhrasalVerb",reason:"send-around"},{match:"[later] #PresentTense",group:0,tag:"Adverb",reason:"later-say"},{match:"#Determiner [well] !#PastTense?",group:0,tag:"Noun",reason:"the-well"},{match:"#Adjective [enough]",group:0,tag:"Adverb",reason:"high-enough"}],dates=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"},{match:"#WeekDay #Month #Ordinal",tag:"Date",reason:"week mm-dd"},{match:"#Month #Ordinal #Cardinal",tag:"Date",reason:"mm-dd-yyy"},{match:"(#Place|#Demonmym|#Time) (standard|daylight|central|mountain)? time",tag:"Timezone",reason:"std-time"},{match:"(eastern|mountain|pacific|central|atlantic) (standard|daylight|summer)? time",tag:"Timezone",reason:"eastern-time"},{match:"#Time [(eastern|mountain|pacific|central|est|pst|gmt)]",group:0,tag:"Timezone",reason:"5pm-central"},{match:"(central|western|eastern) european time",tag:"Timezone",reason:"cet"}],ambigDates=[{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"(this|next|last) (march|may) !#Infinitive?",tag:"#Date #Month",reason:"this-month"},{match:"(march|may) the? #Value",tag:"#Month #Date #Date",reason:"march-5th"},{match:"#Value of? (march|may)",tag:"#Date #Date #Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value (am|pm)",tag:"Time",reason:"2-am"}],infNouns="(feel|sense|process|rush|side|bomb|bully|challenge|cover|crush|dump|exchange|flow|function|issue|lecture|limit|march|process)",noun=[{match:"(the|any) [more]",group:0,tag:"Singular",reason:"more-noun"},{match:"[more] #Noun",group:0,tag:"Adjective",reason:"more-noun"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Singular",reason:"bit-2"},{match:"a [must]",group:0,tag:"Singular",reason:"must-2"},{match:"(we|us) [all]",group:0,tag:"Noun",reason:"we all"},{match:"due to [#Verb]",group:0,tag:"Noun",reason:"due-to"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"(the|this|those|these) #Adjective [%Verb|Noun%]",group:0,tag:"Noun",notIf:"#Copula",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"(a|an|the) [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",notIf:"#Gerund",reason:"noun-of-noun"},{match:"#PastTense #Preposition [#PresentTense]",group:0,notIf:"#Gerund",tag:"Noun",reason:"ended-in-ruins"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"(#Singular && @hasHyphen) #PresentTense",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"to [(shit|hell)]",group:0,tag:"Noun",reason:"to-swears"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"a #Noun+ or #Adverb+? [#Verb]",group:0,tag:"Noun",reason:"noun-or-noun"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense #Particle?]",group:0,tag:"Noun",notIf:"(seem|appear|include|#Gerund|#Copula)",reason:"det-inf"},{match:"#Noun #Actor",tag:"Actor",notIf:"(#Person|#Pronoun)",reason:"thing-doer"},{match:"#Gerund #Actor",tag:"Actor",reason:"gerund-doer"},{match:"co #Singular",tag:"Actor",reason:"co-noun"},{match:"[#Noun+] #Actor",group:0,tag:"Actor",notIf:"(#Honorific|#Pronoun|#Possessive)",reason:"air-traffic-controller"},{match:"(urban|cardiac|cardiovascular|respiratory|medical|clinical|visual|graphic|creative|dental|exotic|fine|certified|registered|technical|virtual|professional|amateur|junior|senior|special|pharmaceutical|theoretical)+ #Noun? #Actor",tag:"Actor",reason:"fine-artist"},{match:"#Noun+ (coach|chef|king|engineer|fellow|personality|boy|girl|man|woman|master)",tag:"Actor",reason:"dance-coach"},{match:"chief . officer",tag:"Actor",reason:"chief-x-officer"},{match:"chief of #Noun+",tag:"Actor",reason:"chief-of-police"},{match:"senior? vice? president of #Noun+",tag:"Actor",reason:"president-of"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]$",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Possessive #PresentTense #Particle?",notIf:"(#Gerund|her)",tag:"Noun",reason:"possessive-verb"},{match:"(my|our|their|her|his|its) [(#Plural && #Actor)] #Noun",tag:"Possessive",reason:"my-dads"},{match:"#Value of a [second]",group:0,unTag:"Value",tag:"Singular",reason:"10th-of-a-second"},{match:"#Value [seconds]",group:0,unTag:"Value",tag:"Plural",reason:"10-seconds"},{match:"in [#Infinitive]",group:0,tag:"Singular",reason:"in-age"},{match:"a [#Adjective] #Preposition",group:0,tag:"Noun",reason:"a-minor-in"},{match:"#Determiner [#Singular] said",group:0,tag:"Actor",reason:"the-actor-said"},{match:`#Determiner #Noun [${infNouns}] !(#Preposition|to|#Adverb)?`,group:0,tag:"Noun",reason:"the-noun-sense"},{match:"[#PresentTense] (of|by|for) (a|an|the) #Noun #Copula",group:0,tag:"Plural",reason:"photographs-of"},{match:"#Infinitive and [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"fight and win"},{match:"#Noun and [#Verb] and #Noun",group:0,tag:"Noun",reason:"peace-and-flowers"},{match:"the #Cardinal [%Adj|Noun%]",group:0,tag:"Noun",reason:"the-1992-classic"},{match:"#Copula the [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"the-premier-university"},{match:"i #Verb [me] #Noun",group:0,tag:"Possessive",reason:"scottish-me"},{match:"[#PresentTense] (music|class|lesson|night|party|festival|league|ceremony)",group:0,tag:"Noun",reason:"dance-music"},{match:"[wit] (me|it)",group:0,tag:"Presposition",reason:"wit-me"},{match:"#PastTense #Possessive [#Verb]",group:0,tag:"Noun",notIf:"(saw|made)",reason:"left-her-boots"},{match:"#Value [%Plural|Verb%]",group:0,tag:"Plural",notIf:"(one|1|a|an)",reason:"35-signs"},{match:"had [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|come|become)",reason:"had-time"},{match:"%Adj|Noun% %Noun|Verb%",tag:"#Adjective #Noun",notIf:"#ProperNoun #Noun",reason:"instant-access"},{match:"#Determiner [%Adj|Noun%] #Conjunction",group:0,tag:"Noun",reason:"a-rep-to"},{match:"#Adjective #Noun [%Plural|Verb%]$",group:0,tag:"Plural",notIf:"#Pronoun",reason:"near-death-experiences"},{match:"#Possessive #Noun [%Plural|Verb%]$",group:0,tag:"Plural",reason:"your-guild-colors"}],gerundNouns=[{match:"(this|that|the|a|an) [#Gerund #Infinitive]",group:0,tag:"Singular",reason:"the-planning-process"},{match:"(that|the) [#Gerund #PresentTense]",group:0,ifNo:"#Copula",tag:"Plural",reason:"the-paving-stones"},{match:"#Determiner [#Gerund] #Noun",group:0,tag:"Adjective",reason:"the-gerund-noun"},{match:"#Pronoun #Infinitive [#Gerund] #PresentTense",group:0,tag:"Noun",reason:"tipping-sucks"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",notIf:"(still|even|just)",reason:"early-warning"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"#Copula [(#Gerund|#Activity)] #Copula",group:0,tag:"Gerund",reason:"are-doing-is"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"#Singular for [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"noun-for-gerund"},{match:"#Comparative (for|at) [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"better-for-gerund"},{match:"#PresentTense the [#Gerund]",group:0,tag:"Noun",reason:"keep-the-touching"}],presNouns=[{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner (only|further|just|more|backward) [#Infinitive]",group:0,tag:"Noun",reason:"the-only-reason"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"#Determiner #Demonym [#PresentTense]",group:0,tag:"Noun",reason:"mexican-train"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective? #Noun [#Infinitive] (#Preposition|#Noun)",group:0,notIf:"from",tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"about [#Infinitive]",group:0,tag:"Singular",reason:"about-love"},{match:"#Plural on [#Infinitive]",group:0,tag:"Noun",reason:"on-stage"},{match:"any [#Infinitive]",group:0,tag:"Noun",reason:"any-charge"},{match:"no [#Infinitive]",group:0,tag:"Noun",reason:"no-doubt"},{match:"number of [#PresentTense]",group:0,tag:"Noun",reason:"number-of-x"},{match:"(taught|teaches|learns|learned) [#PresentTense]",group:0,tag:"Noun",reason:"teaches-x"},{match:"(try|use|attempt|build|make) [#Verb #Particle?]",notIf:"(#Copula|#Noun|sure|fun|up)",group:0,tag:"Noun",reason:"do-verb"},{match:"^[#Infinitive] (is|was)",group:0,tag:"Noun",reason:"checkmate-is"},{match:"#Infinitive much [#Infinitive]",group:0,tag:"Noun",reason:"get-much"},{match:"[cause] #Pronoun #Verb",group:0,tag:"Conjunction",reason:"cause-cuz"},{match:"the #Singular [#Infinitive] #Noun",group:0,tag:"Noun",notIf:"#Pronoun",reason:"cardio-dance"},{match:"#Determiner #Modal [#Noun]",group:0,tag:"PresentTense",reason:"should-smoke"},{match:"this [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Date)",reason:"this-verbs"},{match:"#Noun that [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Pronoun|way)",reason:"voice-that-rocks"},{match:"that [#Plural] to",group:0,tag:"PresentTense",notIf:"#Preposition",reason:"that-leads-to"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Verb (all|every|each|most|some|no) [#PresentTense]",notIf:"#Modal",group:0,tag:"Noun",reason:"all-presentTense"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"better",reason:"adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",notIf:"(#Copula|better)",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"many-poses"},{match:"#Determiner #Adverb #Adjective [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Copula",reason:"very-big-dream"},{match:"from #Noun to [%Noun|Verb%]",group:0,tag:"Noun",reason:"start-to-finish"},{match:"(for|with|of) #Noun (and|or|not) [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Pronoun",reason:"for-food-and-gas"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"adorable-little-store"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"higher-costs"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"noun-list"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"to #PresentTense #Noun [#PresentTense] #Preposition",group:0,tag:"Noun",reason:"gas-exchange"},{match:"#PastTense (until|as|through|without) [#PresentTense]",group:0,tag:"Noun",reason:"waited-until-release"},{match:"#Gerund like #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"like-hot-cakes"},{match:"some #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"some-reason"},{match:"for some [#PresentTense]",group:0,tag:"Noun",reason:"for-some-reason"},{match:"(same|some|the|that|a) kind of [#PresentTense]",group:0,tag:"Noun",reason:"some-kind-of"},{match:"(same|some|the|that|a) type of [#PresentTense]",group:0,tag:"Noun",reason:"some-type-of"},{match:"#Gerund #Adjective #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"doing-better-for-x"},{match:"(get|got|have) #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"got-better-aim"},{match:"whose [#PresentTense] #Copula",group:0,tag:"Noun",reason:"whos-name-was"},{match:"#PhrasalVerb #Particle #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"given-up-on-x"},{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Value [#PresentTense] of",group:0,notIf:"(one|1|#Copula|#Infinitive)",tag:"Plural",reason:"2-trains"},{match:"[#PresentTense] (are|were) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"^[(hope|guess|thought|think)] #Pronoun #Verb",group:0,tag:"Infinitive",reason:"suppose-i"},{match:"#Possessive #Adjective [#Verb]",group:0,tag:"Noun",notIf:"#Copula",reason:"our-full-support"},{match:"[(tastes|smells)] #Adverb? #Adjective",group:0,tag:"PresentTense",reason:"tastes-good"},{match:"#Copula #Gerund [#PresentTense] !by?",group:0,tag:"Noun",notIf:"going",reason:"ignoring-commute"},{match:"#Determiner #Adjective? [(shed|thought|rose|bid|saw|spelt)]",group:0,tag:"Noun",reason:"noun-past"},{match:"how to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"how-to-noun"},{match:"which [%Noun|Verb%] #Noun",group:0,tag:"Infinitive",reason:"which-boost-it"},{match:"#Gerund [%Plural|Verb%]",group:0,tag:"Plural",reason:"asking-questions"},{match:"(ready|available|difficult|hard|easy|made|attempt|try) to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"ready-to-noun"},{match:"(bring|went|go|drive|run|bike) to [%Noun|Verb%]",group:0,tag:"Noun",reason:"bring-to-noun"},{match:"#Modal #Noun [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"would-you-look"},{match:"#Copula just [#Infinitive]",group:0,tag:"Noun",reason:"is-just-spam"},{match:"^%Noun|Verb% %Plural|Verb%",tag:"Imperative #Plural",reason:"request-copies"},{match:"#Adjective #Plural and [%Plural|Verb%]",group:0,tag:"#Plural",reason:"pickles-and-drinks"},{match:"#Determiner #Year [#Verb]",group:0,tag:"Noun",reason:"the-1968-film"},{match:"#Determiner [#PhrasalVerb #Particle]",group:0,tag:"Noun",reason:"the-break-up"},{match:"#Determiner [%Adj|Noun%] #Noun",group:0,tag:"Adjective",notIf:"(#Pronoun|#Possessive|#ProperNoun)",reason:"the-individual-goals"},{match:"[%Noun|Verb%] or #Infinitive",group:0,tag:"Infinitive",reason:"work-or-prepare"},{match:"to #Infinitive [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|#Copula|help)",reason:"to-give-thanks"},{match:"[#Noun] me",group:0,tag:"Verb",reason:"kills-me"},{match:"%Plural|Verb% %Plural|Verb%",tag:"#PresentTense #Plural",reason:"removes-wrinkles"}],money=[{match:"#Money and #Money #Currency?",tag:"Money",reason:"money-and-money"},{match:"#Value #Currency [and] #Value (cents|ore|centavos|sens)",group:0,tag:"money",reason:"and-5-cents"},{match:"#Value (mark|rand|won|rub|ore)",tag:"#Money #Currency",reason:"4-mark"},{match:"a pound",tag:"#Money #Unit",reason:"a-pound"},{match:"#Value (pound|pounds)",tag:"#Money #Unit",reason:"4-pounds"}],fractions=[{match:"[(half|quarter)] of? (a|an)",group:0,tag:"Fraction",reason:"millionth"},{match:"#Adverb [half]",group:0,tag:"Fraction",reason:"nearly-half"},{match:"[half] the",group:0,tag:"Fraction",reason:"half-the"},{match:"#Cardinal and a half",tag:"Fraction",reason:"and-a-half"},{match:"#Value (halves|halfs|quarters)",tag:"Fraction",reason:"two-halves"},{match:"a #Ordinal",tag:"Fraction",reason:"a-quarter"},{match:"[#Cardinal+] (#Fraction && /s$/)",tag:"Fraction",reason:"seven-fifths"},{match:"[#Cardinal+ #Ordinal] of .",group:0,tag:"Fraction",reason:"ordinal-of"},{match:"[(#NumericValue && #Ordinal)] of .",group:0,tag:"Fraction",reason:"num-ordinal-of"},{match:"(a|one) #Cardinal?+ #Ordinal",tag:"Fraction",reason:"a-ordinal"},{match:"#Cardinal+ out? of every? #Cardinal",tag:"Fraction",reason:"out-of"}],numbers$2=[{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"!once? [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"},{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"#Value [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"#Multiple+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"#Value #Unit [(per|an) (hr|hour|sec|second|min|minute)]",group:0,tag:"Unit",reason:"12-miles-per-second"},{match:"#Value [(square|cubic)] #Unit",group:0,tag:"Unit",reason:"square-miles"}],person=[{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(sister|pope|brother|father|aunt|uncle|grandpa|grandfather|grandma) #ProperNoun",tag:"Person",reason:"lady-titlecase",safe:!0},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"Person",reason:"first-noun-last"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-lastname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",notIf:"#Place",reason:"saint-foo"},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",notIf:"#Place",reason:"title-de-title"},{match:"#Singular #Acronym #LastName",tag:"#FirstName #Person .",reason:"title-acro-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"#Person [#ProperNoun #ProperNoun]",group:0,tag:"Person",notIf:"#Possessive",reason:"three-name-person",safe:!0},{match:"#FirstName #Acronym? [#ProperNoun]",group:0,tag:"LastName",notIf:"#Possessive",reason:"firstname-titlecase"},{match:"#FirstName [#FirstName]",group:0,tag:"LastName",reason:"firstname-firstname"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von)] #Person",group:0,tag:"LastName",reason:"de-firstname"},{match:"[(lieutenant|corporal|sergeant|captain|qeen|king|admiral|major|colonel|marshal|president|queen|king)+] #ProperNoun",group:0,tag:"Honorific",reason:"seargeant-john"},{match:"[(private|general|major|rear|prime|field|count|miss)] #Honorific? #Person",group:0,tag:["Honorific","Person"],reason:"ambg-honorifics"},{match:"#Honorific #FirstName [#Singular]",group:0,tag:"LastName",notIf:"#Possessive",reason:"dr-john-foo",safe:!0},{match:"[(his|her) (majesty|honour|worship|excellency|honorable)] #Person",group:0,tag:"Honorific",reason:"his-excellency"},{match:"#Honorific #Actor",tag:"Honorific",reason:"Lieutenant colonel"},{match:"(first|second|third|1st|2nd|3rd) #Actor",tag:"Honorific",reason:"first lady"},{match:"#Person #RomanNumeral",tag:"Person",reason:"louis-IV"}],personName=[{match:"#FirstName #Noun$",tag:". #LastName",notIf:"(#Possessive|#Organization|#Place|#Pronoun|@hasTitleCase)",reason:"firstname-noun"},{match:"%Person|Date% #Acronym? #ProperNoun",tag:"Person",reason:"jan-thierson"},{match:"%Person|Noun% #Acronym? #ProperNoun",tag:"Person",reason:"switch-person",safe:!0},{match:"%Person|Noun% #Organization",tag:"Organization",reason:"olive-garden"},{match:"%Person|Verb% #Acronym? #ProperNoun",tag:"Person",reason:"verb-propernoun",ifNo:"#Actor"},{match:"[%Person|Verb%] (will|had|has|said|says|told|did|learned|wants|wanted)",group:0,tag:"Person",reason:"person-said"},{match:"[%Person|Place%] (harbor|harbour|pier|town|city|place|dump|landfill)",group:0,tag:"Place",reason:"sydney-harbour"},{match:"(west|east|north|south) [%Person|Place%]",group:0,tag:"Place",reason:"east-sydney"},{match:"#Modal [%Person|Verb%]",group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [%Person|Verb%]",group:0,tag:"Verb",reason:"really-mark"},{match:"[%Person|Verb%] (#Adverb|#Comparative)",group:0,tag:"Verb",reason:"drew-closer"},{match:"%Person|Verb% #Person",tag:"Person",reason:"rob-smith"},{match:"%Person|Verb% #Acronym #ProperNoun",tag:"Person",reason:"rob-a-smith"},{match:"[will] #Verb",group:0,tag:"Modal",reason:"will-verb"},{match:"(will && @isTitleCase) #ProperNoun",tag:"Person",reason:"will-name"},{match:"(#FirstName && !#Possessive) [#Singular] #Verb",group:0,safe:!0,tag:"LastName",reason:"jack-layton"},{match:"^[#Singular] #Person #Verb",group:0,safe:!0,tag:"Person",reason:"sherwood-anderson"},{match:"(a|an) [#Person]$",group:0,unTag:"Person",reason:"a-warhol"}],verbs$1=[{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"will #Adverb? not? #Adverb? [be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|toward)",notIf:"#Date",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"[(subject|subjects|subjected)] to",group:0,tag:"Verb",reason:"subject to"},{match:"[home] to",group:0,tag:"PresentTense",reason:"home to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"(had|has|have) [been /en$/]",group:0,tag:"Auxiliary Participle",reason:"had-been-broken"},{match:"(had|has|have) [been /ed$/]",group:0,tag:"Auxiliary PastTense",reason:"had-been-smoked"},{match:"(had|has) #Adverb? [been] #Adverb? #PastTense",group:0,tag:"Auxiliary",reason:"had-been-adj"},{match:"(had|has) to [#Noun] (#Determiner|#Possessive)",group:0,tag:"Infinitive",reason:"had-to-noun"},{match:"have [#PresentTense]",group:0,tag:"PastTense",notIf:"(come|gotten)",reason:"have-read"},{match:"(does|will|#Modal) that [work]",group:0,tag:"PastTense",reason:"does-that-work"},{match:"[(sound|sounds)] #Adjective",group:0,tag:"PresentTense",reason:"sounds-fun"},{match:"[(look|looks)] #Adjective",group:0,tag:"PresentTense",reason:"looks-good"},{match:"[(start|starts|stop|stops|begin|begins)] #Gerund",group:0,tag:"Verb",reason:"starts-thinking"},{match:"(have|had) read",tag:"Modal #PastTense",reason:"read-read"},{match:"(is|was|were) [(under|over) #PastTense]",group:0,tag:"Adverb Adjective",reason:"was-under-cooked"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"},{match:"#Plural that %Noun|Verb%",tag:". #Preposition #Infinitive",reason:"jobs-that-work"},{match:"[works] for me",group:0,tag:"PresentTense",reason:"works-for-me"},{match:"as #Pronoun [please]",group:0,tag:"Infinitive",reason:"as-we-please"},{match:"[(co|mis|de|inter|intra|pre|re|un|out|under|over|counter)] #Verb",group:0,tag:["Verb","Prefix"],notIf:"(#Copula|#PhrasalVerb)",reason:"co-write"},{match:"#PastTense and [%Adj|Past%]",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"[%Adj|Past%] and #PastTense",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"#Copula #Pronoun [%Adj|Past%]",group:0,tag:"Adjective",reason:"is-he-stoked"},{match:"to [%Noun|Verb%] #Preposition",group:0,tag:"Infinitive",reason:"to-dream-of"}],auxiliary=[{match:"will (#Adverb|not)+? [have] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"will-have-vb"},{match:"[#Copula] (#Adverb|not)+? (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(#Modal|did)+] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"#Modal (#Adverb|not)+? [have] (#Adverb|not)+? [had] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had)] (#Adverb|not)+? #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|did|will|have|had|has|got)] (not|#Adverb)+? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? [be] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[(#Modal|had|has)] (#Adverb|not)+? [been] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-driven"},{match:"[may] #Adverb? #Infinitive",group:0,tag:"Auxiliary",reason:"may-want"},{match:"#Copula (#Adverb|not)+? [(be|being|been)] #Adverb+? #PastTense",group:0,tag:"Auxiliary",reason:"being-walked"},{match:"will [be] #PastTense",group:0,tag:"Auxiliary",reason:"will-be-x"},{match:"[(be|been)] (#Adverb|not)+? #Gerund",group:0,tag:"Auxiliary",reason:"been-walking"},{match:"[used to] #PresentTense",group:0,tag:"Auxiliary",reason:"used-to-walk"},{match:"#Copula (#Adverb|not)+? [going to] #Adverb+? #PresentTense",group:0,tag:"Auxiliary",reason:"going-to-walk"},{match:"#Imperative [(me|him|her)]",group:0,tag:"Reflexive",reason:"tell-him"},{match:"(is|was) #Adverb? [no]",group:0,tag:"Negative",reason:"is-no"},{match:"[(been|had|became|came)] #PastTense",group:0,notIf:"#PhrasalVerb",tag:"Auxiliary",reason:"been-told"},{match:"[(being|having|getting)] #Verb",group:0,tag:"Auxiliary",reason:"being-born"},{match:"[be] #Gerund",group:0,tag:"Auxiliary",reason:"be-walking"},{match:"[better] #PresentTense",group:0,tag:"Modal",notIf:"(#Copula|#Gerund)",reason:"better-go"},{match:"even better",tag:"Adverb #Comparative",reason:"even-better"}],phrasal=[{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"[#Verb (in|out|up|down|off|back)] (on|in)",notIf:"#Copula",tag:"PhrasalVerb Particle",reason:"walk-in-on"},{match:"(lived|went|crept|go) [on] for",group:0,tag:"PhrasalVerb",reason:"went-on"},{match:"#Verb (up|down|in|on|for)$",tag:"PhrasalVerb #Particle",notIf:"#PhrasalVerb",reason:"come-down$"},{match:"help [(stop|end|make|start)]",group:0,tag:"Infinitive",reason:"help-stop"},{match:"#PhrasalVerb (in && #Particle) #Determiner",tag:"#Verb #Preposition #Determiner",unTag:"PhrasalVerb",reason:"work-in-the"},{match:"[(stop|start|finish|help)] #Gerund",group:0,tag:"Infinitive",reason:"start-listening"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"}],notIf="(i|we|they)",imperative=[{match:"^do not? [#Infinitive #Particle?]",notIf,group:0,tag:"Imperative",reason:"do-eat"},{match:"^please do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"please-go"},{match:"^just do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"just-go"},{match:"^[#Infinitive] it #Comparative",notIf,group:0,tag:"Imperative",reason:"do-it-better"},{match:"^[#Infinitive] it (please|now|again|plz)",notIf,group:0,tag:"Imperative",reason:"do-it-please"},{match:"^[#Infinitive] (#Adjective|#Adverb)$",group:0,tag:"Imperative",notIf:"(so|such|rather|enough)",reason:"go-quickly"},{match:"^[#Infinitive] (up|down|over) #Determiner",group:0,tag:"Imperative",reason:"turn-down"},{match:"^[#Infinitive] (your|my|the|a|an|any|each|every|some|more|with|on)",group:0,notIf:"like",tag:"Imperative",reason:"eat-my-shorts"},{match:"^[#Infinitive] (him|her|it|us|me|there)",group:0,tag:"Imperative",reason:"tell-him"},{match:"^[#Infinitive] #Adjective #Noun$",group:0,tag:"Imperative",reason:"avoid-loud-noises"},{match:"^[#Infinitive] (#Adjective|#Adverb)? and #Infinitive",group:0,tag:"Imperative",reason:"call-and-reserve"},{match:"^(go|stop|wait|hurry) please?$",tag:"Imperative",reason:"go"},{match:"^(somebody|everybody) [#Infinitive]",group:0,tag:"Imperative",reason:"somebody-call"},{match:"^let (us|me) [#Infinitive]",group:0,tag:"Imperative",reason:"lets-leave"},{match:"^[(shut|close|open|start|stop|end|keep)] #Determiner #Noun",group:0,tag:"Imperative",reason:"shut-the-door"},{match:"^[#PhrasalVerb #Particle] #Determiner #Noun",group:0,tag:"Imperative",reason:"turn-off-the-light"},{match:"^[go] to .",group:0,tag:"Imperative",reason:"go-to-toronto"},{match:"^#Modal you [#Infinitive]",group:0,tag:"Imperative",reason:"would-you-"},{match:"^never [#Infinitive]",group:0,tag:"Imperative",reason:"never-stop"},{match:"^come #Infinitive",tag:"Imperative",notIf:"on",reason:"come-have"},{match:"^come and? #Infinitive",tag:"Imperative . Imperative",notIf:"#PhrasalVerb",reason:"come-and-have"},{match:"^stay (out|away|back)",tag:"Imperative",reason:"stay-away"},{match:"^[(stay|be|keep)] #Adjective",group:0,tag:"Imperative",reason:"stay-cool"},{match:"^[keep it] #Adjective",group:0,tag:"Imperative",reason:"keep-it-cool"},{match:"^do not [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-be"},{match:"[#Infinitive] (yourself|yourselves)",group:0,tag:"Imperative",reason:"allow-yourself"},{match:"[#Infinitive] what .",group:0,tag:"Imperative",reason:"look-what"},{match:"^[#Infinitive] #Gerund",group:0,tag:"Imperative",reason:"keep-playing"},{match:"^[#Infinitive] (to|for|into|toward|here|there)",group:0,tag:"Imperative",reason:"go-to"},{match:"^[#Infinitive] (and|or) #Infinitive",group:0,tag:"Imperative",reason:"inf-and-inf"},{match:"^[%Noun|Verb%] to",group:0,tag:"Imperative",reason:"commit-to"},{match:"^[#Infinitive] #Adjective? #Singular #Singular",group:0,tag:"Imperative",reason:"maintain-eye-contact"},{match:"do not (forget|omit|neglect) to [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-forget"},{match:"^[(ask|wear|pay|look|help|show|watch|act|fix|kill|stop|start|turn|try|win)] #Noun",group:0,tag:"Imperative",reason:"pay-attention"}],adjGerund=[{match:"(that|which) were [%Adj|Gerund%]",group:0,tag:"Gerund",reason:"that-were-growing"},{match:"#Gerund [#Gerund] #Plural",group:0,tag:"Adjective",reason:"hard-working-fam"}],passive$1=[{match:"(got|were|was|is|are|am) (#PastTense|#Participle)",tag:"Passive",reason:"got-walked"},{match:"(was|were|is|are|am) being (#PastTense|#Participle)",tag:"Passive",reason:"was-being"},{match:"(had|have|has) been (#PastTense|#Participle)",tag:"Passive",reason:"had-been"},{match:"will be being? (#PastTense|#Participle)",tag:"Passive",reason:"will-be-cleaned"},{match:"#Noun [(#PastTense|#Participle)] by (the|a) #Noun",group:0,tag:"Passive",reason:"suffered-by"}],matches$1=[{match:"u r",tag:"#Pronoun #Copula",reason:"u r"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"some sort of",tag:"Adjective Noun Conjunction",reason:"some-sort-of"},{match:"of some sort",tag:"Conjunction Adjective Noun",reason:"of-some-sort"},{match:"[such] (a|an|is)? #Noun",group:0,tag:"Determiner",reason:"such-skill"},{match:"[right] (before|after|in|into|to|toward)",group:0,tag:"#Adverb",reason:"right-into"},{match:"#Preposition [about]",group:0,tag:"Adjective",reason:"at-about"},{match:"(are|#Modal|see|do|for) [ya]",group:0,tag:"Pronoun",reason:"are-ya"},{match:"[long live] .",group:0,tag:"#Adjective #Infinitive",reason:"long-live"},{match:"[plenty] of",group:0,tag:"#Uncountable",reason:"plenty-of"},{match:"(always|nearly|barely|practically) [there]",group:0,tag:"Adjective",reason:"always-there"},{match:"[there] (#Adverb|#Pronoun)? #Copula",group:0,tag:"There",reason:"there-is"},{match:"#Copula [there] .",group:0,tag:"There",reason:"is-there"},{match:"#Modal #Adverb? [there]",group:0,tag:"There",reason:"should-there"},{match:"^[do] (you|we|they)",group:0,tag:"QuestionWord",reason:"do-you"},{match:"^[does] (he|she|it|#ProperNoun)",group:0,tag:"QuestionWord",reason:"does-he"},{match:"#Determiner #Noun+ [who] #Verb",group:0,tag:"Preposition",reason:"the-x-who"},{match:"#Determiner #Noun+ [which] #Verb",group:0,tag:"Preposition",reason:"the-x-which"},{match:"a [while]",group:0,tag:"Noun",reason:"a-while"},{match:"guess who",tag:"#Infinitive #QuestionWord",reason:"guess-who"},{match:"[fucking] !#Verb",group:0,tag:"#Gerund",reason:"f-as-gerund"}],orgs=[{match:"university of #Place",tag:"Organization",reason:"university-of-Foo"},{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",notIf:"#FirstName",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"government of the? [#Place+]",tag:"Organization",reason:"government-of-x"},{match:"(health|school|commerce) board",tag:"Organization",reason:"school-board"},{match:"(nominating|special|conference|executive|steering|central|congressional) committee",tag:"Organization",reason:"special-comittee"},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"},{match:"#Place+ #SportsTeam",tag:"SportsTeam",reason:"place-sportsteam"},{match:"(dc|atlanta|minnesota|manchester|newcastle|sheffield) united",tag:"SportsTeam",reason:"united-sportsteam"},{match:"#Place+ fc",tag:"SportsTeam",reason:"fc-sportsteam"},{match:"#Place+ #Noun{0,2} (club|society|group|team|committee|commission|association|guild|crew)",tag:"Organization",reason:"place-noun-society"}],places=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"portland [or]",group:0,tag:"Region",reason:"portland-or"},{match:"#ProperNoun+ (cliff|place|range|pit|place|point|room|grounds|ruins)",tag:"Place",reason:"foo-point"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"},{match:"(port|mount|mt) #ProperName",tag:"Place",reason:"port-name"}],conjunctions=[{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"#Copula [(who|what|where|why|how|when)] #Noun",group:0,tag:"Conjunction",reason:"when-he"},{match:"#Verb [that] #Pronoun",group:0,tag:"Conjunction",reason:"said-that-he"},{match:"#Noun [that] #Copula",group:0,tag:"Conjunction",reason:"that-are"},{match:"#Noun [that] #Verb #Adjective",group:0,tag:"Conjunction",reason:"that-seem"},{match:"#Noun #Copula not? [that] #Adjective",group:0,tag:"Adverb",reason:"that-adj"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"^[like] #Determiner",group:0,tag:"Preposition",reason:"like-the"},{match:"a #Noun [like] (#Noun|#Determiner)",group:0,tag:"Preposition",reason:"a-noun-like"},{match:"#Adverb [like]",group:0,tag:"Verb",reason:"really-like"},{match:"(not|nothing|never) [like]",group:0,tag:"Preposition",reason:"nothing-like"},{match:"#Infinitive #Pronoun [like]",group:0,tag:"Preposition",reason:"treat-them-like"},{match:"[#QuestionWord] (#Pronoun|#Determiner)",group:0,tag:"Preposition",reason:"how-he"},{match:"[#QuestionWord] #Participle",group:0,tag:"Preposition",reason:"when-stolen"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"#Plural [(who|which|when)] .",group:0,tag:"Preposition",reason:"people-who"}],expressions=[{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"^[(well|so|okay|now)] !#Adjective?",group:0,tag:"Expression",reason:"well-"},{match:"^come on",tag:"Expression",reason:"come-on"},{match:"(say|says|said) [sorry]",group:0,tag:"Expression",reason:"say-sorry"},{match:"^(ok|alright|shoot|hell|anyways)",tag:"Expression",reason:"ok-"},{match:"^(say && @hasComma)",tag:"Expression",reason:"say-"},{match:"^(like && @hasComma)",tag:"Expression",reason:"like-"},{match:"^[(dude|man|girl)] #Pronoun",group:0,tag:"Expression",reason:"dude-i"}],matches=[].concat(passive$1,adj,advAdj,gerundAdj,nounAdj,adv,ambigDates,dates,noun,gerundNouns,presNouns,money,fractions,numbers$2,person,personName,verbs$1,adjVerb,auxiliary,phrasal,imperative,adjGerund,matches$1,orgs,places,conjunctions,expressions),model={two:{matches}};let net$1=null;const postTagger=function($){const{world:_e}=$,{model:et,methods:tt}=_e;net$1=net$1||tt.one.buildNet(et.two.matches,_e);const rt=tt.two.quickSplit($.document).map(ot=>{const at=ot[0];return[at.index[0],at.index[1],at.index[1]+ot.length]}),it=$.update(rt);return it.cache(),it.sweep(net$1),$.uncache(),$.unfreeze(),$},tagger=$=>$.compute(["freeze","lexicon","preTagger","postTagger","unfreeze"]),compute$1={postTagger,tagger},round$2=$=>Math.round($*100)/100;function api$i($){$.prototype.confidence=function(){let _e=0,et=0;return this.docs.forEach(tt=>{tt.forEach(nt=>{et+=1,_e+=nt.confidence||1})}),et===0?1:round$2(_e/et)},$.prototype.tagger=function(){return this.compute(["tagger"])}}const plugin$2={api:api$i,compute:compute$1,model,hooks:["postTagger"]},getWords=function($){return Object.keys($.hooks).filter(_e=>!_e.startsWith("#")&&!_e.startsWith("%"))},maybeMatch=function($,_e){const et=getWords(_e);if(et.length===0)return $;$._cache||$.cache();const tt=$._cache;return $.filter((nt,rt)=>et.some(it=>tt[rt].has(it)))},lazyParse=function($,_e){let et=_e;typeof _e=="string"&&(et=this.buildNet([{match:_e}]));const tt=this.tokenize($),nt=maybeMatch(tt,et);return nt.found?(nt.compute(["index","tagger"]),nt.match(_e)):tt.none()},lazy={lib:{lazy:lazyParse}},matchVerb=function($,_e){const et=$.methods.two.transform.verb.conjugate,tt=et(_e,$.model);return $.has("#Gerund")?tt.Gerund:$.has("#PastTense")?tt.PastTense:$.has("#PresentTense")?tt.PresentTense:$.has("#Gerund")?tt.Gerund:_e},swapVerb=function($,_e){let et=_e;return $.forEach(tt=>{tt.has("#Infinitive")||(et=matchVerb(tt,_e)),tt.replaceWith(et)}),$},swapNoun=function($,_e){let et=_e;if($.has("#Plural")){const tt=$.methods.two.transform.noun.toPlural;et=tt(_e,$.model)}$.replaceWith(et,{possessives:!0})},swapAdverb=function($,_e){const{toAdverb:et}=$.methods.two.transform.adjective,nt=et(_e);nt&&$.replaceWith(nt)},swapAdjective=function($,_e){const{toComparative:et,toSuperlative:tt}=$.methods.two.transform.adjective;let nt=_e;$.has("#Comparative")?nt=et(nt,$.model):$.has("#Superlative")&&(nt=tt(nt,$.model)),nt&&$.replaceWith(nt)},swap$2=function($,_e,et){let tt=$.split(/ /g).map(rt=>rt.toLowerCase().trim());tt=tt.filter(rt=>rt),tt=tt.map(rt=>`{${rt}}`).join(" ");let nt=this.match(tt);return et&&(nt=nt.if(et)),nt.has("#Verb")?swapVerb(nt,_e):nt.has("#Noun")?swapNoun(nt,_e):nt.has("#Adverb")?swapAdverb(nt,_e):nt.has("#Adjective")?swapAdjective(nt,_e):this},api$h=function($){$.prototype.swap=swap$2},swap$1={api:api$h};nlp.plugin(preTag);nlp.plugin(contractionTwo);nlp.plugin(plugin$2);nlp.plugin(lazy);nlp.plugin(swap$1);const toRoot$1=function($){const{fromComparative:_e,fromSuperlative:et}=$.methods.two.transform.adjective,tt=$.text("normal");return $.has("#Comparative")?_e(tt,$.model):$.has("#Superlative")?et(tt,$.model):tt},api$g=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Adjectives"}json(tt={}){const{toAdverb:nt,toNoun:rt,toSuperlative:it,toComparative:ot}=this.methods.two.transform.adjective;return tt.normal=!0,this.map(at=>{const st=at.toView().json(tt)[0]||{},lt=toRoot$1(at);return st.adjective={adverb:nt(lt,this.model),noun:rt(lt,this.model),superlative:it(lt,this.model),comparative:ot(lt,this.model)},st},[])}adverbs(){return this.before("#Adverb+$").concat(this.after("^#Adverb+"))}conjugate(tt){const{toComparative:nt,toSuperlative:rt,toNoun:it,toAdverb:ot}=this.methods.two.transform.adjective;return this.getNth(tt).map(at=>{const st=toRoot$1(at);return{Adjective:st,Comparative:nt(st,this.model),Superlative:rt(st,this.model),Noun:it(st,this.model),Adverb:ot(st,this.model)}},[])}toComparative(tt){const{toComparative:nt}=this.methods.two.transform.adjective;return this.getNth(tt).map(rt=>{const it=toRoot$1(rt),ot=nt(it,this.model);return rt.replaceWith(ot)})}toSuperlative(tt){const{toSuperlative:nt}=this.methods.two.transform.adjective;return this.getNth(tt).map(rt=>{const it=toRoot$1(rt),ot=nt(it,this.model);return rt.replaceWith(ot)})}toAdverb(tt){const{toAdverb:nt}=this.methods.two.transform.adjective;return this.getNth(tt).map(rt=>{const it=toRoot$1(rt),ot=nt(it,this.model);return rt.replaceWith(ot)})}toNoun(tt){const{toNoun:nt}=this.methods.two.transform.adjective;return this.getNth(tt).map(rt=>{const it=toRoot$1(rt),ot=nt(it,this.model);return rt.replaceWith(ot)})}}$.prototype.adjectives=function(et){let tt=this.match("#Adjective");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)},$.prototype.superlatives=function(et){let tt=this.match("#Superlative");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)},$.prototype.comparatives=function(et){let tt=this.match("#Comparative");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},adjectives={api:api$g},toRoot=function($){return $.compute("root").text("root")},api$f=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Adverbs"}conjugate(tt){return this.getNth(tt).map(nt=>{const rt=toRoot(nt);return{Adverb:nt.text("normal"),Adjective:rt}},[])}json(tt={}){const nt=this.methods.two.transform.adjective.fromAdverb;return tt.normal=!0,this.map(rt=>{const it=rt.toView().json(tt)[0]||{};return it.adverb={adjective:nt(it.normal)},it},[])}}$.prototype.adverbs=function(et){let tt=this.match("#Adverb");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},adverbs={api:api$f},byComma=function($){let _e=$.match("@hasComma");return _e=_e.filter(et=>{if(et.growLeft(".").wordCount()===1||et.growRight(". .").wordCount()===1)return!1;let tt=et.grow(".");return tt=tt.ifNo("@hasComma @hasComma"),tt=tt.ifNo("@hasComma (and|or) ."),tt=tt.ifNo("(#City && @hasComma) #Country"),tt=tt.ifNo("(#WeekDay && @hasComma) #Date"),tt=tt.ifNo("(#Date+ && @hasComma) #Value"),tt=tt.ifNo("(#Adjective && @hasComma) #Adjective"),tt.found}),$.splitAfter(_e)},splitParentheses=function($){let _e=$.parentheses();return _e=_e.filter(et=>et.wordCount()>=3&&et.has("#Verb")&&et.has("#Noun")),$.splitOn(_e)},splitQuotes=function($){let _e=$.quotations();return _e=_e.filter(et=>et.wordCount()>=3&&et.has("#Verb")&&et.has("#Noun")),$.splitOn(_e)},clauses=function($){let _e=this;_e=splitParentheses(_e),_e=splitQuotes(_e),_e=byComma(_e),_e=_e.splitAfter("(@hasEllipses|@hasSemicolon|@hasDash|@hasColon)"),_e=_e.splitAfter("^#Pronoun (said|says)"),_e=_e.splitBefore("(said|says) #ProperNoun$"),_e=_e.splitBefore(". . if .{4}"),_e=_e.splitBefore("and while"),_e=_e.splitBefore("now that"),_e=_e.splitBefore("ever since"),_e=_e.splitBefore("(supposing|although)"),_e=_e.splitBefore("even (while|if|though)"),_e=_e.splitBefore("(whereas|whose)"),_e=_e.splitBefore("as (though|if)"),_e=_e.splitBefore("(til|until)");const et=_e.match("#Verb .* [but] .* #Verb",0);et.found&&(_e=_e.splitBefore(et));const tt=_e.if("if .{2,9} then .").match("then");return _e=_e.splitBefore(tt),typeof $=="number"&&(_e=_e.get($)),_e},chunks=function($){const _e=[];let et=null;return $.clauses().docs.forEach(rt=>{rt.forEach(it=>{!it.chunk||it.chunk!==et?(et=it.chunk,_e.push([it.index[0],it.index[1],it.index[1]+1])):_e[_e.length-1][2]=it.index[1]+1}),et=null}),$.update(_e)},api$e=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Chunks"}isVerb(){return this.filter(tt=>tt.has("<Verb>"))}isNoun(){return this.filter(tt=>tt.has("<Noun>"))}isAdjective(){return this.filter(tt=>tt.has("<Adjective>"))}isPivot(){return this.filter(tt=>tt.has("<Pivot>"))}debug(){return this.toView().debug("chunks"),this}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}$.prototype.chunks=function(et){let tt=chunks(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)},$.prototype.clauses=clauses},byWord={this:"Noun",then:"Pivot"},easyMode=function($){for(let _e=0;_e<$.length;_e+=1)for(let et=0;et<$[_e].length;et+=1){const tt=$[_e][et];if(byWord.hasOwnProperty(tt.normal)===!0){tt.chunk=byWord[tt.normal];continue}if(tt.tags.has("Verb")){tt.chunk="Verb";continue}if(tt.tags.has("Noun")||tt.tags.has("Determiner")){tt.chunk="Noun";continue}if(tt.tags.has("Value")){tt.chunk="Noun";continue}if(tt.tags.has("QuestionWord")){tt.chunk="Pivot";continue}}},byNeighbour=function($){for(let _e=0;_e<$.length;_e+=1)for(let et=0;et<$[_e].length;et+=1){const tt=$[_e][et];if(tt.chunk)continue;const nt=$[_e][et+1],rt=$[_e][et-1];if(tt.tags.has("Adjective")){if(rt&&rt.tags.has("Copula")){tt.chunk="Adjective";continue}if(rt&&rt.tags.has("Determiner")){tt.chunk="Noun";continue}if(nt&&nt.tags.has("Noun")){tt.chunk="Noun";continue}continue}if(tt.tags.has("Adverb")||tt.tags.has("Negative")){if(rt&&rt.tags.has("Adjective")){tt.chunk="Adjective";continue}if(rt&&rt.tags.has("Verb")){tt.chunk="Verb";continue}if(nt&&nt.tags.has("Adjective")){tt.chunk="Adjective";continue}if(nt&&nt.tags.has("Verb")){tt.chunk="Verb";continue}}}},rules=[{match:"[that] #Determiner #Noun",group:0,chunk:"Pivot"},{match:"#PastTense [that]",group:0,chunk:"Pivot"},{match:"[so] #Determiner",group:0,chunk:"Pivot"},{match:"#Copula #Adverb+? [#Adjective]",group:0,chunk:"Adjective"},{match:"#Adjective and #Adjective",chunk:"Adjective"},{match:"#Adverb+ and #Adverb #Verb",chunk:"Verb"},{match:"#Gerund #Adjective$",chunk:"Verb"},{match:"#Gerund to #Verb",chunk:"Verb"},{match:"#PresentTense and #PresentTense",chunk:"Verb"},{match:"#Adverb #Negative",chunk:"Verb"},{match:"(want|wants|wanted) to #Infinitive",chunk:"Verb"},{match:"#Verb #Reflexive",chunk:"Verb"},{match:"#Verb [to] #Adverb? #Infinitive",group:0,chunk:"Verb"},{match:"[#Preposition] #Gerund",group:0,chunk:"Verb"},{match:"#Infinitive [that] <Noun>",group:0,chunk:"Verb"},{match:"#Noun of #Determiner? #Noun",chunk:"Noun"},{match:"#Value+ #Adverb? #Adjective",chunk:"Noun"},{match:"the [#Adjective] #Noun",chunk:"Noun"},{match:"#Singular in #Determiner? #Singular",chunk:"Noun"},{match:"#Plural [in] #Determiner? #Noun",group:0,chunk:"Pivot"},{match:"#Noun and #Determiner? #Noun",notIf:"(#Possessive|#Pronoun)",chunk:"Noun"}];let net=null;const matcher=function($,_e,et){const{methods:tt}=et;net=net||tt.one.buildNet(rules,et),$.sweep(net)};var define_process_env_default={};const setChunk=function($,_e){if((typeof process>"u"||!define_process_env_default?self.env||{}:define_process_env_default).DEBUG_CHUNKS){const tt=($.normal+"'").padEnd(8);console.log(`  | '${tt}    \x1B[34m${_e.padEnd(12)}\x1B[0m \x1B[2m -fallback- \x1B[0m`)}$.chunk=_e},fallback=function($){for(let _e=0;_e<$.length;_e+=1)for(let et=0;et<$[_e].length;et+=1){const tt=$[_e][et];tt.chunk===void 0&&(tt.tags.has("Conjunction")||tt.tags.has("Preposition")?setChunk(tt,"Pivot"):tt.tags.has("Adverb")?setChunk(tt,"Verb"):tt.chunk="Noun")}},fixUp=function($){const _e=[];let et=null;$.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1){const rt=tt[nt];et&&rt.chunk===et?_e[_e.length-1].terms.push(rt):(_e.push({chunk:rt.chunk,terms:[rt]}),et=rt.chunk)}}),_e.forEach(tt=>{tt.chunk==="Verb"&&(tt.terms.find(rt=>rt.tags.has("Verb"))||tt.terms.forEach(rt=>rt.chunk=null))})},findChunks=function($){const{document:_e,world:et}=$;easyMode(_e),byNeighbour(_e),matcher($,_e,et),fallback(_e),fixUp(_e)},compute={chunks:findChunks},chunker={compute,api:api$e,hooks:["chunks"]},hasPeriod=/\./g,api$d=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Acronyms"}strip(){return this.docs.forEach(tt=>{tt.forEach(nt=>{nt.text=nt.text.replace(hasPeriod,""),nt.normal=nt.normal.replace(hasPeriod,"")})}),this}addPeriods(){return this.docs.forEach(tt=>{tt.forEach(nt=>{nt.text=nt.text.replace(hasPeriod,""),nt.normal=nt.normal.replace(hasPeriod,""),nt.text=nt.text.split("").join(".")+".",nt.normal=nt.normal.split("").join(".")+"."})}),this}}$.prototype.acronyms=function(et){let tt=this.match("#Acronym");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},hasOpen$1=/\(/,hasClosed$1=/\)/,findEnd$1=function($,_e){for(;_e<$.length;_e+=1)if($[_e].post&&hasClosed$1.test($[_e].post)){let[,et]=$[_e].index;return et=et||0,et}return null},find$7=function($){const _e=[];return $.docs.forEach(et=>{for(let tt=0;tt<et.length;tt+=1){const nt=et[tt];if(nt.pre&&hasOpen$1.test(nt.pre)){const rt=findEnd$1(et,tt);if(rt!==null){const[it,ot]=et[tt].index;_e.push([it,ot,rt+1,et[tt].id]),tt=rt}}}}),$.update(_e)},strip$1=function($){return $.docs.forEach(_e=>{_e[0].pre=_e[0].pre.replace(hasOpen$1,"");const et=_e[_e.length-1];et.post=et.post.replace(hasClosed$1,"")}),$},api$c=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Possessives"}strip(){return strip$1(this)}}$.prototype.parentheses=function(et){let tt=find$7(this);return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},apostropheS=/'s$/,find$6=function($){let _e=$.match("#Possessive+");return _e.has("#Person")&&(_e=_e.growLeft("#Person+")),_e.has("#Place")&&(_e=_e.growLeft("#Place+")),_e.has("#Organization")&&(_e=_e.growLeft("#Organization+")),_e},api$b=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Possessives"}strip(){return this.docs.forEach(tt=>{tt.forEach(nt=>{nt.text=nt.text.replace(apostropheS,""),nt.normal=nt.normal.replace(apostropheS,"")})}),this}}$.prototype.possessives=function(et){let tt=find$6(this);return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},pairs={'"':'"',"":"","'":"'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","`":"","":""},hasOpen=RegExp("["+Object.keys(pairs).join("")+"]"),hasClosed=RegExp("["+Object.values(pairs).join("")+"]"),findEnd=function($,_e){const et=$[_e].pre.match(hasOpen)[0]||"";if(!et||!pairs[et])return null;const tt=pairs[et];for(;_e<$.length;_e+=1)if($[_e].post&&$[_e].post.match(tt))return _e;return null},find$5=function($){const _e=[];return $.docs.forEach(et=>{for(let tt=0;tt<et.length;tt+=1){const nt=et[tt];if(nt.pre&&hasOpen.test(nt.pre)){const rt=findEnd(et,tt);if(rt!==null){const[it,ot]=et[tt].index;_e.push([it,ot,rt+1,et[tt].id]),tt=rt}}}}),$.update(_e)},strip=function($){$.docs.forEach(_e=>{_e[0].pre=_e[0].pre.replace(hasOpen,"");const et=_e[_e.length-1];et.post=et.post.replace(hasClosed,"")})},api$a=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Possessives"}strip(){return strip(this)}}$.prototype.quotations=function(et){let tt=find$5(this);return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},phoneNumbers=function($){let _e=this.splitAfter("@hasComma");return _e=_e.match("#PhoneNumber+"),_e=_e.getNth($),_e},selections=[["hyphenated","@hasHyphen ."],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["conjunctions","#Conjunction"],["prepositions","#Preposition"],["abbreviations","#Abbreviation"],["honorifics","#Honorific"]],aliases=[["emojis","emoji"],["atmentions","atMentions"]],addMethods=function($){selections.forEach(_e=>{$.prototype[_e[0]]=function(et){const tt=this.match(_e[1]);return typeof et=="number"?tt.get(et):tt}}),$.prototype.phoneNumbers=phoneNumbers,aliases.forEach(_e=>{$.prototype[_e[0]]=$.prototype[_e[1]]})},hasSlash=/\//,api$9=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Slashes"}split(){return this.map(tt=>{const rt=tt.text().split(hasSlash);return tt=tt.replaceWith(rt.join(" ")),tt.growRight("("+rt.join("|")+")+")})}}$.prototype.slashes=function(et){let tt=this.match("#SlashedTerm");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},misc={api:function($){api$d($),api$c($),api$b($),api$a($),addMethods($),api$9($)}},termLoop=function($,_e){$.docs.forEach(et=>{et.forEach(_e)})},methods={case:$=>{termLoop($,_e=>{_e.text=_e.text.toLowerCase()})},unicode:$=>{const _e=$.world,et=_e.methods.one.killUnicode;termLoop($,tt=>tt.text=et(tt.text,_e))},whitespace:$=>{termLoop($,_e=>{_e.post=_e.post.replace(/\s+/g," "),_e.post=_e.post.replace(/\s([.,?!:;])/g,"$1"),_e.pre=_e.pre.replace(/\s+/g,"")})},punctuation:$=>{termLoop($,tt=>{tt.post=tt.post.replace(/[-]/g," "),tt.post=tt.post.replace(/[,:;]/g,""),tt.post=tt.post.replace(/\.{2,}/g,""),tt.post=tt.post.replace(/\?{2,}/g,"?"),tt.post=tt.post.replace(/!{2,}/g,"!"),tt.post=tt.post.replace(/\?!+/g,"?")});const _e=$.docs,et=_e[_e.length-1];if(et&&et.length>0){const tt=et[et.length-1];tt.post=tt.post.replace(/ /g,"")}},contractions:$=>{$.contractions().expand()},acronyms:$=>{$.acronyms().strip()},parentheses:$=>{$.parentheses().strip()},possessives:$=>{$.possessives().strip()},quotations:$=>{$.quotations().strip()},emoji:$=>{$.emojis().remove()},honorifics:$=>{$.match("#Honorific+ #Person").honorifics().remove()},adverbs:$=>{$.adverbs().remove()},nouns:$=>{$.nouns().toSingular()},verbs:$=>{$.verbs().toInfinitive()},numbers:$=>{$.numbers().toNumber()},debullet:$=>{const _e=/^\s*([-*])\s*$/;return $.docs.forEach(et=>{_e.test(et[0].pre)&&(et[0].pre=et[0].pre.replace(_e,""))}),$}},split=$=>$.split("|").reduce((_e,et)=>(_e[et]=!0,_e),{}),light="unicode|punctuation|whitespace|acronyms",medium="|case|contractions|parentheses|quotations|emoji|honorifics|debullet",heavy="|possessives|adverbs|nouns|verbs",presets={light:split(light),medium:split(light+medium),heavy:split(light+medium+heavy)};function api$8($){$.prototype.normalize=function(_e="light"){return typeof _e=="string"&&(_e=presets[_e]),Object.keys(_e).forEach(et=>{methods.hasOwnProperty(et)&&methods[et](this,_e[et])}),this}}const normalize$1={api:api$8},findNouns=function($){let _e=$.clauses().match("<Noun>"),et=_e.match("@hasComma");return et=et.not("#Place"),et.found&&(_e=_e.splitAfter(et)),_e=_e.splitOn("#Expression"),_e=_e.splitOn("(he|she|we|you|they|i)"),_e=_e.splitOn("(#Noun|#Adjective) [(he|him|she|it)]",0),_e=_e.splitOn("[(he|him|she|it)] (#Determiner|#Value)",0),_e=_e.splitBefore("#Noun [(the|a|an)] #Adjective? #Noun",0),_e=_e.splitOn("[(here|there)] #Noun",0),_e=_e.splitOn("[#Noun] (here|there)",0),_e=_e.splitBefore("(our|my|their|your)"),_e=_e.splitOn("#Noun [#Determiner]",0),_e=_e.if("#Noun"),_e},list$1=["after","although","as if","as long as","as","because","before","even if","even though","ever since","if","in order that","provided that","since","so that","than","that","though","unless","until","what","whatever","when","whenever","where","whereas","wherever","whether","which","whichever","who","whoever","whom","whomever","whose"],isSubordinate=function($){if($.before("#Preposition$").found)return!0;if(!$.before().found)return!1;for(let et=0;et<list$1.length;et+=1)if($.has(list$1[et]))return!0;return!1},notPlural="(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)",isPlural$2=function($,_e){if($.has("#Plural")||$.has("#Noun and #Noun")||$.has("(we|they)"))return!0;if(_e.has(notPlural)===!0||$.has("#Singular"))return!1;const et=_e.text("normal");return et.length>3&&et.endsWith("s")&&!et.endsWith("ss")},getRoot=function($){let _e=$.clone();return _e=_e.match("#Noun+"),_e=_e.remove("(#Adjective|#Preposition|#Determiner|#Value)"),_e=_e.not("#Possessive"),_e=_e.first(),_e.found?_e:$},parseNoun=function($){const _e=getRoot($);return{determiner:$.match("#Determiner").eq(0),adjectives:$.match("#Adjective"),number:$.values(),isPlural:isPlural$2($,_e),isSubordinate:isSubordinate($),root:_e}},toText$2=$=>$.text(),toArray$2=$=>$.json({terms:!1,normal:!0}).map(_e=>_e.normal),getNum=function($){if(!$.found)return null;const et=$.values(0);return et.found?(et.parse()[0]||{}).num:null},toJSON$1=function($){const _e=parseNoun($);return{root:toText$2(_e.root),number:getNum(_e.number),determiner:toText$2(_e.determiner),adjectives:toArray$2(_e.adjectives),isPlural:_e.isPlural,isSubordinate:_e.isSubordinate}},hasPlural=function($){return!$.has("^(#Uncountable|#ProperNoun|#Place|#Pronoun|#Acronym)+$")},keep$7={tags:!0},nounToPlural=function($,_e){if(_e.isPlural===!0||(_e.root.has("#Possessive")&&(_e.root=_e.root.possessives().strip()),!hasPlural(_e.root)))return $;const{methods:et,model:tt}=$.world,{toPlural:nt}=et.two.transform.noun,rt=_e.root.text({keepPunct:!1}),it=nt(rt,tt);$.match(_e.root).replaceWith(it,keep$7).tag("Plural","toPlural"),_e.determiner.has("(a|an)")&&$.remove(_e.determiner);const ot=_e.root.after("not? #Adverb+? [#Copula]",0);return ot.found&&(ot.has("is")?$.replace(ot,"are"):ot.has("was")&&$.replace(ot,"were")),$},keep$6={tags:!0},nounToSingular=function($,_e){if(_e.isPlural===!1)return $;const{methods:et,model:tt}=$.world,{toSingular:nt}=et.two.transform.noun,rt=_e.root.text("normal"),it=nt(rt,tt);return $.replace(_e.root,it,keep$6).tag("Singular","toPlural"),$},api$7=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Nouns"}parse(tt){return this.getNth(tt).map(parseNoun)}json(tt){const nt=typeof tt=="object"?tt:{};return this.getNth(tt).map(rt=>{const it=rt.toView().json(nt)[0]||{};return nt&&nt.noun!==!1&&(it.noun=toJSON$1(rt)),it},[])}conjugate(tt){const nt=this.world.methods.two.transform.noun;return this.getNth(tt).map(rt=>{const it=parseNoun(rt),ot=it.root.compute("root").text("root"),at={Singular:ot};return hasPlural(it.root)&&(at.Plural=nt.toPlural(ot,this.model)),at.Singular===at.Plural&&delete at.Plural,at},[])}isPlural(tt){return this.filter(rt=>parseNoun(rt).isPlural).getNth(tt)}isSingular(tt){return this.filter(rt=>!parseNoun(rt).isPlural).getNth(tt)}adjectives(tt){let nt=this.update([]);return this.forEach(rt=>{const it=parseNoun(rt).adjectives;it.found&&(nt=nt.concat(it))}),nt.getNth(tt)}toPlural(tt){return this.getNth(tt).map(nt=>nounToPlural(nt,parseNoun(nt)))}toSingular(tt){return this.getNth(tt).map(nt=>{const rt=parseNoun(nt);return nounToSingular(nt,rt)})}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}$.prototype.nouns=function(et){let tt=findNouns(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)}},nouns={api:api$7},findFractions=function($,_e){let et=$.match("#Fraction+");return et=et.filter(tt=>!tt.lookBehind("#Value and$").found),et=et.notIf("#Value seconds"),et},findModifiers=$=>{const _e=[{reg:/^(minus|negative)[\s-]/i,mult:-1},{reg:/^(a\s)?half[\s-](of\s)?/i,mult:.5}];for(let et=0;et<_e.length;et++)if(_e[et].reg.test($)===!0)return{amount:_e[et].mult,str:$.replace(_e[et].reg,"")};return{amount:1,str:$}},words={ones:{zeroth:0,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},teens:{tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19},tens:{twentieth:20,thirtieth:30,fortieth:40,fourtieth:40,fiftieth:50,sixtieth:60,seventieth:70,eightieth:80,ninetieth:90,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90},multiples:{hundredth:100,thousandth:1e3,millionth:1e6,billionth:1e9,trillionth:1e12,quadrillionth:1e15,quintillionth:1e18,sextillionth:1e21,septillionth:1e24,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18,sextillion:1e21,septillion:1e24,grand:1e3}},isValid=($,_e)=>{if(words.ones.hasOwnProperty($)){if(_e.ones||_e.teens)return!1}else if(words.teens.hasOwnProperty($)){if(_e.ones||_e.teens||_e.tens)return!1}else if(words.tens.hasOwnProperty($)&&(_e.ones||_e.teens||_e.tens))return!1;return!0},parseDecimals=function($){let _e="0.";for(let et=0;et<$.length;et++){const tt=$[et];if(words.ones.hasOwnProperty(tt)===!0)_e+=words.ones[tt];else if(words.teens.hasOwnProperty(tt)===!0)_e+=words.teens[tt];else if(words.tens.hasOwnProperty(tt)===!0)_e+=words.tens[tt];else if(/^[0-9]$/.test(tt)===!0)_e+=tt;else return 0}return parseFloat(_e)},parseNumeric$1=$=>($=$.replace(/1st$/,"1"),$=$.replace(/2nd$/,"2"),$=$.replace(/3rd$/,"3"),$=$.replace(/([4567890])r?th$/,"$1"),$=$.replace(/^[$]/,""),$=$.replace(/[%$]$/,""),$=$.replace(/,/g,""),$=$.replace(/([0-9])([a-z\u00C0-\u00FF]{1,2})$/,"$1"),$),improperFraction=/^([0-9,. ]+)\/([0-9,. ]+)$/,casualForms={"a few":3,"a couple":2,"a dozen":12,"two dozen":24,zero:0},section_sum=$=>Object.keys($).reduce((_e,et)=>(_e+=$[et],_e),0),parse$2=function($){if(casualForms.hasOwnProperty($)===!0)return casualForms[$];if($==="a"||$==="an")return 1;const _e=findModifiers($);$=_e.str;let et=null,tt={},nt=0,rt=!1;const it=$.split(/[ -]/);for(let ot=0;ot<it.length;ot++){let at=it[ot];if(at=parseNumeric$1(at),!at||at==="and")continue;if(at==="-"||at==="negative"){rt=!0;continue}if(at.charAt(0)==="-"&&(rt=!0,at=at.substring(1)),at==="point")return nt+=section_sum(tt),nt+=parseDecimals(it.slice(ot+1,it.length)),nt*=_e.amount,nt;const st=at.match(improperFraction);if(st){const lt=parseFloat(st[1].replace(/[, ]/g,"")),ct=parseFloat(st[2].replace(/[, ]/g,""));ct&&(nt+=lt/ct||0);continue}if(words.tens.hasOwnProperty(at)&&tt.ones&&Object.keys(tt).length===1&&(nt=tt.ones*100,tt={}),isValid(at,tt)===!1)return null;if(/^[0-9.]+$/.test(at))tt.ones=parseFloat(at);else if(words.ones.hasOwnProperty(at)===!0)tt.ones=words.ones[at];else if(words.teens.hasOwnProperty(at)===!0)tt.teens=words.teens[at];else if(words.tens.hasOwnProperty(at)===!0)tt.tens=words.tens[at];else if(words.multiples.hasOwnProperty(at)===!0){let lt=words.multiples[at];if(lt===et)return null;if(lt===100&&it[ot+1]!==void 0){const ct=it[ot+1];words.multiples[ct]&&(lt*=words.multiples[ct],ot+=1)}et===null||lt<et?(nt+=(section_sum(tt)||1)*lt,et=lt,tt={}):(nt+=section_sum(tt),et=lt,nt=(nt||1)*lt,tt={})}}return nt+=section_sum(tt),nt*=_e.amount,nt*=rt?-1:1,nt===0&&Object.keys(tt).length===0?null:nt},endS=/s$/,parseNumber$1=function($){const _e=$.text("reduced");return parse$2(_e)},mapping={half:2,halve:2,quarter:4},slashForm=function($){const et=$.text("reduced").match(/^([-+]?[0-9]+)\/([-+]?[0-9]+)(st|nd|rd|th)?s?$/);return et&&et[1]&&et[0]?{numerator:Number(et[1]),denominator:Number(et[2])}:null},nOutOfN=function($){const _e=$.match("[<num>#Value+] out of every? [<den>#Value+]");if(_e.found!==!0)return null;let{num:et,den:tt}=_e.groups();return!et||!tt||(et=parseNumber$1(et),tt=parseNumber$1(tt),!et||!tt)?null:typeof et=="number"&&typeof tt=="number"?{numerator:et,denominator:tt}:null},nOrinalth=function($){const _e=$.match("[<num>(#Cardinal|a)+] [<den>#Fraction+]");if(_e.found!==!0)return null;let{num:et,den:tt}=_e.groups();et.has("a")?et=1:et=parseNumber$1(et);let nt=tt.text("reduced");return endS.test(nt)&&(nt=nt.replace(endS,""),tt=tt.replaceWith(nt)),mapping.hasOwnProperty(nt)?tt=mapping[nt]:tt=parseNumber$1(tt),typeof et=="number"&&typeof tt=="number"?{numerator:et,denominator:tt}:null},oneNth=function($){const _e=$.match("^#Ordinal$");return _e.found!==!0?null:$.lookAhead("^of .")?{numerator:1,denominator:parseNumber$1(_e)}:null},named$1=function($){const _e=$.text("reduced");return mapping.hasOwnProperty(_e)?{numerator:1,denominator:mapping[_e]}:null},round$1=$=>{const _e=Math.round($*1e3)/1e3;return _e===0&&$!==0?$:_e},parseFraction=function($){$=$.clone();const _e=named$1($)||slashForm($)||nOutOfN($)||nOrinalth($)||oneNth($)||null;return _e!==null&&_e.numerator&&_e.denominator&&(_e.decimal=_e.numerator/_e.denominator,_e.decimal=round$1(_e.decimal)),_e},numToString=function($){if($<1e6)return String($);let _e;return typeof $=="number"?_e=$.toFixed(0):_e=$,_e.indexOf("e+")===-1?_e:_e.replace(".","").split("e+").reduce(function(et,tt){return et+Array(tt-et.length+2).join(0)})},tens_mapping=[["ninety",90],["eighty",80],["seventy",70],["sixty",60],["fifty",50],["forty",40],["thirty",30],["twenty",20]],ones_mapping=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],sequence=[[1e24,"septillion"],[1e20,"hundred sextillion"],[1e21,"sextillion"],[1e20,"hundred quintillion"],[1e18,"quintillion"],[1e17,"hundred quadrillion"],[1e15,"quadrillion"],[1e14,"hundred trillion"],[1e12,"trillion"],[1e11,"hundred billion"],[1e9,"billion"],[1e8,"hundred million"],[1e6,"million"],[1e5,"hundred thousand"],[1e3,"thousand"],[100,"hundred"],[1,"one"]],breakdown_magnitudes=function($){let _e=$;const et=[];return sequence.forEach(tt=>{if($>=tt[0]){const nt=Math.floor(_e/tt[0]);_e-=nt*tt[0],nt&&et.push({unit:tt[1],count:nt})}}),et},breakdown_hundred=function($){const _e=[];if($>100)return _e;for(let et=0;et<tens_mapping.length;et++)$>=tens_mapping[et][1]&&($-=tens_mapping[et][1],_e.push(tens_mapping[et][0]));return ones_mapping[$]&&_e.push(ones_mapping[$]),_e},handle_decimal=$=>{const _e=["zero","one","two","three","four","five","six","seven","eight","nine"],et=[],nt=numToString($).match(/\.([0-9]+)/);if(!nt||!nt[0])return et;et.push("point");const rt=nt[0].split("");for(let it=0;it<rt.length;it++)et.push(_e[rt[it]]);return et},toText$1=function($){let _e=$.num;if(_e===0||_e==="0")return"zero";_e>1e21&&(_e=numToString(_e));let et=[];_e<0&&(et.push("minus"),_e=Math.abs(_e));const tt=breakdown_magnitudes(_e);for(let nt=0;nt<tt.length;nt++){let rt=tt[nt].unit;rt==="one"&&(rt="",et.length>1&&et.push("and")),et=et.concat(breakdown_hundred(tt[nt].count)),et.push(rt)}return et=et.concat(handle_decimal(_e)),et=et.filter(nt=>nt),et.length===0&&(et[0]=""),et.join(" ")},toCardinal=function($){if(!$.numerator||!$.denominator)return"";const _e=toText$1({num:$.numerator}),et=toText$1({num:$.denominator});return`${_e} out of ${et}`},irregulars={one:"first",two:"second",three:"third",five:"fifth",eight:"eighth",nine:"ninth",twelve:"twelfth",twenty:"twentieth",thirty:"thirtieth",forty:"fortieth",fourty:"fourtieth",fifty:"fiftieth",sixty:"sixtieth",seventy:"seventieth",eighty:"eightieth",ninety:"ninetieth"},textOrdinal=$=>{const _e=toText$1($).split(" "),et=_e[_e.length-1];return irregulars.hasOwnProperty(et)?_e[_e.length-1]=irregulars[et]:_e[_e.length-1]=et.replace(/y$/,"i")+"th",_e.join(" ")},toOrdinal=function($){if(!$.numerator||!$.denominator)return"";const _e=toText$1({num:$.numerator});let et=textOrdinal({num:$.denominator});return $.denominator===2&&(et="half"),_e&&et?($.numerator!==1&&(et+="s"),`${_e} ${et}`):""},plugin$1=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Fractions"}parse(tt){return this.getNth(tt).map(parseFraction)}get(tt){return this.getNth(tt).map(parseFraction)}json(tt){return this.getNth(tt).map(nt=>{const rt=nt.toView().json(tt)[0],it=parseFraction(nt);return rt.fraction=it,rt},[])}toDecimal(tt){return this.getNth(tt).forEach(nt=>{const{decimal:rt}=parseFraction(nt);nt=nt.replaceWith(String(rt),!0),nt.tag("NumericValue"),nt.unTag("Fraction")}),this}toFraction(tt){return this.getNth(tt).forEach(nt=>{const rt=parseFraction(nt);if(rt&&typeof rt.numerator=="number"&&typeof rt.denominator=="number"){const it=`${rt.numerator}/${rt.denominator}`;this.replace(nt,it)}}),this}toOrdinal(tt){return this.getNth(tt).forEach(nt=>{const rt=parseFraction(nt);let it=toOrdinal(rt);nt.after("^#Noun").found&&(it+=" of"),nt.replaceWith(it)}),this}toCardinal(tt){return this.getNth(tt).forEach(nt=>{const rt=parseFraction(nt),it=toCardinal(rt);nt.replaceWith(it)}),this}toPercentage(tt){return this.getNth(tt).forEach(nt=>{const{decimal:rt}=parseFraction(nt);let it=rt*100;it=Math.round(it*100)/100,nt.replaceWith(`${it}%`)}),this}}$.prototype.fractions=function(et){let tt=findFractions(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)}},ones="one|two|three|four|five|six|seven|eight|nine",tens="twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty",teens="eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen",findNumbers=function($){let _e=$.match("#Value+");if(_e.has("#NumericValue #NumericValue")&&(_e.has("#Value @hasComma #Value")?_e.splitAfter("@hasComma"):_e.has("#NumericValue #Fraction")?_e.splitAfter("#NumericValue #Fraction"):_e=_e.splitAfter("#NumericValue")),_e.has("#Value #Value #Value")&&!_e.has("#Multiple")&&_e.has("("+tens+") #Cardinal #Cardinal")&&(_e=_e.splitAfter("("+tens+") #Cardinal")),_e.has("#Value #Value")){_e.has("#NumericValue #NumericValue")&&(_e=_e.splitOn("#Year")),_e.has("("+tens+") ("+teens+")")&&(_e=_e.splitAfter("("+tens+")"));const et=_e.match("#Cardinal #Cardinal");if(et.found&&!_e.has("(point|decimal|#Fraction)")&&!et.has("#Cardinal (#Multiple|point|decimal)")){const tt=_e.has(`(${ones}) (${tens})`),nt=et.has("("+tens+") #Cardinal"),rt=et.has("#Multiple #Value");!tt&&!nt&&!rt&&et.terms().forEach(it=>{_e=_e.splitOn(it)})}_e.match("#Ordinal #Ordinal").match("#TextValue").found&&!_e.has("#Multiple")&&(_e.has("("+tens+") #Ordinal")||(_e=_e.splitAfter("#Ordinal"))),_e=_e.splitBefore("#Ordinal [#Cardinal]",0),_e.has("#TextValue #NumericValue")&&!_e.has("("+tens+"|#Multiple)")&&(_e=_e.splitBefore("#TextValue #NumericValue"))}return _e=_e.splitAfter("#NumberRange"),_e=_e.splitBefore("#Year"),_e},parseNumeric=function($,_e){$=$.replace(/,/g,"");const et=$.split(/([0-9.,]*)/);let[tt,nt]=et,rt=et.slice(2).join("");return nt!==""&&_e.length<2?(nt=Number(nt||$),typeof nt!="number"&&(nt=null),rt=rt||"",(rt==="st"||rt==="nd"||rt==="rd"||rt==="th")&&(rt=""),{prefix:tt||"",num:nt,suffix:rt}):null},parseNumber=function($){if(typeof $=="string")return{num:parse$2($)};let _e=$.text("reduced");const et=$.growRight("#Unit").match("#Unit$").text("machine"),tt=/[0-9],[0-9]/.test($.text("text"));if($.terms().length===1&&!$.has("#Multiple")){const ot=parseNumeric(_e,$);if(ot!==null)return ot.hasComma=tt,ot.unit=et,ot}let nt=$.match("#Fraction{2,}$");nt=nt.found===!1?$.match("^#Fraction$"):nt;let rt=null;nt.found&&(nt.has("#Value and #Value #Fraction")&&(nt=nt.match("and #Value #Fraction")),rt=parseFraction(nt),$=$.not(nt),$=$.not("and$"),_e=$.text("reduced"));let it=0;return _e&&(it=parse$2(_e)||0),rt&&rt.decimal&&(it+=rt.decimal),{hasComma:tt,prefix:"",num:it,suffix:"",isOrdinal:$.has("#Ordinal"),isText:$.has("#TextValue"),isFraction:$.has("#Fraction"),isMoney:$.has("#Money"),unit:et}},numOrdinal=function($){const _e=$.num;if(!_e&&_e!==0)return null;const et=_e%100;if(et>10&&et<20)return String(_e)+"th";const tt={0:"th",1:"st",2:"nd",3:"rd"};let nt=numToString(_e);const rt=nt.slice(nt.length-1,nt.length);return tt[rt]?nt+=tt[rt]:nt+="th",nt},prefixes$1={"":"cents",$:"dollars","":"pounds","":"yen","":"euros","":"coln","":"baht","":"kip","":"won","":"rupees","":"ruble","":"liras"},suffixes={"%":"percent","":"degrees"},addSuffix=function($){const _e={suffix:"",prefix:$.prefix};return prefixes$1.hasOwnProperty($.prefix)&&(_e.suffix+=" "+prefixes$1[$.prefix],_e.prefix=""),suffixes.hasOwnProperty($.suffix)&&(_e.suffix+=" "+suffixes[$.suffix]),_e.suffix&&$.num===1&&(_e.suffix=_e.suffix.replace(/s$/,"")),!_e.suffix&&$.suffix&&(_e.suffix+=" "+$.suffix),_e},format$1=function($,_e){if(_e==="TextOrdinal"){const{prefix:tt,suffix:nt}=addSuffix($);return tt+textOrdinal($)+nt}if(_e==="Ordinal")return $.prefix+numOrdinal($)+$.suffix;if(_e==="TextCardinal"){const{prefix:tt,suffix:nt}=addSuffix($);return tt+toText$1($)+nt}let et=$.num;return $.hasComma&&(et=et.toLocaleString()),$.prefix+String(et)+$.suffix},isArray$f=$=>Object.prototype.toString.call($)==="[object Array]",coerceToObject=function($){if(typeof $=="string"||typeof $=="number"){const _e={};return _e[$]=!0,_e}return isArray$f($)?$.reduce((_e,et)=>(_e[et]=!0,_e),{}):$||{}},isUnit=function($,_e={}){return _e=coerceToObject(_e),$.filter(et=>{const{unit:tt}=parseNumber(et);return!!(tt&&_e[tt]===!0)})},addMethod$2=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Numbers"}parse(tt){return this.getNth(tt).map(parseNumber)}get(tt){return this.getNth(tt).map(parseNumber).map(nt=>nt.num)}json(tt){const nt=typeof tt=="object"?tt:{};return this.getNth(tt).map(rt=>{const it=rt.toView().json(nt)[0],ot=parseNumber(rt);return it.number={prefix:ot.prefix,num:ot.num,suffix:ot.suffix,hasComma:ot.hasComma,unit:ot.unit},it},[])}units(){return this.growRight("#Unit").match("#Unit$")}isUnit(tt){return isUnit(this,tt)}isOrdinal(){return this.if("#Ordinal")}isCardinal(){return this.if("#Cardinal")}toNumber(){const tt=this.map(nt=>{if(!this.has("#TextValue"))return nt;const rt=parseNumber(nt);if(rt.num===null)return nt;const it=nt.has("#Ordinal")?"Ordinal":"Cardinal",ot=format$1(rt,it);return nt.replaceWith(ot,{tags:!0}),nt.tag("NumericValue")});return new _e(tt.document,tt.pointer)}toLocaleString(){return this.forEach(nt=>{const rt=parseNumber(nt);if(rt.num===null)return;let it=rt.num.toLocaleString();if(nt.has("#Ordinal")){const at=format$1(rt,"Ordinal").match(/[a-z]+$/);at&&(it+=at[0]||"")}nt.replaceWith(it,{tags:!0})}),this}toText(){const nt=this.map(rt=>{if(rt.has("#TextValue"))return rt;const it=parseNumber(rt);if(it.num===null)return rt;const ot=rt.has("#Ordinal")?"TextOrdinal":"TextCardinal",at=format$1(it,ot);return rt.replaceWith(at,{tags:!0}),rt.tag("TextValue"),rt});return new _e(nt.document,nt.pointer)}toCardinal(){const nt=this.map(rt=>{if(!rt.has("#Ordinal"))return rt;const it=parseNumber(rt);if(it.num===null)return rt;const ot=rt.has("#TextValue")?"TextCardinal":"Cardinal",at=format$1(it,ot);return rt.replaceWith(at,{tags:!0}),rt.tag("Cardinal"),rt});return new _e(nt.document,nt.pointer)}toOrdinal(){const nt=this.map(rt=>{if(rt.has("#Ordinal"))return rt;const it=parseNumber(rt);if(it.num===null)return rt;const ot=rt.has("#TextValue")?"TextOrdinal":"Ordinal",at=format$1(it,ot);return rt.replaceWith(at,{tags:!0}),rt.tag("Ordinal"),rt});return new _e(nt.document,nt.pointer)}isEqual(tt){return this.filter(nt=>parseNumber(nt).num===tt)}greaterThan(tt){return this.filter(nt=>parseNumber(nt).num>tt)}lessThan(tt){return this.filter(nt=>parseNumber(nt).num<tt)}between(tt,nt){return this.filter(rt=>{const it=parseNumber(rt).num;return it>tt&&it<nt})}set(tt){if(tt===void 0)return this;typeof tt=="string"&&(tt=parseNumber(tt).num);const rt=this.map(it=>{const ot=parseNumber(it);if(ot.num=tt,ot.num===null)return it;let at=it.has("#Ordinal")?"Ordinal":"Cardinal";it.has("#TextValue")&&(at=it.has("#Ordinal")?"TextOrdinal":"TextCardinal");let st=format$1(ot,at);return ot.hasComma&&at==="Cardinal"&&(st=Number(st).toLocaleString()),it=it.not("#Currency"),it.replaceWith(st,{tags:!0}),it});return new _e(rt.document,rt.pointer)}add(tt){if(!tt)return this;typeof tt=="string"&&(tt=parseNumber(tt).num);const rt=this.map(it=>{const ot=parseNumber(it);if(ot.num===null)return it;ot.num+=tt;let at=it.has("#Ordinal")?"Ordinal":"Cardinal";ot.isText&&(at=it.has("#Ordinal")?"TextOrdinal":"TextCardinal");const st=format$1(ot,at);return it.replaceWith(st,{tags:!0}),it});return new _e(rt.document,rt.pointer)}subtract(tt,nt){return this.add(tt*-1,nt)}increment(tt){return this.add(1,tt)}decrement(tt){return this.add(-1,tt)}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}_e.prototype.toNice=_e.prototype.toLocaleString,_e.prototype.isBetween=_e.prototype.between,_e.prototype.minus=_e.prototype.subtract,_e.prototype.plus=_e.prototype.add,_e.prototype.equals=_e.prototype.isEqual,$.prototype.numbers=function(et){let tt=findNumbers(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)},$.prototype.percentages=function(et){let tt=findNumbers(this);return tt=tt.filter(nt=>nt.has("#Percent")||nt.after("^percent")),tt=tt.getNth(et),new _e(this.document,tt.pointer)},$.prototype.money=function(et){let tt=findNumbers(this);return tt=tt.filter(nt=>nt.has("#Money")||nt.after("^#Currency")),tt=tt.getNth(et),new _e(this.document,tt.pointer)},$.prototype.values=$.prototype.numbers},api$6=function($){plugin$1($),addMethod$2($)},numbers$1={api:api$6},defaults$1={people:!0,emails:!0,phoneNumbers:!0,places:!0},redact=function($={}){return $=Object.assign({},defaults$1,$),$.people!==!1&&this.people().replaceWith(""),$.emails!==!1&&this.emails().replaceWith(""),$.places!==!1&&this.places().replaceWith(""),$.phoneNumbers!==!1&&this.phoneNumbers().replaceWith(""),this},plugin={api:function($){$.prototype.redact=redact}},isQuestion=function($){const _e=$.clauses();return/\.\.$/.test($.out("text"))||$.has("^#QuestionWord")&&$.has("@hasComma")?!1:!!($.has("or not$")||$.has("^#QuestionWord")||$.has("^(do|does|did|is|was|can|could|will|would|may) #Noun")||$.has("^(have|must) you")||_e.has("(do|does|is|was) #Noun+ #Adverb? (#Adjective|#Infinitive)$"))},findQuestions=function($){const _e=/\?/,{document:et}=$;return $.filter(tt=>{const nt=tt.docs[0]||[],rt=nt[nt.length-1];return!rt||et[rt.index[0]].length!==nt.length?!1:_e.test(rt.post)?!0:isQuestion(tt)})},subordinate="(after|although|as|because|before|if|since|than|that|though|when|whenever|where|whereas|wherever|whether|while|why|unless|until|once)",relative="(that|which|whichever|who|whoever|whom|whose|whomever)",mainClause=function($){let _e=$;return _e.length===1||(_e=_e.if("#Verb"),_e.length===1)||(_e=_e.ifNo(subordinate),_e=_e.ifNo("^even (if|though)"),_e=_e.ifNo("^so that"),_e=_e.ifNo("^rather than"),_e=_e.ifNo("^provided that"),_e.length===1)||(_e=_e.ifNo(relative),_e.length===1)||(_e=_e.ifNo("(^despite|^during|^before|^through|^throughout)"),_e.length===1)||(_e=_e.ifNo("^#Gerund"),_e.length===1)?_e:(_e.length===0&&(_e=$),_e.eq(0))},grammar=function($){let _e=null;return $.has("#PastTense")?_e="PastTense":$.has("#FutureTense")?_e="FutureTense":$.has("#PresentTense")&&(_e="PresentTense"),{tense:_e}},parse$1=function($){const _e=$.clauses(),tt=mainClause(_e).chunks();let nt=$.none(),rt=$.none(),it=$.none();return tt.forEach((ot,at)=>{if(at===0&&!ot.has("<Verb>")){nt=ot;return}if(!rt.found&&ot.has("<Verb>")){rt=ot;return}rt.found&&(it=it.concat(ot))}),rt.found&&!nt.found&&(nt=rt.before("<Noun>+").first()),{subj:nt,verb:rt,pred:it,grammar:grammar(rt)}},toPast$2=function($){let _e=$.verbs();const et=_e.eq(0);if(et.has("#PastTense"))return $;if(et.toPastTense(),_e.length>1){_e=_e.slice(1),_e=_e.filter(nt=>!nt.lookBehind("to$").found),_e=_e.if("#PresentTense"),_e=_e.notIf("#Gerund");const tt=$.match("to #Verb+ #Conjunction #Verb").terms();_e=_e.not(tt),_e.found&&_e.verbs().toPastTense()}return $},toPresent$1=function($){let _e=$.verbs();return _e.eq(0).toPresentTense(),_e.length>1&&(_e=_e.slice(1),_e=_e.filter(tt=>!tt.lookBehind("to$").found),_e=_e.notIf("#Gerund"),_e.found&&_e.verbs().toPresentTense()),$},toFuture$1=function($){let _e=$.verbs();if(_e.eq(0).toFutureTense(),$=$.fullSentence(),_e=$.verbs(),_e.length>1){_e=_e.slice(1);const tt=_e.filter(nt=>nt.lookBehind("to$").found?!1:nt.has("#Copula #Gerund")?!0:nt.has("#Gerund")?!1:nt.has("#Copula")?!0:!(nt.has("#PresentTense")&&!nt.has("#Infinitive")&&nt.lookBefore("(he|she|it|that|which)$").found));tt.found&&tt.forEach(nt=>{if(nt.has("#Copula")){nt.match("was").replaceWith("is"),nt.match("is").replaceWith("will be");return}nt.toInfinitive()})}return $},toNegative$1=function($){return $.verbs().first().toNegative().compute("chunks"),$},toPositive=function($){return $.verbs().first().toPositive().compute("chunks"),$},toInfinitive=function($){return $.verbs().toInfinitive(),$},api$5=function($){class _e extends ${constructor(nt,rt,it){super(nt,rt,it),this.viewType="Sentences"}json(nt={}){return this.map(rt=>{const it=rt.toView().json(nt)[0]||{},{subj:ot,verb:at,pred:st,grammar:lt}=parse$1(rt);return it.sentence={subject:ot.text("normal"),verb:at.text("normal"),predicate:st.text("normal"),grammar:lt},it},[])}toPastTense(nt){return this.getNth(nt).map(rt=>(parse$1(rt),toPast$2(rt)))}toPresentTense(nt){return this.getNth(nt).map(rt=>(parse$1(rt),toPresent$1(rt)))}toFutureTense(nt){return this.getNth(nt).map(rt=>(parse$1(rt),rt=toFuture$1(rt),rt))}toInfinitive(nt){return this.getNth(nt).map(rt=>(parse$1(rt),toInfinitive(rt)))}toNegative(nt){return this.getNth(nt).map(rt=>(parse$1(rt),toNegative$1(rt)))}toPositive(nt){return this.getNth(nt).map(rt=>(parse$1(rt),toPositive(rt)))}isQuestion(nt){return this.questions(nt)}isExclamation(nt){return this.filter(it=>it.lastTerm().has("@hasExclamation")).getNth(nt)}isStatement(nt){return this.filter(it=>!it.isExclamation().found&&!it.isQuestion().found).getNth(nt)}update(nt){const rt=new _e(this.document,nt);return rt._cache=this._cache,rt}}_e.prototype.toPresent=_e.prototype.toPresentTense,_e.prototype.toPast=_e.prototype.toPastTense,_e.prototype.toFuture=_e.prototype.toFutureTense;const et={sentences:function(tt){let nt=this.map(rt=>rt.fullSentence());return nt=nt.getNth(tt),new _e(this.document,nt.pointer)},questions:function(tt){return findQuestions(this).getNth(tt)}};Object.assign($.prototype,et)},sentences={api:api$5},find$4=function($){let _e=$.splitAfter("@hasComma");_e=_e.match("#Honorific+? #Person+");const et=_e.match("#Possessive").notIf("(his|her)");return _e=_e.splitAfter(et),_e},parse=function($){const _e={};_e.firstName=$.match("#FirstName+"),_e.lastName=$.match("#LastName+"),_e.honorific=$.match("#Honorific+");const et=_e.lastName,tt=_e.firstName;return(!tt.found||!et.found)&&!tt.found&&!et.found&&$.has("^#Honorific .$")&&(_e.lastName=$.match(".$")),_e},m$1="male",f$1="female",honorifics={mr:m$1,mrs:f$1,miss:f$1,madam:f$1,king:m$1,queen:f$1,duke:m$1,duchess:f$1,baron:m$1,baroness:f$1,count:m$1,countess:f$1,prince:m$1,princess:f$1,sire:m$1,dame:f$1,lady:f$1,ayatullah:m$1,congressman:m$1,congresswoman:f$1,"first lady":f$1,mx:null},predictGender=function($,_e){const{firstName:et,honorific:tt}=$;if(et.has("#FemaleName"))return f$1;if(et.has("#MaleName"))return m$1;if(tt.found){let rt=tt.text("normal");if(rt=rt.replace(/\./g,""),honorifics.hasOwnProperty(rt))return honorifics[rt];if(/^her /.test(rt))return f$1;if(/^his /.test(rt))return m$1}const nt=_e.after();if(!nt.has("#Person")&&nt.has("#Pronoun")){const rt=nt.match("#Pronoun");if(rt.has("(they|their)"))return null;const it=rt.has("(he|his)"),ot=rt.has("(she|her|hers)");if(it&&!ot)return m$1;if(ot&&!it)return f$1}return null},addMethod$1=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="People"}parse(tt){return this.getNth(tt).map(parse)}json(tt){const nt=typeof tt=="object"?tt:{};return this.getNth(tt).map(rt=>{const it=rt.toView().json(nt)[0],ot=parse(rt);return it.person={firstName:ot.firstName.text("normal"),lastName:ot.lastName.text("normal"),honorific:ot.honorific.text("normal"),presumed_gender:predictGender(ot,rt)},it},[])}presumedMale(){return this.filter(tt=>tt.has("(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)"))}presumedFemale(){return this.filter(tt=>tt.has("(#FemaleName|mrs|miss|queen|princess|madam)"))}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}$.prototype.people=function(et){let tt=find$4(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)}},find$3=function($){let _e=$.match("(#Place|#Address)+"),et=_e.match("@hasComma");return et=et.filter(tt=>tt.has("(asia|africa|europe|america)$")?!0:!(tt.has("(#City|#Region|#ProperNoun)$")&&tt.after("^(#Country|#Region)").found)),_e=_e.splitAfter(et),_e},addMethod=function($){$.prototype.places=function(_e){let et=find$3(this);return et=et.getNth(_e),new $(this.document,et.pointer)}},api$4=function($){$.prototype.organizations=function(_e){return this.match("#Organization+").getNth(_e)}},find$2=function($){const _e=this.clauses();let et=_e.people();return et=et.concat(_e.places()),et=et.concat(_e.organizations()),et=et.not("(someone|man|woman|mother|brother|sister|father)"),et=et.sort("seq"),et=et.getNth($),et},api$3=function($){$.prototype.topics=find$2},api$2=function($){addMethod$1($),addMethod($),api$4($),api$3($)},topics={api:api$2},findVerbs=function($){let _e=$.match("<Verb>");return _e=_e.not("#Conjunction"),_e=_e.not("#Preposition"),_e=_e.splitAfter("@hasComma"),_e=_e.splitAfter("[(do|did|am|was|is|will)] (is|was)",0),_e=_e.splitBefore("(#Verb && !#Copula) [being] #Verb",0),_e=_e.splitBefore("#Verb [to be] #Verb",0),_e=_e.splitAfter("[help] #PresentTense",0),_e=_e.splitBefore("(#PresentTense|#PastTense) [#Copula]$",0),_e=_e.splitBefore("(#PresentTense|#PastTense) [will be]$",0),_e=_e.splitBefore("(#PresentTense|#PastTense) [(had|has)]",0),_e=_e.not("#Reflexive$"),_e=_e.not("#Adjective"),_e=_e.splitAfter("[#PastTense] #PastTense",0),_e=_e.splitAfter("[#PastTense] #Auxiliary+ #PastTense",0),_e=_e.splitAfter("#Copula [#Gerund] #PastTense",0),_e=_e.if("#Verb"),_e.has("(#Verb && !#Auxiliary) #Adverb+? #Copula")&&(_e=_e.splitBefore("#Copula")),_e},getMain=function($){let _e=$;return $.wordCount()>1&&(_e=$.not("(#Negative|#Auxiliary|#Modal|#Adverb|#Prefix)")),_e.length>1&&!_e.has("#Phrasal #Particle")&&(_e=_e.last()),_e=_e.not("(want|wants|wanted) to"),_e.found||(_e=$.not("#Negative")),_e},getAdverbs=function($,_e){const et={pre:$.none(),post:$.none()};if(!$.has("#Adverb"))return et;const tt=$.splitOn(_e);return tt.length===3?{pre:tt.eq(0).adverbs(),post:tt.eq(2).adverbs()}:tt.eq(0).isDoc(_e)?(et.post=tt.eq(1).adverbs(),et):(et.pre=tt.eq(0).adverbs(),et)},getAuxiliary=function($,_e){const et=$.splitBefore(_e);if(et.length<=1)return $.none();let tt=et.eq(0);return tt=tt.not("(#Adverb|#Negative|#Prefix)"),tt},getNegative=function($){return $.match("#Negative")},getPhrasal=function($){if(!$.has("(#Particle|#PhrasalVerb)"))return{verb:$.none(),particle:$.none()};const _e=$.match("#Particle$");return{verb:$.not(_e),particle:_e}},parseVerb=function($){const _e=$.clone();_e.contractions().expand();const et=getMain(_e);return{root:et,prefix:_e.match("#Prefix"),adverbs:getAdverbs(_e,et),auxiliary:getAuxiliary(_e,et),negative:getNegative(_e),phrasal:getPhrasal(et)}},present={tense:"PresentTense"},conditional={conditional:!0},future={tense:"FutureTense"},prog={progressive:!0},past={tense:"PastTense"},complete={complete:!0,progressive:!1},passive={passive:!0},plural={plural:!0},singular={plural:!1},getData=function($){const _e={};return $.forEach(et=>{Object.assign(_e,et)}),_e},verbForms={imperative:[["#Imperative",[]]],"want-infinitive":[["^(want|wants|wanted) to #Infinitive$",[present]],["^wanted to #Infinitive$",[past]],["^will want to #Infinitive$",[future]]],"gerund-phrase":[["^#PastTense #Gerund$",[past]],["^#PresentTense #Gerund$",[present]],["^#Infinitive #Gerund$",[present]],["^will #Infinitive #Gerund$",[future]],["^have #PastTense #Gerund$",[past]],["^will have #PastTense #Gerund$",[past]]],"simple-present":[["^#PresentTense$",[present]],["^#Infinitive$",[present]]],"simple-past":[["^#PastTense$",[past]]],"simple-future":[["^will #Adverb? #Infinitive",[future]]],"present-progressive":[["^(is|are|am) #Gerund$",[present,prog]]],"past-progressive":[["^(was|were) #Gerund$",[past,prog]]],"future-progressive":[["^will be #Gerund$",[future,prog]]],"present-perfect":[["^(has|have) #PastTense$",[past,complete]]],"past-perfect":[["^had #PastTense$",[past,complete]],["^had #PastTense to #Infinitive",[past,complete]]],"future-perfect":[["^will have #PastTense$",[future,complete]]],"present-perfect-progressive":[["^(has|have) been #Gerund$",[past,prog]]],"past-perfect-progressive":[["^had been #Gerund$",[past,prog]]],"future-perfect-progressive":[["^will have been #Gerund$",[future,prog]]],"passive-past":[["(got|were|was) #Passive",[past,passive]],["^(was|were) being #Passive",[past,passive]],["^(had|have) been #Passive",[past,passive]]],"passive-present":[["^(is|are|am) #Passive",[present,passive]],["^(is|are|am) being #Passive",[present,passive]],["^has been #Passive",[present,passive]]],"passive-future":[["will have been #Passive",[future,passive,conditional]],["will be being? #Passive",[future,passive,conditional]]],"present-conditional":[["would be #PastTense",[present,conditional]]],"past-conditional":[["would have been #PastTense",[past,conditional]]],"auxiliary-future":[["(is|are|am|was) going to (#Infinitive|#PresentTense)",[future]]],"auxiliary-past":[["^did #Infinitive$",[past,singular]],["^used to #Infinitive$",[past,complete]]],"auxiliary-present":[["^(does|do) #Infinitive$",[present,complete,plural]]],"modal-past":[["^(could|must|should|shall) have #PastTense$",[past]]],"modal-infinitive":[["^#Modal #Infinitive$",[]]],infinitive:[["^#Infinitive$",[]]]},list=[];Object.keys(verbForms).map($=>{verbForms[$].forEach(_e=>{list.push({name:$,match:_e[0],data:getData(_e[1])})})});const cleanUp=function($,_e){return $=$.clone(),_e.adverbs.post&&_e.adverbs.post.found&&$.remove(_e.adverbs.post),_e.adverbs.pre&&_e.adverbs.pre.found&&$.remove(_e.adverbs.pre),$.has("#Negative")&&($=$.remove("#Negative")),$.has("#Prefix")&&($=$.remove("#Prefix")),_e.root.has("#PhrasalVerb #Particle")&&$.remove("#Particle$"),$=$.not("#Adverb"),$},isInfinitive=function($){return!!($.has("#Infinitive")&&$.growLeft("to").has("^to #Infinitive"))},getGrammar=function($,_e){const et={};$=cleanUp($,_e);for(let tt=0;tt<list.length;tt+=1){const nt=list[tt];if($.has(nt.match)===!0){et.form=nt.name,Object.assign(et,nt.data);break}}return et.form||$.has("^#Verb$")&&(et.form="infinitive"),et.tense||(et.tense=_e.root.has("#PastTense")?"PastTense":"PresentTense"),et.copula=_e.root.has("#Copula"),et.isInfinitive=isInfinitive($),et},shouldSkip=function($){return $.length<=1?!1:($.parse()[0]||{}).isSubordinate},noSubClause=function($){let _e=$.clauses();return _e=_e.filter((et,tt)=>!(et.has("^(if|unless|while|but|for|per|at|by|that|which|who|from)")||tt>0&&et.has("^#Verb . #Noun+$")||tt>0&&et.has("^#Adverb"))),_e.length===0?$:_e},lastNoun=function($){let _e=$.before();_e=noSubClause(_e);const et=_e.nouns();let tt=et.last();const nt=tt.match("(i|he|she|we|you|they)");if(nt.found)return nt.nouns();let rt=et.if("^(that|this|those)");return rt.found||et.found===!1&&(rt=_e.match("^(that|this|those)"),rt.found)?rt:(tt=et.last(),shouldSkip(tt)&&(et.remove(tt),tt=et.last()),shouldSkip(tt)&&(et.remove(tt),tt=et.last()),tt)},isPlural$1=function($,_e){return _e.has("(are|were|does)")||$.has("(those|they|we)")?!0:$.found&&$.isPlural?$.isPlural().found:!1},getSubject=function($){const _e=lastNoun($);return{subject:_e,plural:isPlural$1(_e,$)}},noop$3=$=>$,isPlural=($,_e)=>{const et=getSubject($),tt=et.subject;return tt.has("i")||tt.has("we")?!0:et.plural},wasWere=($,_e)=>{const{subject:et,plural:tt}=getSubject($);return tt||et.has("we")?"were":"was"},isAreAm=function($,_e){if($.has("were"))return"are";const{subject:et,plural:tt}=getSubject($);return et.has("i")?"am":et.has("we")||tt?"are":"is"},doDoes=function($,_e){const et=getSubject($),tt=et.subject;return tt.has("i")||tt.has("we")||et.plural?"do":"does"},getTense=function($){if($.has("#Infinitive"))return"Infinitive";if($.has("#Participle"))return"Participle";if($.has("#PastTense"))return"PastTense";if($.has("#Gerund"))return"Gerund";if($.has("#PresentTense"))return"PresentTense"},toInf$2=function($,_e){const{toInfinitive:et}=$.methods.two.transform.verb;let tt=_e.root.text({keepPunct:!1});return tt=et(tt,$.model,getTense($)),tt&&$.replace(_e.root,tt),$},noWill=$=>$.has("will not")?$.replace("will not","have not"):$.remove("will"),toArray$1=function($){if(!$||!$.isView)return[];const _e={normal:!0,terms:!1,text:!1};return $.json(_e).map(et=>et.normal)},toText=function($){return!$||!$.isView?"":$.text("normal")},toInf$1=function($){const{toInfinitive:_e}=$.methods.two.transform.verb,et=$.text("normal");return _e(et,$.model,getTense($))},toJSON=function($){const _e=parseVerb($);$=$.clone().toView();const et=getGrammar($,_e);return{root:_e.root.text(),preAdverbs:toArray$1(_e.adverbs.pre),postAdverbs:toArray$1(_e.adverbs.post),auxiliary:toText(_e.auxiliary),negative:_e.negative.found,prefix:toText(_e.prefix),infinitive:toInf$1(_e.root),grammar:et}},keep$5={tags:!0},toInf=function($,_e){const{toInfinitive:et}=$.methods.two.transform.verb,{root:tt,auxiliary:nt}=_e,rt=nt.terms().harden();let it=tt.text("normal");if(it=et(it,$.model,getTense(tt)),it&&$.replace(tt,it,keep$5).tag("Verb").firstTerm().tag("Infinitive"),rt.found&&$.remove(rt),_e.negative.found){$.has("not")||$.prepend("not");const ot=doDoes($);$.prepend(ot)}return $.fullSentence().compute(["freeze","lexicon","preTagger","postTagger","unfreeze","chunks"]),$},keep$4={tags:!0},fns={noAux:($,_e)=>(_e.auxiliary.found&&($=$.remove(_e.auxiliary)),$),simple:($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,nt=_e.root;if(nt.has("#Modal"))return $;let rt=nt.text({keepPunct:!1});return rt=tt(rt,$.model,getTense(nt)),rt=et(rt,$.model).PastTense,rt=rt==="been"?"was":rt,rt==="was"&&(rt=wasWere($)),rt&&$.replace(nt,rt,keep$4),$},both:function($,_e){return _e.negative.found?($.replace("will","did"),$):($=fns.simple($,_e),$=fns.noAux($,_e),$)},hasHad:$=>($.replace("has","had",keep$4),$),hasParticiple:($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,nt=_e.root;let rt=nt.text("normal");return rt=tt(rt,$.model,getTense(nt)),et(rt,$.model).Participle}},forms$4={infinitive:fns.simple,"simple-present":fns.simple,"simple-past":noop$3,"simple-future":fns.both,"present-progressive":$=>($.replace("are","were",keep$4),$.replace("(is|are|am)","was",keep$4),$),"past-progressive":noop$3,"future-progressive":($,_e)=>($.match(_e.root).insertBefore("was"),$.remove("(will|be)"),$),"present-perfect":fns.hasHad,"past-perfect":noop$3,"future-perfect":($,_e)=>($.match(_e.root).insertBefore("had"),$.has("will")&&($=noWill($)),$.remove("have"),$),"present-perfect-progressive":fns.hasHad,"past-perfect-progressive":noop$3,"future-perfect-progressive":$=>($.remove("will"),$.replace("have","had",keep$4),$),"passive-past":$=>($.replace("have","had",keep$4),$),"passive-present":$=>($.replace("(is|are)","was",keep$4),$),"passive-future":($,_e)=>(_e.auxiliary.has("will be")&&($.match(_e.root).insertBefore("had been"),$.remove("(will|be)")),_e.auxiliary.has("will have been")&&($.replace("have","had",keep$4),$.remove("will")),$),"present-conditional":$=>($.replace("be","have been"),$),"past-conditional":noop$3,"auxiliary-future":$=>($.replace("(is|are|am)","was",keep$4),$),"auxiliary-past":noop$3,"auxiliary-present":$=>($.replace("(do|does)","did",keep$4),$),"modal-infinitive":($,_e)=>($.has("can")?$.replace("can","could",keep$4):(fns.simple($,_e),$.match("#Modal").insertAfter("have").tag("Auxiliary")),$),"modal-past":noop$3,"want-infinitive":$=>($.replace("(want|wants)","wanted",keep$4),$.remove("will"),$),"gerund-phrase":($,_e)=>(_e.root=_e.root.not("#Gerund$"),fns.simple($,_e),noWill($),$)},toPast$1=function($,_e,et){return forms$4.hasOwnProperty(et)&&($=forms$4[et]($,_e),$.fullSentence().compute(["tagger","chunks"])),$},haveHas=function($,_e){const et=getSubject($),tt=et.subject;return tt.has("(i|we|you)")?"have":et.plural===!1||tt.has("he")||tt.has("she")||tt.has("#Person")?"has":"have"},simple$2=($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,{root:nt,auxiliary:rt}=_e;if(nt.has("#Modal"))return $;let it=nt.text({keepPunct:!1});it=tt(it,$.model,getTense(nt));const ot=et(it,$.model);if(it=ot.Participle||ot.PastTense,it){$=$.replace(nt,it);const at=haveHas($);$.prepend(at).match(at).tag("Auxiliary"),$.remove(rt)}return $},forms$3={infinitive:simple$2,"simple-present":simple$2,"simple-future":($,_e)=>$.replace("will",haveHas($)),"present-perfect":noop$3,"past-perfect":noop$3,"future-perfect":($,_e)=>$.replace("will have",haveHas($)),"present-perfect-progressive":noop$3,"past-perfect-progressive":noop$3,"future-perfect-progressive":noop$3},toPast=function($,_e,et){return forms$3.hasOwnProperty(et)?($=forms$3[et]($,_e),$.fullSentence().compute(["tagger","chunks"]),$):($=simple$2($,_e),$.fullSentence().compute(["tagger","chunks"]),$)},keep$3={tags:!0},simple$1=($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,nt=_e.root;let rt=nt.text("normal");return rt=tt(rt,$.model,getTense(nt)),isPlural($)===!1&&(rt=et(rt,$.model).PresentTense),nt.has("#Copula")&&(rt=isAreAm($)),rt&&($=$.replace(nt,rt,keep$3),$.not("#Particle").tag("PresentTense")),$},toGerund$1=($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,nt=_e.root;let rt=nt.text("normal");return rt=tt(rt,$.model,getTense(nt)),isPlural($)===!1&&(rt=et(rt,$.model).Gerund),rt&&($=$.replace(nt,rt,keep$3),$.not("#Particle").tag("Gerund")),$},vbToInf=($,_e)=>{const{toInfinitive:et}=$.methods.two.transform.verb,tt=_e.root;let nt=_e.root.text("normal");return nt=et(nt,$.model,getTense(tt)),nt&&($=$.replace(_e.root,nt,keep$3)),$},forms$2={infinitive:simple$1,"simple-present":($,_e)=>{const{conjugate:et}=$.methods.two.transform.verb,{root:tt}=_e;if(tt.has("#Infinitive")){const rt=getSubject($).subject;if(isPlural($)||rt.has("i"))return $;const it=tt.text("normal"),ot=et(it,$.model).PresentTense;it!==ot&&$.replace(tt,ot,keep$3)}else return simple$1($,_e);return $},"simple-past":simple$1,"simple-future":($,_e)=>{const{root:et,auxiliary:tt}=_e;if(tt.has("will")&&et.has("be")){const nt=isAreAm($);$.replace(et,nt),$=$.remove("will"),$.replace("not "+nt,nt+" not")}else simple$1($,_e),$=$.remove("will");return $},"present-progressive":noop$3,"past-progressive":($,_e)=>{const et=isAreAm($);return $.replace("(were|was)",et,keep$3)},"future-progressive":$=>($.match("will").insertBefore("is"),$.remove("be"),$.remove("will")),"present-perfect":($,_e)=>(simple$1($,_e),$=$.remove("(have|had|has)"),$),"past-perfect":($,_e)=>{const tt=getSubject($).subject;return isPlural($)||tt.has("i")?($=toInf$2($,_e),$.remove("had"),$):($.replace("had","has",keep$3),$)},"future-perfect":$=>($.match("will").insertBefore("has"),$.remove("have").remove("will")),"present-perfect-progressive":noop$3,"past-perfect-progressive":$=>$.replace("had","has",keep$3),"future-perfect-progressive":$=>($.match("will").insertBefore("has"),$.remove("have").remove("will")),"passive-past":($,_e)=>{const et=isAreAm($);return $.has("(had|have|has)")&&$.has("been")?($.replace("(had|have|has)",et,keep$3),$.replace("been","being"),$):$.replace("(got|was|were)",et)},"passive-present":noop$3,"passive-future":$=>($.replace("will","is"),$.replace("be","being")),"present-conditional":noop$3,"past-conditional":$=>($.replace("been","be"),$.remove("have")),"auxiliary-future":($,_e)=>(toGerund$1($,_e),$.remove("(going|to)"),$),"auxiliary-past":($,_e)=>{if(_e.auxiliary.has("did")){const et=doDoes($);return $.replace(_e.auxiliary,et),$}return toGerund$1($,_e),$.replace(_e.auxiliary,"is"),$},"auxiliary-present":noop$3,"modal-infinitive":noop$3,"modal-past":($,_e)=>(vbToInf($,_e),$.remove("have")),"gerund-phrase":($,_e)=>(_e.root=_e.root.not("#Gerund$"),simple$1($,_e),$.remove("(will|have)")),"want-infinitive":($,_e)=>{let et="wants";return isPlural($)&&(et="want"),$.replace("(want|wanted|wants)",et,keep$3),$.remove("will"),$}},toPresent=function($,_e,et){return forms$2.hasOwnProperty(et)&&($=forms$2[et]($,_e),$.fullSentence().compute(["tagger","chunks"])),$},keep$2={tags:!0},simple=($,_e)=>{const{toInfinitive:et}=$.methods.two.transform.verb,{root:tt,auxiliary:nt}=_e;if(tt.has("#Modal"))return $;let rt=tt.text("normal");return rt=et(rt,$.model,getTense(tt)),rt&&($=$.replace(tt,rt,keep$2),$.not("#Particle").tag("Verb")),$.prepend("will").match("will").tag("Auxiliary"),$.remove(nt),$},progressive=($,_e)=>{const{conjugate:et,toInfinitive:tt}=$.methods.two.transform.verb,{root:nt,auxiliary:rt}=_e;let it=nt.text("normal");return it=tt(it,$.model,getTense(nt)),it&&(it=et(it,$.model).Gerund,$.replace(nt,it,keep$2),$.not("#Particle").tag("PresentTense")),$.remove(rt),$.prepend("will be").match("will be").tag("Auxiliary"),$},forms$1={infinitive:simple,"simple-present":simple,"simple-past":simple,"simple-future":noop$3,"present-progressive":progressive,"past-progressive":progressive,"future-progressive":noop$3,"present-perfect":$=>($.match("(have|has)").replaceWith("will have"),$),"past-perfect":$=>$.replace("(had|has)","will have"),"future-perfect":noop$3,"present-perfect-progressive":$=>$.replace("has","will have"),"past-perfect-progressive":$=>$.replace("had","will have"),"future-perfect-progressive":noop$3,"passive-past":$=>$.has("got")?$.replace("got","will get"):$.has("(was|were)")?($.replace("(was|were)","will be"),$.remove("being")):$.has("(have|has|had) been")?$.replace("(have|has|had) been","will be"):$,"passive-present":$=>($.replace("being","will be"),$.remove("(is|are|am)"),$),"passive-future":noop$3,"present-conditional":$=>$.replace("would","will"),"past-conditional":$=>$.replace("would","will"),"auxiliary-future":noop$3,"auxiliary-past":$=>$.has("used")&&$.has("to")?($.replace("used","will"),$.remove("to")):($.replace("did","will"),$),"auxiliary-present":$=>$.replace("(do|does)","will"),"modal-infinitive":noop$3,"modal-past":noop$3,"gerund-phrase":($,_e)=>(_e.root=_e.root.not("#Gerund$"),simple($,_e),$.remove("(had|have)")),"want-infinitive":$=>($.replace("(want|wants|wanted)","will want"),$)},toFuture=function($,_e,et){return $.has("will")||$.has("going to")||forms$1.hasOwnProperty(et)&&($=forms$1[et]($,_e),$.fullSentence().compute(["tagger","chunks"])),$},keep$1={tags:!0},toGerund=function($,_e){const{toInfinitive:et,conjugate:tt}=$.methods.two.transform.verb,{root:nt,auxiliary:rt}=_e;if($.has("#Gerund"))return $;let it=nt.text("normal");it=et(it,$.model,getTense(nt));const ot=tt(it,$.model).Gerund;if(ot){const at=isAreAm($);$.replace(nt,ot,keep$1),$.remove(rt),$.prepend(at)}return $.replace("not is","is not"),$.replace("not are","are not"),$.fullSentence().compute(["tagger","chunks"]),$},keep={tags:!0},doesNot=function($,_e){const et=doDoes($);return $.prepend(et+" not"),$},isWas=function($){let _e=$.match("be");return _e.found?(_e.prepend("not"),$):(_e=$.match("(is|was|am|are|will|were)"),_e.found&&_e.append("not"),$)},hasCopula=$=>$.has("(is|was|am|are|will|were|be)"),forms={"simple-present":($,_e)=>hasCopula($)===!0?isWas($):($=toInf$2($,_e),$=doesNot($),$),"simple-past":($,_e)=>hasCopula($)===!0?isWas($):($=toInf$2($,_e),$.prepend("did not"),$),imperative:$=>($.prepend("do not"),$),infinitive:($,_e)=>hasCopula($)===!0?isWas($):doesNot($),"passive-past":$=>{if($.has("got"))return $.replace("got","get",keep),$.prepend("did not"),$;const _e=$.match("(was|were|had|have)");return _e.found&&_e.append("not"),$},"auxiliary-past":$=>{if($.has("used"))return $.prepend("did not"),$;const _e=$.match("(did|does|do)");return _e.found&&_e.append("not"),$},"want-infinitive":($,_e)=>($=doesNot($),$=$.replace("wants","want",keep),$)},toNegative=function($,_e,et){if($.has("#Negative"))return $;if(forms.hasOwnProperty(et))return $=forms[et]($,_e),$;let tt=$.matchOne("be");return tt.found?(tt.prepend("not"),$):hasCopula($)===!0?isWas($):(tt=$.matchOne("(will|had|have|has|did|does|do|#Modal)"),tt.found&&tt.append("not"),$)},api$1=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Verbs"}parse(tt){return this.getNth(tt).map(parseVerb)}json(tt,nt){return this.getNth(nt).map(ot=>{const at=ot.toView().json(tt)[0]||{};return at.verb=toJSON(ot),at},[])}subjects(tt){return this.getNth(tt).map(nt=>(parseVerb(nt),getSubject(nt).subject))}adverbs(tt){return this.getNth(tt).map(nt=>nt.match("#Adverb"))}isSingular(tt){return this.getNth(tt).filter(nt=>getSubject(nt).plural!==!0)}isPlural(tt){return this.getNth(tt).filter(nt=>getSubject(nt).plural===!0)}isImperative(tt){return this.getNth(tt).filter(nt=>nt.has("#Imperative"))}toInfinitive(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return toInf(nt,rt,it.form)})}toPresentTense(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return it.isInfinitive?nt:toPresent(nt,rt,it.form)})}toPastTense(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return it.isInfinitive?nt:toPast$1(nt,rt,it.form)})}toFutureTense(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return it.isInfinitive?nt:toFuture(nt,rt,it.form)})}toGerund(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return it.isInfinitive?nt:toGerund(nt,rt,it.form)})}toPastParticiple(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return it.isInfinitive?nt:toPast(nt,rt,it.form)})}conjugate(tt){const{conjugate:nt,toInfinitive:rt}=this.world.methods.two.transform.verb;return this.getNth(tt).map(it=>{const ot=parseVerb(it),at=getGrammar(it,ot);at.form==="imperative"&&(at.form="simple-present");let st=ot.root.text("normal");if(!ot.root.has("#Infinitive")){const lt=getTense(ot.root);st=rt(st,it.model,lt)||st}return nt(st,it.model)},[])}isNegative(){return this.if("#Negative")}isPositive(){return this.ifNo("#Negative")}toPositive(){const tt=this.match("do not #Verb");return tt.found&&tt.remove("do not"),this.remove("#Negative")}toNegative(tt){return this.getNth(tt).map(nt=>{const rt=parseVerb(nt),it=getGrammar(nt,rt);return toNegative(nt,rt,it.form)})}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}_e.prototype.toPast=_e.prototype.toPastTense,_e.prototype.toPresent=_e.prototype.toPresentTense,_e.prototype.toFuture=_e.prototype.toFutureTense,$.prototype.verbs=function(et){let tt=findVerbs(this);return tt=tt.getNth(et),new _e(this.document,tt.pointer)}},verbs={api:api$1},findChained=function($,_e){const et=_e.match($);if(et.found){const tt=et.pronouns().refersTo();if(tt.found)return tt}return _e.none()},prevSentence=function($){if(!$.found)return $;const[_e]=$.fullPointer[0];return _e&&_e>0?$.update([[_e-1]]):$.none()},byGender=function($,_e){return _e==="m"?$.filter(et=>!et.presumedFemale().found):_e==="f"?$.filter(et=>!et.presumedMale().found):$},getPerson=function($,_e){let et=$.people();return et=byGender(et,_e),et.found||(et=$.nouns("#Actor"),et.found)?et.last():_e==="f"?findChained("(she|her|hers)",$):_e==="m"?findChained("(he|him|his)",$):$.none()},getThey=function($){const _e=$.nouns();let et=_e.isPlural().notIf("#Pronoun");if(et.found)return et.last();const tt=findChained("(they|their|theirs)",$);return tt.found?tt:(et=_e.match("(somebody|nobody|everybody|anybody|someone|noone|everyone|anyone)"),et.found?et.last():$.none())},addReference=function($,_e){if(_e&&_e.found){const et=$.docs[0][0];et.reference=_e.ptrs[0]}},stepBack=function($,_e){let et=$.before(),tt=_e(et);return tt.found||(et=prevSentence($),tt=_e(et),tt.found)||(et=prevSentence(et),tt=_e(et),tt.found)?tt:$.none()},coreference$1=function($){$.pronouns().if("(he|him|his|she|her|hers|they|their|theirs|it|its)").forEach(et=>{let tt=null;et.has("(he|him|his)")?tt=stepBack(et,nt=>getPerson(nt,"m")):et.has("(she|her|hers)")?tt=stepBack(et,nt=>getPerson(nt,"f")):et.has("(they|their|theirs)")&&(tt=stepBack(et,getThey)),tt&&tt.found&&addReference(et,tt)})},api=function($){class _e extends ${constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Pronouns"}hasReference(){return this.compute("coreference"),this.filter(tt=>tt.docs[0][0].reference)}refersTo(){return this.compute("coreference"),this.map(tt=>{if(!tt.found)return tt.none();const nt=tt.docs[0][0];return nt.reference?tt.update([nt.reference]):tt.none()})}update(tt){const nt=new _e(this.document,tt);return nt._cache=this._cache,nt}}$.prototype.pronouns=function(et){let tt=this.match("#Pronoun");return tt=tt.getNth(et),new _e(tt.document,tt.pointer)}},coreference={compute:{coreference:coreference$1},api};nlp.plugin(adjectives);nlp.plugin(adverbs);nlp.plugin(chunker);nlp.plugin(coreference);nlp.plugin(misc);nlp.plugin(normalize$1);nlp.plugin(nouns);nlp.plugin(numbers$1);nlp.plugin(plugin);nlp.plugin(sentences);nlp.plugin(topics);nlp.plugin(verbs);function analyzeLinguisticFeatures($){const _e=[],et=nlp($),tt=et.sentences().out("array");if(tt.length<3)return{humanityScore:50,burstiness:0,confidence:.3,shadowScores:{gptZero:.5,turnitin:.5,originality:.5},aiPatternScore:.5,warnings:[]};const nt=tt.map(Zt=>Zt.trim().split(/\s+/).length),rt=nt.reduce((Zt,dn)=>Zt+dn,0)/nt.length,it=nt.reduce((Zt,dn)=>Zt+Math.pow(dn-rt,2),0)/nt.length,at=Math.sqrt(it),st=et.terms().out("array"),ct=new Set(st.map(Zt=>Zt.toLowerCase())).size/st.length,ut=et.nouns().length,dt=et.verbs().length,ft=et.adjectives().length,pt=et.adverbs().length,mt=st.length||1,ht={nouns:ut/mt,verbs:dt/mt,adjectives:ft/mt,adverbs:pt/mt},xt=et.match("#Conjunction").length/tt.length,gt=["furthermore","moreover","in conclusion","ultimately","significantly","substantially","considerably","particularly","specifically","notably","evidently","consequently","therefore","thus","hence","accordingly","admittedly","arguably","undoubtedly","certainly","obviously","clearly"].filter(Zt=>$.toLowerCase().includes(Zt)).length,bt=($.match(/was\s+\w+ed|were\s+\w+ed|is\s+\w+ed|are\s+\w+ed|been\s+\w+ed|be\s+\w+ed/gi)||[]).length/tt.length,wt=["accordingly","approximately","ascertain","demonstrate","elucidate","facilitate","implement","indicate","inherent","integrate","notwithstanding","pertaining","prevalent","procurement","utilize","facilitate","endeavor","paradigm"],Ct=st.filter(Zt=>wt.includes(Zt.toLowerCase())).length/st.length,$t=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","be"],jt=st.filter(Zt=>$t.includes(Zt.toLowerCase())).length/st.length,Vt=it,Mt=tt.map(Zt=>Zt.trim().split(/\s+/)[0].toLowerCase()),Ht=Mt.filter((Zt,dn)=>Mt.indexOf(Zt)!==dn).length,Rt={transitionPhrases:Math.min(gt/2,1)*.2,passiveVoice:Math.min(bt/.25,1)*.15,formalVocab:Math.min(Ct/.08,1)*.15,glueWordRatio:Math.max(0,(jt-.35)*1.5)*.15,lowVariance:Math.max(0,(10-Vt)/10)*.2,repetitiveStarters:Math.min(Ht/5,1)*.15},Ft=Math.round(Object.values(Rt).reduce((Zt,dn)=>Zt+dn,0)*100)/100;Ft>.65&&_e.push(" High AI pattern detected: Check writing for formal transitions"),bt>.25&&_e.push(" High passive voice usage - AI characteristic"),jt>.45&&_e.push(" Excessive function words - common in AI text"),Vt<2&&_e.push(" Low sentence length variation - indicates repetitive patterns");const Tt=Math.min(ct*100,100),Dt=Math.min(at/10*100,100),Jt=Math.max(100-jt*300,0),Ot=100-Math.abs(ht.nouns-.25)*200-Math.abs(ht.verbs-.2)*200,Pt=(1-Ft)*100,kt=Tt*.25+Dt*.25+Jt*.2+Ot*.15+Pt*.15,Nt=1-(ct*.4+at/10*.4)+Ft*.2,zt=Math.max(.1,Math.min(.95,Nt*.8+Ft*.5)),Wt=Math.max(.1,Math.min(.95,Nt*.7+Ft*.4)),Gt=Math.max(.1,Math.min(.95,Nt*.6+Ft*.3)),Kt=Math.min(st.length/500,1)*.87;return{humanityScore:Math.round(kt),burstiness:at,confidence:Kt,shadowScores:{gptZero:parseFloat(zt.toFixed(2)),turnitin:parseFloat(Wt.toFixed(2)),originality:parseFloat(Gt.toFixed(2))},posDistribution:ht,syntacticComplexity:xt,aiPatternScore:parseFloat(Ft.toFixed(2)),warnings:_e}}function calculateSimilarityWithSource($,_e){const et=[];if(!_e||_e.length<20)return{overallSimilarity:0,phraseMatches:0,ngramOverlap:0,warnings:[]};const tt=Ct=>Ct.toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),nt=tt($),rt=tt(_e),it=rt.split(/\s+/);let ot=0;for(let Ct=0;Ct<=it.length-5;Ct++){const $t=it.slice(Ct,Ct+5).join(" ");nt.includes($t)&&ot++}const at=Math.min(ot/Math.max(it.length/5,1),1),st=extractPhrases(nt,4),lt=extractPhrases(rt,4),ct=st.filter(Ct=>lt.some($t=>$t.includes(Ct)||Ct.includes($t)||calculateStringSimilarity(Ct,$t)>.75)),ut=ct.length/Math.max(st.length,1),dt=getNgrams(nt,3),ft=getNgrams(rt,3),pt=dt.filter(Ct=>ft.includes(Ct)),mt=pt.length/Math.max(dt.length,1),ht=getNgrams(nt,2),yt=getNgrams(rt,2),St=ht.filter(Ct=>yt.includes(Ct)).length/Math.max(ht.length,1),gt=nt.split(/[.!?]+/).map(Ct=>Ct.trim()).filter(Ct=>Ct.split(/\s+/).length>5),vt=rt.split(/[.!?]+/).map(Ct=>Ct.trim()).filter(Ct=>Ct.split(/\s+/).length>5);let bt=0,wt=0;gt.forEach(Ct=>{vt.forEach($t=>{const Et=calculateStringSimilarity(Ct,$t);Et>.65&&(bt+=Et,wt++)})}),gt.length>0&&(bt=bt/gt.length);const _t=Math.min(Math.round((at*.25+ut*.25+mt*.25+St*.15+bt*.1)*100)/100,1);return at>.15?et.push(` PLAGIARISM DETECTED: ${(at*100).toFixed(0)}% of source text found directly`):_t>.45&&et.push(` High similarity to source material (${(_t*100).toFixed(0)}%)`),ut>.25&&et.push(` Multiple phrases match source (${ct.length} matching phrases)`),mt>.25&&et.push(" Sentence structure very similar to source"),wt>2&&et.push(` ${wt} sentences structurally match source`),{overallSimilarity:_t,phraseMatches:ct.length,ngramOverlap:pt.length,warnings:et}}function extractPhrases($,_e){const et=$.split(/\s+/),tt=[];for(let nt=0;nt<=et.length-_e;nt++)tt.push(et.slice(nt,nt+_e).join(" "));return tt}function getNgrams($,_e){const et=$.split(/\s+/),tt=[];for(let nt=0;nt<=et.length-_e;nt++)tt.push(et.slice(nt,nt+_e).join(" "));return tt}function calculateStringSimilarity($,_e){const et=$.length>_e.length?$:_e,tt=$.length>_e.length?_e:$;if(et.length===0)return 1;const nt=getEditDistance(et,tt);return(et.length-nt)/et.length}function getEditDistance($,_e){const et=[];for(let tt=0;tt<=$.length;tt++){let nt=tt;for(let rt=0;rt<=_e.length;rt++)if(tt===0)et[rt]=rt;else if(rt>0){let it=et[rt-1];$.charAt(tt-1)!==_e.charAt(rt-1)&&(it=Math.min(Math.min(it,nt),et[rt])+1),et[rt-1]=nt,nt=it}tt>0&&(et[_e.length]=nt)}return et[_e.length]}const synonymMap={important:["significant","crucial","vital","essential","critical"],show:["demonstrate","illustrate","reveal","indicate","display"],use:["utilize","employ","apply","implement","adopt"],make:["create","produce","generate","construct","develop"],get:["obtain","acquire","receive","gain","secure"],give:["provide","offer","supply","present","deliver"],think:["believe","consider","assume","suppose","contemplate"],help:["assist","aid","support","facilitate","enable"],change:["modify","alter","transform","adjust","revise"],study:["examine","investigate","analyze","explore","research"],find:["discover","identify","determine","locate","ascertain"],different:["distinct","diverse","varied","disparate","dissimilar"],same:["identical","similar","equivalent","comparable","analogous"],good:["effective","beneficial","positive","favorable","advantageous"],bad:["detrimental","negative","adverse","unfavorable","harmful"],big:["substantial","significant","considerable","extensive","major"],small:["minor","limited","minimal","modest","negligible"],many:["numerous","various","multiple","several","abundant"],because:["since","as","due to","owing to","given that"],but:["however","nevertheless","yet","although","whereas"],also:["additionally","furthermore","moreover","likewise","similarly"],very:["extremely","highly","particularly","exceptionally","remarkably"],understand:["comprehend","grasp","perceive","recognize","appreciate"],explain:["clarify","elucidate","describe","interpret","expound"],argue:["contend","assert","maintain","claim","propose"],suggest:["propose","recommend","indicate","imply","advise"],discuss:["examine","explore","analyze","consider","address"],increase:["enhance","augment","expand","elevate","amplify"],decrease:["reduce","diminish","lower","minimize","lessen"]},phraseParaphrases={"in order to":["to","so as to","for the purpose of"],"due to the fact that":["because","since","as"],"in spite of":["despite","although","even though"],"as a result of":["because of","due to","resulting from"],"it is important to note that":["notably","significantly","importantly"],"a large number of":["many","numerous","several"],"at the present time":["currently","now","presently"],"in the event that":["if","should","when"],"in addition to":["besides","along with","as well as"],"with regard to":["regarding","concerning","about"],"for the purpose of":["to","for","in order to"],"in the process of":["during","while","when"],"on the other hand":["however","conversely","alternatively"],"take into consideration":["consider","account for","factor in"],"make use of":["use","utilize","employ"],"by means of":["by","through","via"],"in the majority of cases":["usually","typically","generally"],"a variety of":["various","several","many"],"in conclusion":["finally","ultimately","in summary"],"it can be seen that":["evidently","clearly","apparently"]};function generateSynonym($){const _e=$.toLowerCase(),et=synonymMap[_e];return et&&et.length>0?et[Math.floor(Math.random()*et.length)]:null}function generateParaphrase($){const _e=$.toLowerCase().trim();for(const[et,tt]of Object.entries(phraseParaphrases))if(_e.includes(et))return tt[Math.floor(Math.random()*tt.length)];return $.split(" ").length>=5?generateGenericParaphrase($):null}function generateGenericParaphrase($){const _e=$.toLowerCase(),et=$.split(" ");return _e.startsWith("this shows that")?"This demonstrates that...":_e.startsWith("it is important")?"Significantly, this...":_e.startsWith("there are many")?"Numerous factors...":_e.startsWith("in this study")?"The present research...":_e.startsWith("research shows")?"Evidence indicates...":_e.startsWith("it has been")?"Historically,... OR Studies have found...":_e.startsWith("the fact that")?"Given that..., it is clear that...":_e.includes("can be seen")?"It is evident that...":_e.includes("such as")?"For instance,... OR Including...":_e.includes("according to")?"As [author] notes,... OR Research by [author] suggests...":et.length>20?"Consider breaking this into two shorter sentences or restructuring for clarity.":et.length>15?"Try rephrasing with active voice or using a different sentence structure.":et.length>10?"Consider using a more direct structure or shorter sentence.":"Try rephrasing with different vocabulary or sentence structure."}function findMatchedWords($,_e){const et=_e.toLowerCase(),tt=$.split(/\s+/),nt=[];for(let rt=0;rt<tt.length;rt++)for(let it=3;it<=7&&!(rt+it>tt.length);it++){const ot=tt.slice(rt,rt+it),at=ot.join(" ").toLowerCase();if(et.includes(at)&&at.length>10){const st=ot.join(" ");nt.some(lt=>lt.toLowerCase()===at)||nt.push(st)}}return nt}function generateSuggestions($){const _e=[];$.split(/\s+/).forEach(nt=>{const rt=nt.replace(/[^\w]/g,"").toLowerCase(),it=generateSynonym(rt);it&&_e.push({type:"synonym",original:nt,suggestion:it,context:$})});const tt=generateParaphrase($);return tt&&_e.push({type:"paraphrase",original:$,suggestion:tt,context:$}),_e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=$=>$.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=($,_e)=>{const et=reactExports.forwardRef(({color:tt="currentColor",size:nt=24,strokeWidth:rt=2,absoluteStrokeWidth:it,className:ot="",children:at,...st},lt)=>reactExports.createElement("svg",{ref:lt,...defaultAttributes,width:nt,height:nt,stroke:tt,strokeWidth:it?Number(rt)*24/Number(nt):rt,className:["lucide",`lucide-${toKebabCase($)}`,ot].join(" "),...st},[..._e.map(([ct,ut])=>reactExports.createElement(ct,ut)),...Array.isArray(at)?at:[at]]));return et.displayName=`${$}`,et};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileUp=createLucideIcon("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Palette=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function PlagiarismPanel({warnings:$,matchedPhrases:_e=[]}){const et=$.filter(it=>it.includes("")||it.includes("source")||it.includes("plagiarism")||it.includes("phrases")||it.includes("similar")),tt=_e.flatMap(it=>generateSuggestions(it)),nt=tt.filter(it=>it.type==="synonym"),rt=tt.filter(it=>it.type==="paraphrase");return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--color-text)"},children:"Plagiarism & Similarity Detection"}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Real-time comparison with source materials"})]}),et.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:et.map((it,ot)=>jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-3 flex gap-2 border-l-4",style:{backgroundColor:"var(--color-bg-tertiary)",borderLeftColor:"var(--color-danger)"},children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--color-danger)"}}),jsxRuntimeExports.jsx("p",{className:"text-xs",style:{color:"var(--color-text)"},children:it})]},ot))}),(nt.length>0||rt.length>0)&&jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--color-bg-tertiary)",borderColor:"var(--color-info)"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4",style:{color:"var(--color-info)"}}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--color-text)"},children:"Suggestions to Improve Originality"})]}),nt.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Word Alternatives:"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:nt.slice(0,5).map((it,ot)=>jsxRuntimeExports.jsxs("div",{className:"text-xs flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:['"',it.original,'"']}),jsxRuntimeExports.jsx("span",{style:{color:"var(--color-text-secondary)"},children:""}),jsxRuntimeExports.jsx("span",{className:"font-medium px-2 py-0.5 rounded",style:{backgroundColor:"var(--color-info)",color:"var(--color-bg)"},children:it.suggestion})]},ot))})]}),rt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:" Paraphrase Ideas:"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:rt.map((it,ot)=>jsxRuntimeExports.jsxs("div",{className:"text-xs p-3 rounded border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-info)",borderWidth:"1px"},children:[jsxRuntimeExports.jsxs("div",{style:{color:"var(--color-text-secondary)"},className:"mb-2",children:[jsxRuntimeExports.jsx("strong",{children:"Original:"})," ",jsxRuntimeExports.jsxs("span",{className:"italic",children:['"',it.original,'"']})]}),jsxRuntimeExports.jsxs("div",{className:"font-medium p-2 rounded",style:{color:"var(--color-info)",backgroundColor:"rgba(0, 184, 212, 0.1)"},children:[" ",it.suggestion]})]},ot))})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-3 flex gap-2 border-l-4",style:{backgroundColor:"var(--color-bg-tertiary)",borderLeftColor:"var(--color-success)"},children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--color-success)"}}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-success)"},children:"No plagiarism detected. Your writing is original!"})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4",style:{borderTop:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"We check for: direct copying (5+ words), phrase matches (4+ words), n-gram overlap (3-word sequences), and sentence structure similarity."})})]})}function EditorSuggestions({text:$,matchedPhrases:_e}){const et=[];_e.forEach(nt=>{nt.split(/\s+/).forEach(it=>{const ot=it.replace(/[^\w]/g,""),at=generateSynonym(ot);if(at){const st=$.toLowerCase().indexOf(ot.toLowerCase());st!==-1&&et.push({position:st,word:ot,synonym:at})}})});const tt=Array.from(new Map(et.map(nt=>[nt.word.toLowerCase(),nt])).values()).slice(0,8);return jsxRuntimeExports.jsx("div",{className:"space-y-2",children:tt.length>0&&jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-3 border",style:{backgroundColor:"var(--color-bg-tertiary)",borderColor:"var(--color-info)",borderWidth:"1px"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{style:{color:"var(--color-info)"},children:""}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold",style:{color:"var(--color-text)"},children:"Synonym Suggestions"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-1",children:tt.map((nt,rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 rounded text-xs",style:{backgroundColor:"var(--color-bg-secondary)"},children:[jsxRuntimeExports.jsxs("span",{className:"font-mono",style:{color:"var(--color-text-secondary)"},children:['"',nt.word,'"']}),jsxRuntimeExports.jsx("span",{style:{color:"var(--color-text-secondary)"},children:""}),jsxRuntimeExports.jsx("span",{className:"font-semibold px-2 py-0.5 rounded",style:{backgroundColor:"var(--color-info)",color:"var(--color-bg)"},children:nt.synonym})]},rt))}),jsxRuntimeExports.jsx("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:" Click any suggestion or manually replace matched words to improve originality."})})]})})}function r($){var _e,et,tt="";if(typeof $=="string"||typeof $=="number")tt+=$;else if(typeof $=="object")if(Array.isArray($)){var nt=$.length;for(_e=0;_e<nt;_e++)$[_e]&&(et=r($[_e]))&&(tt&&(tt+=" "),tt+=et)}else for(et in $)$[et]&&(tt&&(tt+=" "),tt+=et);return tt}function clsx(){for(var $,_e,et=0,tt="",nt=arguments.length;et<nt;et++)($=arguments[et])&&(_e=r($))&&(tt&&(tt+=" "),tt+=_e);return tt}var isArray$e=Array.isArray,isArray_1=isArray$e,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1($){var _e=hasOwnProperty$a.call($,symToStringTag$1),et=$[symToStringTag$1];try{$[symToStringTag$1]=void 0;var tt=!0}catch{}var nt=nativeObjectToString$1.call($);return tt&&(_e?$[symToStringTag$1]=et:delete $[symToStringTag$1]),nt}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1($){return nativeObjectToString.call($)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9($){return $==null?$===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object($)?getRawTag($):objectToString($)}var _baseGetTag=baseGetTag$9;function isObjectLike$9($){return $!=null&&typeof $=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6($){return typeof $=="symbol"||isObjectLike$8($)&&baseGetTag$8($)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$d=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3($,_e){if(isArray$d($))return!1;var et=typeof $;return et=="number"||et=="symbol"||et=="boolean"||$==null||isSymbol$5($)?!0:reIsPlainProp.test($)||!reIsDeepProp.test($)||_e!=null&&$ in Object(_e)}var _isKey=isKey$3;function isObject$7($){var _e=typeof $;return $!=null&&(_e=="object"||_e=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs$1(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2($){if(!isObject$6($))return!1;var _e=baseGetTag$7($);return _e==funcTag$1||_e==genTag||_e==asyncTag||_e==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs$1(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var $=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}();function isMasked$1($){return!!maskSrcKey&&maskSrcKey in $}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2($){if($!=null){try{return funcToString$2.call($)}catch{}try{return $+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1($){if(!isObject$5($)||isMasked($))return!1;var _e=isFunction$1($)?reIsNative:reIsHostCtor;return _e.test(toSource$1($))}var _baseIsNative=baseIsNative$1;function getValue$1($,_e){return $==null?void 0:$[_e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7($,_e){var et=getValue($,_e);return baseIsNative(et)?et:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1($){var _e=this.has($)&&delete this.__data__[$];return this.size-=_e?1:0,_e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1($){var _e=this.__data__;if(nativeCreate$2){var et=_e[$];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$8.call(_e,$)?_e[$]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1($){var _e=this.__data__;return nativeCreate$1?_e[$]!==void 0:hasOwnProperty$7.call(_e,$)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1($,_e){var et=this.__data__;return this.size+=this.has($)?0:1,et[$]=nativeCreate&&_e===void 0?HASH_UNDEFINED$1:_e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3($,_e){return $===_e||$!==$&&_e!==_e}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4($,_e){for(var et=$.length;et--;)if(eq$2($[et][0],_e))return et;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1($){var _e=this.__data__,et=assocIndexOf$3(_e,$);if(et<0)return!1;var tt=_e.length-1;return et==tt?_e.pop():splice.call(_e,et,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1($){var _e=this.__data__,et=assocIndexOf$2(_e,$);return et<0?void 0:_e[et][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1($){return assocIndexOf$1(this.__data__,$)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1($,_e){var et=this.__data__,tt=assocIndexOf(et,$);return tt<0?(++this.size,et.push([$,_e])):et[tt][1]=_e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1($){var _e=typeof $;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?$!=="__proto__":$===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4($,_e){var et=$.__data__;return isKeyable(_e)?et[typeof _e=="string"?"string":"hash"]:et.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1($){var _e=getMapData$3(this,$).delete($);return this.size-=_e?1:0,_e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1($){return getMapData$2(this,$).get($)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1($){return getMapData$1(this,$).has($)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1($,_e){var et=getMapData(this,$),tt=et.size;return et.set($,_e),this.size+=et.size==tt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3($){var _e=-1,et=$==null?0:$.length;for(this.clear();++_e<et;){var tt=$[_e];this.set(tt[0],tt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2($,_e){if(typeof $!="function"||_e!=null&&typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var et=function(){var tt=arguments,nt=_e?_e.apply(this,tt):tt[0],rt=et.cache;if(rt.has(nt))return rt.get(nt);var it=$.apply(this,tt);return et.cache=rt.set(nt,it)||rt,it};return et.cache=new(memoize$2.Cache||MapCache$2),et}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs$1(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1($){var _e=memoize$1($,function(tt){return et.size===MAX_MEMOIZE_SIZE&&et.clear(),tt}),et=_e.cache;return _e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function($){var _e=[];return $.charCodeAt(0)===46&&_e.push(""),$.replace(rePropName,function(et,tt,nt,rt){_e.push(nt?rt.replace(reEscapeChar,"$1"):tt||et)}),_e}),_stringToPath=stringToPath$1;function arrayMap$3($,_e){for(var et=-1,tt=$==null?0:$.length,nt=Array(tt);++et<tt;)nt[et]=_e($[et],et,$);return nt}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$c=isArray_1,isSymbol$4=isSymbol_1,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1($){if(typeof $=="string")return $;if(isArray$c($))return arrayMap$2($,baseToString$1)+"";if(isSymbol$4($))return symbolToString?symbolToString.call($):"";var _e=$+"";return _e=="0"&&1/$==-1/0?"-0":_e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4($){return $==null?"":baseToString($)}var toString_1=toString$4,isArray$b=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$3=toString_1;function castPath$2($,_e){return isArray$b($)?$:isKey$2($,_e)?[$]:stringToPath(toString$3($))}var _castPath=castPath$2,isSymbol$3=isSymbol_1;function toKey$4($){if(typeof $=="string"||isSymbol$3($))return $;var _e=$+"";return _e=="0"&&1/$==-1/0?"-0":_e}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3($,_e){_e=castPath$1(_e,$);for(var et=0,tt=_e.length;$!=null&&et<tt;)$=$[toKey$3(_e[et++])];return et&&et==tt?$:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1($,_e,et){var tt=$==null?void 0:baseGet$2($,_e);return tt===void 0?et:tt}var get_1=get$1;const get$2=getDefaultExportFromCjs$1(get_1);function isNil($){return $==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs$1(isNil_1);var baseGetTag$6=_baseGetTag,isArray$a=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString($){return typeof $=="string"||!isArray$a($)&&isObjectLike$7($)&&baseGetTag$6($)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs$1(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case b:switch($=$.type,$){case d:case f:case e:case m:case n:return $;default:switch($=$&&$.$$typeof,$){case k$1:case h:case l:case q:case p:case g:return $;default:return _e}}case c$1:return _e}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function($){return v($)===h};reactIs_production_min.isContextProvider=function($){return v($)===g};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b};reactIs_production_min.isForwardRef=function($){return v($)===l};reactIs_production_min.isFragment=function($){return v($)===d};reactIs_production_min.isLazy=function($){return v($)===q};reactIs_production_min.isMemo=function($){return v($)===p};reactIs_production_min.isPortal=function($){return v($)===c$1};reactIs_production_min.isProfiler=function($){return v($)===f};reactIs_production_min.isStrictMode=function($){return v($)===e};reactIs_production_min.isSuspense=function($){return v($)===m};reactIs_production_min.isSuspenseList=function($){return v($)===n};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d||$===f||$===e||$===m||$===n||$===t||typeof $=="object"&&$!==null&&($.$$typeof===q||$.$$typeof===p||$.$$typeof===g||$.$$typeof===h||$.$$typeof===l||$.$$typeof===u||$.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2($){return typeof $=="number"||isObjectLike$6($)&&baseGetTag$5($)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs$1(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1($){return isNumber$1($)&&$!=+$}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs$1(_isNaN);var mathSign=function(_e){return _e===0?0:_e>0?1:-1},isPercent=function(_e){return isString$1(_e)&&_e.indexOf("%")===_e.length-1},isNumber=function(_e){return isNumber$3(_e)&&!isNan(_e)},isNullish=function(_e){return isNil$1(_e)},isNumOrStr=function(_e){return isNumber(_e)||isString$1(_e)},idCounter=0,uniqueId=function(_e){var et=++idCounter;return"".concat(_e||"").concat(et)},getPercentValue=function(_e,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(_e)&&!isString$1(_e))return tt;var rt;if(isPercent(_e)){var it=_e.indexOf("%");rt=et*parseFloat(_e.slice(0,it))/100}else rt=+_e;return isNan(rt)&&(rt=tt),nt&&rt>et&&(rt=et),rt},getAnyElementOfObject=function(_e){if(!_e)return null;var et=Object.keys(_e);return et&&et.length?_e[et[0]]:null},hasDuplicate=function(_e){if(!Array.isArray(_e))return!1;for(var et=_e.length,tt={},nt=0;nt<et;nt++)if(!tt[_e[nt]])tt[_e[nt]]=!0;else return!0;return!1},interpolateNumber$2=function(_e,et){return isNumber(_e)&&isNumber(et)?function(tt){return _e+tt*(et-_e)}:function(){return et}};function findEntryInArray($,_e,et){return!$||!$.length?null:$.find(function(tt){return tt&&(typeof _e=="function"?_e(tt):get$2(tt,_e))===et})}var compareValues=function(_e,et){return isNumber(_e)&&isNumber(et)?_e-et:isString$1(_e)&&isString$1(et)?_e.localeCompare(et):_e instanceof Date&&et instanceof Date?_e.getTime()-et.getTime():String(_e).localeCompare(String(et))};function shallowEqual($,_e){for(var et in $)if({}.hasOwnProperty.call($,et)&&(!{}.hasOwnProperty.call(_e,et)||$[et]!==_e[et]))return!1;for(var tt in _e)if({}.hasOwnProperty.call(_e,tt)&&!{}.hasOwnProperty.call($,tt))return!1;return!0}function _typeof$I($){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$I($)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(_e,et){if(!_e||typeof _e=="function"||typeof _e=="boolean")return null;var tt=_e;if(reactExports.isValidElement(_e)&&(tt=_e.props),!isObject$8(tt))return null;var nt={};return Object.keys(tt).forEach(function(rt){EventKeys.includes(rt)&&(nt[rt]=et||function(it){return tt[rt](tt,it)})}),nt},getEventHandlerOfChild=function(_e,et,tt){return function(nt){return _e(et,tt,nt),null}},adaptEventsOfChild=function(_e,et,tt){if(!isObject$8(_e)||_typeof$I(_e)!=="object")return null;var nt=null;return Object.keys(_e).forEach(function(rt){var it=_e[rt];EventKeys.includes(rt)&&typeof it=="function"&&(nt||(nt={}),nt[rt]=getEventHandlerOfChild(it,et,tt))}),nt},_excluded$h=["children"],_excluded2$6=["children"];function _objectWithoutProperties$h($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$h($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$h($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _typeof$H($){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$H($)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(_e){return typeof _e=="string"?_e:_e?_e.displayName||_e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function $(_e){if(_e===lastChildren&&Array.isArray(lastResult))return lastResult;var et=[];return reactExports.Children.forEach(_e,function(tt){isNil$1(tt)||(reactIsExports.isFragment(tt)?et=et.concat($(tt.props.children)):et.push(tt))}),lastResult=et,lastChildren=_e,et};function findAllByType($,_e){var et=[],tt=[];return Array.isArray(_e)?tt=_e.map(function(nt){return getDisplayName(nt)}):tt=[getDisplayName(_e)],toArray($).forEach(function(nt){var rt=get$2(nt,"type.displayName")||get$2(nt,"type.name");tt.indexOf(rt)!==-1&&et.push(nt)}),et}function findChildByType($,_e){var et=findAllByType($,_e);return et&&et[0]}var validateWidthHeight=function(_e){if(!_e||!_e.props)return!1;var et=_e.props,tt=et.width,nt=et.height;return!(!isNumber(tt)||tt<=0||!isNumber(nt)||nt<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(_e){return _e&&_e.type&&isString$1(_e.type)&&SVG_TAGS.indexOf(_e.type)>=0},hasClipDot=function(_e){return _e&&_typeof$H(_e)==="object"&&"clipDot"in _e},isValidSpreadableProp=function(_e,et,tt,nt){var rt,it=(rt=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[nt])!==null&&rt!==void 0?rt:[];return et.startsWith("data-")||!isFunction$3(_e)&&(nt&&it.includes(et)||SVGElementPropKeys.includes(et))||tt&&EventKeys.includes(et)},filterProps=function(_e,et,tt){if(!_e||typeof _e=="function"||typeof _e=="boolean")return null;var nt=_e;if(reactExports.isValidElement(_e)&&(nt=_e.props),!isObject$8(nt))return null;var rt={};return Object.keys(nt).forEach(function(it){var ot;isValidSpreadableProp((ot=nt)===null||ot===void 0?void 0:ot[it],it,et,tt)&&(rt[it]=nt[it])}),rt},isChildrenEqual=function $(_e,et){if(_e===et)return!0;var tt=reactExports.Children.count(_e);if(tt!==reactExports.Children.count(et))return!1;if(tt===0)return!0;if(tt===1)return isSingleChildEqual(Array.isArray(_e)?_e[0]:_e,Array.isArray(et)?et[0]:et);for(var nt=0;nt<tt;nt++){var rt=_e[nt],it=et[nt];if(Array.isArray(rt)||Array.isArray(it)){if(!$(rt,it))return!1}else if(!isSingleChildEqual(rt,it))return!1}return!0},isSingleChildEqual=function(_e,et){if(isNil$1(_e)&&isNil$1(et))return!0;if(!isNil$1(_e)&&!isNil$1(et)){var tt=_e.props||{},nt=tt.children,rt=_objectWithoutProperties$h(tt,_excluded$h),it=et.props||{},ot=it.children,at=_objectWithoutProperties$h(it,_excluded2$6);return nt&&ot?shallowEqual(rt,at)&&isChildrenEqual(nt,ot):!nt&&!ot?shallowEqual(rt,at):!1}return!1},renderByOrder=function(_e,et){var tt=[],nt={};return toArray(_e).forEach(function(rt,it){if(isSvgElement(rt))tt.push(rt);else if(rt){var ot=getDisplayName(rt.type),at=et[ot]||{},st=at.handler,lt=at.once;if(st&&(!lt||!nt[ot])){var ct=st(rt,ot,it);tt.push(ct),nt[ot]=!0}}}),tt},getReactEventByType=function(_e){var et=_e&&_e.type;return et&&REACT_BROWSER_EVENT_MAP[et]?REACT_BROWSER_EVENT_MAP[et]:null},parseChildIndex=function(_e,et){return toArray(et).indexOf(_e)},_excluded$g=["children","width","height","viewBox","className","style","title","desc"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$q.apply(this,arguments)}function _objectWithoutProperties$g($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$g($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$g($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function Surface($){var _e=$.children,et=$.width,tt=$.height,nt=$.viewBox,rt=$.className,it=$.style,ot=$.title,at=$.desc,st=_objectWithoutProperties$g($,_excluded$g),lt=nt||{width:et,height:tt,x:0,y:0},ct=clsx("recharts-surface",rt);return React.createElement("svg",_extends$q({},filterProps(st,!0,"svg"),{className:ct,width:et,height:tt,style:it,viewBox:"".concat(lt.x," ").concat(lt.y," ").concat(lt.width," ").concat(lt.height)}),React.createElement("title",null,ot),React.createElement("desc",null,at),_e)}var _excluded$f=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$p.apply(this,arguments)}function _objectWithoutProperties$f($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$f($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$f($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}var Layer=React.forwardRef(function($,_e){var et=$.children,tt=$.className,nt=_objectWithoutProperties$f($,_excluded$f),rt=clsx("recharts-layer",tt);return React.createElement("g",_extends$p({className:rt},filterProps(nt,!0),{ref:_e}),et)}),warn=function(_e,et){for(var tt=arguments.length,nt=new Array(tt>2?tt-2:0),rt=2;rt<tt;rt++)nt[rt-2]=arguments[rt]};function baseSlice$1($,_e,et){var tt=-1,nt=$.length;_e<0&&(_e=-_e>nt?0:nt+_e),et=et>nt?nt:et,et<0&&(et+=nt),nt=_e>et?0:et-_e>>>0,_e>>>=0;for(var rt=Array(nt);++tt<nt;)rt[tt]=$[tt+_e];return rt}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1($,_e,et){var tt=$.length;return et=et===void 0?tt:et,!_e&&et>=tt?$:baseSlice($,_e,et)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2($){return reHasUnicode.test($)}var _hasUnicode=hasUnicode$2;function asciiToArray$1($){return $.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1($){return $.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1($){return hasUnicode$1($)?unicodeToArray($):asciiToArray($)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1($){return function(_e){_e=toString$2(_e);var et=hasUnicode(_e)?stringToArray(_e):void 0,tt=et?et[0]:_e.charAt(0),nt=et?castSlice(et,1).join(""):_e.slice(1);return tt[$]()+nt}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs$1(upperFirst_1);function constant$3($){return function(){return $}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append($){this._+=$[0];for(let _e=1,et=$.length;_e<et;++_e)this._+=arguments[_e]+$[_e]}function appendRound($){let _e=Math.floor($);if(!(_e>=0))throw new Error(`invalid digits: ${$}`);if(_e>15)return append;const et=10**_e;return function(tt){this._+=tt[0];for(let nt=1,rt=tt.length;nt<rt;++nt)this._+=Math.round(arguments[nt]*et)/et+tt[nt]}}class Path{constructor(_e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=_e==null?append:appendRound(_e)}moveTo(_e,et){this._append`M${this._x0=this._x1=+_e},${this._y0=this._y1=+et}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(_e,et){this._append`L${this._x1=+_e},${this._y1=+et}`}quadraticCurveTo(_e,et,tt,nt){this._append`Q${+_e},${+et},${this._x1=+tt},${this._y1=+nt}`}bezierCurveTo(_e,et,tt,nt,rt,it){this._append`C${+_e},${+et},${+tt},${+nt},${this._x1=+rt},${this._y1=+it}`}arcTo(_e,et,tt,nt,rt){if(_e=+_e,et=+et,tt=+tt,nt=+nt,rt=+rt,rt<0)throw new Error(`negative radius: ${rt}`);let it=this._x1,ot=this._y1,at=tt-_e,st=nt-et,lt=it-_e,ct=ot-et,ut=lt*lt+ct*ct;if(this._x1===null)this._append`M${this._x1=_e},${this._y1=et}`;else if(ut>epsilon)if(!(Math.abs(ct*at-st*lt)>epsilon)||!rt)this._append`L${this._x1=_e},${this._y1=et}`;else{let dt=tt-it,ft=nt-ot,pt=at*at+st*st,mt=dt*dt+ft*ft,ht=Math.sqrt(pt),yt=Math.sqrt(ut),xt=rt*Math.tan((pi-Math.acos((pt+ut-mt)/(2*ht*yt)))/2),St=xt/yt,gt=xt/ht;Math.abs(St-1)>epsilon&&this._append`L${_e+St*lt},${et+St*ct}`,this._append`A${rt},${rt},0,0,${+(ct*dt>lt*ft)},${this._x1=_e+gt*at},${this._y1=et+gt*st}`}}arc(_e,et,tt,nt,rt,it){if(_e=+_e,et=+et,tt=+tt,it=!!it,tt<0)throw new Error(`negative radius: ${tt}`);let ot=tt*Math.cos(nt),at=tt*Math.sin(nt),st=_e+ot,lt=et+at,ct=1^it,ut=it?nt-rt:rt-nt;this._x1===null?this._append`M${st},${lt}`:(Math.abs(this._x1-st)>epsilon||Math.abs(this._y1-lt)>epsilon)&&this._append`L${st},${lt}`,tt&&(ut<0&&(ut=ut%tau+tau),ut>tauEpsilon?this._append`A${tt},${tt},0,1,${ct},${_e-ot},${et-at}A${tt},${tt},0,1,${ct},${this._x1=st},${this._y1=lt}`:ut>epsilon&&this._append`A${tt},${tt},0,${+(ut>=pi)},${ct},${this._x1=_e+tt*Math.cos(rt)},${this._y1=et+tt*Math.sin(rt)}`)}rect(_e,et,tt,nt){this._append`M${this._x0=this._x1=+_e},${this._y0=this._y1=+et}h${tt=+tt}v${+nt}h${-tt}Z`}toString(){return this._}}function withPath($){let _e=3;return $.digits=function(et){if(!arguments.length)return _e;if(et==null)_e=null;else{const tt=Math.floor(et);if(!(tt>=0))throw new RangeError(`invalid digits: ${et}`);_e=tt}return $},()=>new Path(_e)}function array($){return typeof $=="object"&&"length"in $?$:Array.from($)}function Linear($){this._context=$}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function($,_e){switch($=+$,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break;case 1:this._point=2;default:this._context.lineTo($,_e);break}}};function curveLinear($){return new Linear($)}function x($){return $[0]}function y($){return $[1]}function shapeLine($,_e){var et=constant$3(!0),tt=null,nt=curveLinear,rt=null,it=withPath(ot);$=typeof $=="function"?$:$===void 0?x:constant$3($),_e=typeof _e=="function"?_e:_e===void 0?y:constant$3(_e);function ot(at){var st,lt=(at=array(at)).length,ct,ut=!1,dt;for(tt==null&&(rt=nt(dt=it())),st=0;st<=lt;++st)!(st<lt&&et(ct=at[st],st,at))===ut&&((ut=!ut)?rt.lineStart():rt.lineEnd()),ut&&rt.point(+$(ct,st,at),+_e(ct,st,at));if(dt)return rt=null,dt+""||null}return ot.x=function(at){return arguments.length?($=typeof at=="function"?at:constant$3(+at),ot):$},ot.y=function(at){return arguments.length?(_e=typeof at=="function"?at:constant$3(+at),ot):_e},ot.defined=function(at){return arguments.length?(et=typeof at=="function"?at:constant$3(!!at),ot):et},ot.curve=function(at){return arguments.length?(nt=at,tt!=null&&(rt=nt(tt)),ot):nt},ot.context=function(at){return arguments.length?(at==null?tt=rt=null:rt=nt(tt=at),ot):tt},ot}function shapeArea($,_e,et){var tt=null,nt=constant$3(!0),rt=null,it=curveLinear,ot=null,at=withPath(st);$=typeof $=="function"?$:$===void 0?x:constant$3(+$),_e=typeof _e=="function"?_e:constant$3(_e===void 0?0:+_e),et=typeof et=="function"?et:et===void 0?y:constant$3(+et);function st(ct){var ut,dt,ft,pt=(ct=array(ct)).length,mt,ht=!1,yt,xt=new Array(pt),St=new Array(pt);for(rt==null&&(ot=it(yt=at())),ut=0;ut<=pt;++ut){if(!(ut<pt&&nt(mt=ct[ut],ut,ct))===ht)if(ht=!ht)dt=ut,ot.areaStart(),ot.lineStart();else{for(ot.lineEnd(),ot.lineStart(),ft=ut-1;ft>=dt;--ft)ot.point(xt[ft],St[ft]);ot.lineEnd(),ot.areaEnd()}ht&&(xt[ut]=+$(mt,ut,ct),St[ut]=+_e(mt,ut,ct),ot.point(tt?+tt(mt,ut,ct):xt[ut],et?+et(mt,ut,ct):St[ut]))}if(yt)return ot=null,yt+""||null}function lt(){return shapeLine().defined(nt).curve(it).context(rt)}return st.x=function(ct){return arguments.length?($=typeof ct=="function"?ct:constant$3(+ct),tt=null,st):$},st.x0=function(ct){return arguments.length?($=typeof ct=="function"?ct:constant$3(+ct),st):$},st.x1=function(ct){return arguments.length?(tt=ct==null?null:typeof ct=="function"?ct:constant$3(+ct),st):tt},st.y=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant$3(+ct),et=null,st):_e},st.y0=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant$3(+ct),st):_e},st.y1=function(ct){return arguments.length?(et=ct==null?null:typeof ct=="function"?ct:constant$3(+ct),st):et},st.lineX0=st.lineY0=function(){return lt().x($).y(_e)},st.lineY1=function(){return lt().x($).y(et)},st.lineX1=function(){return lt().x(tt).y(_e)},st.defined=function(ct){return arguments.length?(nt=typeof ct=="function"?ct:constant$3(!!ct),st):nt},st.curve=function(ct){return arguments.length?(it=ct,rt!=null&&(ot=it(rt)),st):it},st.context=function(ct){return arguments.length?(ct==null?rt=ot=null:ot=it(rt=ct),st):rt},st}class Bump{constructor(_e,et){this._context=_e,this._x=et}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(_e,et){switch(_e=+_e,et=+et,this._point){case 0:{this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+_e)/2,this._y0,this._x0,et,_e,et):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+et)/2,_e,this._y0,_e,et);break}}this._x0=_e,this._y0=et}}function bumpX($){return new Bump($,!0)}function bumpY($){return new Bump($,!1)}const symbolCircle={draw($,_e){const et=sqrt$1(_e/pi$1);$.moveTo(et,0),$.arc(0,0,et,0,tau$1)}},symbolCross={draw($,_e){const et=sqrt$1(_e/5)/2;$.moveTo(-3*et,-et),$.lineTo(-et,-et),$.lineTo(-et,-3*et),$.lineTo(et,-3*et),$.lineTo(et,-et),$.lineTo(3*et,-et),$.lineTo(3*et,et),$.lineTo(et,et),$.lineTo(et,3*et),$.lineTo(-et,3*et),$.lineTo(-et,et),$.lineTo(-3*et,et),$.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw($,_e){const et=sqrt$1(_e/tan30_2),tt=et*tan30;$.moveTo(0,-et),$.lineTo(tt,0),$.lineTo(0,et),$.lineTo(-tt,0),$.closePath()}},symbolSquare={draw($,_e){const et=sqrt$1(_e),tt=-et/2;$.rect(tt,tt,et,et)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw($,_e){const et=sqrt$1(_e*ka),tt=kx*et,nt=ky*et;$.moveTo(0,-et),$.lineTo(tt,nt);for(let rt=1;rt<5;++rt){const it=tau$1*rt/5,ot=cos(it),at=sin(it);$.lineTo(at*et,-ot*et),$.lineTo(ot*tt-at*nt,at*tt+ot*nt)}$.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw($,_e){const et=-sqrt$1(_e/(sqrt3*3));$.moveTo(0,et*2),$.lineTo(-sqrt3*et,-et),$.lineTo(sqrt3*et,-et),$.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw($,_e){const et=sqrt$1(_e/a),tt=et/2,nt=et*k,rt=tt,it=et*k+et,ot=-rt,at=it;$.moveTo(tt,nt),$.lineTo(rt,it),$.lineTo(ot,at),$.lineTo(c*tt-s*nt,s*tt+c*nt),$.lineTo(c*rt-s*it,s*rt+c*it),$.lineTo(c*ot-s*at,s*ot+c*at),$.lineTo(c*tt+s*nt,c*nt-s*tt),$.lineTo(c*rt+s*it,c*it-s*rt),$.lineTo(c*ot+s*at,c*at-s*ot),$.closePath()}};function Symbol$3($,_e){let et=null,tt=withPath(nt);$=typeof $=="function"?$:constant$3($||symbolCircle),_e=typeof _e=="function"?_e:constant$3(_e===void 0?64:+_e);function nt(){let rt;if(et||(et=rt=tt()),$.apply(this,arguments).draw(et,+_e.apply(this,arguments)),rt)return et=null,rt+""||null}return nt.type=function(rt){return arguments.length?($=typeof rt=="function"?rt:constant$3(rt),nt):$},nt.size=function(rt){return arguments.length?(_e=typeof rt=="function"?rt:constant$3(+rt),nt):_e},nt.context=function(rt){return arguments.length?(et=rt??null,nt):et},nt}function noop$2(){}function point$2($,_e,et){$._context.bezierCurveTo((2*$._x0+$._x1)/3,(2*$._y0+$._y1)/3,($._x0+2*$._x1)/3,($._y0+2*$._y1)/3,($._x0+4*$._x1+_e)/6,($._y0+4*$._y1+et)/6)}function Basis($){this._context=$}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function($,_e){switch($=+$,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,$,_e);break}this._x0=this._x1,this._x1=$,this._y0=this._y1,this._y1=_e}};function curveBasis($){return new Basis($)}function BasisClosed($){this._context=$}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function($,_e){switch($=+$,_e=+_e,this._point){case 0:this._point=1,this._x2=$,this._y2=_e;break;case 1:this._point=2,this._x3=$,this._y3=_e;break;case 2:this._point=3,this._x4=$,this._y4=_e,this._context.moveTo((this._x0+4*this._x1+$)/6,(this._y0+4*this._y1+_e)/6);break;default:point$2(this,$,_e);break}this._x0=this._x1,this._x1=$,this._y0=this._y1,this._y1=_e}};function curveBasisClosed($){return new BasisClosed($)}function BasisOpen($){this._context=$}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function($,_e){switch($=+$,_e=+_e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var et=(this._x0+4*this._x1+$)/6,tt=(this._y0+4*this._y1+_e)/6;this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 3:this._point=4;default:point$2(this,$,_e);break}this._x0=this._x1,this._x1=$,this._y0=this._y1,this._y1=_e}};function curveBasisOpen($){return new BasisOpen($)}function LinearClosed($){this._context=$}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function($,_e){$=+$,_e=+_e,this._point?this._context.lineTo($,_e):(this._point=1,this._context.moveTo($,_e))}};function curveLinearClosed($){return new LinearClosed($)}function sign($){return $<0?-1:1}function slope3($,_e,et){var tt=$._x1-$._x0,nt=_e-$._x1,rt=($._y1-$._y0)/(tt||nt<0&&-0),it=(et-$._y1)/(nt||tt<0&&-0),ot=(rt*nt+it*tt)/(tt+nt);return(sign(rt)+sign(it))*Math.min(Math.abs(rt),Math.abs(it),.5*Math.abs(ot))||0}function slope2($,_e){var et=$._x1-$._x0;return et?(3*($._y1-$._y0)/et-_e)/2:_e}function point$1($,_e,et){var tt=$._x0,nt=$._y0,rt=$._x1,it=$._y1,ot=(rt-tt)/3;$._context.bezierCurveTo(tt+ot,nt+ot*_e,rt-ot,it-ot*et,rt,it)}function MonotoneX($){this._context=$}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function($,_e){var et=NaN;if($=+$,_e=+_e,!($===this._x1&&_e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,et=slope3(this,$,_e)),et);break;default:point$1(this,this._t0,et=slope3(this,$,_e));break}this._x0=this._x1,this._x1=$,this._y0=this._y1,this._y1=_e,this._t0=et}}};function MonotoneY($){this._context=new ReflectContext($)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function($,_e){MonotoneX.prototype.point.call(this,_e,$)};function ReflectContext($){this._context=$}ReflectContext.prototype={moveTo:function($,_e){this._context.moveTo(_e,$)},closePath:function(){this._context.closePath()},lineTo:function($,_e){this._context.lineTo(_e,$)},bezierCurveTo:function($,_e,et,tt,nt,rt){this._context.bezierCurveTo(_e,$,tt,et,rt,nt)}};function monotoneX($){return new MonotoneX($)}function monotoneY($){return new MonotoneY($)}function Natural($){this._context=$}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var $=this._x,_e=this._y,et=$.length;if(et)if(this._line?this._context.lineTo($[0],_e[0]):this._context.moveTo($[0],_e[0]),et===2)this._context.lineTo($[1],_e[1]);else for(var tt=controlPoints($),nt=controlPoints(_e),rt=0,it=1;it<et;++rt,++it)this._context.bezierCurveTo(tt[0][rt],nt[0][rt],tt[1][rt],nt[1][rt],$[it],_e[it]);(this._line||this._line!==0&&et===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function($,_e){this._x.push(+$),this._y.push(+_e)}};function controlPoints($){var _e,et=$.length-1,tt,nt=new Array(et),rt=new Array(et),it=new Array(et);for(nt[0]=0,rt[0]=2,it[0]=$[0]+2*$[1],_e=1;_e<et-1;++_e)nt[_e]=1,rt[_e]=4,it[_e]=4*$[_e]+2*$[_e+1];for(nt[et-1]=2,rt[et-1]=7,it[et-1]=8*$[et-1]+$[et],_e=1;_e<et;++_e)tt=nt[_e]/rt[_e-1],rt[_e]-=tt,it[_e]-=tt*it[_e-1];for(nt[et-1]=it[et-1]/rt[et-1],_e=et-2;_e>=0;--_e)nt[_e]=(it[_e]-nt[_e+1])/rt[_e];for(rt[et-1]=($[et]+nt[et-1])/2,_e=0;_e<et-1;++_e)rt[_e]=2*$[_e+1]-nt[_e+1];return[nt,rt]}function curveNatural($){return new Natural($)}function Step($,_e){this._context=$,this._t=_e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function($,_e){switch($=+$,_e=+_e,this._point){case 0:this._point=1,this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,_e),this._context.lineTo($,_e);else{var et=this._x*(1-this._t)+$*this._t;this._context.lineTo(et,this._y),this._context.lineTo(et,_e)}break}}this._x=$,this._y=_e}};function curveStep($){return new Step($,.5)}function stepBefore($){return new Step($,0)}function stepAfter($){return new Step($,1)}function stackOffsetNone($,_e){if((it=$.length)>1)for(var et=1,tt,nt,rt=$[_e[0]],it,ot=rt.length;et<it;++et)for(nt=rt,rt=$[_e[et]],tt=0;tt<ot;++tt)rt[tt][1]+=rt[tt][0]=isNaN(nt[tt][1])?nt[tt][0]:nt[tt][1]}function stackOrderNone($){for(var _e=$.length,et=new Array(_e);--_e>=0;)et[_e]=_e;return et}function stackValue($,_e){return $[_e]}function stackSeries($){const _e=[];return _e.key=$,_e}function shapeStack(){var $=constant$3([]),_e=stackOrderNone,et=stackOffsetNone,tt=stackValue;function nt(rt){var it=Array.from($.apply(this,arguments),stackSeries),ot,at=it.length,st=-1,lt;for(const ct of rt)for(ot=0,++st;ot<at;++ot)(it[ot][st]=[0,+tt(ct,it[ot].key,st,rt)]).data=ct;for(ot=0,lt=array(_e(it));ot<at;++ot)it[lt[ot]].index=ot;return et(it,lt),it}return nt.keys=function(rt){return arguments.length?($=typeof rt=="function"?rt:constant$3(Array.from(rt)),nt):$},nt.value=function(rt){return arguments.length?(tt=typeof rt=="function"?rt:constant$3(+rt),nt):tt},nt.order=function(rt){return arguments.length?(_e=rt==null?stackOrderNone:typeof rt=="function"?rt:constant$3(Array.from(rt)),nt):_e},nt.offset=function(rt){return arguments.length?(et=rt??stackOffsetNone,nt):et},nt}function stackOffsetExpand($,_e){if((tt=$.length)>0){for(var et,tt,nt=0,rt=$[0].length,it;nt<rt;++nt){for(it=et=0;et<tt;++et)it+=$[et][nt][1]||0;if(it)for(et=0;et<tt;++et)$[et][nt][1]/=it}stackOffsetNone($,_e)}}function stackOffsetSilhouette($,_e){if((nt=$.length)>0){for(var et=0,tt=$[_e[0]],nt,rt=tt.length;et<rt;++et){for(var it=0,ot=0;it<nt;++it)ot+=$[it][et][1]||0;tt[et][1]+=tt[et][0]=-ot/2}stackOffsetNone($,_e)}}function stackOffsetWiggle($,_e){if(!(!((it=$.length)>0)||!((rt=(nt=$[_e[0]]).length)>0))){for(var et=0,tt=1,nt,rt,it;tt<rt;++tt){for(var ot=0,at=0,st=0;ot<it;++ot){for(var lt=$[_e[ot]],ct=lt[tt][1]||0,ut=lt[tt-1][1]||0,dt=(ct-ut)/2,ft=0;ft<ot;++ft){var pt=$[_e[ft]],mt=pt[tt][1]||0,ht=pt[tt-1][1]||0;dt+=mt-ht}at+=ct,st+=dt*ct}nt[tt-1][1]+=nt[tt-1][0]=et,at&&(et-=st/at)}nt[tt-1][1]+=nt[tt-1][0]=et,stackOffsetNone($,_e)}}function _typeof$G($){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$G($)}var _excluded$e=["type","size","sizeType"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$o.apply(this,arguments)}function ownKeys$z($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$z($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$z(Object(et),!0).forEach(function(tt){_defineProperty$F($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$z(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$F($,_e,et){return _e=_toPropertyKey$F(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$F($){var _e=_toPrimitive$F($,"string");return _typeof$G(_e)=="symbol"?_e:_e+""}function _toPrimitive$F($,_e){if(_typeof$G($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$G(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _objectWithoutProperties$e($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$e($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$e($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function(_e){var et="symbol".concat(upperFirst$1(_e));return symbolFactories[et]||symbolCircle},calculateAreaSize=function(_e,et,tt){if(et==="area")return _e;switch(tt){case"cross":return 5*_e*_e/9;case"diamond":return .5*_e*_e/Math.sqrt(3);case"square":return _e*_e;case"star":{var nt=18*RADIAN$1;return 1.25*_e*_e*(Math.tan(nt)-Math.tan(nt*2)*Math.pow(Math.tan(nt),2))}case"triangle":return Math.sqrt(3)*_e*_e/4;case"wye":return(21-10*Math.sqrt(3))*_e*_e/8;default:return Math.PI*_e*_e/4}},registerSymbol=function(_e,et){symbolFactories["symbol".concat(upperFirst$1(_e))]=et},Symbols=function(_e){var et=_e.type,tt=et===void 0?"circle":et,nt=_e.size,rt=nt===void 0?64:nt,it=_e.sizeType,ot=it===void 0?"area":it,at=_objectWithoutProperties$e(_e,_excluded$e),st=_objectSpread$z(_objectSpread$z({},at),{},{type:tt,size:rt,sizeType:ot}),lt=function(){var mt=getSymbolFactory(tt),ht=Symbol$3().type(mt).size(calculateAreaSize(rt,ot,tt));return ht()},ct=st.className,ut=st.cx,dt=st.cy,ft=filterProps(st,!0);return ut===+ut&&dt===+dt&&rt===+rt?React.createElement("path",_extends$o({},ft,{className:clsx("recharts-symbols",ct),transform:"translate(".concat(ut,", ").concat(dt,")"),d:lt()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$F($){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$F($)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$n.apply(this,arguments)}function ownKeys$y($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$y($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$y(Object(et),!0).forEach(function(tt){_defineProperty$E($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$y(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$i($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$E(tt.key),tt)}}function _createClass$i($,_e,et){return _e&&_defineProperties$i($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$e($,_e,et){return _e=_getPrototypeOf$f(_e),_possibleConstructorReturn$f($,_isNativeReflectConstruct$f()?Reflect.construct(_e,et||[],_getPrototypeOf$f($).constructor):_e.apply($,et))}function _possibleConstructorReturn$f($,_e){if(_e&&(_typeof$F(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f($)}function _assertThisInitialized$f($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$f(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!$})()}function _getPrototypeOf$f($){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$f($)}function _inherits$f($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$f($,_e)}function _setPrototypeOf$f($,_e){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$f($,_e)}function _defineProperty$E($,_e,et){return _e=_toPropertyKey$E(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$E($){var _e=_toPrimitive$E($,"string");return _typeof$F(_e)=="symbol"?_e:_e+""}function _toPrimitive$E($,_e){if(_typeof$F($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$F(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var SIZE=32,DefaultLegendContent=function($){function _e(){return _classCallCheck$i(this,_e),_callSuper$e(this,_e,arguments)}return _inherits$f(_e,$),_createClass$i(_e,[{key:"renderIcon",value:function(tt){var nt=this.props.inactiveColor,rt=SIZE/2,it=SIZE/6,ot=SIZE/3,at=tt.inactive?nt:tt.color;if(tt.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:at,strokeDasharray:tt.payload.strokeDasharray,x1:0,y1:rt,x2:SIZE,y2:rt,className:"recharts-legend-icon"});if(tt.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:at,d:"M0,".concat(rt,"h").concat(ot,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(2*ot,",").concat(rt,`
            H`).concat(SIZE,"M").concat(2*ot,",").concat(rt,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(ot,",").concat(rt),className:"recharts-legend-icon"});if(tt.type==="rect")return React.createElement("path",{stroke:"none",fill:at,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(tt.legendIcon)){var st=_objectSpread$y({},tt);return delete st.legendIcon,React.cloneElement(tt.legendIcon,st)}return React.createElement(Symbols,{fill:at,cx:rt,cy:rt,size:SIZE,sizeType:"diameter",type:tt.type})}},{key:"renderItems",value:function(){var tt=this,nt=this.props,rt=nt.payload,it=nt.iconSize,ot=nt.layout,at=nt.formatter,st=nt.inactiveColor,lt={x:0,y:0,width:SIZE,height:SIZE},ct={display:ot==="horizontal"?"inline-block":"block",marginRight:10},ut={display:"inline-block",verticalAlign:"middle",marginRight:4};return rt.map(function(dt,ft){var pt=dt.formatter||at,mt=clsx(_defineProperty$E(_defineProperty$E({"recharts-legend-item":!0},"legend-item-".concat(ft),!0),"inactive",dt.inactive));if(dt.type==="none")return null;var ht=isFunction$3(dt.value)?null:dt.value;warn(!isFunction$3(dt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var yt=dt.inactive?st:dt.color;return React.createElement("li",_extends$n({className:mt,style:ct,key:"legend-item-".concat(ft)},adaptEventsOfChild(tt.props,dt,ft)),React.createElement(Surface,{width:it,height:it,viewBox:lt,style:ut},tt.renderIcon(dt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:yt}},pt?pt(ht,dt,ft):ht))})}},{key:"render",value:function(){var tt=this.props,nt=tt.payload,rt=tt.layout,it=tt.align;if(!nt||!nt.length)return null;var ot={padding:0,margin:0,textAlign:rt==="horizontal"?it:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:ot},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$E(DefaultLegendContent,"displayName","Legend");_defineProperty$E(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1($){var _e=this.__data__,et=_e.delete($);return this.size=_e.size,et}var _stackDelete=stackDelete$1;function stackGet$1($){return this.__data__.get($)}var _stackGet=stackGet$1;function stackHas$1($){return this.__data__.has($)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1($,_e){var et=this.__data__;if(et instanceof ListCache$1){var tt=et.__data__;if(!Map$2||tt.length<LARGE_ARRAY_SIZE$1-1)return tt.push([$,_e]),this.size=++et.size,this;et=this.__data__=new MapCache$1(tt)}return et.set($,_e),this.size=et.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2($){var _e=this.__data__=new ListCache($);this.size=_e.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1($){return this.__data__.set($,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1($){return this.__data__.has($)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2($){var _e=-1,et=$==null?0:$.length;for(this.__data__=new MapCache;++_e<et;)this.add($[_e])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2($,_e){for(var et=-1,tt=$==null?0:$.length;++et<tt;)if(_e($[et],et,$))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2($,_e){return $.has(_e)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2($,_e,et,tt,nt,rt){var it=et&COMPARE_PARTIAL_FLAG$5,ot=$.length,at=_e.length;if(ot!=at&&!(it&&at>ot))return!1;var st=rt.get($),lt=rt.get(_e);if(st&&lt)return st==_e&&lt==$;var ct=-1,ut=!0,dt=et&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(rt.set($,_e),rt.set(_e,$);++ct<ot;){var ft=$[ct],pt=_e[ct];if(tt)var mt=it?tt(pt,ft,ct,_e,$,rt):tt(ft,pt,ct,$,_e,rt);if(mt!==void 0){if(mt)continue;ut=!1;break}if(dt){if(!arraySome$1(_e,function(ht,yt){if(!cacheHas$1(dt,yt)&&(ft===ht||nt(ft,ht,et,tt,rt)))return dt.push(yt)})){ut=!1;break}}else if(!(ft===pt||nt(ft,pt,et,tt,rt))){ut=!1;break}}return rt.delete($),rt.delete(_e),ut}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1($){var _e=-1,et=Array($.size);return $.forEach(function(tt,nt){et[++_e]=[nt,tt]}),et}var _mapToArray=mapToArray$1;function setToArray$3($){var _e=-1,et=Array($.size);return $.forEach(function(tt){et[++_e]=tt}),et}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1($,_e,et,tt,nt,rt,it){switch(et){case dataViewTag$2:if($.byteLength!=_e.byteLength||$.byteOffset!=_e.byteOffset)return!1;$=$.buffer,_e=_e.buffer;case arrayBufferTag$1:return!($.byteLength!=_e.byteLength||!rt(new Uint8Array$1($),new Uint8Array$1(_e)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+$,+_e);case errorTag$1:return $.name==_e.name&&$.message==_e.message;case regexpTag$1:case stringTag$1:return $==_e+"";case mapTag$2:var ot=mapToArray;case setTag$2:var at=tt&COMPARE_PARTIAL_FLAG$4;if(ot||(ot=setToArray$2),$.size!=_e.size&&!at)return!1;var st=it.get($);if(st)return st==_e;tt|=COMPARE_UNORDERED_FLAG$2,it.set($,_e);var lt=equalArrays$1(ot($),ot(_e),tt,nt,rt,it);return it.delete($),lt;case symbolTag:if(symbolValueOf)return symbolValueOf.call($)==symbolValueOf.call(_e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2($,_e){for(var et=-1,tt=_e.length,nt=$.length;++et<tt;)$[nt+et]=_e[et];return $}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$9=isArray_1;function baseGetAllKeys$1($,_e,et){var tt=_e($);return isArray$9($)?tt:arrayPush$1(tt,et($))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1($,_e){for(var et=-1,tt=$==null?0:$.length,nt=0,rt=[];++et<tt;){var it=$[et];_e(it,et,$)&&(rt[nt++]=it)}return rt}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function($){return $==null?[]:($=Object($),arrayFilter(nativeGetSymbols($),function(_e){return propertyIsEnumerable$1.call($,_e)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1($,_e){for(var et=-1,tt=Array($);++et<$;)tt[et]=_e(et);return tt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1($){return isObjectLike$5($)&&baseGetTag$4($)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function($){return isObjectLike$4($)&&hasOwnProperty$6.call($,"callee")&&!propertyIsEnumerable.call($,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function($,_e){var et=_root,tt=stubFalse_1,nt=_e&&!_e.nodeType&&_e,rt=nt&&!0&&$&&!$.nodeType&&$,it=rt&&rt.exports===nt,ot=it?et.Buffer:void 0,at=ot?ot.isBuffer:void 0,st=at||tt;$.exports=st})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3($,_e){var et=typeof $;return _e=_e??MAX_SAFE_INTEGER$2,!!_e&&(et=="number"||et!="symbol"&&reIsUint.test($))&&$>-1&&$%1==0&&$<_e}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3($){return typeof $=="number"&&$>-1&&$%1==0&&$<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1($){return isObjectLike$3($)&&isLength$2($.length)&&!!typedArrayTags[baseGetTag$3($)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2($){return function(_e){return $(_e)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function($,_e){var et=_freeGlobal,tt=_e&&!_e.nodeType&&_e,nt=tt&&!0&&$&&!$.nodeType&&$,rt=nt&&nt.exports===tt,it=rt&&et.process,ot=function(){try{var at=nt&&nt.require&&nt.require("util").types;return at||it&&it.binding&&it.binding("util")}catch{}}();$.exports=ot})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$8=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1($,_e){var et=isArray$8($),tt=!et&&isArguments$2($),nt=!et&&!tt&&isBuffer$1($),rt=!et&&!tt&&!nt&&isTypedArray$1($),it=et||tt||nt||rt,ot=it?baseTimes($.length,String):[],at=ot.length;for(var st in $)(_e||hasOwnProperty$5.call($,st))&&!(it&&(st=="length"||nt&&(st=="offset"||st=="parent")||rt&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||isIndex$2(st,at)))&&ot.push(st);return ot}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1($){var _e=$&&$.constructor,et=typeof _e=="function"&&_e.prototype||objectProto$4;return $===et}var _isPrototype=isPrototype$1;function overArg$2($,_e){return function(et){return $(_e(et))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1($){if(!isPrototype($))return nativeKeys($);var _e=[];for(var et in Object($))hasOwnProperty$4.call($,et)&&et!="constructor"&&_e.push(et);return _e}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5($){return $!=null&&isLength$1($.length)&&!isFunction($)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5($){return isArrayLike$4($)?arrayLikeKeys($):baseKeys($)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1($){return baseGetAllKeys($,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1($,_e,et,tt,nt,rt){var it=et&COMPARE_PARTIAL_FLAG$3,ot=getAllKeys($),at=ot.length,st=getAllKeys(_e),lt=st.length;if(at!=lt&&!it)return!1;for(var ct=at;ct--;){var ut=ot[ct];if(!(it?ut in _e:hasOwnProperty$3.call(_e,ut)))return!1}var dt=rt.get($),ft=rt.get(_e);if(dt&&ft)return dt==_e&&ft==$;var pt=!0;rt.set($,_e),rt.set(_e,$);for(var mt=it;++ct<at;){ut=ot[ct];var ht=$[ut],yt=_e[ut];if(tt)var xt=it?tt(yt,ht,ut,_e,$,rt):tt(ht,yt,ut,$,_e,rt);if(!(xt===void 0?ht===yt||nt(ht,yt,et,tt,rt):xt)){pt=!1;break}mt||(mt=ut=="constructor")}if(pt&&!mt){var St=$.constructor,gt=_e.constructor;St!=gt&&"constructor"in $&&"constructor"in _e&&!(typeof St=="function"&&St instanceof St&&typeof gt=="function"&&gt instanceof gt)&&(pt=!1)}return rt.delete($),rt.delete(_e),pt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag$2;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$2&&getTag$1(new Set$2)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function($){var _e=baseGetTag$2($),et=_e==objectTag$2?$.constructor:void 0,tt=et?toSource(et):"";if(tt)switch(tt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return _e});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$7=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1($,_e,et,tt,nt,rt){var it=isArray$7($),ot=isArray$7(_e),at=it?arrayTag:getTag($),st=ot?arrayTag:getTag(_e);at=at==argsTag?objectTag$1:at,st=st==argsTag?objectTag$1:st;var lt=at==objectTag$1,ct=st==objectTag$1,ut=at==st;if(ut&&isBuffer($)){if(!isBuffer(_e))return!1;it=!0,lt=!1}if(ut&&!lt)return rt||(rt=new Stack$1),it||isTypedArray($)?equalArrays($,_e,et,tt,nt,rt):equalByTag($,_e,at,et,tt,nt,rt);if(!(et&COMPARE_PARTIAL_FLAG$2)){var dt=lt&&hasOwnProperty$2.call($,"__wrapped__"),ft=ct&&hasOwnProperty$2.call(_e,"__wrapped__");if(dt||ft){var pt=dt?$.value():$,mt=ft?_e.value():_e;return rt||(rt=new Stack$1),nt(pt,mt,et,tt,rt)}}return ut?(rt||(rt=new Stack$1),equalObjects($,_e,et,tt,nt,rt)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3($,_e,et,tt,nt){return $===_e?!0:$==null||_e==null||!isObjectLike$2($)&&!isObjectLike$2(_e)?$!==$&&_e!==_e:baseIsEqualDeep($,_e,et,tt,baseIsEqual$3,nt)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1($,_e,et,tt){var nt=et.length,rt=nt,it=!tt;if($==null)return!rt;for($=Object($);nt--;){var ot=et[nt];if(it&&ot[2]?ot[1]!==$[ot[0]]:!(ot[0]in $))return!1}for(;++nt<rt;){ot=et[nt];var at=ot[0],st=$[at],lt=ot[1];if(it&&ot[2]){if(st===void 0&&!(at in $))return!1}else{var ct=new Stack;if(tt)var ut=tt(st,lt,at,$,_e,ct);if(!(ut===void 0?baseIsEqual$2(lt,st,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,tt,ct):ut))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2($){return $===$&&!isObject$4($)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1($){for(var _e=keys$3($),et=_e.length;et--;){var tt=_e[et],nt=$[tt];_e[et]=[tt,nt,isStrictComparable$1(nt)]}return _e}var _getMatchData=getMatchData$1;function matchesStrictComparable$2($,_e){return function(et){return et==null?!1:et[$]===_e&&(_e!==void 0||$ in Object(et))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1($){var _e=getMatchData($);return _e.length==1&&_e[0][2]?matchesStrictComparable$1(_e[0][0],_e[0][1]):function(et){return et===$||baseIsMatch(et,$,_e)}}var _baseMatches=baseMatches$1;function baseHasIn$1($,_e){return $!=null&&_e in Object($)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$6=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1($,_e,et){_e=castPath(_e,$);for(var tt=-1,nt=_e.length,rt=!1;++tt<nt;){var it=toKey$2(_e[tt]);if(!(rt=$!=null&&et($,it)))break;$=$[it]}return rt||++tt!=nt?rt:(nt=$==null?0:$.length,!!nt&&isLength(nt)&&isIndex$1(it,nt)&&(isArray$6($)||isArguments$1($)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1($,_e){return $!=null&&hasPath($,_e,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1($,_e){return isKey$1($)&&isStrictComparable(_e)?matchesStrictComparable(toKey$1($),_e):function(et){var tt=get(et,$);return tt===void 0&&tt===_e?hasIn(et,$):baseIsEqual$1(_e,tt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b($){return $}var identity_1=identity$b;function baseProperty$1($){return function(_e){return _e==null?void 0:_e[$]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1($){return function(_e){return baseGet$1(_e,$)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1($){return isKey($)?baseProperty(toKey($)):basePropertyDeep($)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$5=isArray_1,property=property_1;function baseIteratee$8($){return typeof $=="function"?$:$==null?identity$a:typeof $=="object"?isArray$5($)?baseMatchesProperty($[0],$[1]):baseMatches($):property($)}var _baseIteratee=baseIteratee$8;function baseFindIndex$2($,_e,et,tt){for(var nt=$.length,rt=et+(tt?1:-1);tt?rt--:++rt<nt;)if(_e($[rt],rt,$))return rt;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1($){return $!==$}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1($,_e,et){for(var tt=et-1,nt=$.length;++tt<nt;)if($[tt]===_e)return tt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1($,_e,et){return _e===_e?strictIndexOf($,_e,et):baseFindIndex$1($,baseIsNaN,et)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1($,_e){var et=$==null?0:$.length;return!!et&&baseIndexOf($,_e,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1($,_e,et){for(var tt=-1,nt=$==null?0:$.length;++tt<nt;)if(et(_e,$[tt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function($){return new Set$1($)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1($,_e,et){var tt=-1,nt=arrayIncludes,rt=$.length,it=!0,ot=[],at=ot;if(et)it=!1,nt=arrayIncludesWith;else if(rt>=LARGE_ARRAY_SIZE){var st=_e?null:createSet($);if(st)return setToArray(st);it=!1,nt=cacheHas,at=new SetCache}else at=_e?[]:ot;e:for(;++tt<rt;){var lt=$[tt],ct=_e?_e(lt):lt;if(lt=et||lt!==0?lt:0,it&&ct===ct){for(var ut=at.length;ut--;)if(at[ut]===ct)continue e;_e&&at.push(ct),ot.push(lt)}else nt(at,ct,et)||(at!==ot&&at.push(ct),ot.push(lt))}return ot}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy($,_e){return $&&$.length?baseUniq($,baseIteratee$7(_e)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs$1(uniqBy_1);function getUniqPayload($,_e,et){return _e===!0?uniqBy$1($,et):isFunction$3(_e)?uniqBy$1($,_e):$}function _typeof$E($){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$E($)}var _excluded$d=["ref"];function ownKeys$x($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$x($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$x(Object(et),!0).forEach(function(tt){_defineProperty$D($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$x(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$h($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$D(tt.key),tt)}}function _createClass$h($,_e,et){return _e&&_defineProperties$h($.prototype,_e),et&&_defineProperties$h($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$d($,_e,et){return _e=_getPrototypeOf$e(_e),_possibleConstructorReturn$e($,_isNativeReflectConstruct$e()?Reflect.construct(_e,et||[],_getPrototypeOf$e($).constructor):_e.apply($,et))}function _possibleConstructorReturn$e($,_e){if(_e&&(_typeof$E(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e($)}function _assertThisInitialized$e($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$e(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!$})()}function _getPrototypeOf$e($){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$e($)}function _inherits$e($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$e($,_e)}function _setPrototypeOf$e($,_e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$e($,_e)}function _defineProperty$D($,_e,et){return _e=_toPropertyKey$D(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$D($){var _e=_toPrimitive$D($,"string");return _typeof$E(_e)=="symbol"?_e:_e+""}function _toPrimitive$D($,_e){if(_typeof$E($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$E(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function _objectWithoutProperties$d($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$d($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$d($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function defaultUniqBy$1($){return $.value}function renderContent$1($,_e){if(React.isValidElement($))return React.cloneElement($,_e);if(typeof $=="function")return React.createElement($,_e);_e.ref;var et=_objectWithoutProperties$d(_e,_excluded$d);return React.createElement(DefaultLegendContent,et)}var EPS$1=1,Legend=function($){function _e(){var et;_classCallCheck$h(this,_e);for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return et=_callSuper$d(this,_e,[].concat(nt)),_defineProperty$D(et,"lastBoundingBox",{width:-1,height:-1}),et}return _inherits$e(_e,$),_createClass$h(_e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var tt=this.wrapperNode.getBoundingClientRect();return tt.height=this.wrapperNode.offsetHeight,tt.width=this.wrapperNode.offsetWidth,tt}return null}},{key:"updateBBox",value:function(){var tt=this.props.onBBoxUpdate,nt=this.getBBox();nt?(Math.abs(nt.width-this.lastBoundingBox.width)>EPS$1||Math.abs(nt.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=nt.width,this.lastBoundingBox.height=nt.height,tt&&tt(nt)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,tt&&tt(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$x({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(tt){var nt=this.props,rt=nt.layout,it=nt.align,ot=nt.verticalAlign,at=nt.margin,st=nt.chartWidth,lt=nt.chartHeight,ct,ut;if(!tt||(tt.left===void 0||tt.left===null)&&(tt.right===void 0||tt.right===null))if(it==="center"&&rt==="vertical"){var dt=this.getBBoxSnapshot();ct={left:((st||0)-dt.width)/2}}else ct=it==="right"?{right:at&&at.right||0}:{left:at&&at.left||0};if(!tt||(tt.top===void 0||tt.top===null)&&(tt.bottom===void 0||tt.bottom===null))if(ot==="middle"){var ft=this.getBBoxSnapshot();ut={top:((lt||0)-ft.height)/2}}else ut=ot==="bottom"?{bottom:at&&at.bottom||0}:{top:at&&at.top||0};return _objectSpread$x(_objectSpread$x({},ct),ut)}},{key:"render",value:function(){var tt=this,nt=this.props,rt=nt.content,it=nt.width,ot=nt.height,at=nt.wrapperStyle,st=nt.payloadUniqBy,lt=nt.payload,ct=_objectSpread$x(_objectSpread$x({position:"absolute",width:it||"auto",height:ot||"auto"},this.getDefaultPosition(at)),at);return React.createElement("div",{className:"recharts-legend-wrapper",style:ct,ref:function(dt){tt.wrapperNode=dt}},renderContent$1(rt,_objectSpread$x(_objectSpread$x({},this.props),{},{payload:getUniqPayload(lt,st,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(tt,nt){var rt=_objectSpread$x(_objectSpread$x({},this.defaultProps),tt.props),it=rt.layout;return it==="vertical"&&isNumber(tt.props.height)?{height:tt.props.height}:it==="horizontal"?{width:tt.props.width||nt}:null}}])}(reactExports.PureComponent);_defineProperty$D(Legend,"displayName","Legend");_defineProperty$D(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$4=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1($){return isArray$4($)||isArguments($)||!!(spreadableSymbol&&$&&$[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2($,_e,et,tt,nt){var rt=-1,it=$.length;for(et||(et=isFlattenable),nt||(nt=[]);++rt<it;){var ot=$[rt];_e>0&&et(ot)?_e>1?baseFlatten$2(ot,_e-1,et,tt,nt):arrayPush(nt,ot):tt||(nt[nt.length]=ot)}return nt}var _baseFlatten=baseFlatten$2;function createBaseFor$1($){return function(_e,et,tt){for(var nt=-1,rt=Object(_e),it=tt(_e),ot=it.length;ot--;){var at=it[$?ot:++nt];if(et(rt[at],at,rt)===!1)break}return _e}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2($,_e){return $&&baseFor($,_e,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1($,_e){return function(et,tt){if(et==null)return et;if(!isArrayLike$3(et))return $(et,tt);for(var nt=et.length,rt=_e?nt:-1,it=Object(et);(_e?rt--:++rt<nt)&&tt(it[rt],rt,it)!==!1;);return et}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2($,_e){var et=-1,tt=isArrayLike$2($)?Array($.length):[];return baseEach$2($,function(nt,rt,it){tt[++et]=_e(nt,rt,it)}),tt}var _baseMap=baseMap$2;function baseSortBy$1($,_e){var et=$.length;for($.sort(_e);et--;)$[et]=$[et].value;return $}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1($,_e){if($!==_e){var et=$!==void 0,tt=$===null,nt=$===$,rt=isSymbol$2($),it=_e!==void 0,ot=_e===null,at=_e===_e,st=isSymbol$2(_e);if(!ot&&!st&&!rt&&$>_e||rt&&it&&at&&!ot&&!st||tt&&it&&at||!et&&at||!nt)return 1;if(!tt&&!rt&&!st&&$<_e||st&&et&&nt&&!tt&&!rt||ot&&et&&nt||!it&&nt||!at)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1($,_e,et){for(var tt=-1,nt=$.criteria,rt=_e.criteria,it=nt.length,ot=et.length;++tt<it;){var at=compareAscending(nt[tt],rt[tt]);if(at){if(tt>=ot)return at;var st=et[tt];return at*(st=="desc"?-1:1)}}return $.index-_e.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$3=isArray_1;function baseOrderBy$1($,_e,et){_e.length?_e=arrayMap$1(_e,function(rt){return isArray$3(rt)?function(it){return baseGet(it,rt.length===1?rt[0]:rt)}:rt}):_e=[identity$9];var tt=-1;_e=arrayMap$1(_e,baseUnary(baseIteratee$6));var nt=baseMap$1($,function(rt,it,ot){var at=arrayMap$1(_e,function(st){return st(rt)});return{criteria:at,index:++tt,value:rt}});return baseSortBy(nt,function(rt,it){return compareMultiple(rt,it,et)})}var _baseOrderBy=baseOrderBy$1;function apply$1($,_e,et){switch(et.length){case 0:return $.call(_e);case 1:return $.call(_e,et[0]);case 2:return $.call(_e,et[0],et[1]);case 3:return $.call(_e,et[0],et[1],et[2])}return $.apply(_e,et)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1($,_e,et){return _e=nativeMax$3(_e===void 0?$.length-1:_e,0),function(){for(var tt=arguments,nt=-1,rt=nativeMax$3(tt.length-_e,0),it=Array(rt);++nt<rt;)it[nt]=tt[_e+nt];nt=-1;for(var ot=Array(_e+1);++nt<_e;)ot[nt]=tt[nt];return ot[_e]=et(it),apply($,this,ot)}}var _overRest=overRest$1;function constant$2($){return function(){return $}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var $=getNative(Object,"defineProperty");return $({},"",{}),$}catch{}}(),_defineProperty$C=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$C,identity$8=identity_1,baseSetToString$1=defineProperty$1?function($,_e){return defineProperty$1($,"toString",{configurable:!0,enumerable:!1,value:constant$1(_e),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1($){var _e=0,et=0;return function(){var tt=nativeNow(),nt=HOT_SPAN-(tt-et);if(et=tt,nt>0){if(++_e>=HOT_COUNT)return arguments[0]}else _e=0;return $.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1($,_e){return setToString(overRest($,_e,identity$7),$+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4($,_e,et){if(!isObject$3(et))return!1;var tt=typeof _e;return(tt=="number"?isArrayLike$1(et)&&isIndex(_e,et.length):tt=="string"&&_e in et)?eq(et[_e],$):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function($,_e){if($==null)return[];var et=_e.length;return et>1&&isIterateeCall$3($,_e[0],_e[1])?_e=[]:et>2&&isIterateeCall$3(_e[0],_e[1],_e[2])&&(_e=[_e[0]]),baseOrderBy($,baseFlatten$1(_e,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs$1(sortBy_1);function _typeof$D($){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$D($)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$m.apply(this,arguments)}function _slicedToArray$b($,_e){return _arrayWithHoles$c($)||_iterableToArrayLimit$b($,_e)||_unsupportedIterableToArray$j($,_e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$j($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$j($,_e)}}function _arrayLikeToArray$j($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$b($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$c($){if(Array.isArray($))return $}function ownKeys$w($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$w($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$w(Object(et),!0).forEach(function(tt){_defineProperty$B($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$w(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$B($,_e,et){return _e=_toPropertyKey$C(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$C($){var _e=_toPrimitive$C($,"string");return _typeof$D(_e)=="symbol"?_e:_e+""}function _toPrimitive$C($,_e){if(_typeof$D($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$D(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function defaultFormatter($){return Array.isArray($)&&isNumOrStr($[0])&&isNumOrStr($[1])?$.join(" ~ "):$}var DefaultTooltipContent=function(_e){var et=_e.separator,tt=et===void 0?" : ":et,nt=_e.contentStyle,rt=nt===void 0?{}:nt,it=_e.itemStyle,ot=it===void 0?{}:it,at=_e.labelStyle,st=at===void 0?{}:at,lt=_e.payload,ct=_e.formatter,ut=_e.itemSorter,dt=_e.wrapperClassName,ft=_e.labelClassName,pt=_e.label,mt=_e.labelFormatter,ht=_e.accessibilityLayer,yt=ht===void 0?!1:ht,xt=function(){if(lt&&lt.length){var Et={padding:0,margin:0},jt=(ut?sortBy$1(lt,ut):lt).map(function(Vt,Mt){if(Vt.type==="none")return null;var Ht=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:Vt.color||"#000"},ot),Rt=Vt.formatter||ct||defaultFormatter,Ft=Vt.value,Tt=Vt.name,Dt=Ft,Jt=Tt;if(Rt&&Dt!=null&&Jt!=null){var Ot=Rt(Ft,Tt,Vt,Mt,lt);if(Array.isArray(Ot)){var Pt=_slicedToArray$b(Ot,2);Dt=Pt[0],Jt=Pt[1]}else Dt=Ot}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Mt),style:Ht},isNumOrStr(Jt)?React.createElement("span",{className:"recharts-tooltip-item-name"},Jt):null,isNumOrStr(Jt)?React.createElement("span",{className:"recharts-tooltip-item-separator"},tt):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Dt),React.createElement("span",{className:"recharts-tooltip-item-unit"},Vt.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Et},jt)}return null},St=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},rt),gt=_objectSpread$w({margin:0},st),vt=!isNil$1(pt),bt=vt?pt:"",wt=clsx("recharts-default-tooltip",dt),_t=clsx("recharts-tooltip-label",ft);vt&&mt&&lt!==void 0&&lt!==null&&(bt=mt(pt,lt));var Ct=yt?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$m({className:wt,style:St},Ct),React.createElement("p",{className:_t,style:gt},React.isValidElement(bt)?bt:"".concat(bt)),xt())};function _typeof$C($){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$C($)}function _defineProperty$A($,_e,et){return _e=_toPropertyKey$B(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$B($){var _e=_toPrimitive$B($,"string");return _typeof$C(_e)=="symbol"?_e:_e+""}function _toPrimitive$B($,_e){if(_typeof$C($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$C(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName($){var _e=$.coordinate,et=$.translateX,tt=$.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$A(_defineProperty$A(_defineProperty$A(_defineProperty$A({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(et)&&_e&&isNumber(_e.x)&&et>=_e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(et)&&_e&&isNumber(_e.x)&&et<_e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(tt)&&_e&&isNumber(_e.y)&&tt>=_e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(tt)&&_e&&isNumber(_e.y)&&tt<_e.y))}function getTooltipTranslateXY($){var _e=$.allowEscapeViewBox,et=$.coordinate,tt=$.key,nt=$.offsetTopLeft,rt=$.position,it=$.reverseDirection,ot=$.tooltipDimension,at=$.viewBox,st=$.viewBoxDimension;if(rt&&isNumber(rt[tt]))return rt[tt];var lt=et[tt]-ot-nt,ct=et[tt]+nt;if(_e[tt])return it[tt]?lt:ct;if(it[tt]){var ut=lt,dt=at[tt];return ut<dt?Math.max(ct,at[tt]):Math.max(lt,at[tt])}var ft=ct+ot,pt=at[tt]+st;return ft>pt?Math.max(lt,at[tt]):Math.max(ct,at[tt])}function getTransformStyle($){var _e=$.translateX,et=$.translateY,tt=$.useTranslate3d;return{transform:tt?"translate3d(".concat(_e,"px, ").concat(et,"px, 0)"):"translate(".concat(_e,"px, ").concat(et,"px)")}}function getTooltipTranslate($){var _e=$.allowEscapeViewBox,et=$.coordinate,tt=$.offsetTopLeft,nt=$.position,rt=$.reverseDirection,it=$.tooltipBox,ot=$.useTranslate3d,at=$.viewBox,st,lt,ct;return it.height>0&&it.width>0&&et?(lt=getTooltipTranslateXY({allowEscapeViewBox:_e,coordinate:et,key:"x",offsetTopLeft:tt,position:nt,reverseDirection:rt,tooltipDimension:it.width,viewBox:at,viewBoxDimension:at.width}),ct=getTooltipTranslateXY({allowEscapeViewBox:_e,coordinate:et,key:"y",offsetTopLeft:tt,position:nt,reverseDirection:rt,tooltipDimension:it.height,viewBox:at,viewBoxDimension:at.height}),st=getTransformStyle({translateX:lt,translateY:ct,useTranslate3d:ot})):st=TOOLTIP_HIDDEN,{cssProperties:st,cssClasses:getTooltipCSSClassName({translateX:lt,translateY:ct,coordinate:et})}}function _typeof$B($){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$B($)}function ownKeys$v($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$v($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$v(Object(et),!0).forEach(function(tt){_defineProperty$z($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$v(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$g($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$A(tt.key),tt)}}function _createClass$g($,_e,et){return _e&&_defineProperties$g($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$c($,_e,et){return _e=_getPrototypeOf$d(_e),_possibleConstructorReturn$d($,_isNativeReflectConstruct$d()?Reflect.construct(_e,et||[],_getPrototypeOf$d($).constructor):_e.apply($,et))}function _possibleConstructorReturn$d($,_e){if(_e&&(_typeof$B(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d($)}function _assertThisInitialized$d($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$d(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!$})()}function _getPrototypeOf$d($){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$d($)}function _inherits$d($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$d($,_e)}function _setPrototypeOf$d($,_e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$d($,_e)}function _defineProperty$z($,_e,et){return _e=_toPropertyKey$A(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$A($){var _e=_toPrimitive$A($,"string");return _typeof$B(_e)=="symbol"?_e:_e+""}function _toPrimitive$A($,_e){if(_typeof$B($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$B(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var EPSILON=1,TooltipBoundingBox=function($){function _e(){var et;_classCallCheck$g(this,_e);for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return et=_callSuper$c(this,_e,[].concat(nt)),_defineProperty$z(et,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$z(et,"handleKeyDown",function(it){if(it.key==="Escape"){var ot,at,st,lt;et.setState({dismissed:!0,dismissedAtCoordinate:{x:(ot=(at=et.props.coordinate)===null||at===void 0?void 0:at.x)!==null&&ot!==void 0?ot:0,y:(st=(lt=et.props.coordinate)===null||lt===void 0?void 0:lt.y)!==null&&st!==void 0?st:0}})}}),et}return _inherits$d(_e,$),_createClass$g(_e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var tt=this.wrapperNode.getBoundingClientRect();(Math.abs(tt.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(tt.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:tt.width,height:tt.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var tt,nt;this.props.active&&this.updateBBox(),this.state.dismissed&&(((tt=this.props.coordinate)===null||tt===void 0?void 0:tt.x)!==this.state.dismissedAtCoordinate.x||((nt=this.props.coordinate)===null||nt===void 0?void 0:nt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var tt=this,nt=this.props,rt=nt.active,it=nt.allowEscapeViewBox,ot=nt.animationDuration,at=nt.animationEasing,st=nt.children,lt=nt.coordinate,ct=nt.hasPayload,ut=nt.isAnimationActive,dt=nt.offset,ft=nt.position,pt=nt.reverseDirection,mt=nt.useTranslate3d,ht=nt.viewBox,yt=nt.wrapperStyle,xt=getTooltipTranslate({allowEscapeViewBox:it,coordinate:lt,offsetTopLeft:dt,position:ft,reverseDirection:pt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:mt,viewBox:ht}),St=xt.cssClasses,gt=xt.cssProperties,vt=_objectSpread$v(_objectSpread$v({transition:ut&&rt?"transform ".concat(ot,"ms ").concat(at):void 0},gt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&rt&&ct?"visible":"hidden",position:"absolute",top:0,left:0},yt);return React.createElement("div",{tabIndex:-1,className:St,style:vt,ref:function(wt){tt.wrapperNode=wt}},st)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$A($){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$A($)}function ownKeys$u($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$u($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$u(Object(et),!0).forEach(function(tt){_defineProperty$y($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$u(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$f($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$z(tt.key),tt)}}function _createClass$f($,_e,et){return _e&&_defineProperties$f($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$b($,_e,et){return _e=_getPrototypeOf$c(_e),_possibleConstructorReturn$c($,_isNativeReflectConstruct$c()?Reflect.construct(_e,et||[],_getPrototypeOf$c($).constructor):_e.apply($,et))}function _possibleConstructorReturn$c($,_e){if(_e&&(_typeof$A(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c($)}function _assertThisInitialized$c($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$c(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!$})()}function _getPrototypeOf$c($){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$c($)}function _inherits$c($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$c($,_e)}function _setPrototypeOf$c($,_e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$c($,_e)}function _defineProperty$y($,_e,et){return _e=_toPropertyKey$z(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$z($){var _e=_toPrimitive$z($,"string");return _typeof$A(_e)=="symbol"?_e:_e+""}function _toPrimitive$z($,_e){if(_typeof$A($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$A(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function defaultUniqBy($){return $.dataKey}function renderContent($,_e){return React.isValidElement($)?React.cloneElement($,_e):typeof $=="function"?React.createElement($,_e):React.createElement(DefaultTooltipContent,_e)}var Tooltip=function($){function _e(){return _classCallCheck$f(this,_e),_callSuper$b(this,_e,arguments)}return _inherits$c(_e,$),_createClass$f(_e,[{key:"render",value:function(){var tt=this,nt=this.props,rt=nt.active,it=nt.allowEscapeViewBox,ot=nt.animationDuration,at=nt.animationEasing,st=nt.content,lt=nt.coordinate,ct=nt.filterNull,ut=nt.isAnimationActive,dt=nt.offset,ft=nt.payload,pt=nt.payloadUniqBy,mt=nt.position,ht=nt.reverseDirection,yt=nt.useTranslate3d,xt=nt.viewBox,St=nt.wrapperStyle,gt=ft??[];ct&&gt.length&&(gt=getUniqPayload(ft.filter(function(bt){return bt.value!=null&&(bt.hide!==!0||tt.props.includeHidden)}),pt,defaultUniqBy));var vt=gt.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:it,animationDuration:ot,animationEasing:at,isAnimationActive:ut,active:rt,coordinate:lt,hasPayload:vt,offset:dt,position:mt,reverseDirection:ht,useTranslate3d:yt,viewBox:xt,wrapperStyle:St},renderContent(st,_objectSpread$u(_objectSpread$u({},this.props),{},{payload:gt})))}}])}(reactExports.PureComponent);_defineProperty$y(Tooltip,"displayName","Tooltip");_defineProperty$y(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1($){for(var _e=$.length;_e--&&reWhitespace.test($.charAt(_e)););return _e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1($){return $&&$.slice(0,trimmedEndIndex($)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2($){if(typeof $=="number")return $;if(isSymbol$1($))return NAN;if(isObject$2($)){var _e=typeof $.valueOf=="function"?$.valueOf():$;$=isObject$2(_e)?_e+"":_e}if(typeof $!="string")return $===0?$:+$;$=baseTrim($);var et=reIsBinary.test($);return et||reIsOctal.test($)?freeParseInt($.slice(2),et?2:8):reIsBadHex.test($)?NAN:+$}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1($,_e,et){var tt,nt,rt,it,ot,at,st=0,lt=!1,ct=!1,ut=!0;if(typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT$1);_e=toNumber$1(_e)||0,isObject$1(et)&&(lt=!!et.leading,ct="maxWait"in et,rt=ct?nativeMax$2(toNumber$1(et.maxWait)||0,_e):rt,ut="trailing"in et?!!et.trailing:ut);function dt(vt){var bt=tt,wt=nt;return tt=nt=void 0,st=vt,it=$.apply(wt,bt),it}function ft(vt){return st=vt,ot=setTimeout(ht,_e),lt?dt(vt):it}function pt(vt){var bt=vt-at,wt=vt-st,_t=_e-bt;return ct?nativeMin(_t,rt-wt):_t}function mt(vt){var bt=vt-at,wt=vt-st;return at===void 0||bt>=_e||bt<0||ct&&wt>=rt}function ht(){var vt=now();if(mt(vt))return yt(vt);ot=setTimeout(ht,pt(vt))}function yt(vt){return ot=void 0,ut&&tt?dt(vt):(tt=nt=void 0,it)}function xt(){ot!==void 0&&clearTimeout(ot),st=0,tt=at=nt=ot=void 0}function St(){return ot===void 0?it:yt(now())}function gt(){var vt=now(),bt=mt(vt);if(tt=arguments,nt=this,at=vt,bt){if(ot===void 0)return ft(at);if(ct)return clearTimeout(ot),ot=setTimeout(ht,_e),dt(at)}return ot===void 0&&(ot=setTimeout(ht,_e)),it}return gt.cancel=xt,gt.flush=St,gt}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle($,_e,et){var tt=!0,nt=!0;if(typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(et)&&(tt="leading"in et?!!et.leading:tt,nt="trailing"in et?!!et.trailing:nt),debounce($,_e,{leading:tt,maxWait:_e,trailing:nt})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs$1(throttle_1);function _typeof$z($){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$z($)}function ownKeys$t($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$t($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$t(Object(et),!0).forEach(function(tt){_defineProperty$x($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$t(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$x($,_e,et){return _e=_toPropertyKey$y(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$y($){var _e=_toPrimitive$y($,"string");return _typeof$z(_e)=="symbol"?_e:_e+""}function _toPrimitive$y($,_e){if(_typeof$z($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$z(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _slicedToArray$a($,_e){return _arrayWithHoles$b($)||_iterableToArrayLimit$a($,_e)||_unsupportedIterableToArray$i($,_e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$i($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$i($,_e)}}function _arrayLikeToArray$i($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$a($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$b($){if(Array.isArray($))return $}var ResponsiveContainer=reactExports.forwardRef(function($,_e){var et=$.aspect,tt=$.initialDimension,nt=tt===void 0?{width:-1,height:-1}:tt,rt=$.width,it=rt===void 0?"100%":rt,ot=$.height,at=ot===void 0?"100%":ot,st=$.minWidth,lt=st===void 0?0:st,ct=$.minHeight,ut=$.maxHeight,dt=$.children,ft=$.debounce,pt=ft===void 0?0:ft,mt=$.id,ht=$.className,yt=$.onResize,xt=$.style,St=xt===void 0?{}:xt,gt=reactExports.useRef(null),vt=reactExports.useRef();vt.current=yt,reactExports.useImperativeHandle(_e,function(){return Object.defineProperty(gt.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),gt.current},configurable:!0})});var bt=reactExports.useState({containerWidth:nt.width,containerHeight:nt.height}),wt=_slicedToArray$a(bt,2),_t=wt[0],Ct=wt[1],$t=reactExports.useCallback(function(jt,Vt){Ct(function(Mt){var Ht=Math.round(jt),Rt=Math.round(Vt);return Mt.containerWidth===Ht&&Mt.containerHeight===Rt?Mt:{containerWidth:Ht,containerHeight:Rt}})},[]);reactExports.useEffect(function(){var jt=function(Tt){var Dt,Jt=Tt[0].contentRect,Ot=Jt.width,Pt=Jt.height;$t(Ot,Pt),(Dt=vt.current)===null||Dt===void 0||Dt.call(vt,Ot,Pt)};pt>0&&(jt=throttle$1(jt,pt,{trailing:!0,leading:!1}));var Vt=new ResizeObserver(jt),Mt=gt.current.getBoundingClientRect(),Ht=Mt.width,Rt=Mt.height;return $t(Ht,Rt),Vt.observe(gt.current),function(){Vt.disconnect()}},[$t,pt]);var Et=reactExports.useMemo(function(){var jt=_t.containerWidth,Vt=_t.containerHeight;if(jt<0||Vt<0)return null;warn(isPercent(it)||isPercent(at),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,it,at),warn(!et||et>0,"The aspect(%s) must be greater than zero.",et);var Mt=isPercent(it)?jt:it,Ht=isPercent(at)?Vt:at;et&&et>0&&(Mt?Ht=Mt/et:Ht&&(Mt=Ht*et),ut&&Ht>ut&&(Ht=ut)),warn(Mt>0||Ht>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Mt,Ht,it,at,lt,ct,et);var Rt=!Array.isArray(dt)&&getDisplayName(dt.type).endsWith("Chart");return React.Children.map(dt,function(Ft){return React.isValidElement(Ft)?reactExports.cloneElement(Ft,_objectSpread$t({width:Mt,height:Ht},Rt?{style:_objectSpread$t({height:"100%",width:"100%",maxHeight:Ht,maxWidth:Mt},Ft.props.style)}:{})):Ft})},[et,dt,at,ut,ct,lt,_t,it]);return React.createElement("div",{id:mt?"".concat(mt):void 0,className:clsx("recharts-responsive-container",ht),style:_objectSpread$t(_objectSpread$t({},St),{},{width:it,height:at,minWidth:lt,minHeight:ct,maxHeight:ut}),ref:gt},Et)}),Cell=function(_e){return null};Cell.displayName="Cell";function _typeof$y($){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$y($)}function ownKeys$s($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$s($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$s(Object(et),!0).forEach(function(tt){_defineProperty$w($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$s(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$w($,_e,et){return _e=_toPropertyKey$x(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$x($){var _e=_toPrimitive$x($,"string");return _typeof$y(_e)=="symbol"?_e:_e+""}function _toPrimitive$x($,_e){if(_typeof$y($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$y(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys($){var _e=_objectSpread$s({},$);return Object.keys(_e).forEach(function(et){_e[et]||delete _e[et]}),_e}var getStringSize=function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_e==null||Global.isSsr)return{width:0,height:0};var tt=removeInvalidKeys(et),nt=JSON.stringify({text:_e,copyStyle:tt});if(stringCache.widthCache[nt])return stringCache.widthCache[nt];try{var rt=document.getElementById(MEASUREMENT_SPAN_ID);rt||(rt=document.createElement("span"),rt.setAttribute("id",MEASUREMENT_SPAN_ID),rt.setAttribute("aria-hidden","true"),document.body.appendChild(rt));var it=_objectSpread$s(_objectSpread$s({},SPAN_STYLE),tt);Object.assign(rt.style,it),rt.textContent="".concat(_e);var ot=rt.getBoundingClientRect(),at={width:ot.width,height:ot.height};return stringCache.widthCache[nt]=at,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),at}catch{return{width:0,height:0}}},getOffset=function(_e){return{top:_e.top+window.scrollY-document.documentElement.clientTop,left:_e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$x($){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$x($)}function _slicedToArray$9($,_e){return _arrayWithHoles$a($)||_iterableToArrayLimit$9($,_e)||_unsupportedIterableToArray$h($,_e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$h($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$h($,_e)}}function _arrayLikeToArray$h($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$9($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e===0){if(Object(et)!==et)return;at=!1}else for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$a($){if(Array.isArray($))return $}function _classCallCheck$e($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$w(tt.key),tt)}}function _createClass$e($,_e,et){return _e&&_defineProperties$e($.prototype,_e),et&&_defineProperties$e($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _toPropertyKey$w($){var _e=_toPrimitive$w($,"string");return _typeof$x(_e)=="symbol"?_e:_e+""}function _toPrimitive$w($,_e){if(_typeof$x($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$x(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx($,_e){return $*CONVERSION_RATES[_e]}var DecimalCSS=function(){function $(_e,et){_classCallCheck$e(this,$),this.num=_e,this.unit=et,this.num=_e,this.unit=et,Number.isNaN(_e)&&(this.unit=""),et!==""&&!CSS_LENGTH_UNIT_REGEX.test(et)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(et)&&(this.num=convertToPx(_e,et),this.unit="px")}return _createClass$e($,[{key:"add",value:function(et){return this.unit!==et.unit?new $(NaN,""):new $(this.num+et.num,this.unit)}},{key:"subtract",value:function(et){return this.unit!==et.unit?new $(NaN,""):new $(this.num-et.num,this.unit)}},{key:"multiply",value:function(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new $(NaN,""):new $(this.num*et.num,this.unit||et.unit)}},{key:"divide",value:function(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new $(NaN,""):new $(this.num/et.num,this.unit||et.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(et){var tt,nt=(tt=NUM_SPLIT_REGEX.exec(et))!==null&&tt!==void 0?tt:[],rt=_slicedToArray$9(nt,3),it=rt[1],ot=rt[2];return new $(parseFloat(it),ot??"")}}])}();function calculateArithmetic($){if($.includes(STR_NAN))return STR_NAN;for(var _e=$;_e.includes("*")||_e.includes("/");){var et,tt=(et=MULTIPLY_OR_DIVIDE_REGEX.exec(_e))!==null&&et!==void 0?et:[],nt=_slicedToArray$9(tt,4),rt=nt[1],it=nt[2],ot=nt[3],at=DecimalCSS.parse(rt??""),st=DecimalCSS.parse(ot??""),lt=it==="*"?at.multiply(st):at.divide(st);if(lt.isNaN())return STR_NAN;_e=_e.replace(MULTIPLY_OR_DIVIDE_REGEX,lt.toString())}for(;_e.includes("+")||/.-\d+(?:\.\d+)?/.test(_e);){var ct,ut=(ct=ADD_OR_SUBTRACT_REGEX.exec(_e))!==null&&ct!==void 0?ct:[],dt=_slicedToArray$9(ut,4),ft=dt[1],pt=dt[2],mt=dt[3],ht=DecimalCSS.parse(ft??""),yt=DecimalCSS.parse(mt??""),xt=pt==="+"?ht.add(yt):ht.subtract(yt);if(xt.isNaN())return STR_NAN;_e=_e.replace(ADD_OR_SUBTRACT_REGEX,xt.toString())}return _e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses($){for(var _e=$;_e.includes("(");){var et=PARENTHESES_REGEX.exec(_e),tt=_slicedToArray$9(et,2),nt=tt[1];_e=_e.replace(PARENTHESES_REGEX,calculateArithmetic(nt))}return _e}function evaluateExpression($){var _e=$.replace(/\s+/g,"");return _e=calculateParentheses(_e),_e=calculateArithmetic(_e),_e}function safeEvaluateExpression($){try{return evaluateExpression($)}catch{return STR_NAN}}function reduceCSSCalc($){var _e=safeEvaluateExpression($.slice(5,-1));return _e===STR_NAN?"":_e}var _excluded$c=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$l.apply(this,arguments)}function _objectWithoutProperties$c($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$c($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$c($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _slicedToArray$8($,_e){return _arrayWithHoles$9($)||_iterableToArrayLimit$8($,_e)||_unsupportedIterableToArray$g($,_e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$g($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$g($,_e)}}function _arrayLikeToArray$g($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$8($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e===0){if(Object(et)!==et)return;at=!1}else for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$9($){if(Array.isArray($))return $}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(_e){var et=_e.children,tt=_e.breakAll,nt=_e.style;try{var rt=[];isNil$1(et)||(tt?rt=et.toString().split(""):rt=et.toString().split(BREAKING_SPACES));var it=rt.map(function(at){return{word:at,width:getStringSize(at,nt).width}}),ot=tt?0:getStringSize("",nt).width;return{wordsWithComputedWidth:it,spaceWidth:ot}}catch{return null}},calculateWordsByLines=function(_e,et,tt,nt,rt){var it=_e.maxLines,ot=_e.children,at=_e.style,st=_e.breakAll,lt=isNumber(it),ct=ot,ut=function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Mt.reduce(function(Ht,Rt){var Ft=Rt.word,Tt=Rt.width,Dt=Ht[Ht.length-1];if(Dt&&(nt==null||rt||Dt.width+Tt+tt<Number(nt)))Dt.words.push(Ft),Dt.width+=Tt+tt;else{var Jt={words:[Ft],width:Tt};Ht.push(Jt)}return Ht},[])},dt=ut(et),ft=function(Mt){return Mt.reduce(function(Ht,Rt){return Ht.width>Rt.width?Ht:Rt})};if(!lt)return dt;for(var pt="",mt=function(Mt){var Ht=ct.slice(0,Mt),Rt=calculateWordWidths({breakAll:st,style:at,children:Ht+pt}).wordsWithComputedWidth,Ft=ut(Rt),Tt=Ft.length>it||ft(Ft).width>Number(nt);return[Tt,Ft]},ht=0,yt=ct.length-1,xt=0,St;ht<=yt&&xt<=ct.length-1;){var gt=Math.floor((ht+yt)/2),vt=gt-1,bt=mt(vt),wt=_slicedToArray$8(bt,2),_t=wt[0],Ct=wt[1],$t=mt(gt),Et=_slicedToArray$8($t,1),jt=Et[0];if(!_t&&!jt&&(ht=gt+1),_t&&jt&&(yt=gt-1),!_t&&jt){St=Ct;break}xt++}return St||dt},getWordsWithoutCalculate=function(_e){var et=isNil$1(_e)?[]:_e.toString().split(BREAKING_SPACES);return[{words:et}]},getWordsByLines=function(_e){var et=_e.width,tt=_e.scaleToFit,nt=_e.children,rt=_e.style,it=_e.breakAll,ot=_e.maxLines;if((et||tt)&&!Global.isSsr){var at,st,lt=calculateWordWidths({breakAll:it,children:nt,style:rt});if(lt){var ct=lt.wordsWithComputedWidth,ut=lt.spaceWidth;at=ct,st=ut}else return getWordsWithoutCalculate(nt);return calculateWordsByLines({breakAll:it,children:nt,maxLines:ot,style:rt},at,st,et,tt)}return getWordsWithoutCalculate(nt)},DEFAULT_FILL="#808080",Text=function(_e){var et=_e.x,tt=et===void 0?0:et,nt=_e.y,rt=nt===void 0?0:nt,it=_e.lineHeight,ot=it===void 0?"1em":it,at=_e.capHeight,st=at===void 0?"0.71em":at,lt=_e.scaleToFit,ct=lt===void 0?!1:lt,ut=_e.textAnchor,dt=ut===void 0?"start":ut,ft=_e.verticalAnchor,pt=ft===void 0?"end":ft,mt=_e.fill,ht=mt===void 0?DEFAULT_FILL:mt,yt=_objectWithoutProperties$c(_e,_excluded$c),xt=reactExports.useMemo(function(){return getWordsByLines({breakAll:yt.breakAll,children:yt.children,maxLines:yt.maxLines,scaleToFit:ct,style:yt.style,width:yt.width})},[yt.breakAll,yt.children,yt.maxLines,ct,yt.style,yt.width]),St=yt.dx,gt=yt.dy,vt=yt.angle,bt=yt.className,wt=yt.breakAll,_t=_objectWithoutProperties$c(yt,_excluded2$5);if(!isNumOrStr(tt)||!isNumOrStr(rt))return null;var Ct=tt+(isNumber(St)?St:0),$t=rt+(isNumber(gt)?gt:0),Et;switch(pt){case"start":Et=reduceCSSCalc("calc(".concat(st,")"));break;case"middle":Et=reduceCSSCalc("calc(".concat((xt.length-1)/2," * -").concat(ot," + (").concat(st," / 2))"));break;default:Et=reduceCSSCalc("calc(".concat(xt.length-1," * -").concat(ot,")"));break}var jt=[];if(ct){var Vt=xt[0].width,Mt=yt.width;jt.push("scale(".concat((isNumber(Mt)?Mt/Vt:1)/Vt,")"))}return vt&&jt.push("rotate(".concat(vt,", ").concat(Ct,", ").concat($t,")")),jt.length&&(_t.transform=jt.join(" ")),React.createElement("text",_extends$l({},filterProps(_t,!0),{x:Ct,y:$t,className:clsx("recharts-text",bt),textAnchor:dt,fill:ht.includes("url")?DEFAULT_FILL:ht}),xt.map(function(Ht,Rt){var Ft=Ht.words.join(wt?"":" ");return React.createElement("tspan",{x:Ct,dy:Rt===0?Et:ot,key:"".concat(Ft,"-").concat(Rt)},Ft)}))};function ascending($,_e){return $==null||_e==null?NaN:$<_e?-1:$>_e?1:$>=_e?0:NaN}function descending($,_e){return $==null||_e==null?NaN:_e<$?-1:_e>$?1:_e>=$?0:NaN}function bisector($){let _e,et,tt;$.length!==2?(_e=ascending,et=(ot,at)=>ascending($(ot),at),tt=(ot,at)=>$(ot)-at):(_e=$===ascending||$===descending?$:zero$1,et=$,tt=$);function nt(ot,at,st=0,lt=ot.length){if(st<lt){if(_e(at,at)!==0)return lt;do{const ct=st+lt>>>1;et(ot[ct],at)<0?st=ct+1:lt=ct}while(st<lt)}return st}function rt(ot,at,st=0,lt=ot.length){if(st<lt){if(_e(at,at)!==0)return lt;do{const ct=st+lt>>>1;et(ot[ct],at)<=0?st=ct+1:lt=ct}while(st<lt)}return st}function it(ot,at,st=0,lt=ot.length){const ct=nt(ot,at,st,lt-1);return ct>st&&tt(ot[ct-1],at)>-tt(ot[ct],at)?ct-1:ct}return{left:nt,center:it,right:rt}}function zero$1(){return 0}function number$2($){return $===null?NaN:+$}function*numbers($,_e){for(let et of $)et!=null&&(et=+et)>=et&&(yield et)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(_e,et=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:et}}),_e!=null)for(const[tt,nt]of _e)this.set(tt,nt)}get(_e){return super.get(intern_get(this,_e))}has(_e){return super.has(intern_get(this,_e))}set(_e,et){return super.set(intern_set(this,_e),et)}delete(_e){return super.delete(intern_delete(this,_e))}}function intern_get({_intern:$,_key:_e},et){const tt=_e(et);return $.has(tt)?$.get(tt):et}function intern_set({_intern:$,_key:_e},et){const tt=_e(et);return $.has(tt)?$.get(tt):($.set(tt,et),et)}function intern_delete({_intern:$,_key:_e},et){const tt=_e(et);return $.has(tt)&&(et=$.get(tt),$.delete(tt)),et}function keyof($){return $!==null&&typeof $=="object"?$.valueOf():$}function compareDefined($=ascending){if($===ascending)return ascendingDefined;if(typeof $!="function")throw new TypeError("compare is not a function");return(_e,et)=>{const tt=$(_e,et);return tt||tt===0?tt:($(et,et)===0)-($(_e,_e)===0)}}function ascendingDefined($,_e){return($==null||!($>=$))-(_e==null||!(_e>=_e))||($<_e?-1:$>_e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec($,_e,et){const tt=(_e-$)/Math.max(0,et),nt=Math.floor(Math.log10(tt)),rt=tt/Math.pow(10,nt),it=rt>=e10?10:rt>=e5?5:rt>=e2?2:1;let ot,at,st;return nt<0?(st=Math.pow(10,-nt)/it,ot=Math.round($*st),at=Math.round(_e*st),ot/st<$&&++ot,at/st>_e&&--at,st=-st):(st=Math.pow(10,nt)*it,ot=Math.round($/st),at=Math.round(_e/st),ot*st<$&&++ot,at*st>_e&&--at),at<ot&&.5<=et&&et<2?tickSpec($,_e,et*2):[ot,at,st]}function ticks($,_e,et){if(_e=+_e,$=+$,et=+et,!(et>0))return[];if($===_e)return[$];const tt=_e<$,[nt,rt,it]=tt?tickSpec(_e,$,et):tickSpec($,_e,et);if(!(rt>=nt))return[];const ot=rt-nt+1,at=new Array(ot);if(tt)if(it<0)for(let st=0;st<ot;++st)at[st]=(rt-st)/-it;else for(let st=0;st<ot;++st)at[st]=(rt-st)*it;else if(it<0)for(let st=0;st<ot;++st)at[st]=(nt+st)/-it;else for(let st=0;st<ot;++st)at[st]=(nt+st)*it;return at}function tickIncrement($,_e,et){return _e=+_e,$=+$,et=+et,tickSpec($,_e,et)[2]}function tickStep($,_e,et){_e=+_e,$=+$,et=+et;const tt=_e<$,nt=tt?tickIncrement(_e,$,et):tickIncrement($,_e,et);return(tt?-1:1)*(nt<0?1/-nt:nt)}function max$2($,_e){let et;for(const tt of $)tt!=null&&(et<tt||et===void 0&&tt>=tt)&&(et=tt);return et}function min$2($,_e){let et;for(const tt of $)tt!=null&&(et>tt||et===void 0&&tt>=tt)&&(et=tt);return et}function quickselect($,_e,et=0,tt=1/0,nt){if(_e=Math.floor(_e),et=Math.floor(Math.max(0,et)),tt=Math.floor(Math.min($.length-1,tt)),!(et<=_e&&_e<=tt))return $;for(nt=nt===void 0?ascendingDefined:compareDefined(nt);tt>et;){if(tt-et>600){const at=tt-et+1,st=_e-et+1,lt=Math.log(at),ct=.5*Math.exp(2*lt/3),ut=.5*Math.sqrt(lt*ct*(at-ct)/at)*(st-at/2<0?-1:1),dt=Math.max(et,Math.floor(_e-st*ct/at+ut)),ft=Math.min(tt,Math.floor(_e+(at-st)*ct/at+ut));quickselect($,_e,dt,ft,nt)}const rt=$[_e];let it=et,ot=tt;for(swap($,et,_e),nt($[tt],rt)>0&&swap($,et,tt);it<ot;){for(swap($,it,ot),++it,--ot;nt($[it],rt)<0;)++it;for(;nt($[ot],rt)>0;)--ot}nt($[et],rt)===0?swap($,et,ot):(++ot,swap($,ot,tt)),ot<=_e&&(et=ot+1),_e<=ot&&(tt=ot-1)}return $}function swap($,_e,et){const tt=$[_e];$[_e]=$[et],$[et]=tt}function quantile$1($,_e,et){if($=Float64Array.from(numbers($)),!(!(tt=$.length)||isNaN(_e=+_e))){if(_e<=0||tt<2)return min$2($);if(_e>=1)return max$2($);var tt,nt=(tt-1)*_e,rt=Math.floor(nt),it=max$2(quickselect($,rt).subarray(0,rt+1)),ot=min$2($.subarray(rt+1));return it+(ot-it)*(nt-rt)}}function quantileSorted($,_e,et=number$2){if(!(!(tt=$.length)||isNaN(_e=+_e))){if(_e<=0||tt<2)return+et($[0],0,$);if(_e>=1)return+et($[tt-1],tt-1,$);var tt,nt=(tt-1)*_e,rt=Math.floor(nt),it=+et($[rt],rt,$),ot=+et($[rt+1],rt+1,$);return it+(ot-it)*(nt-rt)}}function range$3($,_e,et){$=+$,_e=+_e,et=(nt=arguments.length)<2?(_e=$,$=0,1):nt<3?1:+et;for(var tt=-1,nt=Math.max(0,Math.ceil((_e-$)/et))|0,rt=new Array(nt);++tt<nt;)rt[tt]=$+tt*et;return rt}function initRange($,_e){switch(arguments.length){case 0:break;case 1:this.range($);break;default:this.range(_e).domain($);break}return this}function initInterpolator($,_e){switch(arguments.length){case 0:break;case 1:{typeof $=="function"?this.interpolator($):this.range($);break}default:{this.domain($),typeof _e=="function"?this.interpolator(_e):this.range(_e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var $=new InternMap,_e=[],et=[],tt=implicit;function nt(rt){let it=$.get(rt);if(it===void 0){if(tt!==implicit)return tt;$.set(rt,it=_e.push(rt)-1)}return et[it%et.length]}return nt.domain=function(rt){if(!arguments.length)return _e.slice();_e=[],$=new InternMap;for(const it of rt)$.has(it)||$.set(it,_e.push(it)-1);return nt},nt.range=function(rt){return arguments.length?(et=Array.from(rt),nt):et.slice()},nt.unknown=function(rt){return arguments.length?(tt=rt,nt):tt},nt.copy=function(){return ordinal(_e,et).unknown(tt)},initRange.apply(nt,arguments),nt}function band(){var $=ordinal().unknown(void 0),_e=$.domain,et=$.range,tt=0,nt=1,rt,it,ot=!1,at=0,st=0,lt=.5;delete $.unknown;function ct(){var ut=_e().length,dt=nt<tt,ft=dt?nt:tt,pt=dt?tt:nt;rt=(pt-ft)/Math.max(1,ut-at+st*2),ot&&(rt=Math.floor(rt)),ft+=(pt-ft-rt*(ut-at))*lt,it=rt*(1-at),ot&&(ft=Math.round(ft),it=Math.round(it));var mt=range$3(ut).map(function(ht){return ft+rt*ht});return et(dt?mt.reverse():mt)}return $.domain=function(ut){return arguments.length?(_e(ut),ct()):_e()},$.range=function(ut){return arguments.length?([tt,nt]=ut,tt=+tt,nt=+nt,ct()):[tt,nt]},$.rangeRound=function(ut){return[tt,nt]=ut,tt=+tt,nt=+nt,ot=!0,ct()},$.bandwidth=function(){return it},$.step=function(){return rt},$.round=function(ut){return arguments.length?(ot=!!ut,ct()):ot},$.padding=function(ut){return arguments.length?(at=Math.min(1,st=+ut),ct()):at},$.paddingInner=function(ut){return arguments.length?(at=Math.min(1,ut),ct()):at},$.paddingOuter=function(ut){return arguments.length?(st=+ut,ct()):st},$.align=function(ut){return arguments.length?(lt=Math.max(0,Math.min(1,ut)),ct()):lt},$.copy=function(){return band(_e(),[tt,nt]).round(ot).paddingInner(at).paddingOuter(st).align(lt)},initRange.apply(ct(),arguments)}function pointish($){var _e=$.copy;return $.padding=$.paddingOuter,delete $.paddingInner,delete $.paddingOuter,$.copy=function(){return pointish(_e())},$}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define($,_e,et){$.prototype=_e.prototype=et,et.constructor=$}function extend($,_e){var et=Object.create($.prototype);for(var tt in _e)et[tt]=_e[tt];return et}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy($){return Object.assign(new this.constructor,this,$)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color($){var _e,et;return $=($+"").trim().toLowerCase(),(_e=reHex.exec($))?(et=_e[1].length,_e=parseInt(_e[1],16),et===6?rgbn(_e):et===3?new Rgb(_e>>8&15|_e>>4&240,_e>>4&15|_e&240,(_e&15)<<4|_e&15,1):et===8?rgba(_e>>24&255,_e>>16&255,_e>>8&255,(_e&255)/255):et===4?rgba(_e>>12&15|_e>>8&240,_e>>8&15|_e>>4&240,_e>>4&15|_e&240,((_e&15)<<4|_e&15)/255):null):(_e=reRgbInteger.exec($))?new Rgb(_e[1],_e[2],_e[3],1):(_e=reRgbPercent.exec($))?new Rgb(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,1):(_e=reRgbaInteger.exec($))?rgba(_e[1],_e[2],_e[3],_e[4]):(_e=reRgbaPercent.exec($))?rgba(_e[1]*255/100,_e[2]*255/100,_e[3]*255/100,_e[4]):(_e=reHslPercent.exec($))?hsla(_e[1],_e[2]/100,_e[3]/100,1):(_e=reHslaPercent.exec($))?hsla(_e[1],_e[2]/100,_e[3]/100,_e[4]):named.hasOwnProperty($)?rgbn(named[$]):$==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn($){return new Rgb($>>16&255,$>>8&255,$&255,1)}function rgba($,_e,et,tt){return tt<=0&&($=_e=et=NaN),new Rgb($,_e,et,tt)}function rgbConvert($){return $ instanceof Color||($=color($)),$?($=$.rgb(),new Rgb($.r,$.g,$.b,$.opacity)):new Rgb}function rgb$1($,_e,et,tt){return arguments.length===1?rgbConvert($):new Rgb($,_e,et,tt??1)}function Rgb($,_e,et,tt){this.r=+$,this.g=+_e,this.b=+et,this.opacity=+tt}define(Rgb,rgb$1,extend(Color,{brighter($){return $=$==null?brighter:Math.pow(brighter,$),new Rgb(this.r*$,this.g*$,this.b*$,this.opacity)},darker($){return $=$==null?darker:Math.pow(darker,$),new Rgb(this.r*$,this.g*$,this.b*$,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const $=clampa(this.opacity);return`${$===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${$===1?")":`, ${$})`}`}function clampa($){return isNaN($)?1:Math.max(0,Math.min(1,$))}function clampi($){return Math.max(0,Math.min(255,Math.round($)||0))}function hex($){return $=clampi($),($<16?"0":"")+$.toString(16)}function hsla($,_e,et,tt){return tt<=0?$=_e=et=NaN:et<=0||et>=1?$=_e=NaN:_e<=0&&($=NaN),new Hsl($,_e,et,tt)}function hslConvert($){if($ instanceof Hsl)return new Hsl($.h,$.s,$.l,$.opacity);if($ instanceof Color||($=color($)),!$)return new Hsl;if($ instanceof Hsl)return $;$=$.rgb();var _e=$.r/255,et=$.g/255,tt=$.b/255,nt=Math.min(_e,et,tt),rt=Math.max(_e,et,tt),it=NaN,ot=rt-nt,at=(rt+nt)/2;return ot?(_e===rt?it=(et-tt)/ot+(et<tt)*6:et===rt?it=(tt-_e)/ot+2:it=(_e-et)/ot+4,ot/=at<.5?rt+nt:2-rt-nt,it*=60):ot=at>0&&at<1?0:it,new Hsl(it,ot,at,$.opacity)}function hsl($,_e,et,tt){return arguments.length===1?hslConvert($):new Hsl($,_e,et,tt??1)}function Hsl($,_e,et,tt){this.h=+$,this.s=+_e,this.l=+et,this.opacity=+tt}define(Hsl,hsl,extend(Color,{brighter($){return $=$==null?brighter:Math.pow(brighter,$),new Hsl(this.h,this.s,this.l*$,this.opacity)},darker($){return $=$==null?darker:Math.pow(darker,$),new Hsl(this.h,this.s,this.l*$,this.opacity)},rgb(){var $=this.h%360+(this.h<0)*360,_e=isNaN($)||isNaN(this.s)?0:this.s,et=this.l,tt=et+(et<.5?et:1-et)*_e,nt=2*et-tt;return new Rgb(hsl2rgb($>=240?$-240:$+120,nt,tt),hsl2rgb($,nt,tt),hsl2rgb($<120?$+240:$-120,nt,tt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const $=clampa(this.opacity);return`${$===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${$===1?")":`, ${$})`}`}}));function clamph($){return $=($||0)%360,$<0?$+360:$}function clampt($){return Math.max(0,Math.min(1,$||0))}function hsl2rgb($,_e,et){return($<60?_e+(et-_e)*$/60:$<180?et:$<240?_e+(et-_e)*(240-$)/60:_e)*255}const constant=$=>()=>$;function linear$1($,_e){return function(et){return $+et*_e}}function exponential($,_e,et){return $=Math.pow($,et),_e=Math.pow(_e,et)-$,et=1/et,function(tt){return Math.pow($+tt*_e,et)}}function gamma($){return($=+$)==1?nogamma:function(_e,et){return et-_e?exponential(_e,et,$):constant(isNaN(_e)?et:_e)}}function nogamma($,_e){var et=_e-$;return et?linear$1($,et):constant(isNaN($)?_e:$)}const rgb=function $(_e){var et=gamma(_e);function tt(nt,rt){var it=et((nt=rgb$1(nt)).r,(rt=rgb$1(rt)).r),ot=et(nt.g,rt.g),at=et(nt.b,rt.b),st=nogamma(nt.opacity,rt.opacity);return function(lt){return nt.r=it(lt),nt.g=ot(lt),nt.b=at(lt),nt.opacity=st(lt),nt+""}}return tt.gamma=$,tt}(1);function numberArray($,_e){_e||(_e=[]);var et=$?Math.min(_e.length,$.length):0,tt=_e.slice(),nt;return function(rt){for(nt=0;nt<et;++nt)tt[nt]=$[nt]*(1-rt)+_e[nt]*rt;return tt}}function isNumberArray($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function genericArray($,_e){var et=_e?_e.length:0,tt=$?Math.min(et,$.length):0,nt=new Array(tt),rt=new Array(et),it;for(it=0;it<tt;++it)nt[it]=interpolate($[it],_e[it]);for(;it<et;++it)rt[it]=_e[it];return function(ot){for(it=0;it<tt;++it)rt[it]=nt[it](ot);return rt}}function date$1($,_e){var et=new Date;return $=+$,_e=+_e,function(tt){return et.setTime($*(1-tt)+_e*tt),et}}function interpolateNumber$1($,_e){return $=+$,_e=+_e,function(et){return $*(1-et)+_e*et}}function object($,_e){var et={},tt={},nt;($===null||typeof $!="object")&&($={}),(_e===null||typeof _e!="object")&&(_e={});for(nt in _e)nt in $?et[nt]=interpolate($[nt],_e[nt]):tt[nt]=_e[nt];return function(rt){for(nt in et)tt[nt]=et[nt](rt);return tt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero($){return function(){return $}}function one($){return function(_e){return $(_e)+""}}function string($,_e){var et=reA.lastIndex=reB.lastIndex=0,tt,nt,rt,it=-1,ot=[],at=[];for($=$+"",_e=_e+"";(tt=reA.exec($))&&(nt=reB.exec(_e));)(rt=nt.index)>et&&(rt=_e.slice(et,rt),ot[it]?ot[it]+=rt:ot[++it]=rt),(tt=tt[0])===(nt=nt[0])?ot[it]?ot[it]+=nt:ot[++it]=nt:(ot[++it]=null,at.push({i:it,x:interpolateNumber$1(tt,nt)})),et=reB.lastIndex;return et<_e.length&&(rt=_e.slice(et),ot[it]?ot[it]+=rt:ot[++it]=rt),ot.length<2?at[0]?one(at[0].x):zero(_e):(_e=at.length,function(st){for(var lt=0,ct;lt<_e;++lt)ot[(ct=at[lt]).i]=ct.x(st);return ot.join("")})}function interpolate($,_e){var et=typeof _e,tt;return _e==null||et==="boolean"?constant(_e):(et==="number"?interpolateNumber$1:et==="string"?(tt=color(_e))?(_e=tt,rgb):string:_e instanceof color?rgb:_e instanceof Date?date$1:isNumberArray(_e)?numberArray:Array.isArray(_e)?genericArray:typeof _e.valueOf!="function"&&typeof _e.toString!="function"||isNaN(_e)?object:interpolateNumber$1)($,_e)}function interpolateRound($,_e){return $=+$,_e=+_e,function(et){return Math.round($*(1-et)+_e*et)}}function piecewise($,_e){_e===void 0&&(_e=$,$=interpolate);for(var et=0,tt=_e.length-1,nt=_e[0],rt=new Array(tt<0?0:tt);et<tt;)rt[et]=$(nt,nt=_e[++et]);return function(it){var ot=Math.max(0,Math.min(tt-1,Math.floor(it*=tt)));return rt[ot](it-ot)}}function constants($){return function(){return $}}function number$1($){return+$}var unit=[0,1];function identity$6($){return $}function normalize($,_e){return(_e-=$=+$)?function(et){return(et-$)/_e}:constants(isNaN(_e)?NaN:.5)}function clamper($,_e){var et;return $>_e&&(et=$,$=_e,_e=et),function(tt){return Math.max($,Math.min(_e,tt))}}function bimap($,_e,et){var tt=$[0],nt=$[1],rt=_e[0],it=_e[1];return nt<tt?(tt=normalize(nt,tt),rt=et(it,rt)):(tt=normalize(tt,nt),rt=et(rt,it)),function(ot){return rt(tt(ot))}}function polymap($,_e,et){var tt=Math.min($.length,_e.length)-1,nt=new Array(tt),rt=new Array(tt),it=-1;for($[tt]<$[0]&&($=$.slice().reverse(),_e=_e.slice().reverse());++it<tt;)nt[it]=normalize($[it],$[it+1]),rt[it]=et(_e[it],_e[it+1]);return function(ot){var at=bisectRight($,ot,1,tt)-1;return rt[at](nt[at](ot))}}function copy$1($,_e){return _e.domain($.domain()).range($.range()).interpolate($.interpolate()).clamp($.clamp()).unknown($.unknown())}function transformer$2(){var $=unit,_e=unit,et=interpolate,tt,nt,rt,it=identity$6,ot,at,st;function lt(){var ut=Math.min($.length,_e.length);return it!==identity$6&&(it=clamper($[0],$[ut-1])),ot=ut>2?polymap:bimap,at=st=null,ct}function ct(ut){return ut==null||isNaN(ut=+ut)?rt:(at||(at=ot($.map(tt),_e,et)))(tt(it(ut)))}return ct.invert=function(ut){return it(nt((st||(st=ot(_e,$.map(tt),interpolateNumber$1)))(ut)))},ct.domain=function(ut){return arguments.length?($=Array.from(ut,number$1),lt()):$.slice()},ct.range=function(ut){return arguments.length?(_e=Array.from(ut),lt()):_e.slice()},ct.rangeRound=function(ut){return _e=Array.from(ut),et=interpolateRound,lt()},ct.clamp=function(ut){return arguments.length?(it=ut?!0:identity$6,lt()):it!==identity$6},ct.interpolate=function(ut){return arguments.length?(et=ut,lt()):et},ct.unknown=function(ut){return arguments.length?(rt=ut,ct):rt},function(ut,dt){return tt=ut,nt=dt,lt()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal($){return Math.abs($=Math.round($))>=1e21?$.toLocaleString("en").replace(/,/g,""):$.toString(10)}function formatDecimalParts($,_e){if(!isFinite($)||$===0)return null;var et=($=_e?$.toExponential(_e-1):$.toExponential()).indexOf("e"),tt=$.slice(0,et);return[tt.length>1?tt[0]+tt.slice(2):tt,+$.slice(et+1)]}function exponent($){return $=formatDecimalParts(Math.abs($)),$?$[1]:NaN}function formatGroup($,_e){return function(et,tt){for(var nt=et.length,rt=[],it=0,ot=$[0],at=0;nt>0&&ot>0&&(at+ot+1>tt&&(ot=Math.max(1,tt-at)),rt.push(et.substring(nt-=ot,nt+ot)),!((at+=ot+1)>tt));)ot=$[it=(it+1)%$.length];return rt.reverse().join(_e)}}function formatNumerals($){return function(_e){return _e.replace(/[0-9]/g,function(et){return $[+et]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier($){if(!(_e=re.exec($)))throw new Error("invalid format: "+$);var _e;return new FormatSpecifier({fill:_e[1],align:_e[2],sign:_e[3],symbol:_e[4],zero:_e[5],width:_e[6],comma:_e[7],precision:_e[8]&&_e[8].slice(1),trim:_e[9],type:_e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier($){this.fill=$.fill===void 0?" ":$.fill+"",this.align=$.align===void 0?">":$.align+"",this.sign=$.sign===void 0?"-":$.sign+"",this.symbol=$.symbol===void 0?"":$.symbol+"",this.zero=!!$.zero,this.width=$.width===void 0?void 0:+$.width,this.comma=!!$.comma,this.precision=$.precision===void 0?void 0:+$.precision,this.trim=!!$.trim,this.type=$.type===void 0?"":$.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim($){e:for(var _e=$.length,et=1,tt=-1,nt;et<_e;++et)switch($[et]){case".":tt=nt=et;break;case"0":tt===0&&(tt=et),nt=et;break;default:if(!+$[et])break e;tt>0&&(tt=0);break}return tt>0?$.slice(0,tt)+$.slice(nt+1):$}var prefixExponent;function formatPrefixAuto($,_e){var et=formatDecimalParts($,_e);if(!et)return prefixExponent=void 0,$.toPrecision(_e);var tt=et[0],nt=et[1],rt=nt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nt/3)))*3)+1,it=tt.length;return rt===it?tt:rt>it?tt+new Array(rt-it+1).join("0"):rt>0?tt.slice(0,rt)+"."+tt.slice(rt):"0."+new Array(1-rt).join("0")+formatDecimalParts($,Math.max(0,_e+rt-1))[0]}function formatRounded($,_e){var et=formatDecimalParts($,_e);if(!et)return $+"";var tt=et[0],nt=et[1];return nt<0?"0."+new Array(-nt).join("0")+tt:tt.length>nt+1?tt.slice(0,nt+1)+"."+tt.slice(nt+1):tt+new Array(nt-tt.length+2).join("0")}const formatTypes={"%":($,_e)=>($*100).toFixed(_e),b:$=>Math.round($).toString(2),c:$=>$+"",d:formatDecimal,e:($,_e)=>$.toExponential(_e),f:($,_e)=>$.toFixed(_e),g:($,_e)=>$.toPrecision(_e),o:$=>Math.round($).toString(8),p:($,_e)=>formatRounded($*100,_e),r:formatRounded,s:formatPrefixAuto,X:$=>Math.round($).toString(16).toUpperCase(),x:$=>Math.round($).toString(16)};function identity$5($){return $}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1($){var _e=$.grouping===void 0||$.thousands===void 0?identity$5:formatGroup(map$3.call($.grouping,Number),$.thousands+""),et=$.currency===void 0?"":$.currency[0]+"",tt=$.currency===void 0?"":$.currency[1]+"",nt=$.decimal===void 0?".":$.decimal+"",rt=$.numerals===void 0?identity$5:formatNumerals(map$3.call($.numerals,String)),it=$.percent===void 0?"%":$.percent+"",ot=$.minus===void 0?"":$.minus+"",at=$.nan===void 0?"NaN":$.nan+"";function st(ct,ut){ct=formatSpecifier(ct);var dt=ct.fill,ft=ct.align,pt=ct.sign,mt=ct.symbol,ht=ct.zero,yt=ct.width,xt=ct.comma,St=ct.precision,gt=ct.trim,vt=ct.type;vt==="n"?(xt=!0,vt="g"):formatTypes[vt]||(St===void 0&&(St=12),gt=!0,vt="g"),(ht||dt==="0"&&ft==="=")&&(ht=!0,dt="0",ft="=");var bt=(ut&&ut.prefix!==void 0?ut.prefix:"")+(mt==="$"?et:mt==="#"&&/[boxX]/.test(vt)?"0"+vt.toLowerCase():""),wt=(mt==="$"?tt:/[%p]/.test(vt)?it:"")+(ut&&ut.suffix!==void 0?ut.suffix:""),_t=formatTypes[vt],Ct=/[defgprs%]/.test(vt);St=St===void 0?6:/[gprs]/.test(vt)?Math.max(1,Math.min(21,St)):Math.max(0,Math.min(20,St));function $t(Et){var jt=bt,Vt=wt,Mt,Ht,Rt;if(vt==="c")Vt=_t(Et)+Vt,Et="";else{Et=+Et;var Ft=Et<0||1/Et<0;if(Et=isNaN(Et)?at:_t(Math.abs(Et),St),gt&&(Et=formatTrim(Et)),Ft&&+Et==0&&pt!=="+"&&(Ft=!1),jt=(Ft?pt==="("?pt:ot:pt==="-"||pt==="("?"":pt)+jt,Vt=(vt==="s"&&!isNaN(Et)&&prefixExponent!==void 0?prefixes[8+prefixExponent/3]:"")+Vt+(Ft&&pt==="("?")":""),Ct){for(Mt=-1,Ht=Et.length;++Mt<Ht;)if(Rt=Et.charCodeAt(Mt),48>Rt||Rt>57){Vt=(Rt===46?nt+Et.slice(Mt+1):Et.slice(Mt))+Vt,Et=Et.slice(0,Mt);break}}}xt&&!ht&&(Et=_e(Et,1/0));var Tt=jt.length+Et.length+Vt.length,Dt=Tt<yt?new Array(yt-Tt+1).join(dt):"";switch(xt&&ht&&(Et=_e(Dt+Et,Dt.length?yt-Vt.length:1/0),Dt=""),ft){case"<":Et=jt+Et+Vt+Dt;break;case"=":Et=jt+Dt+Et+Vt;break;case"^":Et=Dt.slice(0,Tt=Dt.length>>1)+jt+Et+Vt+Dt.slice(Tt);break;default:Et=Dt+jt+Et+Vt;break}return rt(Et)}return $t.toString=function(){return ct+""},$t}function lt(ct,ut){var dt=Math.max(-8,Math.min(8,Math.floor(exponent(ut)/3)))*3,ft=Math.pow(10,-dt),pt=st((ct=formatSpecifier(ct),ct.type="f",ct),{suffix:prefixes[8+dt/3]});return function(mt){return pt(ft*mt)}}return{format:st,formatPrefix:lt}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1($){return locale$1=formatLocale$1($),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed($){return Math.max(0,-exponent(Math.abs($)))}function precisionPrefix($,_e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(_e)/3)))*3-exponent(Math.abs($)))}function precisionRound($,_e){return $=Math.abs($),_e=Math.abs(_e)-$,Math.max(0,exponent(_e)-exponent($))+1}function tickFormat($,_e,et,tt){var nt=tickStep($,_e,et),rt;switch(tt=formatSpecifier(tt??",f"),tt.type){case"s":{var it=Math.max(Math.abs($),Math.abs(_e));return tt.precision==null&&!isNaN(rt=precisionPrefix(nt,it))&&(tt.precision=rt),formatPrefix(tt,it)}case"":case"e":case"g":case"p":case"r":{tt.precision==null&&!isNaN(rt=precisionRound(nt,Math.max(Math.abs($),Math.abs(_e))))&&(tt.precision=rt-(tt.type==="e"));break}case"f":case"%":{tt.precision==null&&!isNaN(rt=precisionFixed(nt))&&(tt.precision=rt-(tt.type==="%")*2);break}}return format(tt)}function linearish($){var _e=$.domain;return $.ticks=function(et){var tt=_e();return ticks(tt[0],tt[tt.length-1],et??10)},$.tickFormat=function(et,tt){var nt=_e();return tickFormat(nt[0],nt[nt.length-1],et??10,tt)},$.nice=function(et){et==null&&(et=10);var tt=_e(),nt=0,rt=tt.length-1,it=tt[nt],ot=tt[rt],at,st,lt=10;for(ot<it&&(st=it,it=ot,ot=st,st=nt,nt=rt,rt=st);lt-- >0;){if(st=tickIncrement(it,ot,et),st===at)return tt[nt]=it,tt[rt]=ot,_e(tt);if(st>0)it=Math.floor(it/st)*st,ot=Math.ceil(ot/st)*st;else if(st<0)it=Math.ceil(it*st)/st,ot=Math.floor(ot*st)/st;else break;at=st}return $},$}function linear(){var $=continuous();return $.copy=function(){return copy$1($,linear())},initRange.apply($,arguments),linearish($)}function identity$4($){var _e;function et(tt){return tt==null||isNaN(tt=+tt)?_e:tt}return et.invert=et,et.domain=et.range=function(tt){return arguments.length?($=Array.from(tt,number$1),et):$.slice()},et.unknown=function(tt){return arguments.length?(_e=tt,et):_e},et.copy=function(){return identity$4($).unknown(_e)},$=arguments.length?Array.from($,number$1):[0,1],linearish(et)}function nice($,_e){$=$.slice();var et=0,tt=$.length-1,nt=$[et],rt=$[tt],it;return rt<nt&&(it=et,et=tt,tt=it,it=nt,nt=rt,rt=it),$[et]=_e.floor(nt),$[tt]=_e.ceil(rt),$}function transformLog($){return Math.log($)}function transformExp($){return Math.exp($)}function transformLogn($){return-Math.log(-$)}function transformExpn($){return-Math.exp(-$)}function pow10($){return isFinite($)?+("1e"+$):$<0?0:$}function powp($){return $===10?pow10:$===Math.E?Math.exp:_e=>Math.pow($,_e)}function logp($){return $===Math.E?Math.log:$===10&&Math.log10||$===2&&Math.log2||($=Math.log($),_e=>Math.log(_e)/$)}function reflect($){return(_e,et)=>-$(-_e,et)}function loggish($){const _e=$(transformLog,transformExp),et=_e.domain;let tt=10,nt,rt;function it(){return nt=logp(tt),rt=powp(tt),et()[0]<0?(nt=reflect(nt),rt=reflect(rt),$(transformLogn,transformExpn)):$(transformLog,transformExp),_e}return _e.base=function(ot){return arguments.length?(tt=+ot,it()):tt},_e.domain=function(ot){return arguments.length?(et(ot),it()):et()},_e.ticks=ot=>{const at=et();let st=at[0],lt=at[at.length-1];const ct=lt<st;ct&&([st,lt]=[lt,st]);let ut=nt(st),dt=nt(lt),ft,pt;const mt=ot==null?10:+ot;let ht=[];if(!(tt%1)&&dt-ut<mt){if(ut=Math.floor(ut),dt=Math.ceil(dt),st>0){for(;ut<=dt;++ut)for(ft=1;ft<tt;++ft)if(pt=ut<0?ft/rt(-ut):ft*rt(ut),!(pt<st)){if(pt>lt)break;ht.push(pt)}}else for(;ut<=dt;++ut)for(ft=tt-1;ft>=1;--ft)if(pt=ut>0?ft/rt(-ut):ft*rt(ut),!(pt<st)){if(pt>lt)break;ht.push(pt)}ht.length*2<mt&&(ht=ticks(st,lt,mt))}else ht=ticks(ut,dt,Math.min(dt-ut,mt)).map(rt);return ct?ht.reverse():ht},_e.tickFormat=(ot,at)=>{if(ot==null&&(ot=10),at==null&&(at=tt===10?"s":","),typeof at!="function"&&(!(tt%1)&&(at=formatSpecifier(at)).precision==null&&(at.trim=!0),at=format(at)),ot===1/0)return at;const st=Math.max(1,tt*ot/_e.ticks().length);return lt=>{let ct=lt/rt(Math.round(nt(lt)));return ct*tt<tt-.5&&(ct*=tt),ct<=st?at(lt):""}},_e.nice=()=>et(nice(et(),{floor:ot=>rt(Math.floor(nt(ot))),ceil:ot=>rt(Math.ceil(nt(ot)))})),_e}function log(){const $=loggish(transformer$2()).domain([1,10]);return $.copy=()=>copy$1($,log()).base($.base()),initRange.apply($,arguments),$}function transformSymlog($){return function(_e){return Math.sign(_e)*Math.log1p(Math.abs(_e/$))}}function transformSymexp($){return function(_e){return Math.sign(_e)*Math.expm1(Math.abs(_e))*$}}function symlogish($){var _e=1,et=$(transformSymlog(_e),transformSymexp(_e));return et.constant=function(tt){return arguments.length?$(transformSymlog(_e=+tt),transformSymexp(_e)):_e},linearish(et)}function symlog(){var $=symlogish(transformer$2());return $.copy=function(){return copy$1($,symlog()).constant($.constant())},initRange.apply($,arguments)}function transformPow($){return function(_e){return _e<0?-Math.pow(-_e,$):Math.pow(_e,$)}}function transformSqrt($){return $<0?-Math.sqrt(-$):Math.sqrt($)}function transformSquare($){return $<0?-$*$:$*$}function powish($){var _e=$(identity$6,identity$6),et=1;function tt(){return et===1?$(identity$6,identity$6):et===.5?$(transformSqrt,transformSquare):$(transformPow(et),transformPow(1/et))}return _e.exponent=function(nt){return arguments.length?(et=+nt,tt()):et},linearish(_e)}function pow(){var $=powish(transformer$2());return $.copy=function(){return copy$1($,pow()).exponent($.exponent())},initRange.apply($,arguments),$}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square($){return Math.sign($)*$*$}function unsquare($){return Math.sign($)*Math.sqrt(Math.abs($))}function radial(){var $=continuous(),_e=[0,1],et=!1,tt;function nt(rt){var it=unsquare($(rt));return isNaN(it)?tt:et?Math.round(it):it}return nt.invert=function(rt){return $.invert(square(rt))},nt.domain=function(rt){return arguments.length?($.domain(rt),nt):$.domain()},nt.range=function(rt){return arguments.length?($.range((_e=Array.from(rt,number$1)).map(square)),nt):_e.slice()},nt.rangeRound=function(rt){return nt.range(rt).round(!0)},nt.round=function(rt){return arguments.length?(et=!!rt,nt):et},nt.clamp=function(rt){return arguments.length?($.clamp(rt),nt):$.clamp()},nt.unknown=function(rt){return arguments.length?(tt=rt,nt):tt},nt.copy=function(){return radial($.domain(),_e).round(et).clamp($.clamp()).unknown(tt)},initRange.apply(nt,arguments),linearish(nt)}function quantile(){var $=[],_e=[],et=[],tt;function nt(){var it=0,ot=Math.max(1,_e.length);for(et=new Array(ot-1);++it<ot;)et[it-1]=quantileSorted($,it/ot);return rt}function rt(it){return it==null||isNaN(it=+it)?tt:_e[bisectRight(et,it)]}return rt.invertExtent=function(it){var ot=_e.indexOf(it);return ot<0?[NaN,NaN]:[ot>0?et[ot-1]:$[0],ot<et.length?et[ot]:$[$.length-1]]},rt.domain=function(it){if(!arguments.length)return $.slice();$=[];for(let ot of it)ot!=null&&!isNaN(ot=+ot)&&$.push(ot);return $.sort(ascending),nt()},rt.range=function(it){return arguments.length?(_e=Array.from(it),nt()):_e.slice()},rt.unknown=function(it){return arguments.length?(tt=it,rt):tt},rt.quantiles=function(){return et.slice()},rt.copy=function(){return quantile().domain($).range(_e).unknown(tt)},initRange.apply(rt,arguments)}function quantize(){var $=0,_e=1,et=1,tt=[.5],nt=[0,1],rt;function it(at){return at!=null&&at<=at?nt[bisectRight(tt,at,0,et)]:rt}function ot(){var at=-1;for(tt=new Array(et);++at<et;)tt[at]=((at+1)*_e-(at-et)*$)/(et+1);return it}return it.domain=function(at){return arguments.length?([$,_e]=at,$=+$,_e=+_e,ot()):[$,_e]},it.range=function(at){return arguments.length?(et=(nt=Array.from(at)).length-1,ot()):nt.slice()},it.invertExtent=function(at){var st=nt.indexOf(at);return st<0?[NaN,NaN]:st<1?[$,tt[0]]:st>=et?[tt[et-1],_e]:[tt[st-1],tt[st]]},it.unknown=function(at){return arguments.length&&(rt=at),it},it.thresholds=function(){return tt.slice()},it.copy=function(){return quantize().domain([$,_e]).range(nt).unknown(rt)},initRange.apply(linearish(it),arguments)}function threshold(){var $=[.5],_e=[0,1],et,tt=1;function nt(rt){return rt!=null&&rt<=rt?_e[bisectRight($,rt,0,tt)]:et}return nt.domain=function(rt){return arguments.length?($=Array.from(rt),tt=Math.min($.length,_e.length-1),nt):$.slice()},nt.range=function(rt){return arguments.length?(_e=Array.from(rt),tt=Math.min($.length,_e.length-1),nt):_e.slice()},nt.invertExtent=function(rt){var it=_e.indexOf(rt);return[$[it-1],$[it]]},nt.unknown=function(rt){return arguments.length?(et=rt,nt):et},nt.copy=function(){return threshold().domain($).range(_e).unknown(et)},initRange.apply(nt,arguments)}const t0=new Date,t1=new Date;function timeInterval($,_e,et,tt){function nt(rt){return $(rt=arguments.length===0?new Date:new Date(+rt)),rt}return nt.floor=rt=>($(rt=new Date(+rt)),rt),nt.ceil=rt=>($(rt=new Date(rt-1)),_e(rt,1),$(rt),rt),nt.round=rt=>{const it=nt(rt),ot=nt.ceil(rt);return rt-it<ot-rt?it:ot},nt.offset=(rt,it)=>(_e(rt=new Date(+rt),it==null?1:Math.floor(it)),rt),nt.range=(rt,it,ot)=>{const at=[];if(rt=nt.ceil(rt),ot=ot==null?1:Math.floor(ot),!(rt<it)||!(ot>0))return at;let st;do at.push(st=new Date(+rt)),_e(rt,ot),$(rt);while(st<rt&&rt<it);return at},nt.filter=rt=>timeInterval(it=>{if(it>=it)for(;$(it),!rt(it);)it.setTime(it-1)},(it,ot)=>{if(it>=it)if(ot<0)for(;++ot<=0;)for(;_e(it,-1),!rt(it););else for(;--ot>=0;)for(;_e(it,1),!rt(it););}),et&&(nt.count=(rt,it)=>(t0.setTime(+rt),t1.setTime(+it),$(t0),$(t1),Math.floor(et(t0,t1))),nt.every=rt=>(rt=Math.floor(rt),!isFinite(rt)||!(rt>0)?null:rt>1?nt.filter(tt?it=>tt(it)%rt===0:it=>nt.count(0,it)%rt===0):nt)),nt}const millisecond=timeInterval(()=>{},($,_e)=>{$.setTime(+$+_e)},($,_e)=>_e-$);millisecond.every=$=>($=Math.floor($),!isFinite($)||!($>0)?null:$>1?timeInterval(_e=>{_e.setTime(Math.floor(_e/$)*$)},(_e,et)=>{_e.setTime(+_e+et*$)},(_e,et)=>(et-_e)/$):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval($=>{$.setTime($-$.getMilliseconds())},($,_e)=>{$.setTime(+$+_e*durationSecond)},($,_e)=>(_e-$)/durationSecond,$=>$.getUTCSeconds());second.range;const timeMinute=timeInterval($=>{$.setTime($-$.getMilliseconds()-$.getSeconds()*durationSecond)},($,_e)=>{$.setTime(+$+_e*durationMinute)},($,_e)=>(_e-$)/durationMinute,$=>$.getMinutes());timeMinute.range;const utcMinute=timeInterval($=>{$.setUTCSeconds(0,0)},($,_e)=>{$.setTime(+$+_e*durationMinute)},($,_e)=>(_e-$)/durationMinute,$=>$.getUTCMinutes());utcMinute.range;const timeHour=timeInterval($=>{$.setTime($-$.getMilliseconds()-$.getSeconds()*durationSecond-$.getMinutes()*durationMinute)},($,_e)=>{$.setTime(+$+_e*durationHour)},($,_e)=>(_e-$)/durationHour,$=>$.getHours());timeHour.range;const utcHour=timeInterval($=>{$.setUTCMinutes(0,0,0)},($,_e)=>{$.setTime(+$+_e*durationHour)},($,_e)=>(_e-$)/durationHour,$=>$.getUTCHours());utcHour.range;const timeDay=timeInterval($=>$.setHours(0,0,0,0),($,_e)=>$.setDate($.getDate()+_e),($,_e)=>(_e-$-(_e.getTimezoneOffset()-$.getTimezoneOffset())*durationMinute)/durationDay,$=>$.getDate()-1);timeDay.range;const utcDay=timeInterval($=>{$.setUTCHours(0,0,0,0)},($,_e)=>{$.setUTCDate($.getUTCDate()+_e)},($,_e)=>(_e-$)/durationDay,$=>$.getUTCDate()-1);utcDay.range;const unixDay=timeInterval($=>{$.setUTCHours(0,0,0,0)},($,_e)=>{$.setUTCDate($.getUTCDate()+_e)},($,_e)=>(_e-$)/durationDay,$=>Math.floor($/durationDay));unixDay.range;function timeWeekday($){return timeInterval(_e=>{_e.setDate(_e.getDate()-(_e.getDay()+7-$)%7),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setDate(_e.getDate()+et*7)},(_e,et)=>(et-_e-(et.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday($){return timeInterval(_e=>{_e.setUTCDate(_e.getUTCDate()-(_e.getUTCDay()+7-$)%7),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et*7)},(_e,et)=>(et-_e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval($=>{$.setDate(1),$.setHours(0,0,0,0)},($,_e)=>{$.setMonth($.getMonth()+_e)},($,_e)=>_e.getMonth()-$.getMonth()+(_e.getFullYear()-$.getFullYear())*12,$=>$.getMonth());timeMonth.range;const utcMonth=timeInterval($=>{$.setUTCDate(1),$.setUTCHours(0,0,0,0)},($,_e)=>{$.setUTCMonth($.getUTCMonth()+_e)},($,_e)=>_e.getUTCMonth()-$.getUTCMonth()+(_e.getUTCFullYear()-$.getUTCFullYear())*12,$=>$.getUTCMonth());utcMonth.range;const timeYear=timeInterval($=>{$.setMonth(0,1),$.setHours(0,0,0,0)},($,_e)=>{$.setFullYear($.getFullYear()+_e)},($,_e)=>_e.getFullYear()-$.getFullYear(),$=>$.getFullYear());timeYear.every=$=>!isFinite($=Math.floor($))||!($>0)?null:timeInterval(_e=>{_e.setFullYear(Math.floor(_e.getFullYear()/$)*$),_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setFullYear(_e.getFullYear()+et*$)});timeYear.range;const utcYear=timeInterval($=>{$.setUTCMonth(0,1),$.setUTCHours(0,0,0,0)},($,_e)=>{$.setUTCFullYear($.getUTCFullYear()+_e)},($,_e)=>_e.getUTCFullYear()-$.getUTCFullYear(),$=>$.getUTCFullYear());utcYear.every=$=>!isFinite($=Math.floor($))||!($>0)?null:timeInterval(_e=>{_e.setUTCFullYear(Math.floor(_e.getUTCFullYear()/$)*$),_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCFullYear(_e.getUTCFullYear()+et*$)});utcYear.range;function ticker($,_e,et,tt,nt,rt){const it=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[rt,1,durationMinute],[rt,5,5*durationMinute],[rt,15,15*durationMinute],[rt,30,30*durationMinute],[nt,1,durationHour],[nt,3,3*durationHour],[nt,6,6*durationHour],[nt,12,12*durationHour],[tt,1,durationDay],[tt,2,2*durationDay],[et,1,durationWeek],[_e,1,durationMonth],[_e,3,3*durationMonth],[$,1,durationYear]];function ot(st,lt,ct){const ut=lt<st;ut&&([st,lt]=[lt,st]);const dt=ct&&typeof ct.range=="function"?ct:at(st,lt,ct),ft=dt?dt.range(st,+lt+1):[];return ut?ft.reverse():ft}function at(st,lt,ct){const ut=Math.abs(lt-st)/ct,dt=bisector(([,,mt])=>mt).right(it,ut);if(dt===it.length)return $.every(tickStep(st/durationYear,lt/durationYear,ct));if(dt===0)return millisecond.every(Math.max(tickStep(st,lt,ct),1));const[ft,pt]=it[ut/it[dt-1][2]<it[dt][2]/ut?dt-1:dt];return ft.every(pt)}return[ot,at]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate($){if(0<=$.y&&$.y<100){var _e=new Date(-1,$.m,$.d,$.H,$.M,$.S,$.L);return _e.setFullYear($.y),_e}return new Date($.y,$.m,$.d,$.H,$.M,$.S,$.L)}function utcDate($){if(0<=$.y&&$.y<100){var _e=new Date(Date.UTC(-1,$.m,$.d,$.H,$.M,$.S,$.L));return _e.setUTCFullYear($.y),_e}return new Date(Date.UTC($.y,$.m,$.d,$.H,$.M,$.S,$.L))}function newDate($,_e,et){return{y:$,m:_e,d:et,H:0,M:0,S:0,L:0}}function formatLocale($){var _e=$.dateTime,et=$.date,tt=$.time,nt=$.periods,rt=$.days,it=$.shortDays,ot=$.months,at=$.shortMonths,st=formatRe(nt),lt=formatLookup(nt),ct=formatRe(rt),ut=formatLookup(rt),dt=formatRe(it),ft=formatLookup(it),pt=formatRe(ot),mt=formatLookup(ot),ht=formatRe(at),yt=formatLookup(at),xt={a:Rt,A:Ft,b:Tt,B:Dt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Jt,q:Ot,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},St={a:Pt,A:kt,b:Nt,B:zt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Wt,q:Gt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},gt={a:Ct,A:$t,b:Et,B:jt,c:Vt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:_t,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Mt,X:Ht,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};xt.x=vt(et,xt),xt.X=vt(tt,xt),xt.c=vt(_e,xt),St.x=vt(et,St),St.X=vt(tt,St),St.c=vt(_e,St);function vt(Kt,Zt){return function(dn){var Qt=[],wn=-1,Sn=0,$n=Kt.length,an,cn,It;for(dn instanceof Date||(dn=new Date(+dn));++wn<$n;)Kt.charCodeAt(wn)===37&&(Qt.push(Kt.slice(Sn,wn)),(cn=pads[an=Kt.charAt(++wn)])!=null?an=Kt.charAt(++wn):cn=an==="e"?" ":"0",(It=Zt[an])&&(an=It(dn,cn)),Qt.push(an),Sn=wn+1);return Qt.push(Kt.slice(Sn,wn)),Qt.join("")}}function bt(Kt,Zt){return function(dn){var Qt=newDate(1900,void 0,1),wn=wt(Qt,Kt,dn+="",0),Sn,$n;if(wn!=dn.length)return null;if("Q"in Qt)return new Date(Qt.Q);if("s"in Qt)return new Date(Qt.s*1e3+("L"in Qt?Qt.L:0));if(Zt&&!("Z"in Qt)&&(Qt.Z=0),"p"in Qt&&(Qt.H=Qt.H%12+Qt.p*12),Qt.m===void 0&&(Qt.m="q"in Qt?Qt.q:0),"V"in Qt){if(Qt.V<1||Qt.V>53)return null;"w"in Qt||(Qt.w=1),"Z"in Qt?(Sn=utcDate(newDate(Qt.y,0,1)),$n=Sn.getUTCDay(),Sn=$n>4||$n===0?utcMonday.ceil(Sn):utcMonday(Sn),Sn=utcDay.offset(Sn,(Qt.V-1)*7),Qt.y=Sn.getUTCFullYear(),Qt.m=Sn.getUTCMonth(),Qt.d=Sn.getUTCDate()+(Qt.w+6)%7):(Sn=localDate(newDate(Qt.y,0,1)),$n=Sn.getDay(),Sn=$n>4||$n===0?timeMonday.ceil(Sn):timeMonday(Sn),Sn=timeDay.offset(Sn,(Qt.V-1)*7),Qt.y=Sn.getFullYear(),Qt.m=Sn.getMonth(),Qt.d=Sn.getDate()+(Qt.w+6)%7)}else("W"in Qt||"U"in Qt)&&("w"in Qt||(Qt.w="u"in Qt?Qt.u%7:"W"in Qt?1:0),$n="Z"in Qt?utcDate(newDate(Qt.y,0,1)).getUTCDay():localDate(newDate(Qt.y,0,1)).getDay(),Qt.m=0,Qt.d="W"in Qt?(Qt.w+6)%7+Qt.W*7-($n+5)%7:Qt.w+Qt.U*7-($n+6)%7);return"Z"in Qt?(Qt.H+=Qt.Z/100|0,Qt.M+=Qt.Z%100,utcDate(Qt)):localDate(Qt)}}function wt(Kt,Zt,dn,Qt){for(var wn=0,Sn=Zt.length,$n=dn.length,an,cn;wn<Sn;){if(Qt>=$n)return-1;if(an=Zt.charCodeAt(wn++),an===37){if(an=Zt.charAt(wn++),cn=gt[an in pads?Zt.charAt(wn++):an],!cn||(Qt=cn(Kt,dn,Qt))<0)return-1}else if(an!=dn.charCodeAt(Qt++))return-1}return Qt}function _t(Kt,Zt,dn){var Qt=st.exec(Zt.slice(dn));return Qt?(Kt.p=lt.get(Qt[0].toLowerCase()),dn+Qt[0].length):-1}function Ct(Kt,Zt,dn){var Qt=dt.exec(Zt.slice(dn));return Qt?(Kt.w=ft.get(Qt[0].toLowerCase()),dn+Qt[0].length):-1}function $t(Kt,Zt,dn){var Qt=ct.exec(Zt.slice(dn));return Qt?(Kt.w=ut.get(Qt[0].toLowerCase()),dn+Qt[0].length):-1}function Et(Kt,Zt,dn){var Qt=ht.exec(Zt.slice(dn));return Qt?(Kt.m=yt.get(Qt[0].toLowerCase()),dn+Qt[0].length):-1}function jt(Kt,Zt,dn){var Qt=pt.exec(Zt.slice(dn));return Qt?(Kt.m=mt.get(Qt[0].toLowerCase()),dn+Qt[0].length):-1}function Vt(Kt,Zt,dn){return wt(Kt,_e,Zt,dn)}function Mt(Kt,Zt,dn){return wt(Kt,et,Zt,dn)}function Ht(Kt,Zt,dn){return wt(Kt,tt,Zt,dn)}function Rt(Kt){return it[Kt.getDay()]}function Ft(Kt){return rt[Kt.getDay()]}function Tt(Kt){return at[Kt.getMonth()]}function Dt(Kt){return ot[Kt.getMonth()]}function Jt(Kt){return nt[+(Kt.getHours()>=12)]}function Ot(Kt){return 1+~~(Kt.getMonth()/3)}function Pt(Kt){return it[Kt.getUTCDay()]}function kt(Kt){return rt[Kt.getUTCDay()]}function Nt(Kt){return at[Kt.getUTCMonth()]}function zt(Kt){return ot[Kt.getUTCMonth()]}function Wt(Kt){return nt[+(Kt.getUTCHours()>=12)]}function Gt(Kt){return 1+~~(Kt.getUTCMonth()/3)}return{format:function(Kt){var Zt=vt(Kt+="",xt);return Zt.toString=function(){return Kt},Zt},parse:function(Kt){var Zt=bt(Kt+="",!1);return Zt.toString=function(){return Kt},Zt},utcFormat:function(Kt){var Zt=vt(Kt+="",St);return Zt.toString=function(){return Kt},Zt},utcParse:function(Kt){var Zt=bt(Kt+="",!0);return Zt.toString=function(){return Kt},Zt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad($,_e,et){var tt=$<0?"-":"",nt=(tt?-$:$)+"",rt=nt.length;return tt+(rt<et?new Array(et-rt+1).join(_e)+nt:nt)}function requote($){return $.replace(requoteRe,"\\$&")}function formatRe($){return new RegExp("^(?:"+$.map(requote).join("|")+")","i")}function formatLookup($){return new Map($.map((_e,et)=>[_e.toLowerCase(),et]))}function parseWeekdayNumberSunday($,_e,et){var tt=numberRe.exec(_e.slice(et,et+1));return tt?($.w=+tt[0],et+tt[0].length):-1}function parseWeekdayNumberMonday($,_e,et){var tt=numberRe.exec(_e.slice(et,et+1));return tt?($.u=+tt[0],et+tt[0].length):-1}function parseWeekNumberSunday($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.U=+tt[0],et+tt[0].length):-1}function parseWeekNumberISO($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.V=+tt[0],et+tt[0].length):-1}function parseWeekNumberMonday($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.W=+tt[0],et+tt[0].length):-1}function parseFullYear($,_e,et){var tt=numberRe.exec(_e.slice(et,et+4));return tt?($.y=+tt[0],et+tt[0].length):-1}function parseYear($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.y=+tt[0]+(+tt[0]>68?1900:2e3),et+tt[0].length):-1}function parseZone($,_e,et){var tt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(_e.slice(et,et+6));return tt?($.Z=tt[1]?0:-(tt[2]+(tt[3]||"00")),et+tt[0].length):-1}function parseQuarter($,_e,et){var tt=numberRe.exec(_e.slice(et,et+1));return tt?($.q=tt[0]*3-3,et+tt[0].length):-1}function parseMonthNumber($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.m=tt[0]-1,et+tt[0].length):-1}function parseDayOfMonth($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.d=+tt[0],et+tt[0].length):-1}function parseDayOfYear($,_e,et){var tt=numberRe.exec(_e.slice(et,et+3));return tt?($.m=0,$.d=+tt[0],et+tt[0].length):-1}function parseHour24($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.H=+tt[0],et+tt[0].length):-1}function parseMinutes($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.M=+tt[0],et+tt[0].length):-1}function parseSeconds($,_e,et){var tt=numberRe.exec(_e.slice(et,et+2));return tt?($.S=+tt[0],et+tt[0].length):-1}function parseMilliseconds($,_e,et){var tt=numberRe.exec(_e.slice(et,et+3));return tt?($.L=+tt[0],et+tt[0].length):-1}function parseMicroseconds($,_e,et){var tt=numberRe.exec(_e.slice(et,et+6));return tt?($.L=Math.floor(tt[0]/1e3),et+tt[0].length):-1}function parseLiteralPercent($,_e,et){var tt=percentRe.exec(_e.slice(et,et+1));return tt?et+tt[0].length:-1}function parseUnixTimestamp($,_e,et){var tt=numberRe.exec(_e.slice(et));return tt?($.Q=+tt[0],et+tt[0].length):-1}function parseUnixTimestampSeconds($,_e,et){var tt=numberRe.exec(_e.slice(et));return tt?($.s=+tt[0],et+tt[0].length):-1}function formatDayOfMonth($,_e){return pad($.getDate(),_e,2)}function formatHour24($,_e){return pad($.getHours(),_e,2)}function formatHour12($,_e){return pad($.getHours()%12||12,_e,2)}function formatDayOfYear($,_e){return pad(1+timeDay.count(timeYear($),$),_e,3)}function formatMilliseconds($,_e){return pad($.getMilliseconds(),_e,3)}function formatMicroseconds($,_e){return formatMilliseconds($,_e)+"000"}function formatMonthNumber($,_e){return pad($.getMonth()+1,_e,2)}function formatMinutes($,_e){return pad($.getMinutes(),_e,2)}function formatSeconds($,_e){return pad($.getSeconds(),_e,2)}function formatWeekdayNumberMonday($){var _e=$.getDay();return _e===0?7:_e}function formatWeekNumberSunday($,_e){return pad(timeSunday.count(timeYear($)-1,$),_e,2)}function dISO($){var _e=$.getDay();return _e>=4||_e===0?timeThursday($):timeThursday.ceil($)}function formatWeekNumberISO($,_e){return $=dISO($),pad(timeThursday.count(timeYear($),$)+(timeYear($).getDay()===4),_e,2)}function formatWeekdayNumberSunday($){return $.getDay()}function formatWeekNumberMonday($,_e){return pad(timeMonday.count(timeYear($)-1,$),_e,2)}function formatYear($,_e){return pad($.getFullYear()%100,_e,2)}function formatYearISO($,_e){return $=dISO($),pad($.getFullYear()%100,_e,2)}function formatFullYear($,_e){return pad($.getFullYear()%1e4,_e,4)}function formatFullYearISO($,_e){var et=$.getDay();return $=et>=4||et===0?timeThursday($):timeThursday.ceil($),pad($.getFullYear()%1e4,_e,4)}function formatZone($){var _e=$.getTimezoneOffset();return(_e>0?"-":(_e*=-1,"+"))+pad(_e/60|0,"0",2)+pad(_e%60,"0",2)}function formatUTCDayOfMonth($,_e){return pad($.getUTCDate(),_e,2)}function formatUTCHour24($,_e){return pad($.getUTCHours(),_e,2)}function formatUTCHour12($,_e){return pad($.getUTCHours()%12||12,_e,2)}function formatUTCDayOfYear($,_e){return pad(1+utcDay.count(utcYear($),$),_e,3)}function formatUTCMilliseconds($,_e){return pad($.getUTCMilliseconds(),_e,3)}function formatUTCMicroseconds($,_e){return formatUTCMilliseconds($,_e)+"000"}function formatUTCMonthNumber($,_e){return pad($.getUTCMonth()+1,_e,2)}function formatUTCMinutes($,_e){return pad($.getUTCMinutes(),_e,2)}function formatUTCSeconds($,_e){return pad($.getUTCSeconds(),_e,2)}function formatUTCWeekdayNumberMonday($){var _e=$.getUTCDay();return _e===0?7:_e}function formatUTCWeekNumberSunday($,_e){return pad(utcSunday.count(utcYear($)-1,$),_e,2)}function UTCdISO($){var _e=$.getUTCDay();return _e>=4||_e===0?utcThursday($):utcThursday.ceil($)}function formatUTCWeekNumberISO($,_e){return $=UTCdISO($),pad(utcThursday.count(utcYear($),$)+(utcYear($).getUTCDay()===4),_e,2)}function formatUTCWeekdayNumberSunday($){return $.getUTCDay()}function formatUTCWeekNumberMonday($,_e){return pad(utcMonday.count(utcYear($)-1,$),_e,2)}function formatUTCYear($,_e){return pad($.getUTCFullYear()%100,_e,2)}function formatUTCYearISO($,_e){return $=UTCdISO($),pad($.getUTCFullYear()%100,_e,2)}function formatUTCFullYear($,_e){return pad($.getUTCFullYear()%1e4,_e,4)}function formatUTCFullYearISO($,_e){var et=$.getUTCDay();return $=et>=4||et===0?utcThursday($):utcThursday.ceil($),pad($.getUTCFullYear()%1e4,_e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp($){return+$}function formatUnixTimestampSeconds($){return Math.floor(+$/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale($){return locale=formatLocale($),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date($){return new Date($)}function number($){return $ instanceof Date?+$:+new Date(+$)}function calendar($,_e,et,tt,nt,rt,it,ot,at,st){var lt=continuous(),ct=lt.invert,ut=lt.domain,dt=st(".%L"),ft=st(":%S"),pt=st("%I:%M"),mt=st("%I %p"),ht=st("%a %d"),yt=st("%b %d"),xt=st("%B"),St=st("%Y");function gt(vt){return(at(vt)<vt?dt:ot(vt)<vt?ft:it(vt)<vt?pt:rt(vt)<vt?mt:tt(vt)<vt?nt(vt)<vt?ht:yt:et(vt)<vt?xt:St)(vt)}return lt.invert=function(vt){return new Date(ct(vt))},lt.domain=function(vt){return arguments.length?ut(Array.from(vt,number)):ut().map(date)},lt.ticks=function(vt){var bt=ut();return $(bt[0],bt[bt.length-1],vt??10)},lt.tickFormat=function(vt,bt){return bt==null?gt:st(bt)},lt.nice=function(vt){var bt=ut();return(!vt||typeof vt.range!="function")&&(vt=_e(bt[0],bt[bt.length-1],vt??10)),vt?ut(nice(bt,vt)):lt},lt.copy=function(){return copy$1(lt,calendar($,_e,et,tt,nt,rt,it,ot,at,st))},lt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var $=0,_e=1,et,tt,nt,rt,it=identity$6,ot=!1,at;function st(ct){return ct==null||isNaN(ct=+ct)?at:it(nt===0?.5:(ct=(rt(ct)-et)*nt,ot?Math.max(0,Math.min(1,ct)):ct))}st.domain=function(ct){return arguments.length?([$,_e]=ct,et=rt($=+$),tt=rt(_e=+_e),nt=et===tt?0:1/(tt-et),st):[$,_e]},st.clamp=function(ct){return arguments.length?(ot=!!ct,st):ot},st.interpolator=function(ct){return arguments.length?(it=ct,st):it};function lt(ct){return function(ut){var dt,ft;return arguments.length?([dt,ft]=ut,it=ct(dt,ft),st):[it(0),it(1)]}}return st.range=lt(interpolate),st.rangeRound=lt(interpolateRound),st.unknown=function(ct){return arguments.length?(at=ct,st):at},function(ct){return rt=ct,et=ct($),tt=ct(_e),nt=et===tt?0:1/(tt-et),st}}function copy($,_e){return _e.domain($.domain()).interpolator($.interpolator()).clamp($.clamp()).unknown($.unknown())}function sequential(){var $=linearish(transformer$1()(identity$6));return $.copy=function(){return copy($,sequential())},initInterpolator.apply($,arguments)}function sequentialLog(){var $=loggish(transformer$1()).domain([1,10]);return $.copy=function(){return copy($,sequentialLog()).base($.base())},initInterpolator.apply($,arguments)}function sequentialSymlog(){var $=symlogish(transformer$1());return $.copy=function(){return copy($,sequentialSymlog()).constant($.constant())},initInterpolator.apply($,arguments)}function sequentialPow(){var $=powish(transformer$1());return $.copy=function(){return copy($,sequentialPow()).exponent($.exponent())},initInterpolator.apply($,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var $=[],_e=identity$6;function et(tt){if(tt!=null&&!isNaN(tt=+tt))return _e((bisectRight($,tt,1)-1)/($.length-1))}return et.domain=function(tt){if(!arguments.length)return $.slice();$=[];for(let nt of tt)nt!=null&&!isNaN(nt=+nt)&&$.push(nt);return $.sort(ascending),et},et.interpolator=function(tt){return arguments.length?(_e=tt,et):_e},et.range=function(){return $.map((tt,nt)=>_e(nt/($.length-1)))},et.quantiles=function(tt){return Array.from({length:tt+1},(nt,rt)=>quantile$1($,rt/tt))},et.copy=function(){return sequentialQuantile(_e).domain($)},initInterpolator.apply(et,arguments)}function transformer(){var $=0,_e=.5,et=1,tt=1,nt,rt,it,ot,at,st=identity$6,lt,ct=!1,ut;function dt(pt){return isNaN(pt=+pt)?ut:(pt=.5+((pt=+lt(pt))-rt)*(tt*pt<tt*rt?ot:at),st(ct?Math.max(0,Math.min(1,pt)):pt))}dt.domain=function(pt){return arguments.length?([$,_e,et]=pt,nt=lt($=+$),rt=lt(_e=+_e),it=lt(et=+et),ot=nt===rt?0:.5/(rt-nt),at=rt===it?0:.5/(it-rt),tt=rt<nt?-1:1,dt):[$,_e,et]},dt.clamp=function(pt){return arguments.length?(ct=!!pt,dt):ct},dt.interpolator=function(pt){return arguments.length?(st=pt,dt):st};function ft(pt){return function(mt){var ht,yt,xt;return arguments.length?([ht,yt,xt]=mt,st=piecewise(pt,[ht,yt,xt]),dt):[st(0),st(.5),st(1)]}}return dt.range=ft(interpolate),dt.rangeRound=ft(interpolateRound),dt.unknown=function(pt){return arguments.length?(ut=pt,dt):ut},function(pt){return lt=pt,nt=pt($),rt=pt(_e),it=pt(et),ot=nt===rt?0:.5/(rt-nt),at=rt===it?0:.5/(it-rt),tt=rt<nt?-1:1,dt}}function diverging(){var $=linearish(transformer()(identity$6));return $.copy=function(){return copy($,diverging())},initInterpolator.apply($,arguments)}function divergingLog(){var $=loggish(transformer()).domain([.1,1,10]);return $.copy=function(){return copy($,divergingLog()).base($.base())},initInterpolator.apply($,arguments)}function divergingSymlog(){var $=symlogish(transformer());return $.copy=function(){return copy($,divergingSymlog()).constant($.constant())},initInterpolator.apply($,arguments)}function divergingPow(){var $=powish(transformer());return $.copy=function(){return copy($,divergingPow()).exponent($.exponent())},initInterpolator.apply($,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$2($,_e,et){for(var tt=-1,nt=$.length;++tt<nt;){var rt=$[tt],it=_e(rt);if(it!=null&&(ot===void 0?it===it&&!isSymbol(it):et(it,ot)))var ot=it,at=rt}return at}var _baseExtremum=baseExtremum$2;function baseGt$1($,_e){return $>_e}var _baseGt=baseGt$1,baseExtremum$1=_baseExtremum,baseGt=_baseGt,identity$3=identity_1;function max($){return $&&$.length?baseExtremum$1($,identity$3,baseGt):void 0}var max_1=max;const max$1=getDefaultExportFromCjs$1(max_1);function baseLt$1($,_e){return $<_e}var _baseLt=baseLt$1,baseExtremum=_baseExtremum,baseLt=_baseLt,identity$2=identity_1;function min($){return $&&$.length?baseExtremum($,identity$2,baseLt):void 0}var min_1=min;const min$1=getDefaultExportFromCjs$1(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$2=isArray_1;function map$2($,_e){var et=isArray$2($)?arrayMap:baseMap;return et($,baseIteratee$5(_e))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap($,_e){return baseFlatten(map$1($,_e),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs$1(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual($,_e){return baseIsEqual($,_e)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs$1(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var $=new this.constructor(this);return $.s&&($.s=1),$};P.comparedTo=P.cmp=function($){var _e,et,tt,nt,rt=this;if($=new rt.constructor($),rt.s!==$.s)return rt.s||-$.s;if(rt.e!==$.e)return rt.e>$.e^rt.s<0?1:-1;for(tt=rt.d.length,nt=$.d.length,_e=0,et=tt<nt?tt:nt;_e<et;++_e)if(rt.d[_e]!==$.d[_e])return rt.d[_e]>$.d[_e]^rt.s<0?1:-1;return tt===nt?0:tt>nt^rt.s<0?1:-1};P.decimalPlaces=P.dp=function(){var $=this,_e=$.d.length-1,et=(_e-$.e)*LOG_BASE;if(_e=$.d[_e],_e)for(;_e%10==0;_e/=10)et--;return et<0?0:et};P.dividedBy=P.div=function($){return divide(this,new this.constructor($))};P.dividedToIntegerBy=P.idiv=function($){var _e=this,et=_e.constructor;return round(divide(_e,new et($),0,1),et.precision)};P.equals=P.eq=function($){return!this.cmp($)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function($){return this.cmp($)>0};P.greaterThanOrEqualTo=P.gte=function($){return this.cmp($)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function($){return this.cmp($)<0};P.lessThanOrEqualTo=P.lte=function($){return this.cmp($)<1};P.logarithm=P.log=function($){var _e,et=this,tt=et.constructor,nt=tt.precision,rt=nt+5;if($===void 0)$=new tt(10);else if($=new tt($),$.s<1||$.eq(ONE))throw Error(decimalError+"NaN");if(et.s<1)throw Error(decimalError+(et.s?"NaN":"-Infinity"));return et.eq(ONE)?new tt(0):(external=!1,_e=divide(ln(et,rt),ln($,rt),rt),external=!0,round(_e,nt))};P.minus=P.sub=function($){var _e=this;return $=new _e.constructor($),_e.s==$.s?subtract(_e,$):add(_e,($.s=-$.s,$))};P.modulo=P.mod=function($){var _e,et=this,tt=et.constructor,nt=tt.precision;if($=new tt($),!$.s)throw Error(decimalError+"NaN");return et.s?(external=!1,_e=divide(et,$,0,1).times($),external=!0,et.minus(_e)):round(new tt(et),nt)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var $=new this.constructor(this);return $.s=-$.s||0,$};P.plus=P.add=function($){var _e=this;return $=new _e.constructor($),_e.s==$.s?add(_e,$):subtract(_e,($.s=-$.s,$))};P.precision=P.sd=function($){var _e,et,tt,nt=this;if($!==void 0&&$!==!!$&&$!==1&&$!==0)throw Error(invalidArgument+$);if(_e=getBase10Exponent(nt)+1,tt=nt.d.length-1,et=tt*LOG_BASE+1,tt=nt.d[tt],tt){for(;tt%10==0;tt/=10)et--;for(tt=nt.d[0];tt>=10;tt/=10)et++}return $&&_e>et?_e:et};P.squareRoot=P.sqrt=function(){var $,_e,et,tt,nt,rt,it,ot=this,at=ot.constructor;if(ot.s<1){if(!ot.s)return new at(0);throw Error(decimalError+"NaN")}for($=getBase10Exponent(ot),external=!1,nt=Math.sqrt(+ot),nt==0||nt==1/0?(_e=digitsToString(ot.d),(_e.length+$)%2==0&&(_e+="0"),nt=Math.sqrt(_e),$=mathfloor(($+1)/2)-($<0||$%2),nt==1/0?_e="5e"+$:(_e=nt.toExponential(),_e=_e.slice(0,_e.indexOf("e")+1)+$),tt=new at(_e)):tt=new at(nt.toString()),et=at.precision,nt=it=et+3;;)if(rt=tt,tt=rt.plus(divide(ot,rt,it+2)).times(.5),digitsToString(rt.d).slice(0,it)===(_e=digitsToString(tt.d)).slice(0,it)){if(_e=_e.slice(it-3,it+1),nt==it&&_e=="4999"){if(round(rt,et+1,0),rt.times(rt).eq(ot)){tt=rt;break}}else if(_e!="9999")break;it+=4}return external=!0,round(tt,et)};P.times=P.mul=function($){var _e,et,tt,nt,rt,it,ot,at,st,lt=this,ct=lt.constructor,ut=lt.d,dt=($=new ct($)).d;if(!lt.s||!$.s)return new ct(0);for($.s*=lt.s,et=lt.e+$.e,at=ut.length,st=dt.length,at<st&&(rt=ut,ut=dt,dt=rt,it=at,at=st,st=it),rt=[],it=at+st,tt=it;tt--;)rt.push(0);for(tt=st;--tt>=0;){for(_e=0,nt=at+tt;nt>tt;)ot=rt[nt]+dt[tt]*ut[nt-tt-1]+_e,rt[nt--]=ot%BASE|0,_e=ot/BASE|0;rt[nt]=(rt[nt]+_e)%BASE|0}for(;!rt[--it];)rt.pop();return _e?++et:rt.shift(),$.d=rt,$.e=et,external?round($,ct.precision):$};P.toDecimalPlaces=P.todp=function($,_e){var et=this,tt=et.constructor;return et=new tt(et),$===void 0?et:(checkInt32($,0,MAX_DIGITS),_e===void 0?_e=tt.rounding:checkInt32(_e,0,8),round(et,$+getBase10Exponent(et)+1,_e))};P.toExponential=function($,_e){var et,tt=this,nt=tt.constructor;return $===void 0?et=toString$1(tt,!0):(checkInt32($,0,MAX_DIGITS),_e===void 0?_e=nt.rounding:checkInt32(_e,0,8),tt=round(new nt(tt),$+1,_e),et=toString$1(tt,!0,$+1)),et};P.toFixed=function($,_e){var et,tt,nt=this,rt=nt.constructor;return $===void 0?toString$1(nt):(checkInt32($,0,MAX_DIGITS),_e===void 0?_e=rt.rounding:checkInt32(_e,0,8),tt=round(new rt(nt),$+getBase10Exponent(nt)+1,_e),et=toString$1(tt.abs(),!1,$+getBase10Exponent(tt)+1),nt.isneg()&&!nt.isZero()?"-"+et:et)};P.toInteger=P.toint=function(){var $=this,_e=$.constructor;return round(new _e($),getBase10Exponent($)+1,_e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function($){var _e,et,tt,nt,rt,it,ot=this,at=ot.constructor,st=12,lt=+($=new at($));if(!$.s)return new at(ONE);if(ot=new at(ot),!ot.s){if($.s<1)throw Error(decimalError+"Infinity");return ot}if(ot.eq(ONE))return ot;if(tt=at.precision,$.eq(ONE))return round(ot,tt);if(_e=$.e,et=$.d.length-1,it=_e>=et,rt=ot.s,it){if((et=lt<0?-lt:lt)<=MAX_SAFE_INTEGER){for(nt=new at(ONE),_e=Math.ceil(tt/LOG_BASE+4),external=!1;et%2&&(nt=nt.times(ot),truncate(nt.d,_e)),et=mathfloor(et/2),et!==0;)ot=ot.times(ot),truncate(ot.d,_e);return external=!0,$.s<0?new at(ONE).div(nt):round(nt,tt)}}else if(rt<0)throw Error(decimalError+"NaN");return rt=rt<0&&$.d[Math.max(_e,et)]&1?-1:1,ot.s=1,external=!1,nt=$.times(ln(ot,tt+st)),external=!0,nt=exp(nt),nt.s=rt,nt};P.toPrecision=function($,_e){var et,tt,nt=this,rt=nt.constructor;return $===void 0?(et=getBase10Exponent(nt),tt=toString$1(nt,et<=rt.toExpNeg||et>=rt.toExpPos)):(checkInt32($,1,MAX_DIGITS),_e===void 0?_e=rt.rounding:checkInt32(_e,0,8),nt=round(new rt(nt),$,_e),et=getBase10Exponent(nt),tt=toString$1(nt,$<=et||et<=rt.toExpNeg,$)),tt};P.toSignificantDigits=P.tosd=function($,_e){var et=this,tt=et.constructor;return $===void 0?($=tt.precision,_e=tt.rounding):(checkInt32($,1,MAX_DIGITS),_e===void 0?_e=tt.rounding:checkInt32(_e,0,8)),round(new tt(et),$,_e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var $=this,_e=getBase10Exponent($),et=$.constructor;return toString$1($,_e<=et.toExpNeg||_e>=et.toExpPos)};function add($,_e){var et,tt,nt,rt,it,ot,at,st,lt=$.constructor,ct=lt.precision;if(!$.s||!_e.s)return _e.s||(_e=new lt($)),external?round(_e,ct):_e;if(at=$.d,st=_e.d,it=$.e,nt=_e.e,at=at.slice(),rt=it-nt,rt){for(rt<0?(tt=at,rt=-rt,ot=st.length):(tt=st,nt=it,ot=at.length),it=Math.ceil(ct/LOG_BASE),ot=it>ot?it+1:ot+1,rt>ot&&(rt=ot,tt.length=1),tt.reverse();rt--;)tt.push(0);tt.reverse()}for(ot=at.length,rt=st.length,ot-rt<0&&(rt=ot,tt=st,st=at,at=tt),et=0;rt;)et=(at[--rt]=at[rt]+st[rt]+et)/BASE|0,at[rt]%=BASE;for(et&&(at.unshift(et),++nt),ot=at.length;at[--ot]==0;)at.pop();return _e.d=at,_e.e=nt,external?round(_e,ct):_e}function checkInt32($,_e,et){if($!==~~$||$<_e||$>et)throw Error(invalidArgument+$)}function digitsToString($){var _e,et,tt,nt=$.length-1,rt="",it=$[0];if(nt>0){for(rt+=it,_e=1;_e<nt;_e++)tt=$[_e]+"",et=LOG_BASE-tt.length,et&&(rt+=getZeroString(et)),rt+=tt;it=$[_e],tt=it+"",et=LOG_BASE-tt.length,et&&(rt+=getZeroString(et))}else if(it===0)return"0";for(;it%10===0;)it/=10;return rt+it}var divide=function(){function $(tt,nt){var rt,it=0,ot=tt.length;for(tt=tt.slice();ot--;)rt=tt[ot]*nt+it,tt[ot]=rt%BASE|0,it=rt/BASE|0;return it&&tt.unshift(it),tt}function _e(tt,nt,rt,it){var ot,at;if(rt!=it)at=rt>it?1:-1;else for(ot=at=0;ot<rt;ot++)if(tt[ot]!=nt[ot]){at=tt[ot]>nt[ot]?1:-1;break}return at}function et(tt,nt,rt){for(var it=0;rt--;)tt[rt]-=it,it=tt[rt]<nt[rt]?1:0,tt[rt]=it*BASE+tt[rt]-nt[rt];for(;!tt[0]&&tt.length>1;)tt.shift()}return function(tt,nt,rt,it){var ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,yt,xt,St,gt,vt,bt,wt,_t=tt.constructor,Ct=tt.s==nt.s?1:-1,$t=tt.d,Et=nt.d;if(!tt.s)return new _t(tt);if(!nt.s)throw Error(decimalError+"Division by zero");for(at=tt.e-nt.e,bt=Et.length,gt=$t.length,dt=new _t(Ct),ft=dt.d=[],st=0;Et[st]==($t[st]||0);)++st;if(Et[st]>($t[st]||0)&&--at,rt==null?yt=rt=_t.precision:it?yt=rt+(getBase10Exponent(tt)-getBase10Exponent(nt))+1:yt=rt,yt<0)return new _t(0);if(yt=yt/LOG_BASE+2|0,st=0,bt==1)for(lt=0,Et=Et[0],yt++;(st<gt||lt)&&yt--;st++)xt=lt*BASE+($t[st]||0),ft[st]=xt/Et|0,lt=xt%Et|0;else{for(lt=BASE/(Et[0]+1)|0,lt>1&&(Et=$(Et,lt),$t=$($t,lt),bt=Et.length,gt=$t.length),St=bt,pt=$t.slice(0,bt),mt=pt.length;mt<bt;)pt[mt++]=0;wt=Et.slice(),wt.unshift(0),vt=Et[0],Et[1]>=BASE/2&&++vt;do lt=0,ot=_e(Et,pt,bt,mt),ot<0?(ht=pt[0],bt!=mt&&(ht=ht*BASE+(pt[1]||0)),lt=ht/vt|0,lt>1?(lt>=BASE&&(lt=BASE-1),ct=$(Et,lt),ut=ct.length,mt=pt.length,ot=_e(ct,pt,ut,mt),ot==1&&(lt--,et(ct,bt<ut?wt:Et,ut))):(lt==0&&(ot=lt=1),ct=Et.slice()),ut=ct.length,ut<mt&&ct.unshift(0),et(pt,ct,mt),ot==-1&&(mt=pt.length,ot=_e(Et,pt,bt,mt),ot<1&&(lt++,et(pt,bt<mt?wt:Et,mt))),mt=pt.length):ot===0&&(lt++,pt=[0]),ft[st++]=lt,ot&&pt[0]?pt[mt++]=$t[St]||0:(pt=[$t[St]],mt=1);while((St++<gt||pt[0]!==void 0)&&yt--)}return ft[0]||ft.shift(),dt.e=at,round(dt,it?rt+getBase10Exponent(dt)+1:rt)}}();function exp($,_e){var et,tt,nt,rt,it,ot,at=0,st=0,lt=$.constructor,ct=lt.precision;if(getBase10Exponent($)>16)throw Error(exponentOutOfRange+getBase10Exponent($));if(!$.s)return new lt(ONE);for(external=!1,ot=ct,it=new lt(.03125);$.abs().gte(.1);)$=$.times(it),st+=5;for(tt=Math.log(mathpow(2,st))/Math.LN10*2+5|0,ot+=tt,et=nt=rt=new lt(ONE),lt.precision=ot;;){if(nt=round(nt.times($),ot),et=et.times(++at),it=rt.plus(divide(nt,et,ot)),digitsToString(it.d).slice(0,ot)===digitsToString(rt.d).slice(0,ot)){for(;st--;)rt=round(rt.times(rt),ot);return lt.precision=ct,_e==null?(external=!0,round(rt,ct)):rt}rt=it}}function getBase10Exponent($){for(var _e=$.e*LOG_BASE,et=$.d[0];et>=10;et/=10)_e++;return _e}function getLn10($,_e,et){if(_e>$.LN10.sd())throw external=!0,et&&($.precision=et),Error(decimalError+"LN10 precision limit exceeded");return round(new $($.LN10),_e)}function getZeroString($){for(var _e="";$--;)_e+="0";return _e}function ln($,_e){var et,tt,nt,rt,it,ot,at,st,lt,ct=1,ut=10,dt=$,ft=dt.d,pt=dt.constructor,mt=pt.precision;if(dt.s<1)throw Error(decimalError+(dt.s?"NaN":"-Infinity"));if(dt.eq(ONE))return new pt(0);if(_e==null?(external=!1,st=mt):st=_e,dt.eq(10))return _e==null&&(external=!0),getLn10(pt,st);if(st+=ut,pt.precision=st,et=digitsToString(ft),tt=et.charAt(0),rt=getBase10Exponent(dt),Math.abs(rt)<15e14){for(;tt<7&&tt!=1||tt==1&&et.charAt(1)>3;)dt=dt.times($),et=digitsToString(dt.d),tt=et.charAt(0),ct++;rt=getBase10Exponent(dt),tt>1?(dt=new pt("0."+et),rt++):dt=new pt(tt+"."+et.slice(1))}else return at=getLn10(pt,st+2,mt).times(rt+""),dt=ln(new pt(tt+"."+et.slice(1)),st-ut).plus(at),pt.precision=mt,_e==null?(external=!0,round(dt,mt)):dt;for(ot=it=dt=divide(dt.minus(ONE),dt.plus(ONE),st),lt=round(dt.times(dt),st),nt=3;;){if(it=round(it.times(lt),st),at=ot.plus(divide(it,new pt(nt),st)),digitsToString(at.d).slice(0,st)===digitsToString(ot.d).slice(0,st))return ot=ot.times(2),rt!==0&&(ot=ot.plus(getLn10(pt,st+2,mt).times(rt+""))),ot=divide(ot,new pt(ct),st),pt.precision=mt,_e==null?(external=!0,round(ot,mt)):ot;ot=at,nt+=2}}function parseDecimal($,_e){var et,tt,nt;for((et=_e.indexOf("."))>-1&&(_e=_e.replace(".","")),(tt=_e.search(/e/i))>0?(et<0&&(et=tt),et+=+_e.slice(tt+1),_e=_e.substring(0,tt)):et<0&&(et=_e.length),tt=0;_e.charCodeAt(tt)===48;)++tt;for(nt=_e.length;_e.charCodeAt(nt-1)===48;)--nt;if(_e=_e.slice(tt,nt),_e){if(nt-=tt,et=et-tt-1,$.e=mathfloor(et/LOG_BASE),$.d=[],tt=(et+1)%LOG_BASE,et<0&&(tt+=LOG_BASE),tt<nt){for(tt&&$.d.push(+_e.slice(0,tt)),nt-=LOG_BASE;tt<nt;)$.d.push(+_e.slice(tt,tt+=LOG_BASE));_e=_e.slice(tt),tt=LOG_BASE-_e.length}else tt-=nt;for(;tt--;)_e+="0";if($.d.push(+_e),external&&($.e>MAX_E||$.e<-MAX_E))throw Error(exponentOutOfRange+et)}else $.s=0,$.e=0,$.d=[0];return $}function round($,_e,et){var tt,nt,rt,it,ot,at,st,lt,ct=$.d;for(it=1,rt=ct[0];rt>=10;rt/=10)it++;if(tt=_e-it,tt<0)tt+=LOG_BASE,nt=_e,st=ct[lt=0];else{if(lt=Math.ceil((tt+1)/LOG_BASE),rt=ct.length,lt>=rt)return $;for(st=rt=ct[lt],it=1;rt>=10;rt/=10)it++;tt%=LOG_BASE,nt=tt-LOG_BASE+it}if(et!==void 0&&(rt=mathpow(10,it-nt-1),ot=st/rt%10|0,at=_e<0||ct[lt+1]!==void 0||st%rt,at=et<4?(ot||at)&&(et==0||et==($.s<0?3:2)):ot>5||ot==5&&(et==4||at||et==6&&(tt>0?nt>0?st/mathpow(10,it-nt):0:ct[lt-1])%10&1||et==($.s<0?8:7))),_e<1||!ct[0])return at?(rt=getBase10Exponent($),ct.length=1,_e=_e-rt-1,ct[0]=mathpow(10,(LOG_BASE-_e%LOG_BASE)%LOG_BASE),$.e=mathfloor(-_e/LOG_BASE)||0):(ct.length=1,ct[0]=$.e=$.s=0),$;if(tt==0?(ct.length=lt,rt=1,lt--):(ct.length=lt+1,rt=mathpow(10,LOG_BASE-tt),ct[lt]=nt>0?(st/mathpow(10,it-nt)%mathpow(10,nt)|0)*rt:0),at)for(;;)if(lt==0){(ct[0]+=rt)==BASE&&(ct[0]=1,++$.e);break}else{if(ct[lt]+=rt,ct[lt]!=BASE)break;ct[lt--]=0,rt=1}for(tt=ct.length;ct[--tt]===0;)ct.pop();if(external&&($.e>MAX_E||$.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent($));return $}function subtract($,_e){var et,tt,nt,rt,it,ot,at,st,lt,ct,ut=$.constructor,dt=ut.precision;if(!$.s||!_e.s)return _e.s?_e.s=-_e.s:_e=new ut($),external?round(_e,dt):_e;if(at=$.d,ct=_e.d,tt=_e.e,st=$.e,at=at.slice(),it=st-tt,it){for(lt=it<0,lt?(et=at,it=-it,ot=ct.length):(et=ct,tt=st,ot=at.length),nt=Math.max(Math.ceil(dt/LOG_BASE),ot)+2,it>nt&&(it=nt,et.length=1),et.reverse(),nt=it;nt--;)et.push(0);et.reverse()}else{for(nt=at.length,ot=ct.length,lt=nt<ot,lt&&(ot=nt),nt=0;nt<ot;nt++)if(at[nt]!=ct[nt]){lt=at[nt]<ct[nt];break}it=0}for(lt&&(et=at,at=ct,ct=et,_e.s=-_e.s),ot=at.length,nt=ct.length-ot;nt>0;--nt)at[ot++]=0;for(nt=ct.length;nt>it;){if(at[--nt]<ct[nt]){for(rt=nt;rt&&at[--rt]===0;)at[rt]=BASE-1;--at[rt],at[nt]+=BASE}at[nt]-=ct[nt]}for(;at[--ot]===0;)at.pop();for(;at[0]===0;at.shift())--tt;return at[0]?(_e.d=at,_e.e=tt,external?round(_e,dt):_e):new ut(0)}function toString$1($,_e,et){var tt,nt=getBase10Exponent($),rt=digitsToString($.d),it=rt.length;return _e?(et&&(tt=et-it)>0?rt=rt.charAt(0)+"."+rt.slice(1)+getZeroString(tt):it>1&&(rt=rt.charAt(0)+"."+rt.slice(1)),rt=rt+(nt<0?"e":"e+")+nt):nt<0?(rt="0."+getZeroString(-nt-1)+rt,et&&(tt=et-it)>0&&(rt+=getZeroString(tt))):nt>=it?(rt+=getZeroString(nt+1-it),et&&(tt=et-nt-1)>0&&(rt=rt+"."+getZeroString(tt))):((tt=nt+1)<it&&(rt=rt.slice(0,tt)+"."+rt.slice(tt)),et&&(tt=et-it)>0&&(nt+1===it&&(rt+="."),rt+=getZeroString(tt))),$.s<0?"-"+rt:rt}function truncate($,_e){if($.length>_e)return $.length=_e,!0}function clone($){var _e,et,tt;function nt(rt){var it=this;if(!(it instanceof nt))return new nt(rt);if(it.constructor=nt,rt instanceof nt){it.s=rt.s,it.e=rt.e,it.d=(rt=rt.d)?rt.slice():rt;return}if(typeof rt=="number"){if(rt*0!==0)throw Error(invalidArgument+rt);if(rt>0)it.s=1;else if(rt<0)rt=-rt,it.s=-1;else{it.s=0,it.e=0,it.d=[0];return}if(rt===~~rt&&rt<1e7){it.e=0,it.d=[rt];return}return parseDecimal(it,rt.toString())}else if(typeof rt!="string")throw Error(invalidArgument+rt);if(rt.charCodeAt(0)===45?(rt=rt.slice(1),it.s=-1):it.s=1,isDecimal.test(rt))parseDecimal(it,rt);else throw Error(invalidArgument+rt)}if(nt.prototype=P,nt.ROUND_UP=0,nt.ROUND_DOWN=1,nt.ROUND_CEIL=2,nt.ROUND_FLOOR=3,nt.ROUND_HALF_UP=4,nt.ROUND_HALF_DOWN=5,nt.ROUND_HALF_EVEN=6,nt.ROUND_HALF_CEIL=7,nt.ROUND_HALF_FLOOR=8,nt.clone=clone,nt.config=nt.set=config,$===void 0&&($={}),$)for(tt=["precision","rounding","toExpNeg","toExpPos","LN10"],_e=0;_e<tt.length;)$.hasOwnProperty(et=tt[_e++])||($[et]=this[et]);return nt.config($),nt}function config($){if(!$||typeof $!="object")throw Error(decimalError+"Object expected");var _e,et,tt,nt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(_e=0;_e<nt.length;_e+=3)if((tt=$[et=nt[_e]])!==void 0)if(mathfloor(tt)===tt&&tt>=nt[_e+1]&&tt<=nt[_e+2])this[et]=tt;else throw Error(invalidArgument+et+": "+tt);if((tt=$[et="LN10"])!==void 0)if(tt==Math.LN10)this[et]=new this(tt);else throw Error(invalidArgument+et+": "+tt);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a($){return _arrayWithoutHoles$a($)||_iterableToArray$b($)||_unsupportedIterableToArray$f($)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$f($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$f($,_e)}}function _iterableToArray$b($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function _arrayWithoutHoles$a($){if(Array.isArray($))return _arrayLikeToArray$f($)}function _arrayLikeToArray$f($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}var identity$1=function(_e){return _e},PLACE_HOLDER={},isPlaceHolder=function(_e){return _e===PLACE_HOLDER},curry0=function(_e){return function et(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?et:_e.apply(void 0,arguments)}},curryN=function $(_e,et){return _e===1?et:curry0(function(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];var it=nt.filter(function(ot){return ot!==PLACE_HOLDER}).length;return it>=_e?et.apply(void 0,nt):$(_e-it,curry0(function(){for(var ot=arguments.length,at=new Array(ot),st=0;st<ot;st++)at[st]=arguments[st];var lt=nt.map(function(ct){return isPlaceHolder(ct)?at.shift():ct});return et.apply(void 0,_toConsumableArray$a(lt).concat(at))}))})},curry=function(_e){return curryN(_e.length,_e)},range$2=function(_e,et){for(var tt=[],nt=_e;nt<et;++nt)tt[nt-_e]=nt;return tt},map=curry(function($,_e){return Array.isArray(_e)?_e.map($):Object.keys(_e).map(function(et){return _e[et]}).map($)}),compose=function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];if(!et.length)return identity$1;var nt=et.reverse(),rt=nt[0],it=nt.slice(1);return function(){return it.reduce(function(ot,at){return at(ot)},rt.apply(void 0,arguments))}},reverse=function(_e){return Array.isArray(_e)?_e.reverse():_e.split("").reverse.join("")},memoize=function(_e){var et=null,tt=null;return function(){for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return et&&rt.every(function(ot,at){return ot===et[at]})||(et=rt,tt=_e.apply(void 0,rt)),tt}};function getDigitCount($){var _e;return $===0?_e=1:_e=Math.floor(new Decimal$1($).abs().log(10).toNumber())+1,_e}function rangeStep($,_e,et){for(var tt=new Decimal$1($),nt=0,rt=[];tt.lt(_e)&&nt<1e5;)rt.push(tt.toNumber()),tt=tt.add(et),nt++;return rt}var interpolateNumber=curry(function($,_e,et){var tt=+$,nt=+_e;return tt+et*(nt-tt)}),uninterpolateNumber=curry(function($,_e,et){var tt=_e-+$;return tt=tt||1/0,(et-$)/tt}),uninterpolateTruncation=curry(function($,_e,et){var tt=_e-+$;return tt=tt||1/0,Math.max(0,Math.min(1,(et-$)/tt))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9($){return _arrayWithoutHoles$9($)||_iterableToArray$a($)||_unsupportedIterableToArray$e($)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function _arrayWithoutHoles$9($){if(Array.isArray($))return _arrayLikeToArray$e($)}function _slicedToArray$7($,_e){return _arrayWithHoles$8($)||_iterableToArrayLimit$7($,_e)||_unsupportedIterableToArray$e($,_e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$e($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$e($,_e)}}function _arrayLikeToArray$e($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$7($,_e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var et=[],tt=!0,nt=!1,rt=void 0;try{for(var it=$[Symbol.iterator](),ot;!(tt=(ot=it.next()).done)&&(et.push(ot.value),!(_e&&et.length===_e));tt=!0);}catch(at){nt=!0,rt=at}finally{try{!tt&&it.return!=null&&it.return()}finally{if(nt)throw rt}}return et}}function _arrayWithHoles$8($){if(Array.isArray($))return $}function getValidInterval($){var _e=_slicedToArray$7($,2),et=_e[0],tt=_e[1],nt=et,rt=tt;return et>tt&&(nt=tt,rt=et),[nt,rt]}function getFormatStep($,_e,et){if($.lte(0))return new Decimal$1(0);var tt=Arithmetic.getDigitCount($.toNumber()),nt=new Decimal$1(10).pow(tt),rt=$.div(nt),it=tt!==1?.05:.1,ot=new Decimal$1(Math.ceil(rt.div(it).toNumber())).add(et).mul(it),at=ot.mul(nt);return _e?at:new Decimal$1(Math.ceil(at))}function getTickOfSingleValue($,_e,et){var tt=1,nt=new Decimal$1($);if(!nt.isint()&&et){var rt=Math.abs($);rt<1?(tt=new Decimal$1(10).pow(Arithmetic.getDigitCount($)-1),nt=new Decimal$1(Math.floor(nt.div(tt).toNumber())).mul(tt)):rt>1&&(nt=new Decimal$1(Math.floor($)))}else $===0?nt=new Decimal$1(Math.floor((_e-1)/2)):et||(nt=new Decimal$1(Math.floor($)));var it=Math.floor((_e-1)/2),ot=compose(map(function(at){return nt.add(new Decimal$1(at-it).mul(tt)).toNumber()}),range$2);return ot(0,_e)}function calculateStep($,_e,et,tt){var nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((_e-$)/(et-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var rt=getFormatStep(new Decimal$1(_e).sub($).div(et-1),tt,nt),it;$<=0&&_e>=0?it=new Decimal$1(0):(it=new Decimal$1($).add(_e).div(2),it=it.sub(new Decimal$1(it).mod(rt)));var ot=Math.ceil(it.sub($).div(rt).toNumber()),at=Math.ceil(new Decimal$1(_e).sub(it).div(rt).toNumber()),st=ot+at+1;return st>et?calculateStep($,_e,et,tt,nt+1):(st<et&&(at=_e>0?at+(et-st):at,ot=_e>0?ot:ot+(et-st)),{step:rt,tickMin:it.sub(new Decimal$1(ot).mul(rt)),tickMax:it.add(new Decimal$1(at).mul(rt))})}function getNiceTickValuesFn($){var _e=_slicedToArray$7($,2),et=_e[0],tt=_e[1],nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,it=Math.max(nt,2),ot=getValidInterval([et,tt]),at=_slicedToArray$7(ot,2),st=at[0],lt=at[1];if(st===-1/0||lt===1/0){var ct=lt===1/0?[st].concat(_toConsumableArray$9(range$2(0,nt-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$2(0,nt-1).map(function(){return-1/0})),[lt]);return et>tt?reverse(ct):ct}if(st===lt)return getTickOfSingleValue(st,nt,rt);var ut=calculateStep(st,lt,it,rt),dt=ut.step,ft=ut.tickMin,pt=ut.tickMax,mt=Arithmetic.rangeStep(ft,pt.add(new Decimal$1(.1).mul(dt)),dt);return et>tt?reverse(mt):mt}function getTickValuesFixedDomainFn($,_e){var et=_slicedToArray$7($,2),tt=et[0],nt=et[1],rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,it=getValidInterval([tt,nt]),ot=_slicedToArray$7(it,2),at=ot[0],st=ot[1];if(at===-1/0||st===1/0)return[tt,nt];if(at===st)return[at];var lt=Math.max(_e,2),ct=getFormatStep(new Decimal$1(st).sub(at).div(lt-1),rt,0),ut=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(at),new Decimal$1(st).sub(new Decimal$1(.99).mul(ct)),ct)),[st]);return tt>nt?reverse(ut):ut}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant($,_e){throw new Error(prefix)}var _excluded$b=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$w($){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$w($)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$k.apply(this,arguments)}function _slicedToArray$6($,_e){return _arrayWithHoles$7($)||_iterableToArrayLimit$6($,_e)||_unsupportedIterableToArray$d($,_e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$d($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$d($,_e)}}function _arrayLikeToArray$d($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$6($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$7($){if(Array.isArray($))return $}function _objectWithoutProperties$b($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$b($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$b($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _classCallCheck$d($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$v(tt.key),tt)}}function _createClass$d($,_e,et){return _e&&_defineProperties$d($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$a($,_e,et){return _e=_getPrototypeOf$b(_e),_possibleConstructorReturn$b($,_isNativeReflectConstruct$b()?Reflect.construct(_e,et||[],_getPrototypeOf$b($).constructor):_e.apply($,et))}function _possibleConstructorReturn$b($,_e){if(_e&&(_typeof$w(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b($)}function _assertThisInitialized$b($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$b(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!$})()}function _getPrototypeOf$b($){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$b($)}function _inherits$b($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$b($,_e)}function _setPrototypeOf$b($,_e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$b($,_e)}function _defineProperty$v($,_e,et){return _e=_toPropertyKey$v(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$v($){var _e=_toPrimitive$v($,"string");return _typeof$w(_e)=="symbol"?_e:_e+""}function _toPrimitive$v($,_e){if(_typeof$w($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$w(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var ErrorBar=function($){function _e(){return _classCallCheck$d(this,_e),_callSuper$a(this,_e,arguments)}return _inherits$b(_e,$),_createClass$d(_e,[{key:"render",value:function(){var tt=this.props,nt=tt.offset,rt=tt.layout,it=tt.width,ot=tt.dataKey,at=tt.data,st=tt.dataPointFormatter,lt=tt.xAxis,ct=tt.yAxis,ut=_objectWithoutProperties$b(tt,_excluded$b),dt=filterProps(ut,!1);this.props.direction==="x"&&lt.type!=="number"&&invariant();var ft=at.map(function(pt){var mt=st(pt,ot),ht=mt.x,yt=mt.y,xt=mt.value,St=mt.errorVal;if(!St)return null;var gt=[],vt,bt;if(Array.isArray(St)){var wt=_slicedToArray$6(St,2);vt=wt[0],bt=wt[1]}else vt=bt=St;if(rt==="vertical"){var _t=lt.scale,Ct=yt+nt,$t=Ct+it,Et=Ct-it,jt=_t(xt-vt),Vt=_t(xt+bt);gt.push({x1:Vt,y1:$t,x2:Vt,y2:Et}),gt.push({x1:jt,y1:Ct,x2:Vt,y2:Ct}),gt.push({x1:jt,y1:$t,x2:jt,y2:Et})}else if(rt==="horizontal"){var Mt=ct.scale,Ht=ht+nt,Rt=Ht-it,Ft=Ht+it,Tt=Mt(xt-vt),Dt=Mt(xt+bt);gt.push({x1:Rt,y1:Dt,x2:Ft,y2:Dt}),gt.push({x1:Ht,y1:Tt,x2:Ht,y2:Dt}),gt.push({x1:Rt,y1:Tt,x2:Ft,y2:Tt})}return React.createElement(Layer,_extends$k({className:"recharts-errorBar",key:"bar-".concat(gt.map(function(Jt){return"".concat(Jt.x1,"-").concat(Jt.x2,"-").concat(Jt.y1,"-").concat(Jt.y2)}))},dt),gt.map(function(Jt){return React.createElement("line",_extends$k({},Jt,{key:"line-".concat(Jt.x1,"-").concat(Jt.x2,"-").concat(Jt.y1,"-").concat(Jt.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},ft)}}])}(React.Component);_defineProperty$v(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$v(ErrorBar,"displayName","ErrorBar");function _typeof$v($){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$v($)}function ownKeys$r($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$r($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$r(Object(et),!0).forEach(function(tt){_defineProperty$u($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$r(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$u($,_e,et){return _e=_toPropertyKey$u(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$u($){var _e=_toPrimitive$u($,"string");return _typeof$v(_e)=="symbol"?_e:_e+""}function _toPrimitive$u($,_e){if(_typeof$v($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$v(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var getLegendProps=function(_e){var et=_e.children,tt=_e.formattedGraphicalItems,nt=_e.legendWidth,rt=_e.legendContent,it=findChildByType(et,Legend);if(!it)return null;var ot=Legend.defaultProps,at=ot!==void 0?_objectSpread$r(_objectSpread$r({},ot),it.props):{},st;return it.props&&it.props.payload?st=it.props&&it.props.payload:rt==="children"?st=(tt||[]).reduce(function(lt,ct){var ut=ct.item,dt=ct.props,ft=dt.sectors||dt.data||[];return lt.concat(ft.map(function(pt){return{type:it.props.iconType||ut.props.legendType,value:pt.name,color:pt.fill,payload:pt}}))},[]):st=(tt||[]).map(function(lt){var ct=lt.item,ut=ct.type.defaultProps,dt=ut!==void 0?_objectSpread$r(_objectSpread$r({},ut),ct.props):{},ft=dt.dataKey,pt=dt.name,mt=dt.legendType,ht=dt.hide;return{inactive:ht,dataKey:ft,type:at.iconType||mt||"square",color:getMainColorOfGraphicItem(ct),value:pt||ft,payload:dt}}),_objectSpread$r(_objectSpread$r(_objectSpread$r({},at),Legend.getWithHeight(it,nt)),{},{payload:st,item:it})};function _typeof$u($){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$u($)}function _toConsumableArray$8($){return _arrayWithoutHoles$8($)||_iterableToArray$9($)||_unsupportedIterableToArray$c($)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$c($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$c($,_e)}}function _iterableToArray$9($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$8($){if(Array.isArray($))return _arrayLikeToArray$c($)}function _arrayLikeToArray$c($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function ownKeys$q($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$q($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$q(Object(et),!0).forEach(function(tt){_defineProperty$t($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$q(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$t($,_e,et){return _e=_toPropertyKey$t(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$t($){var _e=_toPrimitive$t($,"string");return _typeof$u(_e)=="symbol"?_e:_e+""}function _toPrimitive$t($,_e){if(_typeof$u($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$u(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function getValueByDataKey($,_e,et){return isNil$1($)||isNil$1(_e)?et:isNumOrStr(_e)?get$2($,_e,et):isFunction$3(_e)?_e($):et}function getDomainOfDataByKey($,_e,et,tt){var nt=flatMap$1($,function(ot){return getValueByDataKey(ot,_e)});if(et==="number"){var rt=nt.filter(function(ot){return isNumber(ot)||parseFloat(ot)});return rt.length?[min$1(rt),max$1(rt)]:[1/0,-1/0]}var it=tt?nt.filter(function(ot){return!isNil$1(ot)}):nt;return it.map(function(ot){return isNumOrStr(ot)||ot instanceof Date?ot:""})}var calculateActiveTickIndex=function(_e){var et,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nt=arguments.length>2?arguments[2]:void 0,rt=arguments.length>3?arguments[3]:void 0,it=-1,ot=(et=tt==null?void 0:tt.length)!==null&&et!==void 0?et:0;if(ot<=1)return 0;if(rt&&rt.axisType==="angleAxis"&&Math.abs(Math.abs(rt.range[1]-rt.range[0])-360)<=1e-6)for(var at=rt.range,st=0;st<ot;st++){var lt=st>0?nt[st-1].coordinate:nt[ot-1].coordinate,ct=nt[st].coordinate,ut=st>=ot-1?nt[0].coordinate:nt[st+1].coordinate,dt=void 0;if(mathSign(ct-lt)!==mathSign(ut-ct)){var ft=[];if(mathSign(ut-ct)===mathSign(at[1]-at[0])){dt=ut;var pt=ct+at[1]-at[0];ft[0]=Math.min(pt,(pt+lt)/2),ft[1]=Math.max(pt,(pt+lt)/2)}else{dt=lt;var mt=ut+at[1]-at[0];ft[0]=Math.min(ct,(mt+ct)/2),ft[1]=Math.max(ct,(mt+ct)/2)}var ht=[Math.min(ct,(dt+ct)/2),Math.max(ct,(dt+ct)/2)];if(_e>ht[0]&&_e<=ht[1]||_e>=ft[0]&&_e<=ft[1]){it=nt[st].index;break}}else{var yt=Math.min(lt,ut),xt=Math.max(lt,ut);if(_e>(yt+ct)/2&&_e<=(xt+ct)/2){it=nt[st].index;break}}}else for(var St=0;St<ot;St++)if(St===0&&_e<=(tt[St].coordinate+tt[St+1].coordinate)/2||St>0&&St<ot-1&&_e>(tt[St].coordinate+tt[St-1].coordinate)/2&&_e<=(tt[St].coordinate+tt[St+1].coordinate)/2||St===ot-1&&_e>(tt[St].coordinate+tt[St-1].coordinate)/2){it=tt[St].index;break}return it},getMainColorOfGraphicItem=function(_e){var et,tt=_e,nt=tt.type.displayName,rt=(et=_e.type)!==null&&et!==void 0&&et.defaultProps?_objectSpread$q(_objectSpread$q({},_e.type.defaultProps),_e.props):_e.props,it=rt.stroke,ot=rt.fill,at;switch(nt){case"Line":at=it;break;case"Area":case"Radar":at=it&&it!=="none"?it:ot;break;default:at=ot;break}return at},getBarSizeList=function(_e){var et=_e.barSize,tt=_e.totalSize,nt=_e.stackGroups,rt=nt===void 0?{}:nt;if(!rt)return{};for(var it={},ot=Object.keys(rt),at=0,st=ot.length;at<st;at++)for(var lt=rt[ot[at]].stackGroups,ct=Object.keys(lt),ut=0,dt=ct.length;ut<dt;ut++){var ft=lt[ct[ut]],pt=ft.items,mt=ft.cateAxisId,ht=pt.filter(function(bt){return getDisplayName(bt.type).indexOf("Bar")>=0});if(ht&&ht.length){var yt=ht[0].type.defaultProps,xt=yt!==void 0?_objectSpread$q(_objectSpread$q({},yt),ht[0].props):ht[0].props,St=xt.barSize,gt=xt[mt];it[gt]||(it[gt]=[]);var vt=isNil$1(St)?et:St;it[gt].push({item:ht[0],stackList:ht.slice(1),barSize:isNil$1(vt)?void 0:getPercentValue(vt,tt,0)})}}return it},getBarPosition=function(_e){var et=_e.barGap,tt=_e.barCategoryGap,nt=_e.bandSize,rt=_e.sizeList,it=rt===void 0?[]:rt,ot=_e.maxBarSize,at=it.length;if(at<1)return null;var st=getPercentValue(et,nt,0,!0),lt,ct=[];if(it[0].barSize===+it[0].barSize){var ut=!1,dt=nt/at,ft=it.reduce(function(St,gt){return St+gt.barSize||0},0);ft+=(at-1)*st,ft>=nt&&(ft-=(at-1)*st,st=0),ft>=nt&&dt>0&&(ut=!0,dt*=.9,ft=at*dt);var pt=(nt-ft)/2>>0,mt={offset:pt-st,size:0};lt=it.reduce(function(St,gt){var vt={item:gt.item,position:{offset:mt.offset+mt.size+st,size:ut?dt:gt.barSize}},bt=[].concat(_toConsumableArray$8(St),[vt]);return mt=bt[bt.length-1].position,gt.stackList&&gt.stackList.length&&gt.stackList.forEach(function(wt){bt.push({item:wt,position:mt})}),bt},ct)}else{var ht=getPercentValue(tt,nt,0,!0);nt-2*ht-(at-1)*st<=0&&(st=0);var yt=(nt-2*ht-(at-1)*st)/at;yt>1&&(yt>>=0);var xt=ot===+ot?Math.min(yt,ot):yt;lt=it.reduce(function(St,gt,vt){var bt=[].concat(_toConsumableArray$8(St),[{item:gt.item,position:{offset:ht+(yt+st)*vt+(yt-xt)/2,size:xt}}]);return gt.stackList&&gt.stackList.length&&gt.stackList.forEach(function(wt){bt.push({item:wt,position:bt[bt.length-1].position})}),bt},ct)}return lt},appendOffsetOfLegend=function(_e,et,tt,nt){var rt=tt.children,it=tt.width,ot=tt.margin,at=it-(ot.left||0)-(ot.right||0),st=getLegendProps({children:rt,legendWidth:at});if(st){var lt=nt||{},ct=lt.width,ut=lt.height,dt=st.align,ft=st.verticalAlign,pt=st.layout;if((pt==="vertical"||pt==="horizontal"&&ft==="middle")&&dt!=="center"&&isNumber(_e[dt]))return _objectSpread$q(_objectSpread$q({},_e),{},_defineProperty$t({},dt,_e[dt]+(ct||0)));if((pt==="horizontal"||pt==="vertical"&&dt==="center")&&ft!=="middle"&&isNumber(_e[ft]))return _objectSpread$q(_objectSpread$q({},_e),{},_defineProperty$t({},ft,_e[ft]+(ut||0)))}return _e},isErrorBarRelevantForAxis=function(_e,et,tt){return isNil$1(et)?!0:_e==="horizontal"?et==="yAxis":_e==="vertical"||tt==="x"?et==="xAxis":tt==="y"?et==="yAxis":!0},getDomainOfErrorBars=function(_e,et,tt,nt,rt){var it=et.props.children,ot=findAllByType(it,ErrorBar).filter(function(st){return isErrorBarRelevantForAxis(nt,rt,st.props.direction)});if(ot&&ot.length){var at=ot.map(function(st){return st.props.dataKey});return _e.reduce(function(st,lt){var ct=getValueByDataKey(lt,tt);if(isNil$1(ct))return st;var ut=Array.isArray(ct)?[min$1(ct),max$1(ct)]:[ct,ct],dt=at.reduce(function(ft,pt){var mt=getValueByDataKey(lt,pt,0),ht=ut[0]-Math.abs(Array.isArray(mt)?mt[0]:mt),yt=ut[1]+Math.abs(Array.isArray(mt)?mt[1]:mt);return[Math.min(ht,ft[0]),Math.max(yt,ft[1])]},[1/0,-1/0]);return[Math.min(dt[0],st[0]),Math.max(dt[1],st[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(_e,et,tt,nt,rt){var it=et.map(function(ot){return getDomainOfErrorBars(_e,ot,tt,rt,nt)}).filter(function(ot){return!isNil$1(ot)});return it&&it.length?it.reduce(function(ot,at){return[Math.min(ot[0],at[0]),Math.max(ot[1],at[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(_e,et,tt,nt,rt){var it=et.map(function(at){var st=at.props.dataKey;return tt==="number"&&st&&getDomainOfErrorBars(_e,at,st,nt)||getDomainOfDataByKey(_e,st,tt,rt)});if(tt==="number")return it.reduce(function(at,st){return[Math.min(at[0],st[0]),Math.max(at[1],st[1])]},[1/0,-1/0]);var ot={};return it.reduce(function(at,st){for(var lt=0,ct=st.length;lt<ct;lt++)ot[st[lt]]||(ot[st[lt]]=!0,at.push(st[lt]));return at},[])},isCategoricalAxis=function(_e,et){return _e==="horizontal"&&et==="xAxis"||_e==="vertical"&&et==="yAxis"||_e==="centric"&&et==="angleAxis"||_e==="radial"&&et==="radiusAxis"},getCoordinatesOfGrid=function(_e,et,tt,nt){if(nt)return _e.map(function(at){return at.coordinate});var rt,it,ot=_e.map(function(at){return at.coordinate===et&&(rt=!0),at.coordinate===tt&&(it=!0),at.coordinate});return rt||ot.push(et),it||ot.push(tt),ot},getTicksOfAxis=function(_e,et,tt){if(!_e)return null;var nt=_e.scale,rt=_e.duplicateDomain,it=_e.type,ot=_e.range,at=_e.realScaleType==="scaleBand"?nt.bandwidth()/2:2,st=(et||tt)&&it==="category"&&nt.bandwidth?nt.bandwidth()/at:0;if(st=_e.axisType==="angleAxis"&&(ot==null?void 0:ot.length)>=2?mathSign(ot[0]-ot[1])*2*st:st,et&&(_e.ticks||_e.niceTicks)){var lt=(_e.ticks||_e.niceTicks).map(function(ct){var ut=rt?rt.indexOf(ct):ct;return{coordinate:nt(ut)+st,value:ct,offset:st}});return lt.filter(function(ct){return!isNan(ct.coordinate)})}return _e.isCategorical&&_e.categoricalDomain?_e.categoricalDomain.map(function(ct,ut){return{coordinate:nt(ct)+st,value:ct,index:ut,offset:st}}):nt.ticks&&!tt?nt.ticks(_e.tickCount).map(function(ct){return{coordinate:nt(ct)+st,value:ct,offset:st}}):nt.domain().map(function(ct,ut){return{coordinate:nt(ct)+st,value:rt?rt[ct]:ct,index:ut,offset:st}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(_e,et){if(typeof et!="function")return _e;handlerWeakMap.has(_e)||handlerWeakMap.set(_e,new WeakMap);var tt=handlerWeakMap.get(_e);if(tt.has(et))return tt.get(et);var nt=function(){_e.apply(void 0,arguments),et.apply(void 0,arguments)};return tt.set(et,nt),nt},parseScale=function(_e,et,tt){var nt=_e.scale,rt=_e.type,it=_e.layout,ot=_e.axisType;if(nt==="auto")return it==="radial"&&ot==="radiusAxis"?{scale:band(),realScaleType:"band"}:it==="radial"&&ot==="angleAxis"?{scale:linear(),realScaleType:"linear"}:rt==="category"&&et&&(et.indexOf("LineChart")>=0||et.indexOf("AreaChart")>=0||et.indexOf("ComposedChart")>=0&&!tt)?{scale:point(),realScaleType:"point"}:rt==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(nt)){var at="scale".concat(upperFirst$1(nt));return{scale:(d3Scales[at]||point)(),realScaleType:d3Scales[at]?at:"point"}}return isFunction$3(nt)?{scale:nt}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(_e){var et=_e.domain();if(!(!et||et.length<=2)){var tt=et.length,nt=_e.range(),rt=Math.min(nt[0],nt[1])-EPS,it=Math.max(nt[0],nt[1])+EPS,ot=_e(et[0]),at=_e(et[tt-1]);(ot<rt||ot>it||at<rt||at>it)&&_e.domain([et[0],et[tt-1]])}},findPositionOfBar=function(_e,et){if(!_e)return null;for(var tt=0,nt=_e.length;tt<nt;tt++)if(_e[tt].item===et)return _e[tt].position;return null},truncateByDomain=function(_e,et){if(!et||et.length!==2||!isNumber(et[0])||!isNumber(et[1]))return _e;var tt=Math.min(et[0],et[1]),nt=Math.max(et[0],et[1]),rt=[_e[0],_e[1]];return(!isNumber(_e[0])||_e[0]<tt)&&(rt[0]=tt),(!isNumber(_e[1])||_e[1]>nt)&&(rt[1]=nt),rt[0]>nt&&(rt[0]=nt),rt[1]<tt&&(rt[1]=tt),rt},offsetSign=function(_e){var et=_e.length;if(!(et<=0))for(var tt=0,nt=_e[0].length;tt<nt;++tt)for(var rt=0,it=0,ot=0;ot<et;++ot){var at=isNan(_e[ot][tt][1])?_e[ot][tt][0]:_e[ot][tt][1];at>=0?(_e[ot][tt][0]=rt,_e[ot][tt][1]=rt+at,rt=_e[ot][tt][1]):(_e[ot][tt][0]=it,_e[ot][tt][1]=it+at,it=_e[ot][tt][1])}},offsetPositive=function(_e){var et=_e.length;if(!(et<=0))for(var tt=0,nt=_e[0].length;tt<nt;++tt)for(var rt=0,it=0;it<et;++it){var ot=isNan(_e[it][tt][1])?_e[it][tt][0]:_e[it][tt][1];ot>=0?(_e[it][tt][0]=rt,_e[it][tt][1]=rt+ot,rt=_e[it][tt][1]):(_e[it][tt][0]=0,_e[it][tt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(_e,et,tt){var nt=et.map(function(ot){return ot.props.dataKey}),rt=STACK_OFFSET_MAP[tt],it=shapeStack().keys(nt).value(function(ot,at){return+getValueByDataKey(ot,at,0)}).order(stackOrderNone).offset(rt);return it(_e)},getStackGroupsByAxisId=function(_e,et,tt,nt,rt,it){if(!_e)return null;var ot=it?et.reverse():et,at={},st=ot.reduce(function(ct,ut){var dt,ft=(dt=ut.type)!==null&&dt!==void 0&&dt.defaultProps?_objectSpread$q(_objectSpread$q({},ut.type.defaultProps),ut.props):ut.props,pt=ft.stackId,mt=ft.hide;if(mt)return ct;var ht=ft[tt],yt=ct[ht]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(pt)){var xt=yt.stackGroups[pt]||{numericAxisId:tt,cateAxisId:nt,items:[]};xt.items.push(ut),yt.hasStack=!0,yt.stackGroups[pt]=xt}else yt.stackGroups[uniqueId("_stackId_")]={numericAxisId:tt,cateAxisId:nt,items:[ut]};return _objectSpread$q(_objectSpread$q({},ct),{},_defineProperty$t({},ht,yt))},at),lt={};return Object.keys(st).reduce(function(ct,ut){var dt=st[ut];if(dt.hasStack){var ft={};dt.stackGroups=Object.keys(dt.stackGroups).reduce(function(pt,mt){var ht=dt.stackGroups[mt];return _objectSpread$q(_objectSpread$q({},pt),{},_defineProperty$t({},mt,{numericAxisId:tt,cateAxisId:nt,items:ht.items,stackedData:getStackedData(_e,ht.items,rt)}))},ft)}return _objectSpread$q(_objectSpread$q({},ct),{},_defineProperty$t({},ut,dt))},lt)},getTicksOfScale=function(_e,et){var tt=et.realScaleType,nt=et.type,rt=et.tickCount,it=et.originalDomain,ot=et.allowDecimals,at=tt||et.scale;if(at!=="auto"&&at!=="linear")return null;if(rt&&nt==="number"&&it&&(it[0]==="auto"||it[1]==="auto")){var st=_e.domain();if(!st.length)return null;var lt=getNiceTickValues(st,rt,ot);return _e.domain([min$1(lt),max$1(lt)]),{niceTicks:lt}}if(rt&&nt==="number"){var ct=_e.domain(),ut=getTickValuesFixedDomain(ct,rt,ot);return{niceTicks:ut}}return null};function getCateCoordinateOfLine($){var _e=$.axis,et=$.ticks,tt=$.bandSize,nt=$.entry,rt=$.index,it=$.dataKey;if(_e.type==="category"){if(!_e.allowDuplicatedCategory&&_e.dataKey&&!isNil$1(nt[_e.dataKey])){var ot=findEntryInArray(et,"value",nt[_e.dataKey]);if(ot)return ot.coordinate+tt/2}return et[rt]?et[rt].coordinate+tt/2:null}var at=getValueByDataKey(nt,isNil$1(it)?_e.dataKey:it);return isNil$1(at)?null:_e.scale(at)}var getCateCoordinateOfBar=function(_e){var et=_e.axis,tt=_e.ticks,nt=_e.offset,rt=_e.bandSize,it=_e.entry,ot=_e.index;if(et.type==="category")return tt[ot]?tt[ot].coordinate+nt:null;var at=getValueByDataKey(it,et.dataKey,et.domain[ot]);return isNil$1(at)?null:et.scale(at)-rt/2+nt},getBaseValueOfBar=function(_e){var et=_e.numericAxis,tt=et.scale.domain();if(et.type==="number"){var nt=Math.min(tt[0],tt[1]),rt=Math.max(tt[0],tt[1]);return nt<=0&&rt>=0?0:rt<0?rt:nt}return tt[0]},getStackedDataOfItem=function(_e,et){var tt,nt=(tt=_e.type)!==null&&tt!==void 0&&tt.defaultProps?_objectSpread$q(_objectSpread$q({},_e.type.defaultProps),_e.props):_e.props,rt=nt.stackId;if(isNumOrStr(rt)){var it=et[rt];if(it){var ot=it.items.indexOf(_e);return ot>=0?it.stackedData[ot]:null}}return null},getDomainOfSingle=function(_e){return _e.reduce(function(et,tt){return[min$1(tt.concat([et[0]]).filter(isNumber)),max$1(tt.concat([et[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(_e,et,tt){return Object.keys(_e).reduce(function(nt,rt){var it=_e[rt],ot=it.stackedData,at=ot.reduce(function(st,lt){var ct=getDomainOfSingle(lt.slice(et,tt+1));return[Math.min(st[0],ct[0]),Math.max(st[1],ct[1])]},[1/0,-1/0]);return[Math.min(at[0],nt[0]),Math.max(at[1],nt[1])]},[1/0,-1/0]).map(function(nt){return nt===1/0||nt===-1/0?0:nt})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(_e,et,tt){if(isFunction$3(_e))return _e(et,tt);if(!Array.isArray(_e))return et;var nt=[];if(isNumber(_e[0]))nt[0]=tt?_e[0]:Math.min(_e[0],et[0]);else if(MIN_VALUE_REG.test(_e[0])){var rt=+MIN_VALUE_REG.exec(_e[0])[1];nt[0]=et[0]-rt}else isFunction$3(_e[0])?nt[0]=_e[0](et[0]):nt[0]=et[0];if(isNumber(_e[1]))nt[1]=tt?_e[1]:Math.max(_e[1],et[1]);else if(MAX_VALUE_REG.test(_e[1])){var it=+MAX_VALUE_REG.exec(_e[1])[1];nt[1]=et[1]+it}else isFunction$3(_e[1])?nt[1]=_e[1](et[1]):nt[1]=et[1];return nt},getBandSizeOfAxis=function(_e,et,tt){if(_e&&_e.scale&&_e.scale.bandwidth){var nt=_e.scale.bandwidth();if(!tt||nt>0)return nt}if(_e&&et&&et.length>=2){for(var rt=sortBy$1(et,function(ct){return ct.coordinate}),it=1/0,ot=1,at=rt.length;ot<at;ot++){var st=rt[ot],lt=rt[ot-1];it=Math.min((st.coordinate||0)-(lt.coordinate||0),it)}return it===1/0?0:it}return tt?void 0:0},parseDomainOfCategoryAxis=function(_e,et,tt){return!_e||!_e.length||isEqual$1(_e,get$2(tt,"type.defaultProps.domain"))?et:_e},getTooltipItem=function(_e,et){var tt=_e.type.defaultProps?_objectSpread$q(_objectSpread$q({},_e.type.defaultProps),_e.props):_e.props,nt=tt.dataKey,rt=tt.name,it=tt.unit,ot=tt.formatter,at=tt.tooltipType,st=tt.chartType,lt=tt.hide;return _objectSpread$q(_objectSpread$q({},filterProps(_e,!1)),{},{dataKey:nt,unit:it,formatter:ot,name:rt||nt,color:getMainColorOfGraphicItem(_e),value:getValueByDataKey(et,nt),type:at,payload:et,chartType:st,hide:lt})};function _typeof$t($){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$t($)}function ownKeys$p($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$p($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$p(Object(et),!0).forEach(function(tt){_defineProperty$s($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$p(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$s($,_e,et){return _e=_toPropertyKey$s(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$s($){var _e=_toPrimitive$s($,"string");return _typeof$t(_e)=="symbol"?_e:_e+""}function _toPrimitive$s($,_e){if(_typeof$t($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$t(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var RADIAN=Math.PI/180,radianToDegree=function(_e){return _e*180/Math.PI},polarToCartesian=function(_e,et,tt,nt){return{x:_e+Math.cos(-RADIAN*nt)*tt,y:et+Math.sin(-RADIAN*nt)*tt}},distanceBetweenPoints=function(_e,et){var tt=_e.x,nt=_e.y,rt=et.x,it=et.y;return Math.sqrt(Math.pow(tt-rt,2)+Math.pow(nt-it,2))},getAngleOfPoint=function(_e,et){var tt=_e.x,nt=_e.y,rt=et.cx,it=et.cy,ot=distanceBetweenPoints({x:tt,y:nt},{x:rt,y:it});if(ot<=0)return{radius:ot};var at=(tt-rt)/ot,st=Math.acos(at);return nt>it&&(st=2*Math.PI-st),{radius:ot,angle:radianToDegree(st),angleInRadian:st}},formatAngleOfSector=function(_e){var et=_e.startAngle,tt=_e.endAngle,nt=Math.floor(et/360),rt=Math.floor(tt/360),it=Math.min(nt,rt);return{startAngle:et-it*360,endAngle:tt-it*360}},reverseFormatAngleOfSetor=function(_e,et){var tt=et.startAngle,nt=et.endAngle,rt=Math.floor(tt/360),it=Math.floor(nt/360),ot=Math.min(rt,it);return _e+ot*360},inRangeOfSector=function(_e,et){var tt=_e.x,nt=_e.y,rt=getAngleOfPoint({x:tt,y:nt},et),it=rt.radius,ot=rt.angle,at=et.innerRadius,st=et.outerRadius;if(it<at||it>st)return!1;if(it===0)return!0;var lt=formatAngleOfSector(et),ct=lt.startAngle,ut=lt.endAngle,dt=ot,ft;if(ct<=ut){for(;dt>ut;)dt-=360;for(;dt<ct;)dt+=360;ft=dt>=ct&&dt<=ut}else{for(;dt>ct;)dt-=360;for(;dt<ut;)dt+=360;ft=dt>=ut&&dt<=ct}return ft?_objectSpread$p(_objectSpread$p({},et),{},{radius:it,angle:reverseFormatAngleOfSetor(dt,et)}):null};function _typeof$s($){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$s($)}var _excluded$a=["offset"];function _toConsumableArray$7($){return _arrayWithoutHoles$7($)||_iterableToArray$8($)||_unsupportedIterableToArray$b($)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$b($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$b($,_e)}}function _iterableToArray$8($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$7($){if(Array.isArray($))return _arrayLikeToArray$b($)}function _arrayLikeToArray$b($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _objectWithoutProperties$a($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$a($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$a($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function ownKeys$o($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$o($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$o(Object(et),!0).forEach(function(tt){_defineProperty$r($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$o(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$r($,_e,et){return _e=_toPropertyKey$r(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$r($){var _e=_toPrimitive$r($,"string");return _typeof$s(_e)=="symbol"?_e:_e+""}function _toPrimitive$r($,_e){if(_typeof$s($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$s(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$j.apply(this,arguments)}var getLabel=function(_e){var et=_e.value,tt=_e.formatter,nt=isNil$1(_e.children)?et:_e.children;return isFunction$3(tt)?tt(nt):nt},getDeltaAngle$1=function(_e,et){var tt=mathSign(et-_e),nt=Math.min(Math.abs(et-_e),360);return tt*nt},renderRadialLabel=function(_e,et,tt){var nt=_e.position,rt=_e.viewBox,it=_e.offset,ot=_e.className,at=rt,st=at.cx,lt=at.cy,ct=at.innerRadius,ut=at.outerRadius,dt=at.startAngle,ft=at.endAngle,pt=at.clockWise,mt=(ct+ut)/2,ht=getDeltaAngle$1(dt,ft),yt=ht>=0?1:-1,xt,St;nt==="insideStart"?(xt=dt+yt*it,St=pt):nt==="insideEnd"?(xt=ft-yt*it,St=!pt):nt==="end"&&(xt=ft+yt*it,St=pt),St=ht<=0?St:!St;var gt=polarToCartesian(st,lt,mt,xt),vt=polarToCartesian(st,lt,mt,xt+(St?1:-1)*359),bt="M".concat(gt.x,",").concat(gt.y,`
    A`).concat(mt,",").concat(mt,",0,1,").concat(St?0:1,`,
    `).concat(vt.x,",").concat(vt.y),wt=isNil$1(_e.id)?uniqueId("recharts-radial-line-"):_e.id;return React.createElement("text",_extends$j({},tt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",ot)}),React.createElement("defs",null,React.createElement("path",{id:wt,d:bt})),React.createElement("textPath",{xlinkHref:"#".concat(wt)},et))},getAttrsOfPolarLabel=function(_e){var et=_e.viewBox,tt=_e.offset,nt=_e.position,rt=et,it=rt.cx,ot=rt.cy,at=rt.innerRadius,st=rt.outerRadius,lt=rt.startAngle,ct=rt.endAngle,ut=(lt+ct)/2;if(nt==="outside"){var dt=polarToCartesian(it,ot,st+tt,ut),ft=dt.x,pt=dt.y;return{x:ft,y:pt,textAnchor:ft>=it?"start":"end",verticalAnchor:"middle"}}if(nt==="center")return{x:it,y:ot,textAnchor:"middle",verticalAnchor:"middle"};if(nt==="centerTop")return{x:it,y:ot,textAnchor:"middle",verticalAnchor:"start"};if(nt==="centerBottom")return{x:it,y:ot,textAnchor:"middle",verticalAnchor:"end"};var mt=(at+st)/2,ht=polarToCartesian(it,ot,mt,ut),yt=ht.x,xt=ht.y;return{x:yt,y:xt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(_e){var et=_e.viewBox,tt=_e.parentViewBox,nt=_e.offset,rt=_e.position,it=et,ot=it.x,at=it.y,st=it.width,lt=it.height,ct=lt>=0?1:-1,ut=ct*nt,dt=ct>0?"end":"start",ft=ct>0?"start":"end",pt=st>=0?1:-1,mt=pt*nt,ht=pt>0?"end":"start",yt=pt>0?"start":"end";if(rt==="top"){var xt={x:ot+st/2,y:at-ct*nt,textAnchor:"middle",verticalAnchor:dt};return _objectSpread$o(_objectSpread$o({},xt),tt?{height:Math.max(at-tt.y,0),width:st}:{})}if(rt==="bottom"){var St={x:ot+st/2,y:at+lt+ut,textAnchor:"middle",verticalAnchor:ft};return _objectSpread$o(_objectSpread$o({},St),tt?{height:Math.max(tt.y+tt.height-(at+lt),0),width:st}:{})}if(rt==="left"){var gt={x:ot-mt,y:at+lt/2,textAnchor:ht,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},gt),tt?{width:Math.max(gt.x-tt.x,0),height:lt}:{})}if(rt==="right"){var vt={x:ot+st+mt,y:at+lt/2,textAnchor:yt,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},vt),tt?{width:Math.max(tt.x+tt.width-vt.x,0),height:lt}:{})}var bt=tt?{width:st,height:lt}:{};return rt==="insideLeft"?_objectSpread$o({x:ot+mt,y:at+lt/2,textAnchor:yt,verticalAnchor:"middle"},bt):rt==="insideRight"?_objectSpread$o({x:ot+st-mt,y:at+lt/2,textAnchor:ht,verticalAnchor:"middle"},bt):rt==="insideTop"?_objectSpread$o({x:ot+st/2,y:at+ut,textAnchor:"middle",verticalAnchor:ft},bt):rt==="insideBottom"?_objectSpread$o({x:ot+st/2,y:at+lt-ut,textAnchor:"middle",verticalAnchor:dt},bt):rt==="insideTopLeft"?_objectSpread$o({x:ot+mt,y:at+ut,textAnchor:yt,verticalAnchor:ft},bt):rt==="insideTopRight"?_objectSpread$o({x:ot+st-mt,y:at+ut,textAnchor:ht,verticalAnchor:ft},bt):rt==="insideBottomLeft"?_objectSpread$o({x:ot+mt,y:at+lt-ut,textAnchor:yt,verticalAnchor:dt},bt):rt==="insideBottomRight"?_objectSpread$o({x:ot+st-mt,y:at+lt-ut,textAnchor:ht,verticalAnchor:dt},bt):isObject$8(rt)&&(isNumber(rt.x)||isPercent(rt.x))&&(isNumber(rt.y)||isPercent(rt.y))?_objectSpread$o({x:ot+getPercentValue(rt.x,st),y:at+getPercentValue(rt.y,lt),textAnchor:"end",verticalAnchor:"end"},bt):_objectSpread$o({x:ot+st/2,y:at+lt/2,textAnchor:"middle",verticalAnchor:"middle"},bt)},isPolar=function(_e){return"cx"in _e&&isNumber(_e.cx)};function Label($){var _e=$.offset,et=_e===void 0?5:_e,tt=_objectWithoutProperties$a($,_excluded$a),nt=_objectSpread$o({offset:et},tt),rt=nt.viewBox,it=nt.position,ot=nt.value,at=nt.children,st=nt.content,lt=nt.className,ct=lt===void 0?"":lt,ut=nt.textBreakAll;if(!rt||isNil$1(ot)&&isNil$1(at)&&!reactExports.isValidElement(st)&&!isFunction$3(st))return null;if(reactExports.isValidElement(st))return reactExports.cloneElement(st,nt);var dt;if(isFunction$3(st)){if(dt=reactExports.createElement(st,nt),reactExports.isValidElement(dt))return dt}else dt=getLabel(nt);var ft=isPolar(rt),pt=filterProps(nt,!0);if(ft&&(it==="insideStart"||it==="insideEnd"||it==="end"))return renderRadialLabel(nt,dt,pt);var mt=ft?getAttrsOfPolarLabel(nt):getAttrsOfCartesianLabel(nt);return React.createElement(Text,_extends$j({className:clsx("recharts-label",ct)},pt,mt,{breakAll:ut}),dt)}Label.displayName="Label";var parseViewBox=function(_e){var et=_e.cx,tt=_e.cy,nt=_e.angle,rt=_e.startAngle,it=_e.endAngle,ot=_e.r,at=_e.radius,st=_e.innerRadius,lt=_e.outerRadius,ct=_e.x,ut=_e.y,dt=_e.top,ft=_e.left,pt=_e.width,mt=_e.height,ht=_e.clockWise,yt=_e.labelViewBox;if(yt)return yt;if(isNumber(pt)&&isNumber(mt)){if(isNumber(ct)&&isNumber(ut))return{x:ct,y:ut,width:pt,height:mt};if(isNumber(dt)&&isNumber(ft))return{x:dt,y:ft,width:pt,height:mt}}return isNumber(ct)&&isNumber(ut)?{x:ct,y:ut,width:0,height:0}:isNumber(et)&&isNumber(tt)?{cx:et,cy:tt,startAngle:rt||nt||0,endAngle:it||nt||0,innerRadius:st||0,outerRadius:lt||at||ot||0,clockWise:ht}:_e.viewBox?_e.viewBox:{}},parseLabel=function(_e,et){return _e?_e===!0?React.createElement(Label,{key:"label-implicit",viewBox:et}):isNumOrStr(_e)?React.createElement(Label,{key:"label-implicit",viewBox:et,value:_e}):reactExports.isValidElement(_e)?_e.type===Label?reactExports.cloneElement(_e,{key:"label-implicit",viewBox:et}):React.createElement(Label,{key:"label-implicit",content:_e,viewBox:et}):isFunction$3(_e)?React.createElement(Label,{key:"label-implicit",content:_e,viewBox:et}):isObject$8(_e)?React.createElement(Label,_extends$j({viewBox:et},_e,{key:"label-implicit"})):null:null},renderCallByParent$1=function(_e,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_e||!_e.children&&tt&&!_e.label)return null;var nt=_e.children,rt=parseViewBox(_e),it=findAllByType(nt,Label).map(function(at,st){return reactExports.cloneElement(at,{viewBox:et||rt,key:"label-".concat(st)})});if(!tt)return it;var ot=parseLabel(_e.label,et||rt);return[ot].concat(_toConsumableArray$7(it))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last($){var _e=$==null?0:$.length;return _e?$[_e-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs$1(last_1);function _typeof$r($){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$r($)}var _excluded$9=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6($){return _arrayWithoutHoles$6($)||_iterableToArray$7($)||_unsupportedIterableToArray$a($)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$a($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$a($,_e)}}function _iterableToArray$7($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$6($){if(Array.isArray($))return _arrayLikeToArray$a($)}function _arrayLikeToArray$a($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$i.apply(this,arguments)}function ownKeys$n($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$n($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$n(Object(et),!0).forEach(function(tt){_defineProperty$q($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$n(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$q($,_e,et){return _e=_toPropertyKey$q(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$q($){var _e=_toPrimitive$q($,"string");return _typeof$r(_e)=="symbol"?_e:_e+""}function _toPrimitive$q($,_e){if(_typeof$r($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$r(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _objectWithoutProperties$9($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$9($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$9($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}var defaultAccessor=function(_e){return Array.isArray(_e.value)?last$1(_e.value):_e.value};function LabelList($){var _e=$.valueAccessor,et=_e===void 0?defaultAccessor:_e,tt=_objectWithoutProperties$9($,_excluded$9),nt=tt.data,rt=tt.dataKey,it=tt.clockWise,ot=tt.id,at=tt.textBreakAll,st=_objectWithoutProperties$9(tt,_excluded2$4);return!nt||!nt.length?null:React.createElement(Layer,{className:"recharts-label-list"},nt.map(function(lt,ct){var ut=isNil$1(rt)?et(lt,ct):getValueByDataKey(lt&&lt.payload,rt),dt=isNil$1(ot)?{}:{id:"".concat(ot,"-").concat(ct)};return React.createElement(Label,_extends$i({},filterProps(lt,!0),st,dt,{parentViewBox:lt.parentViewBox,value:ut,textBreakAll:at,viewBox:Label.parseViewBox(isNil$1(it)?lt:_objectSpread$n(_objectSpread$n({},lt),{},{clockWise:it})),key:"label-".concat(ct),index:ct}))}))}LabelList.displayName="LabelList";function parseLabelList($,_e){return $?$===!0?React.createElement(LabelList,{key:"labelList-implicit",data:_e}):React.isValidElement($)||isFunction$3($)?React.createElement(LabelList,{key:"labelList-implicit",data:_e,content:$}):isObject$8($)?React.createElement(LabelList,_extends$i({data:_e},$,{key:"labelList-implicit"})):null:null}function renderCallByParent($,_e){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!$||!$.children&&et&&!$.label)return null;var tt=$.children,nt=findAllByType(tt,LabelList).map(function(it,ot){return reactExports.cloneElement(it,{data:_e,key:"labelList-".concat(ot)})});if(!et)return nt;var rt=parseLabelList($.label,_e);return[rt].concat(_toConsumableArray$6(nt))}LabelList.renderCallByParent=renderCallByParent;function _typeof$q($){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$q($)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$h.apply(this,arguments)}function ownKeys$m($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$m($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$m(Object(et),!0).forEach(function(tt){_defineProperty$p($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$m(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$p($,_e,et){return _e=_toPropertyKey$p(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$p($){var _e=_toPrimitive$p($,"string");return _typeof$q(_e)=="symbol"?_e:_e+""}function _toPrimitive$p($,_e){if(_typeof$q($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$q(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var getDeltaAngle=function(_e,et){var tt=mathSign(et-_e),nt=Math.min(Math.abs(et-_e),359.999);return tt*nt},getTangentCircle=function(_e){var et=_e.cx,tt=_e.cy,nt=_e.radius,rt=_e.angle,it=_e.sign,ot=_e.isExternal,at=_e.cornerRadius,st=_e.cornerIsExternal,lt=at*(ot?1:-1)+nt,ct=Math.asin(at/lt)/RADIAN,ut=st?rt:rt+it*ct,dt=polarToCartesian(et,tt,lt,ut),ft=polarToCartesian(et,tt,nt,ut),pt=st?rt-it*ct:rt,mt=polarToCartesian(et,tt,lt*Math.cos(ct*RADIAN),pt);return{center:dt,circleTangency:ft,lineTangency:mt,theta:ct}},getSectorPath=function(_e){var et=_e.cx,tt=_e.cy,nt=_e.innerRadius,rt=_e.outerRadius,it=_e.startAngle,ot=_e.endAngle,at=getDeltaAngle(it,ot),st=it+at,lt=polarToCartesian(et,tt,rt,it),ct=polarToCartesian(et,tt,rt,st),ut="M ".concat(lt.x,",").concat(lt.y,`
    A `).concat(rt,",").concat(rt,`,0,
    `).concat(+(Math.abs(at)>180),",").concat(+(it>st),`,
    `).concat(ct.x,",").concat(ct.y,`
  `);if(nt>0){var dt=polarToCartesian(et,tt,nt,it),ft=polarToCartesian(et,tt,nt,st);ut+="L ".concat(ft.x,",").concat(ft.y,`
            A `).concat(nt,",").concat(nt,`,0,
            `).concat(+(Math.abs(at)>180),",").concat(+(it<=st),`,
            `).concat(dt.x,",").concat(dt.y," Z")}else ut+="L ".concat(et,",").concat(tt," Z");return ut},getSectorWithCorner=function(_e){var et=_e.cx,tt=_e.cy,nt=_e.innerRadius,rt=_e.outerRadius,it=_e.cornerRadius,ot=_e.forceCornerRadius,at=_e.cornerIsExternal,st=_e.startAngle,lt=_e.endAngle,ct=mathSign(lt-st),ut=getTangentCircle({cx:et,cy:tt,radius:rt,angle:st,sign:ct,cornerRadius:it,cornerIsExternal:at}),dt=ut.circleTangency,ft=ut.lineTangency,pt=ut.theta,mt=getTangentCircle({cx:et,cy:tt,radius:rt,angle:lt,sign:-ct,cornerRadius:it,cornerIsExternal:at}),ht=mt.circleTangency,yt=mt.lineTangency,xt=mt.theta,St=at?Math.abs(st-lt):Math.abs(st-lt)-pt-xt;if(St<0)return ot?"M ".concat(ft.x,",").concat(ft.y,`
        a`).concat(it,",").concat(it,",0,0,1,").concat(it*2,`,0
        a`).concat(it,",").concat(it,",0,0,1,").concat(-it*2,`,0
      `):getSectorPath({cx:et,cy:tt,innerRadius:nt,outerRadius:rt,startAngle:st,endAngle:lt});var gt="M ".concat(ft.x,",").concat(ft.y,`
    A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(dt.x,",").concat(dt.y,`
    A`).concat(rt,",").concat(rt,",0,").concat(+(St>180),",").concat(+(ct<0),",").concat(ht.x,",").concat(ht.y,`
    A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(yt.x,",").concat(yt.y,`
  `);if(nt>0){var vt=getTangentCircle({cx:et,cy:tt,radius:nt,angle:st,sign:ct,isExternal:!0,cornerRadius:it,cornerIsExternal:at}),bt=vt.circleTangency,wt=vt.lineTangency,_t=vt.theta,Ct=getTangentCircle({cx:et,cy:tt,radius:nt,angle:lt,sign:-ct,isExternal:!0,cornerRadius:it,cornerIsExternal:at}),$t=Ct.circleTangency,Et=Ct.lineTangency,jt=Ct.theta,Vt=at?Math.abs(st-lt):Math.abs(st-lt)-_t-jt;if(Vt<0&&it===0)return"".concat(gt,"L").concat(et,",").concat(tt,"Z");gt+="L".concat(Et.x,",").concat(Et.y,`
      A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat($t.x,",").concat($t.y,`
      A`).concat(nt,",").concat(nt,",0,").concat(+(Vt>180),",").concat(+(ct>0),",").concat(bt.x,",").concat(bt.y,`
      A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(wt.x,",").concat(wt.y,"Z")}else gt+="L".concat(et,",").concat(tt,"Z");return gt},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(_e){var et=_objectSpread$m(_objectSpread$m({},defaultProps$3),_e),tt=et.cx,nt=et.cy,rt=et.innerRadius,it=et.outerRadius,ot=et.cornerRadius,at=et.forceCornerRadius,st=et.cornerIsExternal,lt=et.startAngle,ct=et.endAngle,ut=et.className;if(it<rt||lt===ct)return null;var dt=clsx("recharts-sector",ut),ft=it-rt,pt=getPercentValue(ot,ft,0,!0),mt;return pt>0&&Math.abs(lt-ct)<360?mt=getSectorWithCorner({cx:tt,cy:nt,innerRadius:rt,outerRadius:it,cornerRadius:Math.min(pt,ft/2),forceCornerRadius:at,cornerIsExternal:st,startAngle:lt,endAngle:ct}):mt=getSectorPath({cx:tt,cy:nt,innerRadius:rt,outerRadius:it,startAngle:lt,endAngle:ct}),React.createElement("path",_extends$h({},filterProps(et,!0),{className:dt,d:mt,role:"img"}))};function _typeof$p($){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$p($)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$g.apply(this,arguments)}function ownKeys$l($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$l($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$l(Object(et),!0).forEach(function(tt){_defineProperty$o($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$l(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$o($,_e,et){return _e=_toPropertyKey$o(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$o($){var _e=_toPrimitive$o($,"string");return _typeof$p(_e)=="symbol"?_e:_e+""}function _toPrimitive$o($,_e){if(_typeof$p($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$p(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(_e){return _e.x===+_e.x&&_e.y===+_e.y},getX=function(_e){return _e.x},getY=function(_e){return _e.y},getCurveFactory=function(_e,et){if(isFunction$3(_e))return _e;var tt="curve".concat(upperFirst$1(_e));return(tt==="curveMonotone"||tt==="curveBump")&&et?CURVE_FACTORIES["".concat(tt).concat(et==="vertical"?"Y":"X")]:CURVE_FACTORIES[tt]||curveLinear},getPath$1=function(_e){var et=_e.type,tt=et===void 0?"linear":et,nt=_e.points,rt=nt===void 0?[]:nt,it=_e.baseLine,ot=_e.layout,at=_e.connectNulls,st=at===void 0?!1:at,lt=getCurveFactory(tt,ot),ct=st?rt.filter(function(pt){return defined(pt)}):rt,ut;if(Array.isArray(it)){var dt=st?it.filter(function(pt){return defined(pt)}):it,ft=ct.map(function(pt,mt){return _objectSpread$l(_objectSpread$l({},pt),{},{base:dt[mt]})});return ot==="vertical"?ut=shapeArea().y(getY).x1(getX).x0(function(pt){return pt.base.x}):ut=shapeArea().x(getX).y1(getY).y0(function(pt){return pt.base.y}),ut.defined(defined).curve(lt),ut(ft)}return ot==="vertical"&&isNumber(it)?ut=shapeArea().y(getY).x1(getX).x0(it):isNumber(it)?ut=shapeArea().x(getX).y1(getY).y0(it):ut=shapeLine().x(getX).y(getY),ut.defined(defined).curve(lt),ut(ct)},Curve=function(_e){var et=_e.className,tt=_e.points,nt=_e.path,rt=_e.pathRef;if((!tt||!tt.length)&&!nt)return null;var it=tt&&tt.length?getPath$1(_e):nt;return reactExports.createElement("path",_extends$g({},filterProps(_e,!1),adaptEventHandlers(_e),{className:clsx("recharts-curve",et),d:it,ref:rt}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function $(tt,nt,rt,it,ot,at){if(at!==ReactPropTypesSecret){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}$.isRequired=$;function _e(){return $}var et={array:$,bigint:$,bool:$,func:$,number:$,object:$,string:$,symbol:$,any:$,arrayOf:_e,element:$,elementType:$,instanceOf:_e,node:$,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs$1(propTypesExports),{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function combineComparators($,_e){return function(tt,nt,rt){return $(tt,nt,rt)&&_e(tt,nt,rt)}}function createIsCircular($){return function(et,tt,nt){if(!et||!tt||typeof et!="object"||typeof tt!="object")return $(et,tt,nt);const{cache:rt}=nt,it=rt.get(et),ot=rt.get(tt);if(it&&ot)return it===tt&&ot===et;rt.set(et,tt),rt.set(tt,et);const at=$(et,tt,nt);return rt.delete(et),rt.delete(tt),at}}function getShortTag($){return $!=null?$[Symbol.toStringTag]:void 0}function getStrictProperties($){return getOwnPropertyNames($).concat(getOwnPropertySymbols($))}const hasOwn=Object.hasOwn||(($,_e)=>hasOwnProperty$1.call($,_e));function sameValueZeroEqual($,_e){return $===_e||!$&&!_e&&$!==$&&_e!==_e}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys:keys$1}=Object;function areArrayBuffersEqual($,_e){return $.byteLength===_e.byteLength&&areTypedArraysEqual(new Uint8Array($),new Uint8Array(_e))}function areArraysEqual($,_e,et){let tt=$.length;if(_e.length!==tt)return!1;for(;tt-- >0;)if(!et.equals($[tt],_e[tt],tt,tt,$,_e,et))return!1;return!0}function areDataViewsEqual($,_e){return $.byteLength===_e.byteLength&&areTypedArraysEqual(new Uint8Array($.buffer,$.byteOffset,$.byteLength),new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength))}function areDatesEqual($,_e){return sameValueZeroEqual($.getTime(),_e.getTime())}function areErrorsEqual($,_e){return $.name===_e.name&&$.message===_e.message&&$.cause===_e.cause&&$.stack===_e.stack}function areFunctionsEqual($,_e){return $===_e}function areMapsEqual($,_e,et){const tt=$.size;if(tt!==_e.size)return!1;if(!tt)return!0;const nt=new Array(tt),rt=$.entries();let it,ot,at=0;for(;(it=rt.next())&&!it.done;){const st=_e.entries();let lt=!1,ct=0;for(;(ot=st.next())&&!ot.done;){if(nt[ct]){ct++;continue}const ut=it.value,dt=ot.value;if(et.equals(ut[0],dt[0],at,ct,$,_e,et)&&et.equals(ut[1],dt[1],ut[0],dt[0],$,_e,et)){lt=nt[ct]=!0;break}ct++}if(!lt)return!1;at++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual($,_e,et){const tt=keys$1($);let nt=tt.length;if(keys$1(_e).length!==nt)return!1;for(;nt-- >0;)if(!isPropertyEqual($,_e,et,tt[nt]))return!1;return!0}function areObjectsEqualStrict($,_e,et){const tt=getStrictProperties($);let nt=tt.length;if(getStrictProperties(_e).length!==nt)return!1;let rt,it,ot;for(;nt-- >0;)if(rt=tt[nt],!isPropertyEqual($,_e,et,rt)||(it=getOwnPropertyDescriptor($,rt),ot=getOwnPropertyDescriptor(_e,rt),(it||ot)&&(!it||!ot||it.configurable!==ot.configurable||it.enumerable!==ot.enumerable||it.writable!==ot.writable)))return!1;return!0}function arePrimitiveWrappersEqual($,_e){return sameValueZeroEqual($.valueOf(),_e.valueOf())}function areRegExpsEqual($,_e){return $.source===_e.source&&$.flags===_e.flags}function areSetsEqual($,_e,et){const tt=$.size;if(tt!==_e.size)return!1;if(!tt)return!0;const nt=new Array(tt),rt=$.values();let it,ot;for(;(it=rt.next())&&!it.done;){const at=_e.values();let st=!1,lt=0;for(;(ot=at.next())&&!ot.done;){if(!nt[lt]&&et.equals(it.value,ot.value,it.value,ot.value,$,_e,et)){st=nt[lt]=!0;break}lt++}if(!st)return!1}return!0}function areTypedArraysEqual($,_e){let et=$.byteLength;if(_e.byteLength!==et||$.byteOffset!==_e.byteOffset)return!1;for(;et-- >0;)if($[et]!==_e[et])return!1;return!0}function areUrlsEqual($,_e){return $.hostname===_e.hostname&&$.pathname===_e.pathname&&$.protocol===_e.protocol&&$.port===_e.port&&$.hash===_e.hash&&$.username===_e.username&&$.password===_e.password}function isPropertyEqual($,_e,et,tt){return(tt===REACT_OWNER||tt===PREACT_OWNER||tt===PREACT_VNODE)&&($.$$typeof||_e.$$typeof)?!0:hasOwn(_e,tt)&&et.equals($[tt],_e[tt],tt,tt,$,_e,et)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:$,areArraysEqual:_e,areDataViewsEqual:et,areDatesEqual:tt,areErrorsEqual:nt,areFunctionsEqual:rt,areMapsEqual:it,areNumbersEqual:ot,areObjectsEqual:at,arePrimitiveWrappersEqual:st,areRegExpsEqual:lt,areSetsEqual:ct,areTypedArraysEqual:ut,areUrlsEqual:dt,unknownTagComparators:ft}){return function(mt,ht,yt){if(mt===ht)return!0;if(mt==null||ht==null)return!1;const xt=typeof mt;if(xt!==typeof ht)return!1;if(xt!=="object")return xt==="number"?ot(mt,ht,yt):xt==="function"?rt(mt,ht,yt):!1;const St=mt.constructor;if(St!==ht.constructor)return!1;if(St===Object)return at(mt,ht,yt);if(Array.isArray(mt))return _e(mt,ht,yt);if(St===Date)return tt(mt,ht,yt);if(St===RegExp)return lt(mt,ht,yt);if(St===Map)return it(mt,ht,yt);if(St===Set)return ct(mt,ht,yt);const gt=toString.call(mt);if(gt===DATE_TAG)return tt(mt,ht,yt);if(gt===REG_EXP_TAG)return lt(mt,ht,yt);if(gt===MAP_TAG)return it(mt,ht,yt);if(gt===SET_TAG)return ct(mt,ht,yt);if(gt===OBJECT_TAG)return typeof mt.then!="function"&&typeof ht.then!="function"&&at(mt,ht,yt);if(gt===URL_TAG)return dt(mt,ht,yt);if(gt===ERROR_TAG)return nt(mt,ht,yt);if(gt===ARGUMENTS_TAG)return at(mt,ht,yt);if(TYPED_ARRAY_TAGS[gt])return ut(mt,ht,yt);if(gt===ARRAY_BUFFER_TAG)return $(mt,ht,yt);if(gt===DATA_VIEW_TAG)return et(mt,ht,yt);if(gt===BOOLEAN_TAG||gt===NUMBER_TAG||gt===STRING_TAG)return st(mt,ht,yt);if(ft){let vt=ft[gt];if(!vt){const bt=getShortTag(mt);bt&&(vt=ft[bt])}if(vt)return vt(mt,ht,yt)}return!1}}function createEqualityComparatorConfig({circular:$,createCustomConfig:_e,strict:et}){let tt={areArrayBuffersEqual,areArraysEqual:et?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:et?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:et?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:et?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:et?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(_e&&(tt=Object.assign({},tt,_e(tt))),$){const nt=createIsCircular(tt.areArraysEqual),rt=createIsCircular(tt.areMapsEqual),it=createIsCircular(tt.areObjectsEqual),ot=createIsCircular(tt.areSetsEqual);tt=Object.assign({},tt,{areArraysEqual:nt,areMapsEqual:rt,areObjectsEqual:it,areSetsEqual:ot})}return tt}function createInternalEqualityComparator($){return function(_e,et,tt,nt,rt,it,ot){return $(_e,et,ot)}}function createIsEqual({circular:$,comparator:_e,createState:et,equals:tt,strict:nt}){if(et)return function(ot,at){const{cache:st=$?new WeakMap:void 0,meta:lt}=et();return _e(ot,at,{cache:st,equals:tt,meta:lt,strict:nt})};if($)return function(ot,at){return _e(ot,at,{cache:new WeakMap,equals:tt,meta:void 0,strict:nt})};const rt={cache:void 0,equals:tt,meta:void 0,strict:nt};return function(ot,at){return _e(ot,at,rt)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual($={}){const{circular:_e=!1,createInternalComparator:et,createState:tt,strict:nt=!1}=$,rt=createEqualityComparatorConfig($),it=createEqualityComparator(rt),ot=et?et(it):createInternalEqualityComparator(it);return createIsEqual({circular:_e,comparator:it,createState:tt,equals:ot,strict:nt})}function safeRequestAnimationFrame($){typeof requestAnimationFrame<"u"&&requestAnimationFrame($)}function setRafTimeout($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=-1,tt=function nt(rt){et<0&&(et=rt),rt-et>_e?($(rt),et=-1):safeRequestAnimationFrame(nt)};requestAnimationFrame(tt)}function _typeof$o($){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$o($)}function _toArray($){return _arrayWithHoles$6($)||_iterableToArray$6($)||_unsupportedIterableToArray$9($)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$9($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$9($,_e)}}function _arrayLikeToArray$9($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArray$6($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithHoles$6($){if(Array.isArray($))return $}function createAnimateManager(){var $={},_e=function(){return null},et=!1,tt=function nt(rt){if(!et){if(Array.isArray(rt)){if(!rt.length)return;var it=rt,ot=_toArray(it),at=ot[0],st=ot.slice(1);if(typeof at=="number"){setRafTimeout(nt.bind(null,st),at);return}nt(at),setRafTimeout(nt.bind(null,st));return}_typeof$o(rt)==="object"&&($=rt,_e($)),typeof rt=="function"&&rt()}};return{stop:function(){et=!0},start:function(rt){et=!1,tt(rt)},subscribe:function(rt){return _e=rt,function(){_e=function(){return null}}}}}function _typeof$n($){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$n($)}function ownKeys$k($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$k($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$k(Object(et),!0).forEach(function(tt){_defineProperty$n($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$k(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$n($,_e,et){return _e=_toPropertyKey$n(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$n($){var _e=_toPrimitive$n($,"string");return _typeof$n(_e)==="symbol"?_e:String(_e)}function _toPrimitive$n($,_e){if(_typeof$n($)!=="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$n(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var getIntersectionKeys=function(_e,et){return[Object.keys(_e),Object.keys(et)].reduce(function(tt,nt){return tt.filter(function(rt){return nt.includes(rt)})})},identity=function(_e){return _e},getDashCase=function(_e){return _e.replace(/([A-Z])/g,function(et){return"-".concat(et.toLowerCase())})},mapObject=function(_e,et){return Object.keys(et).reduce(function(tt,nt){return _objectSpread$k(_objectSpread$k({},tt),{},_defineProperty$n({},nt,_e(nt,et[nt])))},{})},getTransitionVal=function(_e,et,tt){return _e.map(function(nt){return"".concat(getDashCase(nt)," ").concat(et,"ms ").concat(tt)}).join(",")};function _slicedToArray$5($,_e){return _arrayWithHoles$5($)||_iterableToArrayLimit$5($,_e)||_unsupportedIterableToArray$8($,_e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$5($){if(Array.isArray($))return $}function _toConsumableArray$5($){return _arrayWithoutHoles$5($)||_iterableToArray$5($)||_unsupportedIterableToArray$8($)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$8($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$8($,_e)}}function _iterableToArray$5($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$5($){if(Array.isArray($))return _arrayLikeToArray$8($)}function _arrayLikeToArray$8($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}var ACCURACY=1e-4,cubicBezierFactor=function(_e,et){return[0,3*_e,3*et-6*_e,3*_e-3*et+1]},multyTime=function(_e,et){return _e.map(function(tt,nt){return tt*Math.pow(et,nt)}).reduce(function(tt,nt){return tt+nt})},cubicBezier=function(_e,et){return function(tt){var nt=cubicBezierFactor(_e,et);return multyTime(nt,tt)}},derivativeCubicBezier=function(_e,et){return function(tt){var nt=cubicBezierFactor(_e,et),rt=[].concat(_toConsumableArray$5(nt.map(function(it,ot){return it*ot}).slice(1)),[0]);return multyTime(rt,tt)}},configBezier=function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];var nt=et[0],rt=et[1],it=et[2],ot=et[3];if(et.length===1)switch(et[0]){case"linear":nt=0,rt=0,it=1,ot=1;break;case"ease":nt=.25,rt=.1,it=.25,ot=1;break;case"ease-in":nt=.42,rt=0,it=1,ot=1;break;case"ease-out":nt=.42,rt=0,it=.58,ot=1;break;case"ease-in-out":nt=0,rt=0,it=.58,ot=1;break;default:{var at=et[0].split("(");if(at[0]==="cubic-bezier"&&at[1].split(")")[0].split(",").length===4){var st=at[1].split(")")[0].split(",").map(function(mt){return parseFloat(mt)}),lt=_slicedToArray$5(st,4);nt=lt[0],rt=lt[1],it=lt[2],ot=lt[3]}}}var ct=cubicBezier(nt,it),ut=cubicBezier(rt,ot),dt=derivativeCubicBezier(nt,it),ft=function(ht){return ht>1?1:ht<0?0:ht},pt=function(ht){for(var yt=ht>1?1:ht,xt=yt,St=0;St<8;++St){var gt=ct(xt)-yt,vt=dt(xt);if(Math.abs(gt-yt)<ACCURACY||vt<ACCURACY)return ut(xt);xt=ft(xt-gt/vt)}return ut(xt)};return pt.isStepper=!1,pt},configSpring=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_e.stiff,tt=et===void 0?100:et,nt=_e.damping,rt=nt===void 0?8:nt,it=_e.dt,ot=it===void 0?17:it,at=function(lt,ct,ut){var dt=-(lt-ct)*tt,ft=ut*rt,pt=ut+(dt-ft)*ot/1e3,mt=ut*ot/1e3+lt;return Math.abs(mt-ct)<ACCURACY&&Math.abs(pt)<ACCURACY?[ct,0]:[mt,pt]};return at.isStepper=!0,at.dt=ot,at},configEasing=function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];var nt=et[0];if(typeof nt=="string")switch(nt){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(nt);case"spring":return configSpring();default:if(nt.split("(")[0]==="cubic-bezier")return configBezier(nt)}return typeof nt=="function"?nt:null};function _typeof$m($){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$m($)}function _toConsumableArray$4($){return _arrayWithoutHoles$4($)||_iterableToArray$4($)||_unsupportedIterableToArray$7($)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$4($){if(Array.isArray($))return _arrayLikeToArray$7($)}function ownKeys$j($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$j($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$j(Object(et),!0).forEach(function(tt){_defineProperty$m($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$j(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$m($,_e,et){return _e=_toPropertyKey$m(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$m($){var _e=_toPrimitive$m($,"string");return _typeof$m(_e)==="symbol"?_e:String(_e)}function _toPrimitive$m($,_e){if(_typeof$m($)!=="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$m(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _slicedToArray$4($,_e){return _arrayWithHoles$4($)||_iterableToArrayLimit$4($,_e)||_unsupportedIterableToArray$7($,_e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$7($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$7($,_e)}}function _arrayLikeToArray$7($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$4($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$4($){if(Array.isArray($))return $}var alpha=function(_e,et,tt){return _e+(et-_e)*tt},needContinue=function(_e){var et=_e.from,tt=_e.to;return et!==tt},calStepperVals=function $(_e,et,tt){var nt=mapObject(function(rt,it){if(needContinue(it)){var ot=_e(it.from,it.to,it.velocity),at=_slicedToArray$4(ot,2),st=at[0],lt=at[1];return _objectSpread$j(_objectSpread$j({},it),{},{from:st,velocity:lt})}return it},et);return tt<1?mapObject(function(rt,it){return needContinue(it)?_objectSpread$j(_objectSpread$j({},it),{},{velocity:alpha(it.velocity,nt[rt].velocity,tt),from:alpha(it.from,nt[rt].from,tt)}):it},et):$(_e,nt,tt-1)};const configUpdate=function($,_e,et,tt,nt){var rt=getIntersectionKeys($,_e),it=rt.reduce(function(mt,ht){return _objectSpread$j(_objectSpread$j({},mt),{},_defineProperty$m({},ht,[$[ht],_e[ht]]))},{}),ot=rt.reduce(function(mt,ht){return _objectSpread$j(_objectSpread$j({},mt),{},_defineProperty$m({},ht,{from:$[ht],velocity:0,to:_e[ht]}))},{}),at=-1,st,lt,ct=function(){return null},ut=function(){return mapObject(function(ht,yt){return yt.from},ot)},dt=function(){return!Object.values(ot).filter(needContinue).length},ft=function(ht){st||(st=ht);var yt=ht-st,xt=yt/et.dt;ot=calStepperVals(et,ot,xt),nt(_objectSpread$j(_objectSpread$j(_objectSpread$j({},$),_e),ut())),st=ht,dt()||(at=requestAnimationFrame(ct))},pt=function(ht){lt||(lt=ht);var yt=(ht-lt)/tt,xt=mapObject(function(gt,vt){return alpha.apply(void 0,_toConsumableArray$4(vt).concat([et(yt)]))},it);if(nt(_objectSpread$j(_objectSpread$j(_objectSpread$j({},$),_e),xt)),yt<1)at=requestAnimationFrame(ct);else{var St=mapObject(function(gt,vt){return alpha.apply(void 0,_toConsumableArray$4(vt).concat([et(1)]))},it);nt(_objectSpread$j(_objectSpread$j(_objectSpread$j({},$),_e),St))}};return ct=et.isStepper?ft:pt,function(){return requestAnimationFrame(ct),function(){cancelAnimationFrame(at)}}};function _typeof$l($){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$l($)}var _excluded$8=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$8($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$8($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$8($,_e){if($==null)return{};var et={},tt=Object.keys($),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_e.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}function _toConsumableArray$3($){return _arrayWithoutHoles$3($)||_iterableToArray$3($)||_unsupportedIterableToArray$6($)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$6($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$6($,_e)}}function _iterableToArray$3($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$3($){if(Array.isArray($))return _arrayLikeToArray$6($)}function _arrayLikeToArray$6($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function ownKeys$i($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$i($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$i(Object(et),!0).forEach(function(tt){_defineProperty$l($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$i(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$l($,_e,et){return _e=_toPropertyKey$l(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _classCallCheck$c($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$l(tt.key),tt)}}function _createClass$c($,_e,et){return _e&&_defineProperties$c($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _toPropertyKey$l($){var _e=_toPrimitive$l($,"string");return _typeof$l(_e)==="symbol"?_e:String(_e)}function _toPrimitive$l($,_e){if(_typeof$l($)!=="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$l(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _inherits$a($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$a($,_e)}function _setPrototypeOf$a($,_e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$a($,_e)}function _createSuper($){var _e=_isNativeReflectConstruct$a();return function(){var tt=_getPrototypeOf$a($),nt;if(_e){var rt=_getPrototypeOf$a(this).constructor;nt=Reflect.construct(tt,arguments,rt)}else nt=tt.apply(this,arguments);return _possibleConstructorReturn$a(this,nt)}}function _possibleConstructorReturn$a($,_e){if(_e&&(_typeof$l(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a($)}function _assertThisInitialized$a($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$a($){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$a($)}var Animate=function($){_inherits$a(et,$);var _e=_createSuper(et);function et(tt,nt){var rt;_classCallCheck$c(this,et),rt=_e.call(this,tt,nt);var it=rt.props,ot=it.isActive,at=it.attributeName,st=it.from,lt=it.to,ct=it.steps,ut=it.children,dt=it.duration;if(rt.handleStyleChange=rt.handleStyleChange.bind(_assertThisInitialized$a(rt)),rt.changeStyle=rt.changeStyle.bind(_assertThisInitialized$a(rt)),!ot||dt<=0)return rt.state={style:{}},typeof ut=="function"&&(rt.state={style:lt}),_possibleConstructorReturn$a(rt);if(ct&&ct.length)rt.state={style:ct[0].style};else if(st){if(typeof ut=="function")return rt.state={style:st},_possibleConstructorReturn$a(rt);rt.state={style:at?_defineProperty$l({},at,st):st}}else rt.state={style:{}};return rt}return _createClass$c(et,[{key:"componentDidMount",value:function(){var nt=this.props,rt=nt.isActive,it=nt.canBegin;this.mounted=!0,!(!rt||!it)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(nt){var rt=this.props,it=rt.isActive,ot=rt.canBegin,at=rt.attributeName,st=rt.shouldReAnimate,lt=rt.to,ct=rt.from,ut=this.state.style;if(ot){if(!it){var dt={style:at?_defineProperty$l({},at,lt):lt};this.state&&ut&&(at&&ut[at]!==lt||!at&&ut!==lt)&&this.setState(dt);return}if(!(deepEqual(nt.to,lt)&&nt.canBegin&&nt.isActive)){var ft=!nt.canBegin||!nt.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var pt=ft||st?ct:nt.to;if(this.state&&ut){var mt={style:at?_defineProperty$l({},at,pt):pt};(at&&ut[at]!==pt||!at&&ut!==pt)&&this.setState(mt)}this.runAnimation(_objectSpread$i(_objectSpread$i({},this.props),{},{from:pt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var nt=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),nt&&nt()}},{key:"handleStyleChange",value:function(nt){this.changeStyle(nt)}},{key:"changeStyle",value:function(nt){this.mounted&&this.setState({style:nt})}},{key:"runJSAnimation",value:function(nt){var rt=this,it=nt.from,ot=nt.to,at=nt.duration,st=nt.easing,lt=nt.begin,ct=nt.onAnimationEnd,ut=nt.onAnimationStart,dt=configUpdate(it,ot,configEasing(st),at,this.changeStyle),ft=function(){rt.stopJSAnimation=dt()};this.manager.start([ut,lt,ft,at,ct])}},{key:"runStepAnimation",value:function(nt){var rt=this,it=nt.steps,ot=nt.begin,at=nt.onAnimationStart,st=it[0],lt=st.style,ct=st.duration,ut=ct===void 0?0:ct,dt=function(pt,mt,ht){if(ht===0)return pt;var yt=mt.duration,xt=mt.easing,St=xt===void 0?"ease":xt,gt=mt.style,vt=mt.properties,bt=mt.onAnimationEnd,wt=ht>0?it[ht-1]:mt,_t=vt||Object.keys(gt);if(typeof St=="function"||St==="spring")return[].concat(_toConsumableArray$3(pt),[rt.runJSAnimation.bind(rt,{from:wt.style,to:gt,duration:yt,easing:St}),yt]);var Ct=getTransitionVal(_t,yt,St),$t=_objectSpread$i(_objectSpread$i(_objectSpread$i({},wt.style),gt),{},{transition:Ct});return[].concat(_toConsumableArray$3(pt),[$t,yt,bt]).filter(identity)};return this.manager.start([at].concat(_toConsumableArray$3(it.reduce(dt,[lt,Math.max(ut,ot)])),[nt.onAnimationEnd]))}},{key:"runAnimation",value:function(nt){this.manager||(this.manager=createAnimateManager());var rt=nt.begin,it=nt.duration,ot=nt.attributeName,at=nt.to,st=nt.easing,lt=nt.onAnimationStart,ct=nt.onAnimationEnd,ut=nt.steps,dt=nt.children,ft=this.manager;if(this.unSubscribe=ft.subscribe(this.handleStyleChange),typeof st=="function"||typeof dt=="function"||st==="spring"){this.runJSAnimation(nt);return}if(ut.length>1){this.runStepAnimation(nt);return}var pt=ot?_defineProperty$l({},ot,at):at,mt=getTransitionVal(Object.keys(pt),it,st);ft.start([lt,rt,_objectSpread$i(_objectSpread$i({},pt),{},{transition:mt}),it,ct])}},{key:"render",value:function(){var nt=this.props,rt=nt.children;nt.begin;var it=nt.duration;nt.attributeName,nt.easing;var ot=nt.isActive;nt.steps,nt.from,nt.to,nt.canBegin,nt.onAnimationEnd,nt.shouldReAnimate,nt.onAnimationReStart;var at=_objectWithoutProperties$8(nt,_excluded$8),st=reactExports.Children.count(rt),lt=this.state.style;if(typeof rt=="function")return rt(lt);if(!ot||st===0||it<=0)return rt;var ct=function(dt){var ft=dt.props,pt=ft.style,mt=pt===void 0?{}:pt,ht=ft.className,yt=reactExports.cloneElement(dt,_objectSpread$i(_objectSpread$i({},at),{},{style:_objectSpread$i(_objectSpread$i({},mt),lt),className:ht}));return yt};return st===1?ct(reactExports.Children.only(rt)):React.createElement("div",null,reactExports.Children.map(rt,function(ut){return ct(ut)}))}}]),et}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$k($){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$k($)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$f.apply(this,arguments)}function _slicedToArray$3($,_e){return _arrayWithHoles$3($)||_iterableToArrayLimit$3($,_e)||_unsupportedIterableToArray$5($,_e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$5($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$5($,_e)}}function _arrayLikeToArray$5($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$3($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$3($){if(Array.isArray($))return $}function ownKeys$h($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$h($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$h(Object(et),!0).forEach(function(tt){_defineProperty$k($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$h(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$k($,_e,et){return _e=_toPropertyKey$k(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$k($){var _e=_toPrimitive$k($,"string");return _typeof$k(_e)=="symbol"?_e:_e+""}function _toPrimitive$k($,_e){if(_typeof$k($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$k(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var getRectanglePath=function(_e,et,tt,nt,rt){var it=Math.min(Math.abs(tt)/2,Math.abs(nt)/2),ot=nt>=0?1:-1,at=tt>=0?1:-1,st=nt>=0&&tt>=0||nt<0&&tt<0?1:0,lt;if(it>0&&rt instanceof Array){for(var ct=[0,0,0,0],ut=0,dt=4;ut<dt;ut++)ct[ut]=rt[ut]>it?it:rt[ut];lt="M".concat(_e,",").concat(et+ot*ct[0]),ct[0]>0&&(lt+="A ".concat(ct[0],",").concat(ct[0],",0,0,").concat(st,",").concat(_e+at*ct[0],",").concat(et)),lt+="L ".concat(_e+tt-at*ct[1],",").concat(et),ct[1]>0&&(lt+="A ".concat(ct[1],",").concat(ct[1],",0,0,").concat(st,`,
        `).concat(_e+tt,",").concat(et+ot*ct[1])),lt+="L ".concat(_e+tt,",").concat(et+nt-ot*ct[2]),ct[2]>0&&(lt+="A ".concat(ct[2],",").concat(ct[2],",0,0,").concat(st,`,
        `).concat(_e+tt-at*ct[2],",").concat(et+nt)),lt+="L ".concat(_e+at*ct[3],",").concat(et+nt),ct[3]>0&&(lt+="A ".concat(ct[3],",").concat(ct[3],",0,0,").concat(st,`,
        `).concat(_e,",").concat(et+nt-ot*ct[3])),lt+="Z"}else if(it>0&&rt===+rt&&rt>0){var ft=Math.min(it,rt);lt="M ".concat(_e,",").concat(et+ot*ft,`
            A `).concat(ft,",").concat(ft,",0,0,").concat(st,",").concat(_e+at*ft,",").concat(et,`
            L `).concat(_e+tt-at*ft,",").concat(et,`
            A `).concat(ft,",").concat(ft,",0,0,").concat(st,",").concat(_e+tt,",").concat(et+ot*ft,`
            L `).concat(_e+tt,",").concat(et+nt-ot*ft,`
            A `).concat(ft,",").concat(ft,",0,0,").concat(st,",").concat(_e+tt-at*ft,",").concat(et+nt,`
            L `).concat(_e+at*ft,",").concat(et+nt,`
            A `).concat(ft,",").concat(ft,",0,0,").concat(st,",").concat(_e,",").concat(et+nt-ot*ft," Z")}else lt="M ".concat(_e,",").concat(et," h ").concat(tt," v ").concat(nt," h ").concat(-tt," Z");return lt},isInRectangle=function(_e,et){if(!_e||!et)return!1;var tt=_e.x,nt=_e.y,rt=et.x,it=et.y,ot=et.width,at=et.height;if(Math.abs(ot)>0&&Math.abs(at)>0){var st=Math.min(rt,rt+ot),lt=Math.max(rt,rt+ot),ct=Math.min(it,it+at),ut=Math.max(it,it+at);return tt>=st&&tt<=lt&&nt>=ct&&nt<=ut}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(_e){var et=_objectSpread$h(_objectSpread$h({},defaultProps$2),_e),tt=reactExports.useRef(),nt=reactExports.useState(-1),rt=_slicedToArray$3(nt,2),it=rt[0],ot=rt[1];reactExports.useEffect(function(){if(tt.current&&tt.current.getTotalLength)try{var St=tt.current.getTotalLength();St&&ot(St)}catch{}},[]);var at=et.x,st=et.y,lt=et.width,ct=et.height,ut=et.radius,dt=et.className,ft=et.animationEasing,pt=et.animationDuration,mt=et.animationBegin,ht=et.isAnimationActive,yt=et.isUpdateAnimationActive;if(at!==+at||st!==+st||lt!==+lt||ct!==+ct||lt===0||ct===0)return null;var xt=clsx("recharts-rectangle",dt);return yt?React.createElement(Animate,{canBegin:it>0,from:{width:lt,height:ct,x:at,y:st},to:{width:lt,height:ct,x:at,y:st},duration:pt,animationEasing:ft,isActive:yt},function(St){var gt=St.width,vt=St.height,bt=St.x,wt=St.y;return React.createElement(Animate,{canBegin:it>0,from:"0px ".concat(it===-1?1:it,"px"),to:"".concat(it,"px 0px"),attributeName:"strokeDasharray",begin:mt,duration:pt,isActive:ht,easing:ft},React.createElement("path",_extends$f({},filterProps(et,!0),{className:xt,d:getRectanglePath(bt,wt,gt,vt,ut),ref:tt})))}):React.createElement("path",_extends$f({},filterProps(et,!0),{className:xt,d:getRectanglePath(at,st,lt,ct,ut)}))};function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$e.apply(this,arguments)}var Dot=function(_e){var et=_e.cx,tt=_e.cy,nt=_e.r,rt=_e.className,it=clsx("recharts-dot",rt);return et===+et&&tt===+tt&&nt===+nt?reactExports.createElement("circle",_extends$e({},filterProps(_e,!1),adaptEventHandlers(_e),{className:it,cx:et,cy:tt,r:nt})):null};function _typeof$j($){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$j($)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$d.apply(this,arguments)}function ownKeys$g($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$g($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$g(Object(et),!0).forEach(function(tt){_defineProperty$j($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$g(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$j($,_e,et){return _e=_toPropertyKey$j(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$j($){var _e=_toPrimitive$j($,"string");return _typeof$j(_e)=="symbol"?_e:_e+""}function _toPrimitive$j($,_e){if(_typeof$j($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$j(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _objectWithoutProperties$7($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$7($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$7($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}var getPath=function(_e,et,tt,nt,rt,it){return"M".concat(_e,",").concat(rt,"v").concat(nt,"M").concat(it,",").concat(et,"h").concat(tt)},Cross=function(_e){var et=_e.x,tt=et===void 0?0:et,nt=_e.y,rt=nt===void 0?0:nt,it=_e.top,ot=it===void 0?0:it,at=_e.left,st=at===void 0?0:at,lt=_e.width,ct=lt===void 0?0:lt,ut=_e.height,dt=ut===void 0?0:ut,ft=_e.className,pt=_objectWithoutProperties$7(_e,_excluded$7),mt=_objectSpread$g({x:tt,y:rt,top:ot,left:st,width:ct,height:dt},pt);return!isNumber(tt)||!isNumber(rt)||!isNumber(ct)||!isNumber(dt)||!isNumber(ot)||!isNumber(st)?null:React.createElement("path",_extends$d({},filterProps(mt,!0),{className:clsx("recharts-cross",ft),d:getPath(tt,rt,ct,dt,ot,st)}))},overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject($){if(!isObjectLike$1($)||baseGetTag$1($)!=objectTag)return!1;var _e=getPrototype($);if(_e===null)return!0;var et=hasOwnProperty.call(_e,"constructor")&&_e.constructor;return typeof et=="function"&&et instanceof et&&funcToString.call(et)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs$1(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean($){return $===!0||$===!1||isObjectLike($)&&baseGetTag($)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs$1(isBoolean_1);function _typeof$i($){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$i($)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$c.apply(this,arguments)}function _slicedToArray$2($,_e){return _arrayWithHoles$2($)||_iterableToArrayLimit$2($,_e)||_unsupportedIterableToArray$4($,_e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$4($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$4($,_e)}}function _arrayLikeToArray$4($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$2($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$2($){if(Array.isArray($))return $}function ownKeys$f($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$f($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$f(Object(et),!0).forEach(function(tt){_defineProperty$i($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$f(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$i($,_e,et){return _e=_toPropertyKey$i(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$i($){var _e=_toPrimitive$i($,"string");return _typeof$i(_e)=="symbol"?_e:_e+""}function _toPrimitive$i($,_e){if(_typeof$i($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$i(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var getTrapezoidPath=function(_e,et,tt,nt,rt){var it=tt-nt,ot;return ot="M ".concat(_e,",").concat(et),ot+="L ".concat(_e+tt,",").concat(et),ot+="L ".concat(_e+tt-it/2,",").concat(et+rt),ot+="L ".concat(_e+tt-it/2-nt,",").concat(et+rt),ot+="L ".concat(_e,",").concat(et," Z"),ot},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(_e){var et=_objectSpread$f(_objectSpread$f({},defaultProps$1),_e),tt=reactExports.useRef(),nt=reactExports.useState(-1),rt=_slicedToArray$2(nt,2),it=rt[0],ot=rt[1];reactExports.useEffect(function(){if(tt.current&&tt.current.getTotalLength)try{var xt=tt.current.getTotalLength();xt&&ot(xt)}catch{}},[]);var at=et.x,st=et.y,lt=et.upperWidth,ct=et.lowerWidth,ut=et.height,dt=et.className,ft=et.animationEasing,pt=et.animationDuration,mt=et.animationBegin,ht=et.isUpdateAnimationActive;if(at!==+at||st!==+st||lt!==+lt||ct!==+ct||ut!==+ut||lt===0&&ct===0||ut===0)return null;var yt=clsx("recharts-trapezoid",dt);return ht?React.createElement(Animate,{canBegin:it>0,from:{upperWidth:0,lowerWidth:0,height:ut,x:at,y:st},to:{upperWidth:lt,lowerWidth:ct,height:ut,x:at,y:st},duration:pt,animationEasing:ft,isActive:ht},function(xt){var St=xt.upperWidth,gt=xt.lowerWidth,vt=xt.height,bt=xt.x,wt=xt.y;return React.createElement(Animate,{canBegin:it>0,from:"0px ".concat(it===-1?1:it,"px"),to:"".concat(it,"px 0px"),attributeName:"strokeDasharray",begin:mt,duration:pt,easing:ft},React.createElement("path",_extends$c({},filterProps(et,!0),{className:yt,d:getTrapezoidPath(bt,wt,St,gt,vt),ref:tt})))}):React.createElement("g",null,React.createElement("path",_extends$c({},filterProps(et,!0),{className:yt,d:getTrapezoidPath(at,st,lt,ct,ut)})))},_excluded$6=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$h($){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$h($)}function _objectWithoutProperties$6($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$6($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$6($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function ownKeys$e($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$e($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$e(Object(et),!0).forEach(function(tt){_defineProperty$h($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$e(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$h($,_e,et){return _e=_toPropertyKey$h(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$h($){var _e=_toPrimitive$h($,"string");return _typeof$h(_e)=="symbol"?_e:_e+""}function _toPrimitive$h($,_e){if(_typeof$h($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$h(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function defaultPropTransformer($,_e){return _objectSpread$e(_objectSpread$e({},_e),$)}function isSymbolsProps($,_e){return $==="symbols"}function ShapeSelector($){var _e=$.shapeType,et=$.elementProps;switch(_e){case"rectangle":return React.createElement(Rectangle,et);case"trapezoid":return React.createElement(Trapezoid,et);case"sector":return React.createElement(Sector,et);case"symbols":if(isSymbolsProps(_e))return React.createElement(Symbols,et);break;default:return null}}function getPropsFromShapeOption($){return reactExports.isValidElement($)?$.props:$}function Shape($){var _e=$.option,et=$.shapeType,tt=$.propTransformer,nt=tt===void 0?defaultPropTransformer:tt,rt=$.activeClassName,it=rt===void 0?"recharts-active-shape":rt,ot=$.isActive,at=_objectWithoutProperties$6($,_excluded$6),st;if(reactExports.isValidElement(_e))st=reactExports.cloneElement(_e,_objectSpread$e(_objectSpread$e({},at),getPropsFromShapeOption(_e)));else if(isFunction$3(_e))st=_e(at);else if(isPlainObject$1(_e)&&!isBoolean$1(_e)){var lt=nt(_e,at);st=React.createElement(ShapeSelector,{shapeType:et,elementProps:lt})}else{var ct=at;st=React.createElement(ShapeSelector,{shapeType:et,elementProps:ct})}return ot?React.createElement(Layer,{className:it},st):st}function isFunnel($,_e){return _e!=null&&"trapezoids"in $.props}function isPie($,_e){return _e!=null&&"sectors"in $.props}function isScatter($,_e){return _e!=null&&"points"in $.props}function compareFunnel($,_e){var et,tt,nt=$.x===(_e==null||(et=_e.labelViewBox)===null||et===void 0?void 0:et.x)||$.x===_e.x,rt=$.y===(_e==null||(tt=_e.labelViewBox)===null||tt===void 0?void 0:tt.y)||$.y===_e.y;return nt&&rt}function comparePie($,_e){var et=$.endAngle===_e.endAngle,tt=$.startAngle===_e.startAngle;return et&&tt}function compareScatter($,_e){var et=$.x===_e.x,tt=$.y===_e.y,nt=$.z===_e.z;return et&&tt&&nt}function getComparisonFn($,_e){var et;return isFunnel($,_e)?et=compareFunnel:isPie($,_e)?et=comparePie:isScatter($,_e)&&(et=compareScatter),et}function getShapeDataKey($,_e){var et;return isFunnel($,_e)?et="trapezoids":isPie($,_e)?et="sectors":isScatter($,_e)&&(et="points"),et}function getActiveShapeTooltipPayload($,_e){if(isFunnel($,_e)){var et;return(et=_e.tooltipPayload)===null||et===void 0||(et=et[0])===null||et===void 0||(et=et.payload)===null||et===void 0?void 0:et.payload}if(isPie($,_e)){var tt;return(tt=_e.tooltipPayload)===null||tt===void 0||(tt=tt[0])===null||tt===void 0||(tt=tt.payload)===null||tt===void 0?void 0:tt.payload}return isScatter($,_e)?_e.payload:{}}function getActiveShapeIndexForTooltip($){var _e=$.activeTooltipItem,et=$.graphicalItem,tt=$.itemData,nt=getShapeDataKey(et,_e),rt=getActiveShapeTooltipPayload(et,_e),it=tt.filter(function(at,st){var lt=isEqual$1(rt,at),ct=et.props[nt].filter(function(ft){var pt=getComparisonFn(et,_e);return pt(ft,_e)}),ut=et.props[nt].indexOf(ct[ct.length-1]),dt=st===ut;return lt&&dt}),ot=tt.indexOf(it[it.length-1]);return ot}var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1($,_e,et,tt){for(var nt=-1,rt=nativeMax$1(nativeCeil((_e-$)/(et||1)),0),it=Array(rt);rt--;)it[tt?rt:++nt]=$,$+=et;return it}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2($){if(!$)return $===0?$:0;if($=toNumber($),$===INFINITY||$===-INFINITY){var _e=$<0?-1:1;return _e*MAX_INTEGER}return $===$?$:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1($){return function(_e,et,tt){return tt&&typeof tt!="number"&&isIterateeCall$2(_e,et,tt)&&(et=tt=void 0),_e=toFinite$1(_e),et===void 0?(et=_e,_e=0):et=toFinite$1(et),tt=tt===void 0?_e<et?1:-1:toFinite$1(tt),baseRange(_e,et,tt,$)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs$1(range_1);function _typeof$g($){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$g($)}function ownKeys$d($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$d($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$d(Object(et),!0).forEach(function(tt){_defineProperty$g($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$d(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$g($,_e,et){return _e=_toPropertyKey$g(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$g($){var _e=_toPrimitive$g($,"string");return _typeof$g(_e)=="symbol"?_e:_e+""}function _toPrimitive$g($,_e){if(_typeof$g($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$g(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(_e,et){var tt=_e.replace(/(\w)/,function(rt){return rt.toUpperCase()}),nt=PREFIX_LIST.reduce(function(rt,it){return _objectSpread$d(_objectSpread$d({},rt),{},_defineProperty$g({},it+tt,et))},{});return nt[_e]=et,nt};function _typeof$f($){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$f($)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$b.apply(this,arguments)}function ownKeys$c($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$c($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$c(Object(et),!0).forEach(function(tt){_defineProperty$f($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$c(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$b($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$f(tt.key),tt)}}function _createClass$b($,_e,et){return _e&&_defineProperties$b($.prototype,_e),et&&_defineProperties$b($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$9($,_e,et){return _e=_getPrototypeOf$9(_e),_possibleConstructorReturn$9($,_isNativeReflectConstruct$9()?Reflect.construct(_e,et||[],_getPrototypeOf$9($).constructor):_e.apply($,et))}function _possibleConstructorReturn$9($,_e){if(_e&&(_typeof$f(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9($)}function _assertThisInitialized$9($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$9(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!$})()}function _getPrototypeOf$9($){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$9($)}function _inherits$9($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$9($,_e)}function _setPrototypeOf$9($,_e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$9($,_e)}function _defineProperty$f($,_e,et){return _e=_toPropertyKey$f(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$f($){var _e=_toPrimitive$f($,"string");return _typeof$f(_e)=="symbol"?_e:_e+""}function _toPrimitive$f($,_e){if(_typeof$f($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$f(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var createScale=function(_e){var et=_e.data,tt=_e.startIndex,nt=_e.endIndex,rt=_e.x,it=_e.width,ot=_e.travellerWidth;if(!et||!et.length)return{};var at=et.length,st=point().domain(range$1(0,at)).range([rt,rt+it-ot]),lt=st.domain().map(function(ct){return st(ct)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:st(tt),endX:st(nt),scale:st,scaleValues:lt}},isTouch=function(_e){return _e.changedTouches&&!!_e.changedTouches.length},Brush=function($){function _e(et){var tt;return _classCallCheck$b(this,_e),tt=_callSuper$9(this,_e,[et]),_defineProperty$f(tt,"handleDrag",function(nt){tt.leaveTimer&&(clearTimeout(tt.leaveTimer),tt.leaveTimer=null),tt.state.isTravellerMoving?tt.handleTravellerMove(nt):tt.state.isSlideMoving&&tt.handleSlideDrag(nt)}),_defineProperty$f(tt,"handleTouchMove",function(nt){nt.changedTouches!=null&&nt.changedTouches.length>0&&tt.handleDrag(nt.changedTouches[0])}),_defineProperty$f(tt,"handleDragEnd",function(){tt.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var nt=tt.props,rt=nt.endIndex,it=nt.onDragEnd,ot=nt.startIndex;it==null||it({endIndex:rt,startIndex:ot})}),tt.detachDragEndListener()}),_defineProperty$f(tt,"handleLeaveWrapper",function(){(tt.state.isTravellerMoving||tt.state.isSlideMoving)&&(tt.leaveTimer=window.setTimeout(tt.handleDragEnd,tt.props.leaveTimeOut))}),_defineProperty$f(tt,"handleEnterSlideOrTraveller",function(){tt.setState({isTextActive:!0})}),_defineProperty$f(tt,"handleLeaveSlideOrTraveller",function(){tt.setState({isTextActive:!1})}),_defineProperty$f(tt,"handleSlideDragStart",function(nt){var rt=isTouch(nt)?nt.changedTouches[0]:nt;tt.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:rt.pageX}),tt.attachDragEndListener()}),tt.travellerDragStartHandlers={startX:tt.handleTravellerDragStart.bind(tt,"startX"),endX:tt.handleTravellerDragStart.bind(tt,"endX")},tt.state={},tt}return _inherits$9(_e,$),_createClass$b(_e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(tt){var nt=tt.startX,rt=tt.endX,it=this.state.scaleValues,ot=this.props,at=ot.gap,st=ot.data,lt=st.length-1,ct=Math.min(nt,rt),ut=Math.max(nt,rt),dt=_e.getIndexInRange(it,ct),ft=_e.getIndexInRange(it,ut);return{startIndex:dt-dt%at,endIndex:ft===lt?lt:ft-ft%at}}},{key:"getTextOfTick",value:function(tt){var nt=this.props,rt=nt.data,it=nt.tickFormatter,ot=nt.dataKey,at=getValueByDataKey(rt[tt],ot,tt);return isFunction$3(it)?it(at,tt):at}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(tt){var nt=this.state,rt=nt.slideMoveStartX,it=nt.startX,ot=nt.endX,at=this.props,st=at.x,lt=at.width,ct=at.travellerWidth,ut=at.startIndex,dt=at.endIndex,ft=at.onChange,pt=tt.pageX-rt;pt>0?pt=Math.min(pt,st+lt-ct-ot,st+lt-ct-it):pt<0&&(pt=Math.max(pt,st-it,st-ot));var mt=this.getIndex({startX:it+pt,endX:ot+pt});(mt.startIndex!==ut||mt.endIndex!==dt)&&ft&&ft(mt),this.setState({startX:it+pt,endX:ot+pt,slideMoveStartX:tt.pageX})}},{key:"handleTravellerDragStart",value:function(tt,nt){var rt=isTouch(nt)?nt.changedTouches[0]:nt;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:tt,brushMoveStartX:rt.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(tt){var nt=this.state,rt=nt.brushMoveStartX,it=nt.movingTravellerId,ot=nt.endX,at=nt.startX,st=this.state[it],lt=this.props,ct=lt.x,ut=lt.width,dt=lt.travellerWidth,ft=lt.onChange,pt=lt.gap,mt=lt.data,ht={startX:this.state.startX,endX:this.state.endX},yt=tt.pageX-rt;yt>0?yt=Math.min(yt,ct+ut-dt-st):yt<0&&(yt=Math.max(yt,ct-st)),ht[it]=st+yt;var xt=this.getIndex(ht),St=xt.startIndex,gt=xt.endIndex,vt=function(){var wt=mt.length-1;return it==="startX"&&(ot>at?St%pt===0:gt%pt===0)||ot<at&&gt===wt||it==="endX"&&(ot>at?gt%pt===0:St%pt===0)||ot>at&&gt===wt};this.setState(_defineProperty$f(_defineProperty$f({},it,st+yt),"brushMoveStartX",tt.pageX),function(){ft&&vt()&&ft(xt)})}},{key:"handleTravellerMoveKeyboard",value:function(tt,nt){var rt=this,it=this.state,ot=it.scaleValues,at=it.startX,st=it.endX,lt=this.state[nt],ct=ot.indexOf(lt);if(ct!==-1){var ut=ct+tt;if(!(ut===-1||ut>=ot.length)){var dt=ot[ut];nt==="startX"&&dt>=st||nt==="endX"&&dt<=at||this.setState(_defineProperty$f({},nt,dt),function(){rt.props.onChange(rt.getIndex({startX:rt.state.startX,endX:rt.state.endX}))})}}}},{key:"renderBackground",value:function(){var tt=this.props,nt=tt.x,rt=tt.y,it=tt.width,ot=tt.height,at=tt.fill,st=tt.stroke;return React.createElement("rect",{stroke:st,fill:at,x:nt,y:rt,width:it,height:ot})}},{key:"renderPanorama",value:function(){var tt=this.props,nt=tt.x,rt=tt.y,it=tt.width,ot=tt.height,at=tt.data,st=tt.children,lt=tt.padding,ct=reactExports.Children.only(st);return ct?React.cloneElement(ct,{x:nt,y:rt,width:it,height:ot,margin:lt,compact:!0,data:at}):null}},{key:"renderTravellerLayer",value:function(tt,nt){var rt,it,ot=this,at=this.props,st=at.y,lt=at.travellerWidth,ct=at.height,ut=at.traveller,dt=at.ariaLabel,ft=at.data,pt=at.startIndex,mt=at.endIndex,ht=Math.max(tt,this.props.x),yt=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:ht,y:st,width:lt,height:ct}),xt=dt||"Min value: ".concat((rt=ft[pt])===null||rt===void 0?void 0:rt.name,", Max value: ").concat((it=ft[mt])===null||it===void 0?void 0:it.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":xt,"aria-valuenow":tt,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[nt],onTouchStart:this.travellerDragStartHandlers[nt],onKeyDown:function(gt){["ArrowLeft","ArrowRight"].includes(gt.key)&&(gt.preventDefault(),gt.stopPropagation(),ot.handleTravellerMoveKeyboard(gt.key==="ArrowRight"?1:-1,nt))},onFocus:function(){ot.setState({isTravellerFocused:!0})},onBlur:function(){ot.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},_e.renderTraveller(ut,yt))}},{key:"renderSlide",value:function(tt,nt){var rt=this.props,it=rt.y,ot=rt.height,at=rt.stroke,st=rt.travellerWidth,lt=Math.min(tt,nt)+st,ct=Math.max(Math.abs(nt-tt)-st,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:at,fillOpacity:.2,x:lt,y:it,width:ct,height:ot})}},{key:"renderText",value:function(){var tt=this.props,nt=tt.startIndex,rt=tt.endIndex,it=tt.y,ot=tt.height,at=tt.travellerWidth,st=tt.stroke,lt=this.state,ct=lt.startX,ut=lt.endX,dt=5,ft={pointerEvents:"none",fill:st};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(ct,ut)-dt,y:it+ot/2},ft),this.getTextOfTick(nt)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(ct,ut)+at+dt,y:it+ot/2},ft),this.getTextOfTick(rt)))}},{key:"render",value:function(){var tt=this.props,nt=tt.data,rt=tt.className,it=tt.children,ot=tt.x,at=tt.y,st=tt.width,lt=tt.height,ct=tt.alwaysShowText,ut=this.state,dt=ut.startX,ft=ut.endX,pt=ut.isTextActive,mt=ut.isSlideMoving,ht=ut.isTravellerMoving,yt=ut.isTravellerFocused;if(!nt||!nt.length||!isNumber(ot)||!isNumber(at)||!isNumber(st)||!isNumber(lt)||st<=0||lt<=0)return null;var xt=clsx("recharts-brush",rt),St=React.Children.count(it)===1,gt=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:xt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:gt},this.renderBackground(),St&&this.renderPanorama(),this.renderSlide(dt,ft),this.renderTravellerLayer(dt,"startX"),this.renderTravellerLayer(ft,"endX"),(pt||mt||ht||yt||ct)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(tt){var nt=tt.x,rt=tt.y,it=tt.width,ot=tt.height,at=tt.stroke,st=Math.floor(rt+ot/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:nt,y:rt,width:it,height:ot,fill:at,stroke:"none"}),React.createElement("line",{x1:nt+1,y1:st,x2:nt+it-1,y2:st,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:nt+1,y1:st+2,x2:nt+it-1,y2:st+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(tt,nt){var rt;return React.isValidElement(tt)?rt=React.cloneElement(tt,nt):isFunction$3(tt)?rt=tt(nt):rt=_e.renderDefaultTraveller(nt),rt}},{key:"getDerivedStateFromProps",value:function(tt,nt){var rt=tt.data,it=tt.width,ot=tt.x,at=tt.travellerWidth,st=tt.updateId,lt=tt.startIndex,ct=tt.endIndex;if(rt!==nt.prevData||st!==nt.prevUpdateId)return _objectSpread$c({prevData:rt,prevTravellerWidth:at,prevUpdateId:st,prevX:ot,prevWidth:it},rt&&rt.length?createScale({data:rt,width:it,x:ot,travellerWidth:at,startIndex:lt,endIndex:ct}):{scale:null,scaleValues:null});if(nt.scale&&(it!==nt.prevWidth||ot!==nt.prevX||at!==nt.prevTravellerWidth)){nt.scale.range([ot,ot+it-at]);var ut=nt.scale.domain().map(function(dt){return nt.scale(dt)});return{prevData:rt,prevTravellerWidth:at,prevUpdateId:st,prevX:ot,prevWidth:it,startX:nt.scale(tt.startIndex),endX:nt.scale(tt.endIndex),scaleValues:ut}}return null}},{key:"getIndexInRange",value:function(tt,nt){for(var rt=tt.length,it=0,ot=rt-1;ot-it>1;){var at=Math.floor((it+ot)/2);tt[at]>nt?ot=at:it=at}return nt>=tt[ot]?ot:it}}])}(reactExports.PureComponent);_defineProperty$f(Brush,"displayName","Brush");_defineProperty$f(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1($,_e){var et;return baseEach$1($,function(tt,nt,rt){return et=_e(tt,nt,rt),!et}),!!et}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some($,_e,et){var tt=isArray$1($)?arraySome:baseSome;return et&&isIterateeCall$1($,_e,et)&&(_e=void 0),tt($,baseIteratee$4(_e))}var some_1=some;const some$1=getDefaultExportFromCjs$1(some_1);var ifOverflowMatches=function(_e,et){var tt=_e.alwaysShow,nt=_e.ifOverflow;return tt&&(nt="extendDomain"),nt===et},defineProperty=_defineProperty$C;function baseAssignValue$1($,_e,et){_e=="__proto__"&&defineProperty?defineProperty($,_e,{configurable:!0,enumerable:!0,value:et,writable:!0}):$[_e]=et}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues($,_e){var et={};return _e=baseIteratee$3(_e),baseForOwn($,function(tt,nt,rt){baseAssignValue(et,nt,_e(tt,nt,rt))}),et}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs$1(mapValues_1);function arrayEvery$1($,_e){for(var et=-1,tt=$==null?0:$.length;++et<tt;)if(!_e($[et],et,$))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1($,_e){var et=!0;return baseEach($,function(tt,nt,rt){return et=!!_e(tt,nt,rt),et}),et}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every($,_e,et){var tt=isArray($)?arrayEvery:baseEvery;return et&&isIterateeCall($,_e,et)&&(_e=void 0),tt($,baseIteratee$2(_e))}var every_1=every;const every$1=getDefaultExportFromCjs$1(every_1);var _excluded$5=["x","y"];function _typeof$e($){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$e($)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$a.apply(this,arguments)}function ownKeys$b($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$b($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$b(Object(et),!0).forEach(function(tt){_defineProperty$e($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$b(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$e($,_e,et){return _e=_toPropertyKey$e(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$e($){var _e=_toPrimitive$e($,"string");return _typeof$e(_e)=="symbol"?_e:_e+""}function _toPrimitive$e($,_e){if(_typeof$e($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$e(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _objectWithoutProperties$5($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$5($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$5($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function typeguardBarRectangleProps($,_e){var et=$.x,tt=$.y,nt=_objectWithoutProperties$5($,_excluded$5),rt="".concat(et),it=parseInt(rt,10),ot="".concat(tt),at=parseInt(ot,10),st="".concat(_e.height||nt.height),lt=parseInt(st,10),ct="".concat(_e.width||nt.width),ut=parseInt(ct,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},_e),nt),it?{x:it}:{}),at?{y:at}:{}),{},{height:lt,width:ut,name:_e.name,radius:_e.radius})}function BarRectangle($){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},$))}var minPointSizeCallback=function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(tt,nt){if(typeof _e=="number")return _e;var rt=isNumber(tt)||isNullish(tt);return rt?_e(tt,nt):(rt||invariant(),et)}},_excluded$4=["value","background"],_Bar;function _typeof$d($){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$d($)}function _objectWithoutProperties$4($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$4($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$4($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$9.apply(this,arguments)}function ownKeys$a($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$a($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$a(Object(et),!0).forEach(function(tt){_defineProperty$d($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$a(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$a($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$d(tt.key),tt)}}function _createClass$a($,_e,et){return _e&&_defineProperties$a($.prototype,_e),et&&_defineProperties$a($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$8($,_e,et){return _e=_getPrototypeOf$8(_e),_possibleConstructorReturn$8($,_isNativeReflectConstruct$8()?Reflect.construct(_e,et||[],_getPrototypeOf$8($).constructor):_e.apply($,et))}function _possibleConstructorReturn$8($,_e){if(_e&&(_typeof$d(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8($)}function _assertThisInitialized$8($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$8(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!$})()}function _getPrototypeOf$8($){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$8($)}function _inherits$8($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$8($,_e)}function _setPrototypeOf$8($,_e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$8($,_e)}function _defineProperty$d($,_e,et){return _e=_toPropertyKey$d(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$d($){var _e=_toPrimitive$d($,"string");return _typeof$d(_e)=="symbol"?_e:_e+""}function _toPrimitive$d($,_e){if(_typeof$d($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$d(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var Bar=function($){function _e(){var et;_classCallCheck$a(this,_e);for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return et=_callSuper$8(this,_e,[].concat(nt)),_defineProperty$d(et,"state",{isAnimationFinished:!1}),_defineProperty$d(et,"id",uniqueId("recharts-bar-")),_defineProperty$d(et,"handleAnimationEnd",function(){var it=et.props.onAnimationEnd;et.setState({isAnimationFinished:!0}),it&&it()}),_defineProperty$d(et,"handleAnimationStart",function(){var it=et.props.onAnimationStart;et.setState({isAnimationFinished:!1}),it&&it()}),et}return _inherits$8(_e,$),_createClass$a(_e,[{key:"renderRectanglesStatically",value:function(tt){var nt=this,rt=this.props,it=rt.shape,ot=rt.dataKey,at=rt.activeIndex,st=rt.activeBar,lt=filterProps(this.props,!1);return tt&&tt.map(function(ct,ut){var dt=ut===at,ft=dt?st:it,pt=_objectSpread$a(_objectSpread$a(_objectSpread$a({},lt),ct),{},{isActive:dt,option:ft,index:ut,dataKey:ot,onAnimationStart:nt.handleAnimationStart,onAnimationEnd:nt.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(nt.props,ct,ut),{key:"rectangle-".concat(ct==null?void 0:ct.x,"-").concat(ct==null?void 0:ct.y,"-").concat(ct==null?void 0:ct.value,"-").concat(ut)}),React.createElement(BarRectangle,pt))})}},{key:"renderRectanglesWithAnimation",value:function(){var tt=this,nt=this.props,rt=nt.data,it=nt.layout,ot=nt.isAnimationActive,at=nt.animationBegin,st=nt.animationDuration,lt=nt.animationEasing,ct=nt.animationId,ut=this.state.prevData;return React.createElement(Animate,{begin:at,duration:st,isActive:ot,easing:lt,from:{t:0},to:{t:1},key:"bar-".concat(ct),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(dt){var ft=dt.t,pt=rt.map(function(mt,ht){var yt=ut&&ut[ht];if(yt){var xt=interpolateNumber$2(yt.x,mt.x),St=interpolateNumber$2(yt.y,mt.y),gt=interpolateNumber$2(yt.width,mt.width),vt=interpolateNumber$2(yt.height,mt.height);return _objectSpread$a(_objectSpread$a({},mt),{},{x:xt(ft),y:St(ft),width:gt(ft),height:vt(ft)})}if(it==="horizontal"){var bt=interpolateNumber$2(0,mt.height),wt=bt(ft);return _objectSpread$a(_objectSpread$a({},mt),{},{y:mt.y+mt.height-wt,height:wt})}var _t=interpolateNumber$2(0,mt.width),Ct=_t(ft);return _objectSpread$a(_objectSpread$a({},mt),{},{width:Ct})});return React.createElement(Layer,null,tt.renderRectanglesStatically(pt))})}},{key:"renderRectangles",value:function(){var tt=this.props,nt=tt.data,rt=tt.isAnimationActive,it=this.state.prevData;return rt&&nt&&nt.length&&(!it||!isEqual$1(it,nt))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(nt)}},{key:"renderBackground",value:function(){var tt=this,nt=this.props,rt=nt.data,it=nt.dataKey,ot=nt.activeIndex,at=filterProps(this.props.background,!1);return rt.map(function(st,lt){st.value;var ct=st.background,ut=_objectWithoutProperties$4(st,_excluded$4);if(!ct)return null;var dt=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},ut),{},{fill:"#eee"},ct),at),adaptEventsOfChild(tt.props,st,lt)),{},{onAnimationStart:tt.handleAnimationStart,onAnimationEnd:tt.handleAnimationEnd,dataKey:it,index:lt,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(lt),option:tt.props.background,isActive:lt===ot},dt))})}},{key:"renderErrorBar",value:function(tt,nt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var rt=this.props,it=rt.data,ot=rt.xAxis,at=rt.yAxis,st=rt.layout,lt=rt.children,ct=findAllByType(lt,ErrorBar);if(!ct)return null;var ut=st==="vertical"?it[0].height/2:it[0].width/2,dt=function(mt,ht){var yt=Array.isArray(mt.value)?mt.value[1]:mt.value;return{x:mt.x,y:mt.y,value:yt,errorVal:getValueByDataKey(mt,ht)}},ft={clipPath:tt?"url(#clipPath-".concat(nt,")"):null};return React.createElement(Layer,ft,ct.map(function(pt){return React.cloneElement(pt,{key:"error-bar-".concat(nt,"-").concat(pt.props.dataKey),data:it,xAxis:ot,yAxis:at,layout:st,offset:ut,dataPointFormatter:dt})}))}},{key:"render",value:function(){var tt=this.props,nt=tt.hide,rt=tt.data,it=tt.className,ot=tt.xAxis,at=tt.yAxis,st=tt.left,lt=tt.top,ct=tt.width,ut=tt.height,dt=tt.isAnimationActive,ft=tt.background,pt=tt.id;if(nt||!rt||!rt.length)return null;var mt=this.state.isAnimationFinished,ht=clsx("recharts-bar",it),yt=ot&&ot.allowDataOverflow,xt=at&&at.allowDataOverflow,St=yt||xt,gt=isNil$1(pt)?this.id:pt;return React.createElement(Layer,{className:ht},yt||xt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(gt)},React.createElement("rect",{x:yt?st:st-ct/2,y:xt?lt:lt-ut/2,width:yt?ct:ct*2,height:xt?ut:ut*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:St?"url(#clipPath-".concat(gt,")"):null},ft?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(St,gt),(!dt||mt)&&LabelList.renderCallByParent(this.props,rt))}}],[{key:"getDerivedStateFromProps",value:function(tt,nt){return tt.animationId!==nt.prevAnimationId?{prevAnimationId:tt.animationId,curData:tt.data,prevData:nt.curData}:tt.data!==nt.curData?{curData:tt.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$d(Bar,"displayName","Bar");_defineProperty$d(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$d(Bar,"getComposedData",function($){var _e=$.props,et=$.item,tt=$.barPosition,nt=$.bandSize,rt=$.xAxis,it=$.yAxis,ot=$.xAxisTicks,at=$.yAxisTicks,st=$.stackedData,lt=$.dataStartIndex,ct=$.displayedData,ut=$.offset,dt=findPositionOfBar(tt,et);if(!dt)return null;var ft=_e.layout,pt=et.type.defaultProps,mt=pt!==void 0?_objectSpread$a(_objectSpread$a({},pt),et.props):et.props,ht=mt.dataKey,yt=mt.children,xt=mt.minPointSize,St=ft==="horizontal"?it:rt,gt=st?St.scale.domain():null,vt=getBaseValueOfBar({numericAxis:St}),bt=findAllByType(yt,Cell),wt=ct.map(function(_t,Ct){var $t,Et,jt,Vt,Mt,Ht;st?$t=truncateByDomain(st[lt+Ct],gt):($t=getValueByDataKey(_t,ht),Array.isArray($t)||($t=[vt,$t]));var Rt=minPointSizeCallback(xt,_Bar.defaultProps.minPointSize)($t[1],Ct);if(ft==="horizontal"){var Ft,Tt=[it.scale($t[0]),it.scale($t[1])],Dt=Tt[0],Jt=Tt[1];Et=getCateCoordinateOfBar({axis:rt,ticks:ot,bandSize:nt,offset:dt.offset,entry:_t,index:Ct}),jt=(Ft=Jt??Dt)!==null&&Ft!==void 0?Ft:void 0,Vt=dt.size;var Ot=Dt-Jt;if(Mt=Number.isNaN(Ot)?0:Ot,Ht={x:Et,y:it.y,width:Vt,height:it.height},Math.abs(Rt)>0&&Math.abs(Mt)<Math.abs(Rt)){var Pt=mathSign(Mt||Rt)*(Math.abs(Rt)-Math.abs(Mt));jt-=Pt,Mt+=Pt}}else{var kt=[rt.scale($t[0]),rt.scale($t[1])],Nt=kt[0],zt=kt[1];if(Et=Nt,jt=getCateCoordinateOfBar({axis:it,ticks:at,bandSize:nt,offset:dt.offset,entry:_t,index:Ct}),Vt=zt-Nt,Mt=dt.size,Ht={x:rt.x,y:jt,width:rt.width,height:Mt},Math.abs(Rt)>0&&Math.abs(Vt)<Math.abs(Rt)){var Wt=mathSign(Vt||Rt)*(Math.abs(Rt)-Math.abs(Vt));Vt+=Wt}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},_t),{},{x:Et,y:jt,width:Vt,height:Mt,value:st?$t:$t[1],payload:_t,background:Ht},bt&&bt[Ct]&&bt[Ct].props),{},{tooltipPayload:[getTooltipItem(et,_t)],tooltipPosition:{x:Et+Vt/2,y:jt+Mt/2}})});return _objectSpread$a({data:wt,layout:ft},ut)});function _typeof$c($){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$c($)}function _classCallCheck$9($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$c(tt.key),tt)}}function _createClass$9($,_e,et){return _e&&_defineProperties$9($.prototype,_e),et&&_defineProperties$9($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function ownKeys$9($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$9($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$9(Object(et),!0).forEach(function(tt){_defineProperty$c($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$9(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$c($,_e,et){return _e=_toPropertyKey$c(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$c($){var _e=_toPrimitive$c($,"string");return _typeof$c(_e)=="symbol"?_e:_e+""}function _toPrimitive$c($,_e){if(_typeof$c($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$c(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var formatAxisMap=function(_e,et,tt,nt,rt){var it=_e.width,ot=_e.height,at=_e.layout,st=_e.children,lt=Object.keys(et),ct={left:tt.left,leftMirror:tt.left,right:it-tt.right,rightMirror:it-tt.right,top:tt.top,topMirror:tt.top,bottom:ot-tt.bottom,bottomMirror:ot-tt.bottom},ut=!!findChildByType(st,Bar);return lt.reduce(function(dt,ft){var pt=et[ft],mt=pt.orientation,ht=pt.domain,yt=pt.padding,xt=yt===void 0?{}:yt,St=pt.mirror,gt=pt.reversed,vt="".concat(mt).concat(St?"Mirror":""),bt,wt,_t,Ct,$t;if(pt.type==="number"&&(pt.padding==="gap"||pt.padding==="no-gap")){var Et=ht[1]-ht[0],jt=1/0,Vt=pt.categoricalDomain.sort(compareValues);if(Vt.forEach(function(kt,Nt){Nt>0&&(jt=Math.min((kt||0)-(Vt[Nt-1]||0),jt))}),Number.isFinite(jt)){var Mt=jt/Et,Ht=pt.layout==="vertical"?tt.height:tt.width;if(pt.padding==="gap"&&(bt=Mt*Ht/2),pt.padding==="no-gap"){var Rt=getPercentValue(_e.barCategoryGap,Mt*Ht),Ft=Mt*Ht/2;bt=Ft-Rt-(Ft-Rt)/Ht*Rt}}}nt==="xAxis"?wt=[tt.left+(xt.left||0)+(bt||0),tt.left+tt.width-(xt.right||0)-(bt||0)]:nt==="yAxis"?wt=at==="horizontal"?[tt.top+tt.height-(xt.bottom||0),tt.top+(xt.top||0)]:[tt.top+(xt.top||0)+(bt||0),tt.top+tt.height-(xt.bottom||0)-(bt||0)]:wt=pt.range,gt&&(wt=[wt[1],wt[0]]);var Tt=parseScale(pt,rt,ut),Dt=Tt.scale,Jt=Tt.realScaleType;Dt.domain(ht).range(wt),checkDomainOfScale(Dt);var Ot=getTicksOfScale(Dt,_objectSpread$9(_objectSpread$9({},pt),{},{realScaleType:Jt}));nt==="xAxis"?($t=mt==="top"&&!St||mt==="bottom"&&St,_t=tt.left,Ct=ct[vt]-$t*pt.height):nt==="yAxis"&&($t=mt==="left"&&!St||mt==="right"&&St,_t=ct[vt]-$t*pt.width,Ct=tt.top);var Pt=_objectSpread$9(_objectSpread$9(_objectSpread$9({},pt),Ot),{},{realScaleType:Jt,x:_t,y:Ct,scale:Dt,width:nt==="xAxis"?tt.width:pt.width,height:nt==="yAxis"?tt.height:pt.height});return Pt.bandSize=getBandSizeOfAxis(Pt,Ot),!pt.hide&&nt==="xAxis"?ct[vt]+=($t?-1:1)*Pt.height:pt.hide||(ct[vt]+=($t?-1:1)*Pt.width),_objectSpread$9(_objectSpread$9({},dt),{},_defineProperty$c({},ft,Pt))},{})},rectWithPoints=function(_e,et){var tt=_e.x,nt=_e.y,rt=et.x,it=et.y;return{x:Math.min(tt,rt),y:Math.min(nt,it),width:Math.abs(rt-tt),height:Math.abs(it-nt)}},rectWithCoords=function(_e){var et=_e.x1,tt=_e.y1,nt=_e.x2,rt=_e.y2;return rectWithPoints({x:et,y:tt},{x:nt,y:rt})},ScaleHelper=function(){function $(_e){_classCallCheck$9(this,$),this.scale=_e}return _createClass$9($,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=tt.bandAware,rt=tt.position;if(et!==void 0){if(rt)switch(rt){case"start":return this.scale(et);case"middle":{var it=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+it}case"end":{var ot=this.bandwidth?this.bandwidth():0;return this.scale(et)+ot}default:return this.scale(et)}if(nt){var at=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+at}return this.scale(et)}}},{key:"isInRange",value:function(et){var tt=this.range(),nt=tt[0],rt=tt[tt.length-1];return nt<=rt?et>=nt&&et<=rt:et>=rt&&et<=nt}}],[{key:"create",value:function(et){return new $(et)}}])}();_defineProperty$c(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(_e){var et=Object.keys(_e).reduce(function(tt,nt){return _objectSpread$9(_objectSpread$9({},tt),{},_defineProperty$c({},nt,ScaleHelper.create(_e[nt])))},{});return _objectSpread$9(_objectSpread$9({},et),{},{apply:function(nt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=rt.bandAware,ot=rt.position;return mapValues$1(nt,function(at,st){return et[st].apply(at,{bandAware:it,position:ot})})},isInRange:function(nt){return every$1(nt,function(rt,it){return et[it].isInRange(rt)})}})};function normalizeAngle($){return($%180+180)%180}var getAngledRectangleWidth=function(_e){var et=_e.width,tt=_e.height,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rt=normalizeAngle(nt),it=rt*Math.PI/180,ot=Math.atan(tt/et),at=it>ot&&it<Math.PI-ot?tt/Math.sin(it):et/Math.cos(it);return Math.abs(at)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1($){return function(_e,et,tt){var nt=Object(_e);if(!isArrayLike(_e)){var rt=baseIteratee$1(et);_e=keys(_e),et=function(ot){return rt(nt[ot],ot,nt)}}var it=$(_e,et,tt);return it>-1?nt[rt?_e[it]:it]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1($){var _e=toFinite($),et=_e%1;return _e===_e?et?_e-et:_e:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1($,_e,et){var tt=$==null?0:$.length;if(!tt)return-1;var nt=et==null?0:toInteger(et);return nt<0&&(nt=nativeMax(tt+nt,0)),baseFindIndex($,baseIteratee(_e),nt)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs$1(find_1);var calculateViewBox=memoize$3(function($){return{x:$.left,y:$.top,width:$.width,height:$.height}},function($){return["l",$.left,"t",$.top,"w",$.width,"h",$.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(_e){var et=_e.state,tt=et.xAxisMap,nt=et.yAxisMap,rt=et.offset,it=_e.clipPathId,ot=_e.children,at=_e.width,st=_e.height,lt=calculateViewBox(rt);return React.createElement(XAxisContext.Provider,{value:tt},React.createElement(YAxisContext.Provider,{value:nt},React.createElement(OffsetContext.Provider,{value:rt},React.createElement(ViewBoxContext.Provider,{value:lt},React.createElement(ClipPathIdContext.Provider,{value:it},React.createElement(ChartHeightContext.Provider,{value:st},React.createElement(ChartWidthContext.Provider,{value:at},ot)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(_e){var et=reactExports.useContext(XAxisContext);et==null&&invariant();var tt=et[_e];return tt==null&&invariant(),tt},useArbitraryXAxis=function(){var _e=reactExports.useContext(XAxisContext);return getAnyElementOfObject(_e)},useYAxisWithFiniteDomainOrRandom=function(){var _e=reactExports.useContext(YAxisContext),et=find$1(_e,function(tt){return every$1(tt.domain,Number.isFinite)});return et||getAnyElementOfObject(_e)},useYAxisOrThrow=function(_e){var et=reactExports.useContext(YAxisContext);et==null&&invariant();var tt=et[_e];return tt==null&&invariant(),tt},useViewBox=function(){var _e=reactExports.useContext(ViewBoxContext);return _e},useOffset=function(){return reactExports.useContext(OffsetContext)},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$b($){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$b($)}function _classCallCheck$8($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$b(tt.key),tt)}}function _createClass$8($,_e,et){return _e&&_defineProperties$8($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$7($,_e,et){return _e=_getPrototypeOf$7(_e),_possibleConstructorReturn$7($,_isNativeReflectConstruct$7()?Reflect.construct(_e,et||[],_getPrototypeOf$7($).constructor):_e.apply($,et))}function _possibleConstructorReturn$7($,_e){if(_e&&(_typeof$b(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7($)}function _assertThisInitialized$7($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$7(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!$})()}function _getPrototypeOf$7($){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$7($)}function _inherits$7($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$7($,_e)}function _setPrototypeOf$7($,_e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$7($,_e)}function ownKeys$8($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$8($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$8(Object(et),!0).forEach(function(tt){_defineProperty$b($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$8(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$b($,_e,et){return _e=_toPropertyKey$b(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$b($){var _e=_toPrimitive$b($,"string");return _typeof$b(_e)=="symbol"?_e:_e+""}function _toPrimitive$b($,_e){if(_typeof$b($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$b(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function _slicedToArray$1($,_e){return _arrayWithHoles$1($)||_iterableToArrayLimit$1($,_e)||_unsupportedIterableToArray$3($,_e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$3($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$3($,_e)}}function _arrayLikeToArray$3($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit$1($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles$1($){if(Array.isArray($))return $}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$8.apply(this,arguments)}var renderLine=function(_e,et){var tt;return React.isValidElement(_e)?tt=React.cloneElement(_e,et):isFunction$3(_e)?tt=_e(et):tt=React.createElement("line",_extends$8({},et,{className:"recharts-reference-line-line"})),tt},getEndPoints=function(_e,et,tt,nt,rt,it,ot,at,st){var lt=rt.x,ct=rt.y,ut=rt.width,dt=rt.height;if(tt){var ft=st.y,pt=_e.y.apply(ft,{position:it});if(ifOverflowMatches(st,"discard")&&!_e.y.isInRange(pt))return null;var mt=[{x:lt+ut,y:pt},{x:lt,y:pt}];return at==="left"?mt.reverse():mt}if(et){var ht=st.x,yt=_e.x.apply(ht,{position:it});if(ifOverflowMatches(st,"discard")&&!_e.x.isInRange(yt))return null;var xt=[{x:yt,y:ct+dt},{x:yt,y:ct}];return ot==="top"?xt.reverse():xt}if(nt){var St=st.segment,gt=St.map(function(vt){return _e.apply(vt,{position:it})});return ifOverflowMatches(st,"discard")&&some$1(gt,function(vt){return!_e.isInRange(vt)})?null:gt}return null};function ReferenceLineImpl($){var _e=$.x,et=$.y,tt=$.segment,nt=$.xAxisId,rt=$.yAxisId,it=$.shape,ot=$.className,at=$.alwaysShow,st=useClipPathId(),lt=useXAxisOrThrow(nt),ct=useYAxisOrThrow(rt),ut=useViewBox();if(!st||!ut)return null;warn(at===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dt=createLabeledScales({x:lt.scale,y:ct.scale}),ft=isNumOrStr(_e),pt=isNumOrStr(et),mt=tt&&tt.length===2,ht=getEndPoints(dt,ft,pt,mt,ut,$.position,lt.orientation,ct.orientation,$);if(!ht)return null;var yt=_slicedToArray$1(ht,2),xt=yt[0],St=xt.x,gt=xt.y,vt=yt[1],bt=vt.x,wt=vt.y,_t=ifOverflowMatches($,"hidden")?"url(#".concat(st,")"):void 0,Ct=_objectSpread$8(_objectSpread$8({clipPath:_t},filterProps($,!0)),{},{x1:St,y1:gt,x2:bt,y2:wt});return React.createElement(Layer,{className:clsx("recharts-reference-line",ot)},renderLine(it,Ct),Label.renderCallByParent($,rectWithCoords({x1:St,y1:gt,x2:bt,y2:wt})))}var ReferenceLine=function($){function _e(){return _classCallCheck$8(this,_e),_callSuper$7(this,_e,arguments)}return _inherits$7(_e,$),_createClass$8(_e,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$b(ReferenceLine,"displayName","ReferenceLine");_defineProperty$b(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$7.apply(this,arguments)}function _typeof$a($){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$a($)}function ownKeys$7($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$7($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$7(Object(et),!0).forEach(function(tt){_defineProperty$a($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$7(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$7($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$a(tt.key),tt)}}function _createClass$7($,_e,et){return _e&&_defineProperties$7($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$6($,_e,et){return _e=_getPrototypeOf$6(_e),_possibleConstructorReturn$6($,_isNativeReflectConstruct$6()?Reflect.construct(_e,et||[],_getPrototypeOf$6($).constructor):_e.apply($,et))}function _possibleConstructorReturn$6($,_e){if(_e&&(_typeof$a(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6($)}function _assertThisInitialized$6($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$6(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!$})()}function _getPrototypeOf$6($){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$6($)}function _inherits$6($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$6($,_e)}function _setPrototypeOf$6($,_e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$6($,_e)}function _defineProperty$a($,_e,et){return _e=_toPropertyKey$a(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$a($){var _e=_toPrimitive$a($,"string");return _typeof$a(_e)=="symbol"?_e:_e+""}function _toPrimitive$a($,_e){if(_typeof$a($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$a(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var getCoordinate=function(_e){var et=_e.x,tt=_e.y,nt=_e.xAxis,rt=_e.yAxis,it=createLabeledScales({x:nt.scale,y:rt.scale}),ot=it.apply({x:et,y:tt},{bandAware:!0});return ifOverflowMatches(_e,"discard")&&!it.isInRange(ot)?null:ot},ReferenceDot=function($){function _e(){return _classCallCheck$7(this,_e),_callSuper$6(this,_e,arguments)}return _inherits$6(_e,$),_createClass$7(_e,[{key:"render",value:function(){var tt=this.props,nt=tt.x,rt=tt.y,it=tt.r,ot=tt.alwaysShow,at=tt.clipPathId,st=isNumOrStr(nt),lt=isNumOrStr(rt);if(warn(ot===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!st||!lt)return null;var ct=getCoordinate(this.props);if(!ct)return null;var ut=ct.x,dt=ct.y,ft=this.props,pt=ft.shape,mt=ft.className,ht=ifOverflowMatches(this.props,"hidden")?"url(#".concat(at,")"):void 0,yt=_objectSpread$7(_objectSpread$7({clipPath:ht},filterProps(this.props,!0)),{},{cx:ut,cy:dt});return React.createElement(Layer,{className:clsx("recharts-reference-dot",mt)},_e.renderDot(pt,yt),Label.renderCallByParent(this.props,{x:ut-it,y:dt-it,width:2*it,height:2*it}))}}])}(React.Component);_defineProperty$a(ReferenceDot,"displayName","ReferenceDot");_defineProperty$a(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$a(ReferenceDot,"renderDot",function($,_e){var et;return React.isValidElement($)?et=React.cloneElement($,_e):isFunction$3($)?et=$(_e):et=React.createElement(Dot,_extends$7({},_e,{cx:_e.cx,cy:_e.cy,className:"recharts-reference-dot-dot"})),et});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$6.apply(this,arguments)}function _typeof$9($){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$9($)}function ownKeys$6($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$6($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$6(Object(et),!0).forEach(function(tt){_defineProperty$9($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$6(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _classCallCheck$6($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$9(tt.key),tt)}}function _createClass$6($,_e,et){return _e&&_defineProperties$6($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$5($,_e,et){return _e=_getPrototypeOf$5(_e),_possibleConstructorReturn$5($,_isNativeReflectConstruct$5()?Reflect.construct(_e,et||[],_getPrototypeOf$5($).constructor):_e.apply($,et))}function _possibleConstructorReturn$5($,_e){if(_e&&(_typeof$9(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5($)}function _assertThisInitialized$5($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$5(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!$})()}function _getPrototypeOf$5($){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$5($)}function _inherits$5($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$5($,_e)}function _setPrototypeOf$5($,_e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$5($,_e)}function _defineProperty$9($,_e,et){return _e=_toPropertyKey$9(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$9($){var _e=_toPrimitive$9($,"string");return _typeof$9(_e)=="symbol"?_e:_e+""}function _toPrimitive$9($,_e){if(_typeof$9($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$9(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var getRect=function(_e,et,tt,nt,rt){var it=rt.x1,ot=rt.x2,at=rt.y1,st=rt.y2,lt=rt.xAxis,ct=rt.yAxis;if(!lt||!ct)return null;var ut=createLabeledScales({x:lt.scale,y:ct.scale}),dt={x:_e?ut.x.apply(it,{position:"start"}):ut.x.rangeMin,y:tt?ut.y.apply(at,{position:"start"}):ut.y.rangeMin},ft={x:et?ut.x.apply(ot,{position:"end"}):ut.x.rangeMax,y:nt?ut.y.apply(st,{position:"end"}):ut.y.rangeMax};return ifOverflowMatches(rt,"discard")&&(!ut.isInRange(dt)||!ut.isInRange(ft))?null:rectWithPoints(dt,ft)},ReferenceArea=function($){function _e(){return _classCallCheck$6(this,_e),_callSuper$5(this,_e,arguments)}return _inherits$5(_e,$),_createClass$6(_e,[{key:"render",value:function(){var tt=this.props,nt=tt.x1,rt=tt.x2,it=tt.y1,ot=tt.y2,at=tt.className,st=tt.alwaysShow,lt=tt.clipPathId;warn(st===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ct=isNumOrStr(nt),ut=isNumOrStr(rt),dt=isNumOrStr(it),ft=isNumOrStr(ot),pt=this.props.shape;if(!ct&&!ut&&!dt&&!ft&&!pt)return null;var mt=getRect(ct,ut,dt,ft,this.props);if(!mt&&!pt)return null;var ht=ifOverflowMatches(this.props,"hidden")?"url(#".concat(lt,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",at)},_e.renderRect(pt,_objectSpread$6(_objectSpread$6({clipPath:ht},filterProps(this.props,!0)),mt)),Label.renderCallByParent(this.props,mt))}}])}(React.Component);_defineProperty$9(ReferenceArea,"displayName","ReferenceArea");_defineProperty$9(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$9(ReferenceArea,"renderRect",function($,_e){var et;return React.isValidElement($)?et=React.cloneElement($,_e):isFunction$3($)?et=$(_e):et=React.createElement(Rectangle,_extends$6({},_e,{className:"recharts-reference-area-rect"})),et});function getEveryNthWithCondition($,_e,et){if(_e<1)return[];if(_e===1&&et===void 0)return $;for(var tt=[],nt=0;nt<$.length;nt+=_e)tt.push($[nt]);return tt}function getAngledTickWidth($,_e,et){var tt={width:$.width+_e.width,height:$.height+_e.height};return getAngledRectangleWidth(tt,et)}function getTickBoundaries($,_e,et){var tt=et==="width",nt=$.x,rt=$.y,it=$.width,ot=$.height;return _e===1?{start:tt?nt:rt,end:tt?nt+it:rt+ot}:{start:tt?nt+it:rt+ot,end:tt?nt:rt}}function isVisible($,_e,et,tt,nt){if($*_e<$*tt||$*_e>$*nt)return!1;var rt=et();return $*(_e-$*rt/2-tt)>=0&&$*(_e+$*rt/2-nt)<=0}function getNumberIntervalTicks($,_e){return getEveryNthWithCondition($,_e+1)}function getEquidistantTicks($,_e,et,tt,nt){for(var rt=(tt||[]).slice(),it=_e.start,ot=_e.end,at=0,st=1,lt=it,ct=function(){var ft=tt==null?void 0:tt[at];if(ft===void 0)return{v:getEveryNthWithCondition(tt,st)};var pt=at,mt,ht=function(){return mt===void 0&&(mt=et(ft,pt)),mt},yt=ft.coordinate,xt=at===0||isVisible($,yt,ht,lt,ot);xt||(at=0,lt=it,st+=1),xt&&(lt=yt+$*(ht()/2+nt),at+=st)},ut;st<=rt.length;)if(ut=ct(),ut)return ut.v;return[]}function _typeof$8($){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$8($)}function ownKeys$5($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$5($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$5(Object(et),!0).forEach(function(tt){_defineProperty$8($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$5(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$8($,_e,et){return _e=_toPropertyKey$8(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$8($){var _e=_toPrimitive$8($,"string");return _typeof$8(_e)=="symbol"?_e:_e+""}function _toPrimitive$8($,_e){if(_typeof$8($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$8(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function getTicksEnd($,_e,et,tt,nt){for(var rt=(tt||[]).slice(),it=rt.length,ot=_e.start,at=_e.end,st=function(ut){var dt=rt[ut],ft,pt=function(){return ft===void 0&&(ft=et(dt,ut)),ft};if(ut===it-1){var mt=$*(dt.coordinate+$*pt()/2-at);rt[ut]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:mt>0?dt.coordinate-mt*$:dt.coordinate})}else rt[ut]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:dt.coordinate});var ht=isVisible($,dt.tickCoord,pt,ot,at);ht&&(at=dt.tickCoord-$*(pt()/2+nt),rt[ut]=_objectSpread$5(_objectSpread$5({},dt),{},{isShow:!0}))},lt=it-1;lt>=0;lt--)st(lt);return rt}function getTicksStart($,_e,et,tt,nt,rt){var it=(tt||[]).slice(),ot=it.length,at=_e.start,st=_e.end;if(rt){var lt=tt[ot-1],ct=et(lt,ot-1),ut=$*(lt.coordinate+$*ct/2-st);it[ot-1]=lt=_objectSpread$5(_objectSpread$5({},lt),{},{tickCoord:ut>0?lt.coordinate-ut*$:lt.coordinate});var dt=isVisible($,lt.tickCoord,function(){return ct},at,st);dt&&(st=lt.tickCoord-$*(ct/2+nt),it[ot-1]=_objectSpread$5(_objectSpread$5({},lt),{},{isShow:!0}))}for(var ft=rt?ot-1:ot,pt=function(yt){var xt=it[yt],St,gt=function(){return St===void 0&&(St=et(xt,yt)),St};if(yt===0){var vt=$*(xt.coordinate-$*gt()/2-at);it[yt]=xt=_objectSpread$5(_objectSpread$5({},xt),{},{tickCoord:vt<0?xt.coordinate-vt*$:xt.coordinate})}else it[yt]=xt=_objectSpread$5(_objectSpread$5({},xt),{},{tickCoord:xt.coordinate});var bt=isVisible($,xt.tickCoord,gt,at,st);bt&&(at=xt.tickCoord+$*(gt()/2+nt),it[yt]=_objectSpread$5(_objectSpread$5({},xt),{},{isShow:!0}))},mt=0;mt<ft;mt++)pt(mt);return it}function getTicks($,_e,et){var tt=$.tick,nt=$.ticks,rt=$.viewBox,it=$.minTickGap,ot=$.orientation,at=$.interval,st=$.tickFormatter,lt=$.unit,ct=$.angle;if(!nt||!nt.length||!tt)return[];if(isNumber(at)||Global.isSsr)return getNumberIntervalTicks(nt,typeof at=="number"&&isNumber(at)?at:0);var ut=[],dt=ot==="top"||ot==="bottom"?"width":"height",ft=lt&&dt==="width"?getStringSize(lt,{fontSize:_e,letterSpacing:et}):{width:0,height:0},pt=function(xt,St){var gt=isFunction$3(st)?st(xt.value,St):xt.value;return dt==="width"?getAngledTickWidth(getStringSize(gt,{fontSize:_e,letterSpacing:et}),ft,ct):getStringSize(gt,{fontSize:_e,letterSpacing:et})[dt]},mt=nt.length>=2?mathSign(nt[1].coordinate-nt[0].coordinate):1,ht=getTickBoundaries(rt,mt,dt);return at==="equidistantPreserveStart"?getEquidistantTicks(mt,ht,pt,nt,it):(at==="preserveStart"||at==="preserveStartEnd"?ut=getTicksStart(mt,ht,pt,nt,it,at==="preserveStartEnd"):ut=getTicksEnd(mt,ht,pt,nt,it),ut.filter(function(yt){return yt.isShow}))}var _excluded$3=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7($){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$7($)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$5.apply(this,arguments)}function ownKeys$4($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$4($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$4(Object(et),!0).forEach(function(tt){_defineProperty$7($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$4(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _objectWithoutProperties$3($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$3($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$3($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _classCallCheck$5($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$7(tt.key),tt)}}function _createClass$5($,_e,et){return _e&&_defineProperties$5($.prototype,_e),et&&_defineProperties$5($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$4($,_e,et){return _e=_getPrototypeOf$4(_e),_possibleConstructorReturn$4($,_isNativeReflectConstruct$4()?Reflect.construct(_e,et||[],_getPrototypeOf$4($).constructor):_e.apply($,et))}function _possibleConstructorReturn$4($,_e){if(_e&&(_typeof$7(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4($)}function _assertThisInitialized$4($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$4(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!$})()}function _getPrototypeOf$4($){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$4($)}function _inherits$4($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$4($,_e)}function _setPrototypeOf$4($,_e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$4($,_e)}function _defineProperty$7($,_e,et){return _e=_toPropertyKey$7(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$7($){var _e=_toPrimitive$7($,"string");return _typeof$7(_e)=="symbol"?_e:_e+""}function _toPrimitive$7($,_e){if(_typeof$7($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$7(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var CartesianAxis=function($){function _e(et){var tt;return _classCallCheck$5(this,_e),tt=_callSuper$4(this,_e,[et]),tt.state={fontSize:"",letterSpacing:""},tt}return _inherits$4(_e,$),_createClass$5(_e,[{key:"shouldComponentUpdate",value:function(tt,nt){var rt=tt.viewBox,it=_objectWithoutProperties$3(tt,_excluded$3),ot=this.props,at=ot.viewBox,st=_objectWithoutProperties$3(ot,_excluded2$3);return!shallowEqual(rt,at)||!shallowEqual(it,st)||!shallowEqual(nt,this.state)}},{key:"componentDidMount",value:function(){var tt=this.layerReference;if(tt){var nt=tt.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];nt&&this.setState({fontSize:window.getComputedStyle(nt).fontSize,letterSpacing:window.getComputedStyle(nt).letterSpacing})}}},{key:"getTickLineCoord",value:function(tt){var nt=this.props,rt=nt.x,it=nt.y,ot=nt.width,at=nt.height,st=nt.orientation,lt=nt.tickSize,ct=nt.mirror,ut=nt.tickMargin,dt,ft,pt,mt,ht,yt,xt=ct?-1:1,St=tt.tickSize||lt,gt=isNumber(tt.tickCoord)?tt.tickCoord:tt.coordinate;switch(st){case"top":dt=ft=tt.coordinate,mt=it+ +!ct*at,pt=mt-xt*St,yt=pt-xt*ut,ht=gt;break;case"left":pt=mt=tt.coordinate,ft=rt+ +!ct*ot,dt=ft-xt*St,ht=dt-xt*ut,yt=gt;break;case"right":pt=mt=tt.coordinate,ft=rt+ +ct*ot,dt=ft+xt*St,ht=dt+xt*ut,yt=gt;break;default:dt=ft=tt.coordinate,mt=it+ +ct*at,pt=mt+xt*St,yt=pt+xt*ut,ht=gt;break}return{line:{x1:dt,y1:pt,x2:ft,y2:mt},tick:{x:ht,y:yt}}}},{key:"getTickTextAnchor",value:function(){var tt=this.props,nt=tt.orientation,rt=tt.mirror,it;switch(nt){case"left":it=rt?"start":"end";break;case"right":it=rt?"end":"start";break;default:it="middle";break}return it}},{key:"getTickVerticalAnchor",value:function(){var tt=this.props,nt=tt.orientation,rt=tt.mirror,it="end";switch(nt){case"left":case"right":it="middle";break;case"top":it=rt?"start":"end";break;default:it=rt?"end":"start";break}return it}},{key:"renderAxisLine",value:function(){var tt=this.props,nt=tt.x,rt=tt.y,it=tt.width,ot=tt.height,at=tt.orientation,st=tt.mirror,lt=tt.axisLine,ct=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(lt,!1)),{},{fill:"none"});if(at==="top"||at==="bottom"){var ut=+(at==="top"&&!st||at==="bottom"&&st);ct=_objectSpread$4(_objectSpread$4({},ct),{},{x1:nt,y1:rt+ut*ot,x2:nt+it,y2:rt+ut*ot})}else{var dt=+(at==="left"&&!st||at==="right"&&st);ct=_objectSpread$4(_objectSpread$4({},ct),{},{x1:nt+dt*it,y1:rt,x2:nt+dt*it,y2:rt+ot})}return React.createElement("line",_extends$5({},ct,{className:clsx("recharts-cartesian-axis-line",get$2(lt,"className"))}))}},{key:"renderTicks",value:function(tt,nt,rt){var it=this,ot=this.props,at=ot.tickLine,st=ot.stroke,lt=ot.tick,ct=ot.tickFormatter,ut=ot.unit,dt=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:tt}),nt,rt),ft=this.getTickTextAnchor(),pt=this.getTickVerticalAnchor(),mt=filterProps(this.props,!1),ht=filterProps(lt,!1),yt=_objectSpread$4(_objectSpread$4({},mt),{},{fill:"none"},filterProps(at,!1)),xt=dt.map(function(St,gt){var vt=it.getTickLineCoord(St),bt=vt.line,wt=vt.tick,_t=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:ft,verticalAnchor:pt},mt),{},{stroke:"none",fill:st},ht),wt),{},{index:gt,payload:St,visibleTicksCount:dt.length,tickFormatter:ct});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(St.value,"-").concat(St.coordinate,"-").concat(St.tickCoord)},adaptEventsOfChild(it.props,St,gt)),at&&React.createElement("line",_extends$5({},yt,bt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(at,"className"))})),lt&&_e.renderTickItem(lt,_t,"".concat(isFunction$3(ct)?ct(St.value,gt):St.value).concat(ut||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},xt)}},{key:"render",value:function(){var tt=this,nt=this.props,rt=nt.axisLine,it=nt.width,ot=nt.height,at=nt.ticksGenerator,st=nt.className,lt=nt.hide;if(lt)return null;var ct=this.props,ut=ct.ticks,dt=_objectWithoutProperties$3(ct,_excluded3),ft=ut;return isFunction$3(at)&&(ft=ut&&ut.length>0?at(this.props):at(dt)),it<=0||ot<=0||!ft||!ft.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",st),ref:function(mt){tt.layerReference=mt}},rt&&this.renderAxisLine(),this.renderTicks(ft,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(tt,nt,rt){var it,ot=clsx(nt.className,"recharts-cartesian-axis-tick-value");return React.isValidElement(tt)?it=React.cloneElement(tt,_objectSpread$4(_objectSpread$4({},nt),{},{className:ot})):isFunction$3(tt)?it=tt(_objectSpread$4(_objectSpread$4({},nt),{},{className:ot})):it=React.createElement(Text,_extends$5({},nt,{className:"recharts-cartesian-axis-tick-value"}),rt),it}}])}(reactExports.Component);_defineProperty$7(CartesianAxis,"displayName","CartesianAxis");_defineProperty$7(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$2=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$6($){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$6($)}function ownKeys$3($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$3($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty$6($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$6($,_e,et){return _e=_toPropertyKey$6(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$6($){var _e=_toPrimitive$6($,"string");return _typeof$6(_e)=="symbol"?_e:_e+""}function _toPrimitive$6($,_e){if(_typeof$6($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$6(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$4.apply(this,arguments)}function _objectWithoutProperties$2($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$2($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$2($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}var Background=function(_e){var et=_e.fill;if(!et||et==="none")return null;var tt=_e.fillOpacity,nt=_e.x,rt=_e.y,it=_e.width,ot=_e.height,at=_e.ry;return React.createElement("rect",{x:nt,y:rt,ry:at,width:it,height:ot,stroke:"none",fill:et,fillOpacity:tt,className:"recharts-cartesian-grid-bg"})};function renderLineItem($,_e){var et;if(React.isValidElement($))et=React.cloneElement($,_e);else if(isFunction$3($))et=$(_e);else{var tt=_e.x1,nt=_e.y1,rt=_e.x2,it=_e.y2,ot=_e.key,at=_objectWithoutProperties$2(_e,_excluded$2),st=filterProps(at,!1);st.offset;var lt=_objectWithoutProperties$2(st,_excluded2$2);et=React.createElement("line",_extends$4({},lt,{x1:tt,y1:nt,x2:rt,y2:it,fill:"none",key:ot}))}return et}function HorizontalGridLines($){var _e=$.x,et=$.width,tt=$.horizontal,nt=tt===void 0?!0:tt,rt=$.horizontalPoints;if(!nt||!rt||!rt.length)return null;var it=rt.map(function(ot,at){var st=_objectSpread$3(_objectSpread$3({},$),{},{x1:_e,y1:ot,x2:_e+et,y2:ot,key:"line-".concat(at),index:at});return renderLineItem(nt,st)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},it)}function VerticalGridLines($){var _e=$.y,et=$.height,tt=$.vertical,nt=tt===void 0?!0:tt,rt=$.verticalPoints;if(!nt||!rt||!rt.length)return null;var it=rt.map(function(ot,at){var st=_objectSpread$3(_objectSpread$3({},$),{},{x1:ot,y1:_e,x2:ot,y2:_e+et,key:"line-".concat(at),index:at});return renderLineItem(nt,st)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},it)}function HorizontalStripes($){var _e=$.horizontalFill,et=$.fillOpacity,tt=$.x,nt=$.y,rt=$.width,it=$.height,ot=$.horizontalPoints,at=$.horizontal,st=at===void 0?!0:at;if(!st||!_e||!_e.length)return null;var lt=ot.map(function(ut){return Math.round(ut+nt-nt)}).sort(function(ut,dt){return ut-dt});nt!==lt[0]&&lt.unshift(0);var ct=lt.map(function(ut,dt){var ft=!lt[dt+1],pt=ft?nt+it-ut:lt[dt+1]-ut;if(pt<=0)return null;var mt=dt%_e.length;return React.createElement("rect",{key:"react-".concat(dt),y:ut,x:tt,height:pt,width:rt,stroke:"none",fill:_e[mt],fillOpacity:et,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ct)}function VerticalStripes($){var _e=$.vertical,et=_e===void 0?!0:_e,tt=$.verticalFill,nt=$.fillOpacity,rt=$.x,it=$.y,ot=$.width,at=$.height,st=$.verticalPoints;if(!et||!tt||!tt.length)return null;var lt=st.map(function(ut){return Math.round(ut+rt-rt)}).sort(function(ut,dt){return ut-dt});rt!==lt[0]&&lt.unshift(0);var ct=lt.map(function(ut,dt){var ft=!lt[dt+1],pt=ft?rt+ot-ut:lt[dt+1]-ut;if(pt<=0)return null;var mt=dt%tt.length;return React.createElement("rect",{key:"react-".concat(dt),x:ut,y:it,width:pt,height:at,stroke:"none",fill:tt[mt],fillOpacity:nt,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ct)}var defaultVerticalCoordinatesGenerator=function(_e,et){var tt=_e.xAxis,nt=_e.width,rt=_e.height,it=_e.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),tt),{},{ticks:getTicksOfAxis(tt,!0),viewBox:{x:0,y:0,width:nt,height:rt}})),it.left,it.left+it.width,et)},defaultHorizontalCoordinatesGenerator=function(_e,et){var tt=_e.yAxis,nt=_e.width,rt=_e.height,it=_e.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),tt),{},{ticks:getTicksOfAxis(tt,!0),viewBox:{x:0,y:0,width:nt,height:rt}})),it.top,it.top+it.height,et)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid($){var _e,et,tt,nt,rt,it,ot=useChartWidth(),at=useChartHeight(),st=useOffset(),lt=_objectSpread$3(_objectSpread$3({},$),{},{stroke:(_e=$.stroke)!==null&&_e!==void 0?_e:defaultProps.stroke,fill:(et=$.fill)!==null&&et!==void 0?et:defaultProps.fill,horizontal:(tt=$.horizontal)!==null&&tt!==void 0?tt:defaultProps.horizontal,horizontalFill:(nt=$.horizontalFill)!==null&&nt!==void 0?nt:defaultProps.horizontalFill,vertical:(rt=$.vertical)!==null&&rt!==void 0?rt:defaultProps.vertical,verticalFill:(it=$.verticalFill)!==null&&it!==void 0?it:defaultProps.verticalFill,x:isNumber($.x)?$.x:st.left,y:isNumber($.y)?$.y:st.top,width:isNumber($.width)?$.width:st.width,height:isNumber($.height)?$.height:st.height}),ct=lt.x,ut=lt.y,dt=lt.width,ft=lt.height,pt=lt.syncWithTicks,mt=lt.horizontalValues,ht=lt.verticalValues,yt=useArbitraryXAxis(),xt=useYAxisWithFiniteDomainOrRandom();if(!isNumber(dt)||dt<=0||!isNumber(ft)||ft<=0||!isNumber(ct)||ct!==+ct||!isNumber(ut)||ut!==+ut)return null;var St=lt.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,gt=lt.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,vt=lt.horizontalPoints,bt=lt.verticalPoints;if((!vt||!vt.length)&&isFunction$3(gt)){var wt=mt&&mt.length,_t=gt({yAxis:xt?_objectSpread$3(_objectSpread$3({},xt),{},{ticks:wt?mt:xt.ticks}):void 0,width:ot,height:at,offset:st},wt?!0:pt);warn(Array.isArray(_t),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(_t),"]")),Array.isArray(_t)&&(vt=_t)}if((!bt||!bt.length)&&isFunction$3(St)){var Ct=ht&&ht.length,$t=St({xAxis:yt?_objectSpread$3(_objectSpread$3({},yt),{},{ticks:Ct?ht:yt.ticks}):void 0,width:ot,height:at,offset:st},Ct?!0:pt);warn(Array.isArray($t),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6($t),"]")),Array.isArray($t)&&(bt=$t)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:lt.fill,fillOpacity:lt.fillOpacity,x:lt.x,y:lt.y,width:lt.width,height:lt.height,ry:lt.ry}),React.createElement(HorizontalGridLines,_extends$4({},lt,{offset:st,horizontalPoints:vt,xAxis:yt,yAxis:xt})),React.createElement(VerticalGridLines,_extends$4({},lt,{offset:st,verticalPoints:bt,xAxis:yt,yAxis:xt})),React.createElement(HorizontalStripes,_extends$4({},lt,{horizontalPoints:vt})),React.createElement(VerticalStripes,_extends$4({},lt,{verticalPoints:bt})))}CartesianGrid.displayName="CartesianGrid";var _excluded$1=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$5($){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$5($)}function _objectWithoutProperties$1($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose$1($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose$1($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$3.apply(this,arguments)}function ownKeys$2($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$5($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _toConsumableArray$2($){return _arrayWithoutHoles$2($)||_iterableToArray$2($)||_unsupportedIterableToArray$2($)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$2($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$2($,_e)}}function _iterableToArray$2($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$2($){if(Array.isArray($))return _arrayLikeToArray$2($)}function _arrayLikeToArray$2($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _classCallCheck$4($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$5(tt.key),tt)}}function _createClass$4($,_e,et){return _e&&_defineProperties$4($.prototype,_e),et&&_defineProperties$4($,et),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$3($,_e,et){return _e=_getPrototypeOf$3(_e),_possibleConstructorReturn$3($,_isNativeReflectConstruct$3()?Reflect.construct(_e,et||[],_getPrototypeOf$3($).constructor):_e.apply($,et))}function _possibleConstructorReturn$3($,_e){if(_e&&(_typeof$5(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3($)}function _assertThisInitialized$3($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$3(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!$})()}function _getPrototypeOf$3($){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$3($)}function _inherits$3($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$3($,_e)}function _setPrototypeOf$3($,_e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$3($,_e)}function _defineProperty$5($,_e,et){return _e=_toPropertyKey$5(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$5($){var _e=_toPrimitive$5($,"string");return _typeof$5(_e)=="symbol"?_e:_e+""}function _toPrimitive$5($,_e){if(_typeof$5($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$5(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var Line=function($){function _e(){var et;_classCallCheck$4(this,_e);for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return et=_callSuper$3(this,_e,[].concat(nt)),_defineProperty$5(et,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$5(et,"generateSimpleStrokeDasharray",function(it,ot){return"".concat(ot,"px ").concat(it-ot,"px")}),_defineProperty$5(et,"getStrokeDasharray",function(it,ot,at){var st=at.reduce(function(ht,yt){return ht+yt});if(!st)return et.generateSimpleStrokeDasharray(ot,it);for(var lt=Math.floor(it/st),ct=it%st,ut=ot-it,dt=[],ft=0,pt=0;ft<at.length;pt+=at[ft],++ft)if(pt+at[ft]>ct){dt=[].concat(_toConsumableArray$2(at.slice(0,ft)),[ct-pt]);break}var mt=dt.length%2===0?[0,ut]:[ut];return[].concat(_toConsumableArray$2(_e.repeat(at,lt)),_toConsumableArray$2(dt),mt).map(function(ht){return"".concat(ht,"px")}).join(", ")}),_defineProperty$5(et,"id",uniqueId("recharts-line-")),_defineProperty$5(et,"pathRef",function(it){et.mainCurve=it}),_defineProperty$5(et,"handleAnimationEnd",function(){et.setState({isAnimationFinished:!0}),et.props.onAnimationEnd&&et.props.onAnimationEnd()}),_defineProperty$5(et,"handleAnimationStart",function(){et.setState({isAnimationFinished:!1}),et.props.onAnimationStart&&et.props.onAnimationStart()}),et}return _inherits$3(_e,$),_createClass$4(_e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var tt=this.getTotalLength();this.setState({totalLength:tt})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var tt=this.getTotalLength();tt!==this.state.totalLength&&this.setState({totalLength:tt})}}},{key:"getTotalLength",value:function(){var tt=this.mainCurve;try{return tt&&tt.getTotalLength&&tt.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(tt,nt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var rt=this.props,it=rt.points,ot=rt.xAxis,at=rt.yAxis,st=rt.layout,lt=rt.children,ct=findAllByType(lt,ErrorBar);if(!ct)return null;var ut=function(pt,mt){return{x:pt.x,y:pt.y,value:pt.value,errorVal:getValueByDataKey(pt.payload,mt)}},dt={clipPath:tt?"url(#clipPath-".concat(nt,")"):null};return React.createElement(Layer,dt,ct.map(function(ft){return React.cloneElement(ft,{key:"bar-".concat(ft.props.dataKey),data:it,xAxis:ot,yAxis:at,layout:st,dataPointFormatter:ut})}))}},{key:"renderDots",value:function(tt,nt,rt){var it=this.props.isAnimationActive;if(it&&!this.state.isAnimationFinished)return null;var ot=this.props,at=ot.dot,st=ot.points,lt=ot.dataKey,ct=filterProps(this.props,!1),ut=filterProps(at,!0),dt=st.map(function(pt,mt){var ht=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(mt),r:3},ct),ut),{},{index:mt,cx:pt.x,cy:pt.y,value:pt.value,dataKey:lt,payload:pt.payload,points:st});return _e.renderDotItem(at,ht)}),ft={clipPath:tt?"url(#clipPath-".concat(nt?"":"dots-").concat(rt,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},ft),dt)}},{key:"renderCurveStatically",value:function(tt,nt,rt,it){var ot=this.props,at=ot.type,st=ot.layout,lt=ot.connectNulls;ot.ref;var ct=_objectWithoutProperties$1(ot,_excluded$1),ut=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(ct,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:nt?"url(#clipPath-".concat(rt,")"):null,points:tt},it),{},{type:at,layout:st,connectNulls:lt});return React.createElement(Curve,_extends$3({},ut,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(tt,nt){var rt=this,it=this.props,ot=it.points,at=it.strokeDasharray,st=it.isAnimationActive,lt=it.animationBegin,ct=it.animationDuration,ut=it.animationEasing,dt=it.animationId,ft=it.animateNewValues,pt=it.width,mt=it.height,ht=this.state,yt=ht.prevPoints,xt=ht.totalLength;return React.createElement(Animate,{begin:lt,duration:ct,isActive:st,easing:ut,from:{t:0},to:{t:1},key:"line-".concat(dt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(St){var gt=St.t;if(yt){var vt=yt.length/ot.length,bt=ot.map(function(Et,jt){var Vt=Math.floor(jt*vt);if(yt[Vt]){var Mt=yt[Vt],Ht=interpolateNumber$2(Mt.x,Et.x),Rt=interpolateNumber$2(Mt.y,Et.y);return _objectSpread$2(_objectSpread$2({},Et),{},{x:Ht(gt),y:Rt(gt)})}if(ft){var Ft=interpolateNumber$2(pt*2,Et.x),Tt=interpolateNumber$2(mt/2,Et.y);return _objectSpread$2(_objectSpread$2({},Et),{},{x:Ft(gt),y:Tt(gt)})}return _objectSpread$2(_objectSpread$2({},Et),{},{x:Et.x,y:Et.y})});return rt.renderCurveStatically(bt,tt,nt)}var wt=interpolateNumber$2(0,xt),_t=wt(gt),Ct;if(at){var $t="".concat(at).split(/[,\s]+/gim).map(function(Et){return parseFloat(Et)});Ct=rt.getStrokeDasharray(_t,xt,$t)}else Ct=rt.generateSimpleStrokeDasharray(xt,_t);return rt.renderCurveStatically(ot,tt,nt,{strokeDasharray:Ct})})}},{key:"renderCurve",value:function(tt,nt){var rt=this.props,it=rt.points,ot=rt.isAnimationActive,at=this.state,st=at.prevPoints,lt=at.totalLength;return ot&&it&&it.length&&(!st&&lt>0||!isEqual$1(st,it))?this.renderCurveWithAnimation(tt,nt):this.renderCurveStatically(it,tt,nt)}},{key:"render",value:function(){var tt,nt=this.props,rt=nt.hide,it=nt.dot,ot=nt.points,at=nt.className,st=nt.xAxis,lt=nt.yAxis,ct=nt.top,ut=nt.left,dt=nt.width,ft=nt.height,pt=nt.isAnimationActive,mt=nt.id;if(rt||!ot||!ot.length)return null;var ht=this.state.isAnimationFinished,yt=ot.length===1,xt=clsx("recharts-line",at),St=st&&st.allowDataOverflow,gt=lt&&lt.allowDataOverflow,vt=St||gt,bt=isNil$1(mt)?this.id:mt,wt=(tt=filterProps(it,!1))!==null&&tt!==void 0?tt:{r:3,strokeWidth:2},_t=wt.r,Ct=_t===void 0?3:_t,$t=wt.strokeWidth,Et=$t===void 0?2:$t,jt=hasClipDot(it)?it:{},Vt=jt.clipDot,Mt=Vt===void 0?!0:Vt,Ht=Ct*2+Et;return React.createElement(Layer,{className:xt},St||gt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(bt)},React.createElement("rect",{x:St?ut:ut-dt/2,y:gt?ct:ct-ft/2,width:St?dt:dt*2,height:gt?ft:ft*2})),!Mt&&React.createElement("clipPath",{id:"clipPath-dots-".concat(bt)},React.createElement("rect",{x:ut-Ht/2,y:ct-Ht/2,width:dt+Ht,height:ft+Ht}))):null,!yt&&this.renderCurve(vt,bt),this.renderErrorBar(vt,bt),(yt||it)&&this.renderDots(vt,Mt,bt),(!pt||ht)&&LabelList.renderCallByParent(this.props,ot))}}],[{key:"getDerivedStateFromProps",value:function(tt,nt){return tt.animationId!==nt.prevAnimationId?{prevAnimationId:tt.animationId,curPoints:tt.points,prevPoints:nt.curPoints}:tt.points!==nt.curPoints?{curPoints:tt.points}:null}},{key:"repeat",value:function(tt,nt){for(var rt=tt.length%2!==0?[].concat(_toConsumableArray$2(tt),[0]):tt,it=[],ot=0;ot<nt;++ot)it=[].concat(_toConsumableArray$2(it),_toConsumableArray$2(rt));return it}},{key:"renderDotItem",value:function(tt,nt){var rt;if(React.isValidElement(tt))rt=React.cloneElement(tt,nt);else if(isFunction$3(tt))rt=tt(nt);else{var it=nt.key,ot=_objectWithoutProperties$1(nt,_excluded2$1),at=clsx("recharts-line-dot",typeof tt!="boolean"?tt.className:"");rt=React.createElement(Dot,_extends$3({key:it},ot,{className:at}))}return rt}}])}(reactExports.PureComponent);_defineProperty$5(Line,"displayName","Line");_defineProperty$5(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$5(Line,"getComposedData",function($){var _e=$.props,et=$.xAxis,tt=$.yAxis,nt=$.xAxisTicks,rt=$.yAxisTicks,it=$.dataKey,ot=$.bandSize,at=$.displayedData,st=$.offset,lt=_e.layout,ct=at.map(function(ut,dt){var ft=getValueByDataKey(ut,it);return lt==="horizontal"?{x:getCateCoordinateOfLine({axis:et,ticks:nt,bandSize:ot,entry:ut,index:dt}),y:isNil$1(ft)?null:tt.scale(ft),value:ft,payload:ut}:{x:isNil$1(ft)?null:et.scale(ft),y:getCateCoordinateOfLine({axis:tt,ticks:rt,bandSize:ot,entry:ut,index:dt}),value:ft,payload:ut}});return _objectSpread$2({points:ct,layout:lt},st)});function _typeof$4($){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$4($)}function _classCallCheck$3($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$4(tt.key),tt)}}function _createClass$3($,_e,et){return _e&&_defineProperties$3($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$2($,_e,et){return _e=_getPrototypeOf$2(_e),_possibleConstructorReturn$2($,_isNativeReflectConstruct$2()?Reflect.construct(_e,et||[],_getPrototypeOf$2($).constructor):_e.apply($,et))}function _possibleConstructorReturn$2($,_e){if(_e&&(_typeof$4(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2($)}function _assertThisInitialized$2($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$2(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!$})()}function _getPrototypeOf$2($){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$2($)}function _inherits$2($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$2($,_e)}function _setPrototypeOf$2($,_e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$2($,_e)}function _defineProperty$4($,_e,et){return _e=_toPropertyKey$4(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$4($){var _e=_toPrimitive$4($,"string");return _typeof$4(_e)=="symbol"?_e:_e+""}function _toPrimitive$4($,_e){if(_typeof$4($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$4(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$2.apply(this,arguments)}function XAxisImpl($){var _e=$.xAxisId,et=useChartWidth(),tt=useChartHeight(),nt=useXAxisOrThrow(_e);return nt==null?null:reactExports.createElement(CartesianAxis,_extends$2({},nt,{className:clsx("recharts-".concat(nt.axisType," ").concat(nt.axisType),nt.className),viewBox:{x:0,y:0,width:et,height:tt},ticksGenerator:function(it){return getTicksOfAxis(it,!0)}}))}var XAxis=function($){function _e(){return _classCallCheck$3(this,_e),_callSuper$2(this,_e,arguments)}return _inherits$2(_e,$),_createClass$3(_e,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3($){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3($)}function _classCallCheck$2($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$3(tt.key),tt)}}function _createClass$2($,_e,et){return _e&&_defineProperties$2($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper$1($,_e,et){return _e=_getPrototypeOf$1(_e),_possibleConstructorReturn$1($,_isNativeReflectConstruct$1()?Reflect.construct(_e,et||[],_getPrototypeOf$1($).constructor):_e.apply($,et))}function _possibleConstructorReturn$1($,_e){if(_e&&(_typeof$3(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1($)}function _assertThisInitialized$1($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct$1(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!$})()}function _getPrototypeOf$1($){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$1($)}function _inherits$1($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf$1($,_e)}function _setPrototypeOf$1($,_e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf$1($,_e)}function _defineProperty$3($,_e,et){return _e=_toPropertyKey$3(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$3($){var _e=_toPrimitive$3($,"string");return _typeof$3(_e)=="symbol"?_e:_e+""}function _toPrimitive$3($,_e){if(_typeof$3($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$3(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$1.apply(this,arguments)}var YAxisImpl=function(_e){var et=_e.yAxisId,tt=useChartWidth(),nt=useChartHeight(),rt=useYAxisOrThrow(et);return rt==null?null:reactExports.createElement(CartesianAxis,_extends$1({},rt,{className:clsx("recharts-".concat(rt.axisType," ").concat(rt.axisType),rt.className),viewBox:{x:0,y:0,width:tt,height:nt},ticksGenerator:function(ot){return getTicksOfAxis(ot,!0)}}))},YAxis=function($){function _e(){return _classCallCheck$2(this,_e),_callSuper$1(this,_e,arguments)}return _inherits$1(_e,$),_createClass$2(_e,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1($){return _arrayWithoutHoles$1($)||_iterableToArray$1($)||_unsupportedIterableToArray$1($)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1($,_e){if($){if(typeof $=="string")return _arrayLikeToArray$1($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1($,_e)}}function _iterableToArray$1($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles$1($){if(Array.isArray($))return _arrayLikeToArray$1($)}function _arrayLikeToArray$1($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}var detectReferenceElementsDomain=function(_e,et,tt,nt,rt){var it=findAllByType(_e,ReferenceLine),ot=findAllByType(_e,ReferenceDot),at=[].concat(_toConsumableArray$1(it),_toConsumableArray$1(ot)),st=findAllByType(_e,ReferenceArea),lt="".concat(nt,"Id"),ct=nt[0],ut=et;if(at.length&&(ut=at.reduce(function(pt,mt){if(mt.props[lt]===tt&&ifOverflowMatches(mt.props,"extendDomain")&&isNumber(mt.props[ct])){var ht=mt.props[ct];return[Math.min(pt[0],ht),Math.max(pt[1],ht)]}return pt},ut)),st.length){var dt="".concat(ct,"1"),ft="".concat(ct,"2");ut=st.reduce(function(pt,mt){if(mt.props[lt]===tt&&ifOverflowMatches(mt.props,"extendDomain")&&isNumber(mt.props[dt])&&isNumber(mt.props[ft])){var ht=mt.props[dt],yt=mt.props[ft];return[Math.min(pt[0],ht,yt),Math.max(pt[1],ht,yt)]}return pt},ut)}return rt&&rt.length&&(ut=rt.reduce(function(pt,mt){return isNumber(mt)?[Math.min(pt[0],mt),Math.max(pt[1],mt)]:pt},ut)),ut},eventemitter3={exports:{}};(function($){var _e=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function nt(at,st,lt){this.fn=at,this.context=st,this.once=lt||!1}function rt(at,st,lt,ct,ut){if(typeof lt!="function")throw new TypeError("The listener must be a function");var dt=new nt(lt,ct||at,ut),ft=et?et+st:st;return at._events[ft]?at._events[ft].fn?at._events[ft]=[at._events[ft],dt]:at._events[ft].push(dt):(at._events[ft]=dt,at._eventsCount++),at}function it(at,st){--at._eventsCount===0?at._events=new tt:delete at._events[st]}function ot(){this._events=new tt,this._eventsCount=0}ot.prototype.eventNames=function(){var st=[],lt,ct;if(this._eventsCount===0)return st;for(ct in lt=this._events)_e.call(lt,ct)&&st.push(et?ct.slice(1):ct);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(lt)):st},ot.prototype.listeners=function(st){var lt=et?et+st:st,ct=this._events[lt];if(!ct)return[];if(ct.fn)return[ct.fn];for(var ut=0,dt=ct.length,ft=new Array(dt);ut<dt;ut++)ft[ut]=ct[ut].fn;return ft},ot.prototype.listenerCount=function(st){var lt=et?et+st:st,ct=this._events[lt];return ct?ct.fn?1:ct.length:0},ot.prototype.emit=function(st,lt,ct,ut,dt,ft){var pt=et?et+st:st;if(!this._events[pt])return!1;var mt=this._events[pt],ht=arguments.length,yt,xt;if(mt.fn){switch(mt.once&&this.removeListener(st,mt.fn,void 0,!0),ht){case 1:return mt.fn.call(mt.context),!0;case 2:return mt.fn.call(mt.context,lt),!0;case 3:return mt.fn.call(mt.context,lt,ct),!0;case 4:return mt.fn.call(mt.context,lt,ct,ut),!0;case 5:return mt.fn.call(mt.context,lt,ct,ut,dt),!0;case 6:return mt.fn.call(mt.context,lt,ct,ut,dt,ft),!0}for(xt=1,yt=new Array(ht-1);xt<ht;xt++)yt[xt-1]=arguments[xt];mt.fn.apply(mt.context,yt)}else{var St=mt.length,gt;for(xt=0;xt<St;xt++)switch(mt[xt].once&&this.removeListener(st,mt[xt].fn,void 0,!0),ht){case 1:mt[xt].fn.call(mt[xt].context);break;case 2:mt[xt].fn.call(mt[xt].context,lt);break;case 3:mt[xt].fn.call(mt[xt].context,lt,ct);break;case 4:mt[xt].fn.call(mt[xt].context,lt,ct,ut);break;default:if(!yt)for(gt=1,yt=new Array(ht-1);gt<ht;gt++)yt[gt-1]=arguments[gt];mt[xt].fn.apply(mt[xt].context,yt)}}return!0},ot.prototype.on=function(st,lt,ct){return rt(this,st,lt,ct,!1)},ot.prototype.once=function(st,lt,ct){return rt(this,st,lt,ct,!0)},ot.prototype.removeListener=function(st,lt,ct,ut){var dt=et?et+st:st;if(!this._events[dt])return this;if(!lt)return it(this,dt),this;var ft=this._events[dt];if(ft.fn)ft.fn===lt&&(!ut||ft.once)&&(!ct||ft.context===ct)&&it(this,dt);else{for(var pt=0,mt=[],ht=ft.length;pt<ht;pt++)(ft[pt].fn!==lt||ut&&!ft[pt].once||ct&&ft[pt].context!==ct)&&mt.push(ft[pt]);mt.length?this._events[dt]=mt.length===1?mt[0]:mt:it(this,dt)}return this},ot.prototype.removeAllListeners=function(st){var lt;return st?(lt=et?et+st:st,this._events[lt]&&it(this,lt)):(this._events=new tt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=et,ot.EventEmitter=ot,$.exports=ot})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs$1(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2($){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2($)}function _classCallCheck$1($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey$2(tt.key),tt)}}function _createClass$1($,_e,et){return _e&&_defineProperties$1($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _defineProperty$2($,_e,et){return _e=_toPropertyKey$2(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$2($){var _e=_toPrimitive$2($,"string");return _typeof$2(_e)=="symbol"?_e:_e+""}function _toPrimitive$2($,_e){if(_typeof$2($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$2(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var AccessibilityManager=function(){function $(){_classCallCheck$1(this,$),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1($,[{key:"setDetails",value:function(et){var tt,nt=et.coordinateList,rt=nt===void 0?null:nt,it=et.container,ot=it===void 0?null:it,at=et.layout,st=at===void 0?null:at,lt=et.offset,ct=lt===void 0?null:lt,ut=et.mouseHandlerCallback,dt=ut===void 0?null:ut;this.coordinateList=(tt=rt??this.coordinateList)!==null&&tt!==void 0?tt:[],this.container=ot??this.container,this.layout=st??this.layout,this.offset=ct??this.offset,this.mouseHandlerCallback=dt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(et){if(this.coordinateList.length!==0)switch(et.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(et){this.activeIndex=et}},{key:"spoofMouse",value:function(){var et,tt;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var nt=this.container.getBoundingClientRect(),rt=nt.x,it=nt.y,ot=nt.height,at=this.coordinateList[this.activeIndex].coordinate,st=((et=window)===null||et===void 0?void 0:et.scrollX)||0,lt=((tt=window)===null||tt===void 0?void 0:tt.scrollY)||0,ct=rt+at+st,ut=it+this.offset.top+ot/2+lt;this.mouseHandlerCallback({pageX:ct,pageY:ut})}}}])}();function isDomainSpecifiedByUser($,_e,et){if(et==="number"&&_e===!0&&Array.isArray($)){var tt=$==null?void 0:$[0],nt=$==null?void 0:$[1];if(tt&&nt&&isNumber(tt)&&isNumber(nt))return!0}return!1}function getCursorRectangle($,_e,et,tt){var nt=tt/2;return{stroke:"none",fill:"#ccc",x:$==="horizontal"?_e.x-nt:et.left+.5,y:$==="horizontal"?et.top+.5:_e.y-nt,width:$==="horizontal"?tt:et.width-1,height:$==="horizontal"?et.height-1:tt}}function getRadialCursorPoints($){var _e=$.cx,et=$.cy,tt=$.radius,nt=$.startAngle,rt=$.endAngle,it=polarToCartesian(_e,et,tt,nt),ot=polarToCartesian(_e,et,tt,rt);return{points:[it,ot],cx:_e,cy:et,radius:tt,startAngle:nt,endAngle:rt}}function getCursorPoints($,_e,et){var tt,nt,rt,it;if($==="horizontal")tt=_e.x,rt=tt,nt=et.top,it=et.top+et.height;else if($==="vertical")nt=_e.y,it=nt,tt=et.left,rt=et.left+et.width;else if(_e.cx!=null&&_e.cy!=null)if($==="centric"){var ot=_e.cx,at=_e.cy,st=_e.innerRadius,lt=_e.outerRadius,ct=_e.angle,ut=polarToCartesian(ot,at,st,ct),dt=polarToCartesian(ot,at,lt,ct);tt=ut.x,nt=ut.y,rt=dt.x,it=dt.y}else return getRadialCursorPoints(_e);return[{x:tt,y:nt},{x:rt,y:it}]}function _typeof$1($){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1($)}function ownKeys$1($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$1($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty$1($,_e,et){return _e=_toPropertyKey$1(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey$1($){var _e=_toPrimitive$1($,"string");return _typeof$1(_e)=="symbol"?_e:_e+""}function _toPrimitive$1($,_e){if(_typeof$1($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof$1(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function Cursor($){var _e,et,tt=$.element,nt=$.tooltipEventType,rt=$.isActive,it=$.activeCoordinate,ot=$.activePayload,at=$.offset,st=$.activeTooltipIndex,lt=$.tooltipAxisBandSize,ct=$.layout,ut=$.chartName,dt=(_e=tt.props.cursor)!==null&&_e!==void 0?_e:(et=tt.type.defaultProps)===null||et===void 0?void 0:et.cursor;if(!tt||!dt||!rt||!it||ut!=="ScatterChart"&&nt!=="axis")return null;var ft,pt=Curve;if(ut==="ScatterChart")ft=it,pt=Cross;else if(ut==="BarChart")ft=getCursorRectangle(ct,it,at,lt),pt=Rectangle;else if(ct==="radial"){var mt=getRadialCursorPoints(it),ht=mt.cx,yt=mt.cy,xt=mt.radius,St=mt.startAngle,gt=mt.endAngle;ft={cx:ht,cy:yt,startAngle:St,endAngle:gt,innerRadius:xt,outerRadius:xt},pt=Sector}else ft={points:getCursorPoints(ct,it,at)},pt=Curve;var vt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},at),ft),filterProps(dt,!1)),{},{payload:ot,payloadIndex:st,className:clsx("recharts-tooltip-cursor",dt.className)});return reactExports.isValidElement(dt)?reactExports.cloneElement(dt,vt):reactExports.createElement(pt,vt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof($){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof($)}function _extends(){return _extends=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function _slicedToArray($,_e){return _arrayWithHoles($)||_iterableToArrayLimit($,_e)||_unsupportedIterableToArray($,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit($,_e){var et=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt,nt,rt,it,ot=[],at=!0,st=!1;try{if(rt=(et=et.call($)).next,_e!==0)for(;!(at=(tt=rt.call(et)).done)&&(ot.push(tt.value),ot.length!==_e);at=!0);}catch(lt){st=!0,nt=lt}finally{try{if(!at&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(st)throw nt}}return ot}}function _arrayWithHoles($){if(Array.isArray($))return $}function _objectWithoutProperties($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose($,_e){if($==null)return{};var et={};for(var tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){if(_e.indexOf(tt)>=0)continue;et[tt]=$[tt]}return et}function _classCallCheck($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,_toPropertyKey(tt.key),tt)}}function _createClass($,_e,et){return _e&&_defineProperties($.prototype,_e),Object.defineProperty($,"prototype",{writable:!1}),$}function _callSuper($,_e,et){return _e=_getPrototypeOf(_e),_possibleConstructorReturn($,_isNativeReflectConstruct()?Reflect.construct(_e,et||[],_getPrototypeOf($).constructor):_e.apply($,et))}function _possibleConstructorReturn($,_e){if(_e&&(_typeof(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized($)}function _assertThisInitialized($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function _isNativeReflectConstruct(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!$})()}function _getPrototypeOf($){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf($)}function _inherits($,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(_e&&_e.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),_e&&_setPrototypeOf($,_e)}function _setPrototypeOf($,_e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf($,_e)}function _toConsumableArray($){return _arrayWithoutHoles($)||_iterableToArray($)||_unsupportedIterableToArray($)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray($,_e){if($){if(typeof $=="string")return _arrayLikeToArray($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray($,_e)}}function _iterableToArray($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles($){if(Array.isArray($))return _arrayLikeToArray($)}function _arrayLikeToArray($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function ownKeys($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function _defineProperty($,_e,et){return _e=_toPropertyKey(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _toPropertyKey($){var _e=_toPrimitive($,"string");return _typeof(_e)=="symbol"?_e:_e+""}function _toPrimitive($,_e){if(_typeof($)!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(_typeof(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs($){return $}var calculateTooltipPos=function(_e,et){return et==="horizontal"?_e.x:et==="vertical"?_e.y:et==="centric"?_e.angle:_e.radius},getActiveCoordinate=function(_e,et,tt,nt){var rt=et.find(function(lt){return lt&&lt.index===tt});if(rt){if(_e==="horizontal")return{x:rt.coordinate,y:nt.y};if(_e==="vertical")return{x:nt.x,y:rt.coordinate};if(_e==="centric"){var it=rt.coordinate,ot=nt.radius;return _objectSpread(_objectSpread(_objectSpread({},nt),polarToCartesian(nt.cx,nt.cy,ot,it)),{},{angle:it,radius:ot})}var at=rt.coordinate,st=nt.angle;return _objectSpread(_objectSpread(_objectSpread({},nt),polarToCartesian(nt.cx,nt.cy,at,st)),{},{angle:st,radius:at})}return originCoordinate},getDisplayedData=function(_e,et){var tt=et.graphicalItems,nt=et.dataStartIndex,rt=et.dataEndIndex,it=(tt??[]).reduce(function(ot,at){var st=at.props.data;return st&&st.length?[].concat(_toConsumableArray(ot),_toConsumableArray(st)):ot},[]);return it.length>0?it:_e&&_e.length&&isNumber(nt)&&isNumber(rt)?_e.slice(nt,rt+1):[]};function getDefaultDomainByAxisType($){return $==="number"?[0,"auto"]:void 0}var getTooltipContent=function(_e,et,tt,nt){var rt=_e.graphicalItems,it=_e.tooltipAxis,ot=getDisplayedData(et,_e);return tt<0||!rt||!rt.length||tt>=ot.length?null:rt.reduce(function(at,st){var lt,ct=(lt=st.props.data)!==null&&lt!==void 0?lt:et;ct&&_e.dataStartIndex+_e.dataEndIndex!==0&&_e.dataEndIndex-_e.dataStartIndex>=tt&&(ct=ct.slice(_e.dataStartIndex,_e.dataEndIndex+1));var ut;if(it.dataKey&&!it.allowDuplicatedCategory){var dt=ct===void 0?ot:ct;ut=findEntryInArray(dt,it.dataKey,nt)}else ut=ct&&ct[tt]||ot[tt];return ut?[].concat(_toConsumableArray(at),[getTooltipItem(st,ut)]):at},[])},getTooltipData=function(_e,et,tt,nt){var rt=nt||{x:_e.chartX,y:_e.chartY},it=calculateTooltipPos(rt,tt),ot=_e.orderedTooltipTicks,at=_e.tooltipAxis,st=_e.tooltipTicks,lt=calculateActiveTickIndex(it,ot,st,at);if(lt>=0&&st){var ct=st[lt]&&st[lt].value,ut=getTooltipContent(_e,et,lt,ct),dt=getActiveCoordinate(tt,ot,lt,rt);return{activeTooltipIndex:lt,activeLabel:ct,activePayload:ut,activeCoordinate:dt}}return null},getAxisMapByAxes=function(_e,et){var tt=et.axes,nt=et.graphicalItems,rt=et.axisType,it=et.axisIdKey,ot=et.stackGroups,at=et.dataStartIndex,st=et.dataEndIndex,lt=_e.layout,ct=_e.children,ut=_e.stackOffset,dt=isCategoricalAxis(lt,rt);return tt.reduce(function(ft,pt){var mt,ht=pt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},pt.type.defaultProps),pt.props):pt.props,yt=ht.type,xt=ht.dataKey,St=ht.allowDataOverflow,gt=ht.allowDuplicatedCategory,vt=ht.scale,bt=ht.ticks,wt=ht.includeHidden,_t=ht[it];if(ft[_t])return ft;var Ct=getDisplayedData(_e.data,{graphicalItems:nt.filter(function(Ot){var Pt,kt=it in Ot.props?Ot.props[it]:(Pt=Ot.type.defaultProps)===null||Pt===void 0?void 0:Pt[it];return kt===_t}),dataStartIndex:at,dataEndIndex:st}),$t=Ct.length,Et,jt,Vt;isDomainSpecifiedByUser(ht.domain,St,yt)&&(Et=parseSpecifiedDomain(ht.domain,null,St),dt&&(yt==="number"||vt!=="auto")&&(Vt=getDomainOfDataByKey(Ct,xt,"category")));var Mt=getDefaultDomainByAxisType(yt);if(!Et||Et.length===0){var Ht,Rt=(Ht=ht.domain)!==null&&Ht!==void 0?Ht:Mt;if(xt){if(Et=getDomainOfDataByKey(Ct,xt,yt),yt==="category"&&dt){var Ft=hasDuplicate(Et);gt&&Ft?(jt=Et,Et=range$1(0,$t)):gt||(Et=parseDomainOfCategoryAxis(Rt,Et,pt).reduce(function(Ot,Pt){return Ot.indexOf(Pt)>=0?Ot:[].concat(_toConsumableArray(Ot),[Pt])},[]))}else if(yt==="category")gt?Et=Et.filter(function(Ot){return Ot!==""&&!isNil$1(Ot)}):Et=parseDomainOfCategoryAxis(Rt,Et,pt).reduce(function(Ot,Pt){return Ot.indexOf(Pt)>=0||Pt===""||isNil$1(Pt)?Ot:[].concat(_toConsumableArray(Ot),[Pt])},[]);else if(yt==="number"){var Tt=parseErrorBarsOfAxis(Ct,nt.filter(function(Ot){var Pt,kt,Nt=it in Ot.props?Ot.props[it]:(Pt=Ot.type.defaultProps)===null||Pt===void 0?void 0:Pt[it],zt="hide"in Ot.props?Ot.props.hide:(kt=Ot.type.defaultProps)===null||kt===void 0?void 0:kt.hide;return Nt===_t&&(wt||!zt)}),xt,rt,lt);Tt&&(Et=Tt)}dt&&(yt==="number"||vt!=="auto")&&(Vt=getDomainOfDataByKey(Ct,xt,"category"))}else dt?Et=range$1(0,$t):ot&&ot[_t]&&ot[_t].hasStack&&yt==="number"?Et=ut==="expand"?[0,1]:getDomainOfStackGroups(ot[_t].stackGroups,at,st):Et=getDomainOfItemsWithSameAxis(Ct,nt.filter(function(Ot){var Pt=it in Ot.props?Ot.props[it]:Ot.type.defaultProps[it],kt="hide"in Ot.props?Ot.props.hide:Ot.type.defaultProps.hide;return Pt===_t&&(wt||!kt)}),yt,lt,!0);if(yt==="number")Et=detectReferenceElementsDomain(ct,Et,_t,rt,bt),Rt&&(Et=parseSpecifiedDomain(Rt,Et,St));else if(yt==="category"&&Rt){var Dt=Rt,Jt=Et.every(function(Ot){return Dt.indexOf(Ot)>=0});Jt&&(Et=Dt)}}return _objectSpread(_objectSpread({},ft),{},_defineProperty({},_t,_objectSpread(_objectSpread({},ht),{},{axisType:rt,domain:Et,categoricalDomain:Vt,duplicateDomain:jt,originalDomain:(mt=ht.domain)!==null&&mt!==void 0?mt:Mt,isCategorical:dt,layout:lt})))},{})},getAxisMapByItems=function(_e,et){var tt=et.graphicalItems,nt=et.Axis,rt=et.axisType,it=et.axisIdKey,ot=et.stackGroups,at=et.dataStartIndex,st=et.dataEndIndex,lt=_e.layout,ct=_e.children,ut=getDisplayedData(_e.data,{graphicalItems:tt,dataStartIndex:at,dataEndIndex:st}),dt=ut.length,ft=isCategoricalAxis(lt,rt),pt=-1;return tt.reduce(function(mt,ht){var yt=ht.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ht.type.defaultProps),ht.props):ht.props,xt=yt[it],St=getDefaultDomainByAxisType("number");if(!mt[xt]){pt++;var gt;return ft?gt=range$1(0,dt):ot&&ot[xt]&&ot[xt].hasStack?(gt=getDomainOfStackGroups(ot[xt].stackGroups,at,st),gt=detectReferenceElementsDomain(ct,gt,xt,rt)):(gt=parseSpecifiedDomain(St,getDomainOfItemsWithSameAxis(ut,tt.filter(function(vt){var bt,wt,_t=it in vt.props?vt.props[it]:(bt=vt.type.defaultProps)===null||bt===void 0?void 0:bt[it],Ct="hide"in vt.props?vt.props.hide:(wt=vt.type.defaultProps)===null||wt===void 0?void 0:wt.hide;return _t===xt&&!Ct}),"number",lt),nt.defaultProps.allowDataOverflow),gt=detectReferenceElementsDomain(ct,gt,xt,rt)),_objectSpread(_objectSpread({},mt),{},_defineProperty({},xt,_objectSpread(_objectSpread({axisType:rt},nt.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(rt,".").concat(pt%2),null),domain:gt,originalDomain:St,isCategorical:ft,layout:lt})))}return mt},{})},getAxisMap=function(_e,et){var tt=et.axisType,nt=tt===void 0?"xAxis":tt,rt=et.AxisComp,it=et.graphicalItems,ot=et.stackGroups,at=et.dataStartIndex,st=et.dataEndIndex,lt=_e.children,ct="".concat(nt,"Id"),ut=findAllByType(lt,rt),dt={};return ut&&ut.length?dt=getAxisMapByAxes(_e,{axes:ut,graphicalItems:it,axisType:nt,axisIdKey:ct,stackGroups:ot,dataStartIndex:at,dataEndIndex:st}):it&&it.length&&(dt=getAxisMapByItems(_e,{Axis:rt,graphicalItems:it,axisType:nt,axisIdKey:ct,stackGroups:ot,dataStartIndex:at,dataEndIndex:st})),dt},tooltipTicksGenerator=function(_e){var et=getAnyElementOfObject(_e),tt=getTicksOfAxis(et,!1,!0);return{tooltipTicks:tt,orderedTooltipTicks:sortBy$1(tt,function(nt){return nt.coordinate}),tooltipAxis:et,tooltipAxisBandSize:getBandSizeOfAxis(et,tt)}},createDefaultState=function(_e){var et=_e.children,tt=_e.defaultShowTooltip,nt=findChildByType(et,Brush),rt=0,it=0;return _e.data&&_e.data.length!==0&&(it=_e.data.length-1),nt&&nt.props&&(nt.props.startIndex>=0&&(rt=nt.props.startIndex),nt.props.endIndex>=0&&(it=nt.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:rt,dataEndIndex:it,activeTooltipIndex:-1,isTooltipActive:!!tt}},hasGraphicalBarItem=function(_e){return!_e||!_e.length?!1:_e.some(function(et){var tt=getDisplayName(et&&et.type);return tt&&tt.indexOf("Bar")>=0})},getAxisNameByLayout=function(_e){return _e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:_e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:_e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(_e,et){var tt=_e.props,nt=_e.graphicalItems,rt=_e.xAxisMap,it=rt===void 0?{}:rt,ot=_e.yAxisMap,at=ot===void 0?{}:ot,st=tt.width,lt=tt.height,ct=tt.children,ut=tt.margin||{},dt=findChildByType(ct,Brush),ft=findChildByType(ct,Legend),pt=Object.keys(at).reduce(function(gt,vt){var bt=at[vt],wt=bt.orientation;return!bt.mirror&&!bt.hide?_objectSpread(_objectSpread({},gt),{},_defineProperty({},wt,gt[wt]+bt.width)):gt},{left:ut.left||0,right:ut.right||0}),mt=Object.keys(it).reduce(function(gt,vt){var bt=it[vt],wt=bt.orientation;return!bt.mirror&&!bt.hide?_objectSpread(_objectSpread({},gt),{},_defineProperty({},wt,get$2(gt,"".concat(wt))+bt.height)):gt},{top:ut.top||0,bottom:ut.bottom||0}),ht=_objectSpread(_objectSpread({},mt),pt),yt=ht.bottom;dt&&(ht.bottom+=dt.props.height||Brush.defaultProps.height),ft&&et&&(ht=appendOffsetOfLegend(ht,nt,tt,et));var xt=st-ht.left-ht.right,St=lt-ht.top-ht.bottom;return _objectSpread(_objectSpread({brushBottom:yt},ht),{},{width:Math.max(xt,0),height:Math.max(St,0)})},getCartesianAxisSize=function(_e,et){if(et==="xAxis")return _e[et].width;if(et==="yAxis")return _e[et].height},generateCategoricalChart=function(_e){var et=_e.chartName,tt=_e.GraphicalChild,nt=_e.defaultTooltipEventType,rt=nt===void 0?"axis":nt,it=_e.validateTooltipEventTypes,ot=it===void 0?["axis"]:it,at=_e.axisComponents,st=_e.legendContent,lt=_e.formatAxisMap,ct=_e.defaultProps,ut=function(ht,yt){var xt=yt.graphicalItems,St=yt.stackGroups,gt=yt.offset,vt=yt.updateId,bt=yt.dataStartIndex,wt=yt.dataEndIndex,_t=ht.barSize,Ct=ht.layout,$t=ht.barGap,Et=ht.barCategoryGap,jt=ht.maxBarSize,Vt=getAxisNameByLayout(Ct),Mt=Vt.numericAxisName,Ht=Vt.cateAxisName,Rt=hasGraphicalBarItem(xt),Ft=[];return xt.forEach(function(Tt,Dt){var Jt=getDisplayedData(ht.data,{graphicalItems:[Tt],dataStartIndex:bt,dataEndIndex:wt}),Ot=Tt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Tt.type.defaultProps),Tt.props):Tt.props,Pt=Ot.dataKey,kt=Ot.maxBarSize,Nt=Ot["".concat(Mt,"Id")],zt=Ot["".concat(Ht,"Id")],Wt={},Gt=at.reduce(function(fn,_n){var Cn=yt["".concat(_n.axisType,"Map")],En=Ot["".concat(_n.axisType,"Id")];Cn&&Cn[En]||_n.axisType==="zAxis"||invariant();var sn=Cn[En];return _objectSpread(_objectSpread({},fn),{},_defineProperty(_defineProperty({},_n.axisType,sn),"".concat(_n.axisType,"Ticks"),getTicksOfAxis(sn)))},Wt),Kt=Gt[Ht],Zt=Gt["".concat(Ht,"Ticks")],dn=St&&St[Nt]&&St[Nt].hasStack&&getStackedDataOfItem(Tt,St[Nt].stackGroups),Qt=getDisplayName(Tt.type).indexOf("Bar")>=0,wn=getBandSizeOfAxis(Kt,Zt),Sn=[],$n=Rt&&getBarSizeList({barSize:_t,stackGroups:St,totalSize:getCartesianAxisSize(Gt,Ht)});if(Qt){var an,cn,It=isNil$1(kt)?jt:kt,qt=(an=(cn=getBandSizeOfAxis(Kt,Zt,!0))!==null&&cn!==void 0?cn:It)!==null&&an!==void 0?an:0;Sn=getBarPosition({barGap:$t,barCategoryGap:Et,bandSize:qt!==wn?qt:wn,sizeList:$n[zt],maxBarSize:It}),qt!==wn&&(Sn=Sn.map(function(fn){return _objectSpread(_objectSpread({},fn),{},{position:_objectSpread(_objectSpread({},fn.position),{},{offset:fn.position.offset-qt/2})})}))}var tn=Tt&&Tt.type&&Tt.type.getComposedData;tn&&Ft.push({props:_objectSpread(_objectSpread({},tn(_objectSpread(_objectSpread({},Gt),{},{displayedData:Jt,props:ht,dataKey:Pt,item:Tt,bandSize:wn,barPosition:Sn,offset:gt,stackedData:dn,layout:Ct,dataStartIndex:bt,dataEndIndex:wt}))),{},_defineProperty(_defineProperty(_defineProperty({key:Tt.key||"item-".concat(Dt)},Mt,Gt[Mt]),Ht,Gt[Ht]),"animationId",vt)),childIndex:parseChildIndex(Tt,ht.children),item:Tt})}),Ft},dt=function(ht,yt){var xt=ht.props,St=ht.dataStartIndex,gt=ht.dataEndIndex,vt=ht.updateId;if(!validateWidthHeight({props:xt}))return null;var bt=xt.children,wt=xt.layout,_t=xt.stackOffset,Ct=xt.data,$t=xt.reverseStackOrder,Et=getAxisNameByLayout(wt),jt=Et.numericAxisName,Vt=Et.cateAxisName,Mt=findAllByType(bt,tt),Ht=getStackGroupsByAxisId(Ct,Mt,"".concat(jt,"Id"),"".concat(Vt,"Id"),_t,$t),Rt=at.reduce(function(Ot,Pt){var kt="".concat(Pt.axisType,"Map");return _objectSpread(_objectSpread({},Ot),{},_defineProperty({},kt,getAxisMap(xt,_objectSpread(_objectSpread({},Pt),{},{graphicalItems:Mt,stackGroups:Pt.axisType===jt&&Ht,dataStartIndex:St,dataEndIndex:gt}))))},{}),Ft=calculateOffset(_objectSpread(_objectSpread({},Rt),{},{props:xt,graphicalItems:Mt}),yt==null?void 0:yt.legendBBox);Object.keys(Rt).forEach(function(Ot){Rt[Ot]=lt(xt,Rt[Ot],Ft,Ot.replace("Map",""),et)});var Tt=Rt["".concat(Vt,"Map")],Dt=tooltipTicksGenerator(Tt),Jt=ut(xt,_objectSpread(_objectSpread({},Rt),{},{dataStartIndex:St,dataEndIndex:gt,updateId:vt,graphicalItems:Mt,stackGroups:Ht,offset:Ft}));return _objectSpread(_objectSpread({formattedGraphicalItems:Jt,graphicalItems:Mt,offset:Ft,stackGroups:Ht},Dt),Rt)},ft=function(mt){function ht(yt){var xt,St,gt;return _classCallCheck(this,ht),gt=_callSuper(this,ht,[yt]),_defineProperty(gt,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(gt,"accessibilityManager",new AccessibilityManager),_defineProperty(gt,"handleLegendBBoxUpdate",function(vt){if(vt){var bt=gt.state,wt=bt.dataStartIndex,_t=bt.dataEndIndex,Ct=bt.updateId;gt.setState(_objectSpread({legendBBox:vt},dt({props:gt.props,dataStartIndex:wt,dataEndIndex:_t,updateId:Ct},_objectSpread(_objectSpread({},gt.state),{},{legendBBox:vt}))))}}),_defineProperty(gt,"handleReceiveSyncEvent",function(vt,bt,wt){if(gt.props.syncId===vt){if(wt===gt.eventEmitterSymbol&&typeof gt.props.syncMethod!="function")return;gt.applySyncEvent(bt)}}),_defineProperty(gt,"handleBrushChange",function(vt){var bt=vt.startIndex,wt=vt.endIndex;if(bt!==gt.state.dataStartIndex||wt!==gt.state.dataEndIndex){var _t=gt.state.updateId;gt.setState(function(){return _objectSpread({dataStartIndex:bt,dataEndIndex:wt},dt({props:gt.props,dataStartIndex:bt,dataEndIndex:wt,updateId:_t},gt.state))}),gt.triggerSyncEvent({dataStartIndex:bt,dataEndIndex:wt})}}),_defineProperty(gt,"handleMouseEnter",function(vt){var bt=gt.getMouseInfo(vt);if(bt){var wt=_objectSpread(_objectSpread({},bt),{},{isTooltipActive:!0});gt.setState(wt),gt.triggerSyncEvent(wt);var _t=gt.props.onMouseEnter;isFunction$3(_t)&&_t(wt,vt)}}),_defineProperty(gt,"triggeredAfterMouseMove",function(vt){var bt=gt.getMouseInfo(vt),wt=bt?_objectSpread(_objectSpread({},bt),{},{isTooltipActive:!0}):{isTooltipActive:!1};gt.setState(wt),gt.triggerSyncEvent(wt);var _t=gt.props.onMouseMove;isFunction$3(_t)&&_t(wt,vt)}),_defineProperty(gt,"handleItemMouseEnter",function(vt){gt.setState(function(){return{isTooltipActive:!0,activeItem:vt,activePayload:vt.tooltipPayload,activeCoordinate:vt.tooltipPosition||{x:vt.cx,y:vt.cy}}})}),_defineProperty(gt,"handleItemMouseLeave",function(){gt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(gt,"handleMouseMove",function(vt){vt.persist(),gt.throttleTriggeredAfterMouseMove(vt)}),_defineProperty(gt,"handleMouseLeave",function(vt){gt.throttleTriggeredAfterMouseMove.cancel();var bt={isTooltipActive:!1};gt.setState(bt),gt.triggerSyncEvent(bt);var wt=gt.props.onMouseLeave;isFunction$3(wt)&&wt(bt,vt)}),_defineProperty(gt,"handleOuterEvent",function(vt){var bt=getReactEventByType(vt),wt=get$2(gt.props,"".concat(bt));if(bt&&isFunction$3(wt)){var _t,Ct;/.*touch.*/i.test(bt)?Ct=gt.getMouseInfo(vt.changedTouches[0]):Ct=gt.getMouseInfo(vt),wt((_t=Ct)!==null&&_t!==void 0?_t:{},vt)}}),_defineProperty(gt,"handleClick",function(vt){var bt=gt.getMouseInfo(vt);if(bt){var wt=_objectSpread(_objectSpread({},bt),{},{isTooltipActive:!0});gt.setState(wt),gt.triggerSyncEvent(wt);var _t=gt.props.onClick;isFunction$3(_t)&&_t(wt,vt)}}),_defineProperty(gt,"handleMouseDown",function(vt){var bt=gt.props.onMouseDown;if(isFunction$3(bt)){var wt=gt.getMouseInfo(vt);bt(wt,vt)}}),_defineProperty(gt,"handleMouseUp",function(vt){var bt=gt.props.onMouseUp;if(isFunction$3(bt)){var wt=gt.getMouseInfo(vt);bt(wt,vt)}}),_defineProperty(gt,"handleTouchMove",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&gt.throttleTriggeredAfterMouseMove(vt.changedTouches[0])}),_defineProperty(gt,"handleTouchStart",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&gt.handleMouseDown(vt.changedTouches[0])}),_defineProperty(gt,"handleTouchEnd",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&gt.handleMouseUp(vt.changedTouches[0])}),_defineProperty(gt,"handleDoubleClick",function(vt){var bt=gt.props.onDoubleClick;if(isFunction$3(bt)){var wt=gt.getMouseInfo(vt);bt(wt,vt)}}),_defineProperty(gt,"handleContextMenu",function(vt){var bt=gt.props.onContextMenu;if(isFunction$3(bt)){var wt=gt.getMouseInfo(vt);bt(wt,vt)}}),_defineProperty(gt,"triggerSyncEvent",function(vt){gt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,gt.props.syncId,vt,gt.eventEmitterSymbol)}),_defineProperty(gt,"applySyncEvent",function(vt){var bt=gt.props,wt=bt.layout,_t=bt.syncMethod,Ct=gt.state.updateId,$t=vt.dataStartIndex,Et=vt.dataEndIndex;if(vt.dataStartIndex!==void 0||vt.dataEndIndex!==void 0)gt.setState(_objectSpread({dataStartIndex:$t,dataEndIndex:Et},dt({props:gt.props,dataStartIndex:$t,dataEndIndex:Et,updateId:Ct},gt.state)));else if(vt.activeTooltipIndex!==void 0){var jt=vt.chartX,Vt=vt.chartY,Mt=vt.activeTooltipIndex,Ht=gt.state,Rt=Ht.offset,Ft=Ht.tooltipTicks;if(!Rt)return;if(typeof _t=="function")Mt=_t(Ft,vt);else if(_t==="value"){Mt=-1;for(var Tt=0;Tt<Ft.length;Tt++)if(Ft[Tt].value===vt.activeLabel){Mt=Tt;break}}var Dt=_objectSpread(_objectSpread({},Rt),{},{x:Rt.left,y:Rt.top}),Jt=Math.min(jt,Dt.x+Dt.width),Ot=Math.min(Vt,Dt.y+Dt.height),Pt=Ft[Mt]&&Ft[Mt].value,kt=getTooltipContent(gt.state,gt.props.data,Mt),Nt=Ft[Mt]?{x:wt==="horizontal"?Ft[Mt].coordinate:Jt,y:wt==="horizontal"?Ot:Ft[Mt].coordinate}:originCoordinate;gt.setState(_objectSpread(_objectSpread({},vt),{},{activeLabel:Pt,activeCoordinate:Nt,activePayload:kt,activeTooltipIndex:Mt}))}else gt.setState(vt)}),_defineProperty(gt,"renderCursor",function(vt){var bt,wt=gt.state,_t=wt.isTooltipActive,Ct=wt.activeCoordinate,$t=wt.activePayload,Et=wt.offset,jt=wt.activeTooltipIndex,Vt=wt.tooltipAxisBandSize,Mt=gt.getTooltipEventType(),Ht=(bt=vt.props.active)!==null&&bt!==void 0?bt:_t,Rt=gt.props.layout,Ft=vt.key||"_recharts-cursor";return React.createElement(Cursor,{key:Ft,activeCoordinate:Ct,activePayload:$t,activeTooltipIndex:jt,chartName:et,element:vt,isActive:Ht,layout:Rt,offset:Et,tooltipAxisBandSize:Vt,tooltipEventType:Mt})}),_defineProperty(gt,"renderPolarAxis",function(vt,bt,wt){var _t=get$2(vt,"type.axisType"),Ct=get$2(gt.state,"".concat(_t,"Map")),$t=vt.type.defaultProps,Et=$t!==void 0?_objectSpread(_objectSpread({},$t),vt.props):vt.props,jt=Ct&&Ct[Et["".concat(_t,"Id")]];return reactExports.cloneElement(vt,_objectSpread(_objectSpread({},jt),{},{className:clsx(_t,jt.className),key:vt.key||"".concat(bt,"-").concat(wt),ticks:getTicksOfAxis(jt,!0)}))}),_defineProperty(gt,"renderPolarGrid",function(vt){var bt=vt.props,wt=bt.radialLines,_t=bt.polarAngles,Ct=bt.polarRadius,$t=gt.state,Et=$t.radiusAxisMap,jt=$t.angleAxisMap,Vt=getAnyElementOfObject(Et),Mt=getAnyElementOfObject(jt),Ht=Mt.cx,Rt=Mt.cy,Ft=Mt.innerRadius,Tt=Mt.outerRadius;return reactExports.cloneElement(vt,{polarAngles:Array.isArray(_t)?_t:getTicksOfAxis(Mt,!0).map(function(Dt){return Dt.coordinate}),polarRadius:Array.isArray(Ct)?Ct:getTicksOfAxis(Vt,!0).map(function(Dt){return Dt.coordinate}),cx:Ht,cy:Rt,innerRadius:Ft,outerRadius:Tt,key:vt.key||"polar-grid",radialLines:wt})}),_defineProperty(gt,"renderLegend",function(){var vt=gt.state.formattedGraphicalItems,bt=gt.props,wt=bt.children,_t=bt.width,Ct=bt.height,$t=gt.props.margin||{},Et=_t-($t.left||0)-($t.right||0),jt=getLegendProps({children:wt,formattedGraphicalItems:vt,legendWidth:Et,legendContent:st});if(!jt)return null;var Vt=jt.item,Mt=_objectWithoutProperties(jt,_excluded);return reactExports.cloneElement(Vt,_objectSpread(_objectSpread({},Mt),{},{chartWidth:_t,chartHeight:Ct,margin:$t,onBBoxUpdate:gt.handleLegendBBoxUpdate}))}),_defineProperty(gt,"renderTooltip",function(){var vt,bt=gt.props,wt=bt.children,_t=bt.accessibilityLayer,Ct=findChildByType(wt,Tooltip);if(!Ct)return null;var $t=gt.state,Et=$t.isTooltipActive,jt=$t.activeCoordinate,Vt=$t.activePayload,Mt=$t.activeLabel,Ht=$t.offset,Rt=(vt=Ct.props.active)!==null&&vt!==void 0?vt:Et;return reactExports.cloneElement(Ct,{viewBox:_objectSpread(_objectSpread({},Ht),{},{x:Ht.left,y:Ht.top}),active:Rt,label:Mt,payload:Rt?Vt:[],coordinate:jt,accessibilityLayer:_t})}),_defineProperty(gt,"renderBrush",function(vt){var bt=gt.props,wt=bt.margin,_t=bt.data,Ct=gt.state,$t=Ct.offset,Et=Ct.dataStartIndex,jt=Ct.dataEndIndex,Vt=Ct.updateId;return reactExports.cloneElement(vt,{key:vt.key||"_recharts-brush",onChange:combineEventHandlers(gt.handleBrushChange,vt.props.onChange),data:_t,x:isNumber(vt.props.x)?vt.props.x:$t.left,y:isNumber(vt.props.y)?vt.props.y:$t.top+$t.height+$t.brushBottom-(wt.bottom||0),width:isNumber(vt.props.width)?vt.props.width:$t.width,startIndex:Et,endIndex:jt,updateId:"brush-".concat(Vt)})}),_defineProperty(gt,"renderReferenceElement",function(vt,bt,wt){if(!vt)return null;var _t=gt,Ct=_t.clipPathId,$t=gt.state,Et=$t.xAxisMap,jt=$t.yAxisMap,Vt=$t.offset,Mt=vt.type.defaultProps||{},Ht=vt.props,Rt=Ht.xAxisId,Ft=Rt===void 0?Mt.xAxisId:Rt,Tt=Ht.yAxisId,Dt=Tt===void 0?Mt.yAxisId:Tt;return reactExports.cloneElement(vt,{key:vt.key||"".concat(bt,"-").concat(wt),xAxis:Et[Ft],yAxis:jt[Dt],viewBox:{x:Vt.left,y:Vt.top,width:Vt.width,height:Vt.height},clipPathId:Ct})}),_defineProperty(gt,"renderActivePoints",function(vt){var bt=vt.item,wt=vt.activePoint,_t=vt.basePoint,Ct=vt.childIndex,$t=vt.isRange,Et=[],jt=bt.props.key,Vt=bt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},bt.item.type.defaultProps),bt.item.props):bt.item.props,Mt=Vt.activeDot,Ht=Vt.dataKey,Rt=_objectSpread(_objectSpread({index:Ct,dataKey:Ht,cx:wt.x,cy:wt.y,r:4,fill:getMainColorOfGraphicItem(bt.item),strokeWidth:2,stroke:"#fff",payload:wt.payload,value:wt.value},filterProps(Mt,!1)),adaptEventHandlers(Mt));return Et.push(ht.renderActiveDot(Mt,Rt,"".concat(jt,"-activePoint-").concat(Ct))),_t?Et.push(ht.renderActiveDot(Mt,_objectSpread(_objectSpread({},Rt),{},{cx:_t.x,cy:_t.y}),"".concat(jt,"-basePoint-").concat(Ct))):$t&&Et.push(null),Et}),_defineProperty(gt,"renderGraphicChild",function(vt,bt,wt){var _t=gt.filterFormatItem(vt,bt,wt);if(!_t)return null;var Ct=gt.getTooltipEventType(),$t=gt.state,Et=$t.isTooltipActive,jt=$t.tooltipAxis,Vt=$t.activeTooltipIndex,Mt=$t.activeLabel,Ht=gt.props.children,Rt=findChildByType(Ht,Tooltip),Ft=_t.props,Tt=Ft.points,Dt=Ft.isRange,Jt=Ft.baseLine,Ot=_t.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},_t.item.type.defaultProps),_t.item.props):_t.item.props,Pt=Ot.activeDot,kt=Ot.hide,Nt=Ot.activeBar,zt=Ot.activeShape,Wt=!!(!kt&&Et&&Rt&&(Pt||Nt||zt)),Gt={};Ct!=="axis"&&Rt&&Rt.props.trigger==="click"?Gt={onClick:combineEventHandlers(gt.handleItemMouseEnter,vt.props.onClick)}:Ct!=="axis"&&(Gt={onMouseLeave:combineEventHandlers(gt.handleItemMouseLeave,vt.props.onMouseLeave),onMouseEnter:combineEventHandlers(gt.handleItemMouseEnter,vt.props.onMouseEnter)});var Kt=reactExports.cloneElement(vt,_objectSpread(_objectSpread({},_t.props),Gt));function Zt(_n){return typeof jt.dataKey=="function"?jt.dataKey(_n.payload):null}if(Wt)if(Vt>=0){var dn,Qt;if(jt.dataKey&&!jt.allowDuplicatedCategory){var wn=typeof jt.dataKey=="function"?Zt:"payload.".concat(jt.dataKey.toString());dn=findEntryInArray(Tt,wn,Mt),Qt=Dt&&Jt&&findEntryInArray(Jt,wn,Mt)}else dn=Tt==null?void 0:Tt[Vt],Qt=Dt&&Jt&&Jt[Vt];if(zt||Nt){var Sn=vt.props.activeIndex!==void 0?vt.props.activeIndex:Vt;return[reactExports.cloneElement(vt,_objectSpread(_objectSpread(_objectSpread({},_t.props),Gt),{},{activeIndex:Sn})),null,null]}if(!isNil$1(dn))return[Kt].concat(_toConsumableArray(gt.renderActivePoints({item:_t,activePoint:dn,basePoint:Qt,childIndex:Vt,isRange:Dt})))}else{var $n,an=($n=gt.getItemByXY(gt.state.activeCoordinate))!==null&&$n!==void 0?$n:{graphicalItem:Kt},cn=an.graphicalItem,It=cn.item,qt=It===void 0?vt:It,tn=cn.childIndex,fn=_objectSpread(_objectSpread(_objectSpread({},_t.props),Gt),{},{activeIndex:tn});return[reactExports.cloneElement(qt,fn),null,null]}return Dt?[Kt,null,null]:[Kt,null]}),_defineProperty(gt,"renderCustomized",function(vt,bt,wt){return reactExports.cloneElement(vt,_objectSpread(_objectSpread({key:"recharts-customized-".concat(wt)},gt.props),gt.state))}),_defineProperty(gt,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:gt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:gt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:gt.renderBrush,once:!0},Bar:{handler:gt.renderGraphicChild},Line:{handler:gt.renderGraphicChild},Area:{handler:gt.renderGraphicChild},Radar:{handler:gt.renderGraphicChild},RadialBar:{handler:gt.renderGraphicChild},Scatter:{handler:gt.renderGraphicChild},Pie:{handler:gt.renderGraphicChild},Funnel:{handler:gt.renderGraphicChild},Tooltip:{handler:gt.renderCursor,once:!0},PolarGrid:{handler:gt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:gt.renderPolarAxis},PolarRadiusAxis:{handler:gt.renderPolarAxis},Customized:{handler:gt.renderCustomized}}),gt.clipPathId="".concat((xt=yt.id)!==null&&xt!==void 0?xt:uniqueId("recharts"),"-clip"),gt.throttleTriggeredAfterMouseMove=throttle$1(gt.triggeredAfterMouseMove,(St=yt.throttleDelay)!==null&&St!==void 0?St:1e3/60),gt.state={},gt}return _inherits(ht,mt),_createClass(ht,[{key:"componentDidMount",value:function(){var xt,St;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(xt=this.props.margin.left)!==null&&xt!==void 0?xt:0,top:(St=this.props.margin.top)!==null&&St!==void 0?St:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var xt=this.props,St=xt.children,gt=xt.data,vt=xt.height,bt=xt.layout,wt=findChildByType(St,Tooltip);if(wt){var _t=wt.props.defaultIndex;if(!(typeof _t!="number"||_t<0||_t>this.state.tooltipTicks.length-1)){var Ct=this.state.tooltipTicks[_t]&&this.state.tooltipTicks[_t].value,$t=getTooltipContent(this.state,gt,_t,Ct),Et=this.state.tooltipTicks[_t].coordinate,jt=(this.state.offset.top+vt)/2,Vt=bt==="horizontal",Mt=Vt?{x:Et,y:jt}:{y:Et,x:jt},Ht=this.state.formattedGraphicalItems.find(function(Ft){var Tt=Ft.item;return Tt.type.name==="Scatter"});Ht&&(Mt=_objectSpread(_objectSpread({},Mt),Ht.props.points[_t].tooltipPosition),$t=Ht.props.points[_t].tooltipPayload);var Rt={activeTooltipIndex:_t,isTooltipActive:!0,activeLabel:Ct,activePayload:$t,activeCoordinate:Mt};this.setState(Rt),this.renderCursor(wt),this.accessibilityManager.setIndex(_t)}}}},{key:"getSnapshotBeforeUpdate",value:function(xt,St){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==St.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==xt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==xt.margin){var gt,vt;this.accessibilityManager.setDetails({offset:{left:(gt=this.props.margin.left)!==null&&gt!==void 0?gt:0,top:(vt=this.props.margin.top)!==null&&vt!==void 0?vt:0}})}return null}},{key:"componentDidUpdate",value:function(xt){isChildrenEqual([findChildByType(xt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var xt=findChildByType(this.props.children,Tooltip);if(xt&&typeof xt.props.shared=="boolean"){var St=xt.props.shared?"axis":"item";return ot.indexOf(St)>=0?St:rt}return rt}},{key:"getMouseInfo",value:function(xt){if(!this.container)return null;var St=this.container,gt=St.getBoundingClientRect(),vt=getOffset(gt),bt={chartX:Math.round(xt.pageX-vt.left),chartY:Math.round(xt.pageY-vt.top)},wt=gt.width/St.offsetWidth||1,_t=this.inRange(bt.chartX,bt.chartY,wt);if(!_t)return null;var Ct=this.state,$t=Ct.xAxisMap,Et=Ct.yAxisMap,jt=this.getTooltipEventType(),Vt=getTooltipData(this.state,this.props.data,this.props.layout,_t);if(jt!=="axis"&&$t&&Et){var Mt=getAnyElementOfObject($t).scale,Ht=getAnyElementOfObject(Et).scale,Rt=Mt&&Mt.invert?Mt.invert(bt.chartX):null,Ft=Ht&&Ht.invert?Ht.invert(bt.chartY):null;return _objectSpread(_objectSpread({},bt),{},{xValue:Rt,yValue:Ft},Vt)}return Vt?_objectSpread(_objectSpread({},bt),Vt):null}},{key:"inRange",value:function(xt,St){var gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,vt=this.props.layout,bt=xt/gt,wt=St/gt;if(vt==="horizontal"||vt==="vertical"){var _t=this.state.offset,Ct=bt>=_t.left&&bt<=_t.left+_t.width&&wt>=_t.top&&wt<=_t.top+_t.height;return Ct?{x:bt,y:wt}:null}var $t=this.state,Et=$t.angleAxisMap,jt=$t.radiusAxisMap;if(Et&&jt){var Vt=getAnyElementOfObject(Et);return inRangeOfSector({x:bt,y:wt},Vt)}return null}},{key:"parseEventsOfWrapper",value:function(){var xt=this.props.children,St=this.getTooltipEventType(),gt=findChildByType(xt,Tooltip),vt={};gt&&St==="axis"&&(gt.props.trigger==="click"?vt={onClick:this.handleClick}:vt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var bt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},bt),vt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(xt,St,gt){for(var vt=this.state.formattedGraphicalItems,bt=0,wt=vt.length;bt<wt;bt++){var _t=vt[bt];if(_t.item===xt||_t.props.key===xt.key||St===getDisplayName(_t.item.type)&&gt===_t.childIndex)return _t}return null}},{key:"renderClipPath",value:function(){var xt=this.clipPathId,St=this.state.offset,gt=St.left,vt=St.top,bt=St.height,wt=St.width;return React.createElement("defs",null,React.createElement("clipPath",{id:xt},React.createElement("rect",{x:gt,y:vt,height:bt,width:wt})))}},{key:"getXScales",value:function(){var xt=this.state.xAxisMap;return xt?Object.entries(xt).reduce(function(St,gt){var vt=_slicedToArray(gt,2),bt=vt[0],wt=vt[1];return _objectSpread(_objectSpread({},St),{},_defineProperty({},bt,wt.scale))},{}):null}},{key:"getYScales",value:function(){var xt=this.state.yAxisMap;return xt?Object.entries(xt).reduce(function(St,gt){var vt=_slicedToArray(gt,2),bt=vt[0],wt=vt[1];return _objectSpread(_objectSpread({},St),{},_defineProperty({},bt,wt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(xt){var St;return(St=this.state.xAxisMap)===null||St===void 0||(St=St[xt])===null||St===void 0?void 0:St.scale}},{key:"getYScaleByAxisId",value:function(xt){var St;return(St=this.state.yAxisMap)===null||St===void 0||(St=St[xt])===null||St===void 0?void 0:St.scale}},{key:"getItemByXY",value:function(xt){var St=this.state,gt=St.formattedGraphicalItems,vt=St.activeItem;if(gt&&gt.length)for(var bt=0,wt=gt.length;bt<wt;bt++){var _t=gt[bt],Ct=_t.props,$t=_t.item,Et=$t.type.defaultProps!==void 0?_objectSpread(_objectSpread({},$t.type.defaultProps),$t.props):$t.props,jt=getDisplayName($t.type);if(jt==="Bar"){var Vt=(Ct.data||[]).find(function(Ft){return isInRectangle(xt,Ft)});if(Vt)return{graphicalItem:_t,payload:Vt}}else if(jt==="RadialBar"){var Mt=(Ct.data||[]).find(function(Ft){return inRangeOfSector(xt,Ft)});if(Mt)return{graphicalItem:_t,payload:Mt}}else if(isFunnel(_t,vt)||isPie(_t,vt)||isScatter(_t,vt)){var Ht=getActiveShapeIndexForTooltip({graphicalItem:_t,activeTooltipItem:vt,itemData:Et.data}),Rt=Et.activeIndex===void 0?Ht:Et.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},_t),{},{childIndex:Rt}),payload:isScatter(_t,vt)?Et.data[Ht]:_t.props.data[Ht]}}}return null}},{key:"render",value:function(){var xt=this;if(!validateWidthHeight(this))return null;var St=this.props,gt=St.children,vt=St.className,bt=St.width,wt=St.height,_t=St.style,Ct=St.compact,$t=St.title,Et=St.desc,jt=_objectWithoutProperties(St,_excluded2),Vt=filterProps(jt,!1);if(Ct)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Vt,{width:bt,height:wt,title:$t,desc:Et}),this.renderClipPath(),renderByOrder(gt,this.renderMap)));if(this.props.accessibilityLayer){var Mt,Ht;Vt.tabIndex=(Mt=this.props.tabIndex)!==null&&Mt!==void 0?Mt:0,Vt.role=(Ht=this.props.role)!==null&&Ht!==void 0?Ht:"application",Vt.onKeyDown=function(Ft){xt.accessibilityManager.keyboardEvent(Ft)},Vt.onFocus=function(){xt.accessibilityManager.focus()}}var Rt=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",vt),style:_objectSpread({position:"relative",cursor:"default",width:bt,height:wt},_t)},Rt,{ref:function(Tt){xt.container=Tt}}),React.createElement(Surface,_extends({},Vt,{width:bt,height:wt,title:$t,desc:Et,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(gt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(ft,"displayName",et),_defineProperty(ft,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},ct)),_defineProperty(ft,"getDerivedStateFromProps",function(mt,ht){var yt=mt.dataKey,xt=mt.data,St=mt.children,gt=mt.width,vt=mt.height,bt=mt.layout,wt=mt.stackOffset,_t=mt.margin,Ct=ht.dataStartIndex,$t=ht.dataEndIndex;if(ht.updateId===void 0){var Et=createDefaultState(mt);return _objectSpread(_objectSpread(_objectSpread({},Et),{},{updateId:0},dt(_objectSpread(_objectSpread({props:mt},Et),{},{updateId:0}),ht)),{},{prevDataKey:yt,prevData:xt,prevWidth:gt,prevHeight:vt,prevLayout:bt,prevStackOffset:wt,prevMargin:_t,prevChildren:St})}if(yt!==ht.prevDataKey||xt!==ht.prevData||gt!==ht.prevWidth||vt!==ht.prevHeight||bt!==ht.prevLayout||wt!==ht.prevStackOffset||!shallowEqual(_t,ht.prevMargin)){var jt=createDefaultState(mt),Vt={chartX:ht.chartX,chartY:ht.chartY,isTooltipActive:ht.isTooltipActive},Mt=_objectSpread(_objectSpread({},getTooltipData(ht,xt,bt)),{},{updateId:ht.updateId+1}),Ht=_objectSpread(_objectSpread(_objectSpread({},jt),Vt),Mt);return _objectSpread(_objectSpread(_objectSpread({},Ht),dt(_objectSpread({props:mt},Ht),ht)),{},{prevDataKey:yt,prevData:xt,prevWidth:gt,prevHeight:vt,prevLayout:bt,prevStackOffset:wt,prevMargin:_t,prevChildren:St})}if(!isChildrenEqual(St,ht.prevChildren)){var Rt,Ft,Tt,Dt,Jt=findChildByType(St,Brush),Ot=Jt&&(Rt=(Ft=Jt.props)===null||Ft===void 0?void 0:Ft.startIndex)!==null&&Rt!==void 0?Rt:Ct,Pt=Jt&&(Tt=(Dt=Jt.props)===null||Dt===void 0?void 0:Dt.endIndex)!==null&&Tt!==void 0?Tt:$t,kt=Ot!==Ct||Pt!==$t,Nt=!isNil$1(xt),zt=Nt&&!kt?ht.updateId:ht.updateId+1;return _objectSpread(_objectSpread({updateId:zt},dt(_objectSpread(_objectSpread({props:mt},ht),{},{updateId:zt,dataStartIndex:Ot,dataEndIndex:Pt}),ht)),{},{prevChildren:St,dataStartIndex:Ot,dataEndIndex:Pt})}return null}),_defineProperty(ft,"renderActiveDot",function(mt,ht,yt){var xt;return reactExports.isValidElement(mt)?xt=reactExports.cloneElement(mt,ht):isFunction$3(mt)?xt=mt(ht):xt=React.createElement(Dot,ht),React.createElement(Layer,{className:"recharts-active-dot",key:yt},xt)});var pt=reactExports.forwardRef(function(ht,yt){return React.createElement(ft,_extends({},ht,{ref:yt}))});return pt.displayName=ft.displayName,pt},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});function SyntacticBurstiness({text:$}){const et=$.split(/[.!?]+/).filter(st=>st.trim().length>0).map(st=>st.trim().split(/\s+/).length),tt=et.map((st,lt)=>({sentence:lt+1,words:st})),nt=et.length>0?et.reduce((st,lt)=>st+lt,0)/et.length:0,rt=et.length>0?et.reduce((st,lt)=>st+Math.pow(lt-nt,2),0)/et.length:0,it=Math.sqrt(rt),at=et.length<3?{text:"Need more sentences",color:"var(--color-text-secondary)",emoji:""}:it<2.5?{text:"AI-like Pattern",color:"var(--color-danger)",emoji:""}:it<4.5?{text:"Ambiguous",color:"var(--color-warning)",emoji:""}:{text:"Human-like Pattern",color:"var(--color-success)",emoji:""};return et.length===0?null:jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--color-text)"},children:"Syntactic Burstiness"}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Word count per sentence reveals writing patterns"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs mb-1",style:{color:"var(--color-text-secondary)"},children:"Avg Words"}),jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-primary)"},children:nt.toFixed(1)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs mb-1",style:{color:"var(--color-text-secondary)"},children:"Variance"}),jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-primary)"},children:it.toFixed(1)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs mb-1",style:{color:"var(--color-text-secondary)"},children:"Pattern"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold",style:{color:at.color},children:[at.emoji," ",at.text]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--color-text)"},children:"Word Count per Sentence"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:180,children:jsxRuntimeExports.jsxs(BarChart,{data:tt,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"sentence",stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11},label:{value:"Sentence Index",position:"insideBottom",offset:-5,fill:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11},label:{value:"Word Count",angle:-90,position:"insideLeft",fill:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"0.5rem",color:"var(--color-text)"},labelStyle:{color:"var(--color-text)"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"words",fill:"var(--color-primary)",radius:[4,4,0,0]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium mb-2",style:{color:"var(--color-text)"},children:"Fluctuation Pattern"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:150,children:jsxRuntimeExports.jsxs(LineChart,{data:tt,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"sentence",stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"0.5rem",color:"var(--color-text)"}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"words",stroke:"var(--color-primary)",strokeWidth:3,dot:{fill:"var(--color-primary)",r:4}})]})})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded text-xs",style:{backgroundColor:"var(--color-bg-tertiary)",borderLeft:`3px solid ${at.color}`},children:jsxRuntimeExports.jsxs("p",{style:{color:"var(--color-text)"},children:[jsxRuntimeExports.jsx("strong",{children:"Analysis:"})," ",et.length," sentences detected.",it<2.5&&" Very uniform lengths suggest AI generation (robots write consistently).",it>=2.5&&it<4.5&&" Moderate variation - could be human or well-trained AI.",it>=4.5&&" High variation indicates natural human writing (mixing short, medium, and long sentences)."]})})]})}function Editor({onMetricsUpdate:$,onTextChange:_e}){const[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState(Date.now()),[it,ot]=reactExports.useState([]),[at,st]=reactExports.useState([]),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState([]),ft=useEditor({extensions:[StarterKit,Placeholder.configure({placeholder:"Start writing your essay here..."}),CharacterCount],content:"",editorProps:{attributes:{class:"prose max-w-none focus:outline-none min-h-[400px] p-6"},handleKeyDown:(ht,yt)=>{const xt=Date.now(),St=xt-nt;return tt(gt=>[...gt.slice(-100),St]),rt(xt),St>2e3&&ot(gt=>[...gt,{time:xt,duration:St}]),!1}},onUpdate:({editor:ht})=>{const yt=ht.getText();if(_e&&_e(yt),yt.length>10){const xt=analyzeLinguisticFeatures(yt);let St=0,gt=[];const vt=[];at.forEach(wt=>{const _t=calculateSimilarityWithSource(yt,wt);_t.overallSimilarity>St&&(St=_t.overallSimilarity),gt.push(..._t.warnings);const Ct=findMatchedWords(yt,wt);vt.push(...Ct)});const bt=[...xt.warnings||[],...gt];ct(bt),dt(vt),$({...xt,similarityRisk:St,warnings:bt})}}});if(reactExports.useEffect(()=>{const ht=()=>{try{const xt=localStorage.getItem("source-files");if(xt){const gt=JSON.parse(xt).map(vt=>vt.content||vt.text||"").filter(Boolean);st(gt)}}catch(xt){console.error("Error loading source texts:",xt)}};ht();const yt=xt=>{xt.key==="source-files"&&ht()};return window.addEventListener("storage",yt),()=>window.removeEventListener("storage",yt)},[]),reactExports.useEffect(()=>{const ht=setInterval(()=>{if(ft){const yt=ft.getHTML();localStorage.setItem("draft-autosave",yt),localStorage.setItem("draft-timestamp",new Date().toISOString())}},3e4);return()=>clearInterval(ht)},[ft]),reactExports.useEffect(()=>{const ht=localStorage.getItem("draft-autosave"),yt=localStorage.getItem("draft-timestamp");if(ht&&yt&&ft){const xt=new Date(yt);(new Date().getTime()-xt.getTime())/(1e3*60*60)<24&&window.confirm(`Restore your previous draft? (Saved ${xt.toLocaleString()})`)&&ft.commands.setContent(ht)}},[ft]),!ft)return null;const pt=ft.storage.characterCount.words(),mt=ft.storage.characterCount.characters();return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b flex items-center justify-between",style:{backgroundColor:"var(--color-bg-tertiary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:pt})," words ",jsxRuntimeExports.jsx("span",{className:"font-medium ml-2",children:mt})," characters"]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ft.chain().focus().undo().run(),disabled:!ft.can().undo(),className:"px-3 py-1 text-sm rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:"Undo"}),jsxRuntimeExports.jsx("button",{onClick:()=>ft.chain().focus().redo().run(),disabled:!ft.can().redo(),className:"px-3 py-1 text-sm rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},children:"Redo"})]})]}),jsxRuntimeExports.jsx(EditorContent,{editor:ft})]}),ut.length>0&&jsxRuntimeExports.jsx(EditorSuggestions,{text:(ft==null?void 0:ft.getText())||"",matchedPhrases:ut}),jsxRuntimeExports.jsx(PlagiarismPanel,{warnings:lt,matchedPhrases:ut}),it.length>0&&jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--color-bg-tertiary)",borderColor:"var(--color-warning)",borderWidth:"2px"},children:[jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",style:{color:"var(--color-warning)"},children:" Stumble Detected"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",style:{color:"var(--color-text)"},children:["You paused for ",(it[it.length-1].duration/1e3).toFixed(1),"s. This might indicate cognitive effort or searching for words."]})]}),jsxRuntimeExports.jsx(SyntacticBurstiness,{text:(ft==null?void 0:ft.getText())||""})]})}function MetricsPanel({metrics:$}){const _e=rt=>rt>=75?"var(--color-success)":rt>=50?"var(--color-warning)":"var(--color-danger)",et=rt=>rt<=.4?"var(--color-success)":rt<=.65?"var(--color-warning)":"var(--color-danger)",tt=_e($.humanityScore),nt=et($.aiPatternScore||.5);return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-6",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Writing Metrics"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Humanity Score"}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold",style:{color:tt},children:[$.humanityScore,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${$.humanityScore}%`,backgroundColor:tt}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:"Higher scores = more natural, human-like writing patterns"})]}),$.aiPatternScore!==void 0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4",style:{color:nt}}),jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"AI Pattern Risk"})]}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold",style:{color:nt},children:[($.aiPatternScore*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${$.aiPatternScore*100}%`,backgroundColor:nt}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:"Detects common AI writing patterns (transitions, passive voice, formality)"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Burstiness"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-info)"},children:$.burstiness.toFixed(1)})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${Math.min($.burstiness/10*100,100)}%`,backgroundColor:"var(--color-info)"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:"Sentence length variation. Higher = more natural rhythm"})]}),$.similarityRisk!==void 0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"w-4 h-4",style:{color:"var(--color-warning)"}}),jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Source Similarity"})]}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold",style:{color:"var(--color-warning)"},children:[($.similarityRisk*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${$.similarityRisk*100}%`,backgroundColor:"var(--color-warning)"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:"How similar your writing is to source material"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Baseline Confidence"}),jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:[($.confidence*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:`${$.confidence*100}%`,backgroundColor:"var(--color-primary)"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-text-secondary)"},children:"Confidence in your baseline profile"})]})]})]})}function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(_e,et){module.exports=_e.pdfjsLib=et()})(globalThis,()=>(()=>{var __webpack_modules__=[,($,_e)=>{var sr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.TextRenderingMode=_e.RenderingIntentFlag=_e.PromiseCapability=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.MAX_IMAGE_SIZE_TO_CACHE=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.BASELINE_FACTOR=_e.AnnotationType=_e.AnnotationReplyType=_e.AnnotationPrefix=_e.AnnotationMode=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.assert=Tt,_e.bytesToString=dn,_e.createValidAbsoluteUrl=Jt,_e.getModificationDate=Nn,_e.getUuid=Yn,_e.getVerbosityLevel=Mt,_e.info=Ht,_e.isArrayBuffer=sn,_e.isArrayEqual=In,_e.isNodeJS=void 0,_e.normalizeUnicode=Vn,_e.objectFromMap=$n,_e.objectSize=Sn,_e.setVerbosityLevel=Vt,_e.shadow=Ot,_e.string32=wn,_e.stringToBytes=Qt,_e.stringToPDFString=_n,_e.stringToUTF8String=Cn,_e.unreachable=Ft,_e.utf8StringToString=En,_e.warn=Rt;const et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=et;const tt=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=tt;const nt=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=nt;const rt=1e7;_e.MAX_IMAGE_SIZE_TO_CACHE=rt;const it=1.35;_e.LINE_FACTOR=it;const ot=.35;_e.LINE_DESCENT_FACTOR=ot;const at=ot/it;_e.BASELINE_FACTOR=at;const st={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=st;const lt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=lt;const ct="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=ct;const ut={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_e.AnnotationEditorType=ut;const dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_e.AnnotationEditorParamsType=dt;const ft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=ft;const pt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=pt;const mt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=mt;const ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=ht;const yt={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=yt;const xt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=xt;const St={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=St;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=gt;const vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=vt;const bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=bt;const wt={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=wt;const _t={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=_t;const Ct={NONE:0,BINARY:1};_e.CMapCompressionType=Ct;const $t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=$t;const Et={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=Et;let jt=_t.WARNINGS;function Vt(Tn){Number.isInteger(Tn)&&(jt=Tn)}function Mt(){return jt}function Ht(Tn){jt>=_t.INFOS&&console.log(`Info: ${Tn}`)}function Rt(Tn){jt>=_t.WARNINGS&&console.log(`Warning: ${Tn}`)}function Ft(Tn){throw new Error(Tn)}function Tt(Tn,pn){Tn||Ft(pn)}function Dt(Tn){switch(Tn==null?void 0:Tn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Jt(Tn,pn=null,yn=null){if(!Tn)return null;try{if(yn&&typeof Tn=="string"){if(yn.addDefaultProtocol&&Tn.startsWith("www.")){const ar=Tn.match(/\./g);(ar==null?void 0:ar.length)>=2&&(Tn=`http://${Tn}`)}if(yn.tryConvertEncoding)try{Tn=Cn(Tn)}catch{}}const zn=pn?new URL(Tn,pn):new URL(Tn);if(Dt(zn))return zn}catch{}return null}function Ot(Tn,pn,yn,zn=!1){return Object.defineProperty(Tn,pn,{value:yn,enumerable:!zn,configurable:!0,writable:!1}),yn}const Pt=function(){function pn(yn,zn){this.constructor===pn&&Ft("Cannot initialize BaseException."),this.message=yn,this.name=zn}return pn.prototype=new Error,pn.constructor=pn,pn}();_e.BaseException=Pt;class kt extends Pt{constructor(pn,yn){super(pn,"PasswordException"),this.code=yn}}_e.PasswordException=kt;class Nt extends Pt{constructor(pn,yn){super(pn,"UnknownErrorException"),this.details=yn}}_e.UnknownErrorException=Nt;class zt extends Pt{constructor(pn){super(pn,"InvalidPDFException")}}_e.InvalidPDFException=zt;class Wt extends Pt{constructor(pn){super(pn,"MissingPDFException")}}_e.MissingPDFException=Wt;class Gt extends Pt{constructor(pn,yn){super(pn,"UnexpectedResponseException"),this.status=yn}}_e.UnexpectedResponseException=Gt;class Kt extends Pt{constructor(pn){super(pn,"FormatError")}}_e.FormatError=Kt;class Zt extends Pt{constructor(pn){super(pn,"AbortException")}}_e.AbortException=Zt;function dn(Tn){(typeof Tn!="object"||(Tn==null?void 0:Tn.length)===void 0)&&Ft("Invalid argument for bytesToString");const pn=Tn.length,yn=8192;if(pn<yn)return String.fromCharCode.apply(null,Tn);const zn=[];for(let ar=0;ar<pn;ar+=yn){const tr=Math.min(ar+yn,pn),Yt=Tn.subarray(ar,tr);zn.push(String.fromCharCode.apply(null,Yt))}return zn.join("")}function Qt(Tn){typeof Tn!="string"&&Ft("Invalid argument for stringToBytes");const pn=Tn.length,yn=new Uint8Array(pn);for(let zn=0;zn<pn;++zn)yn[zn]=Tn.charCodeAt(zn)&255;return yn}function wn(Tn){return String.fromCharCode(Tn>>24&255,Tn>>16&255,Tn>>8&255,Tn&255)}function Sn(Tn){return Object.keys(Tn).length}function $n(Tn){const pn=Object.create(null);for(const[yn,zn]of Tn)pn[yn]=zn;return pn}function an(){const Tn=new Uint8Array(4);return Tn[0]=1,new Uint32Array(Tn.buffer,0,1)[0]===1}function cn(){try{return new Function(""),!0}catch{return!1}}class It{static get isLittleEndian(){return Ot(this,"isLittleEndian",an())}static get isEvalSupported(){return Ot(this,"isEvalSupported",cn())}static get isOffscreenCanvasSupported(){return Ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ot(this,"platform",{isWin:!1,isMac:!1}):Ot(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var pn,yn;return Ot(this,"isCSSRoundSupported",(yn=(pn=globalThis.CSS)==null?void 0:pn.supports)==null?void 0:yn.call(pn,"width: round(1.5px, 1px)"))}}_e.FeatureTest=It;const qt=[...Array(256).keys()].map(Tn=>Tn.toString(16).padStart(2,"0"));class tn{static makeHexColor(pn,yn,zn){return`#${qt[pn]}${qt[yn]}${qt[zn]}`}static scaleMinMax(pn,yn){let zn;pn[0]?(pn[0]<0&&(zn=yn[0],yn[0]=yn[1],yn[1]=zn),yn[0]*=pn[0],yn[1]*=pn[0],pn[3]<0&&(zn=yn[2],yn[2]=yn[3],yn[3]=zn),yn[2]*=pn[3],yn[3]*=pn[3]):(zn=yn[0],yn[0]=yn[2],yn[2]=zn,zn=yn[1],yn[1]=yn[3],yn[3]=zn,pn[1]<0&&(zn=yn[2],yn[2]=yn[3],yn[3]=zn),yn[2]*=pn[1],yn[3]*=pn[1],pn[2]<0&&(zn=yn[0],yn[0]=yn[1],yn[1]=zn),yn[0]*=pn[2],yn[1]*=pn[2]),yn[0]+=pn[4],yn[1]+=pn[4],yn[2]+=pn[5],yn[3]+=pn[5]}static transform(pn,yn){return[pn[0]*yn[0]+pn[2]*yn[1],pn[1]*yn[0]+pn[3]*yn[1],pn[0]*yn[2]+pn[2]*yn[3],pn[1]*yn[2]+pn[3]*yn[3],pn[0]*yn[4]+pn[2]*yn[5]+pn[4],pn[1]*yn[4]+pn[3]*yn[5]+pn[5]]}static applyTransform(pn,yn){const zn=pn[0]*yn[0]+pn[1]*yn[2]+yn[4],ar=pn[0]*yn[1]+pn[1]*yn[3]+yn[5];return[zn,ar]}static applyInverseTransform(pn,yn){const zn=yn[0]*yn[3]-yn[1]*yn[2],ar=(pn[0]*yn[3]-pn[1]*yn[2]+yn[2]*yn[5]-yn[4]*yn[3])/zn,tr=(-pn[0]*yn[1]+pn[1]*yn[0]+yn[4]*yn[1]-yn[5]*yn[0])/zn;return[ar,tr]}static getAxialAlignedBoundingBox(pn,yn){const zn=this.applyTransform(pn,yn),ar=this.applyTransform(pn.slice(2,4),yn),tr=this.applyTransform([pn[0],pn[3]],yn),Yt=this.applyTransform([pn[2],pn[1]],yn);return[Math.min(zn[0],ar[0],tr[0],Yt[0]),Math.min(zn[1],ar[1],tr[1],Yt[1]),Math.max(zn[0],ar[0],tr[0],Yt[0]),Math.max(zn[1],ar[1],tr[1],Yt[1])]}static inverseTransform(pn){const yn=pn[0]*pn[3]-pn[1]*pn[2];return[pn[3]/yn,-pn[1]/yn,-pn[2]/yn,pn[0]/yn,(pn[2]*pn[5]-pn[4]*pn[3])/yn,(pn[4]*pn[1]-pn[5]*pn[0])/yn]}static singularValueDecompose2dScale(pn){const yn=[pn[0],pn[2],pn[1],pn[3]],zn=pn[0]*yn[0]+pn[1]*yn[2],ar=pn[0]*yn[1]+pn[1]*yn[3],tr=pn[2]*yn[0]+pn[3]*yn[2],Yt=pn[2]*yn[1]+pn[3]*yn[3],Pn=(zn+Yt)/2,Mn=Math.sqrt((zn+Yt)**2-4*(zn*Yt-tr*ar))/2,Kn=Pn+Mn||1,Xn=Pn-Mn||1;return[Math.sqrt(Kn),Math.sqrt(Xn)]}static normalizeRect(pn){const yn=pn.slice(0);return pn[0]>pn[2]&&(yn[0]=pn[2],yn[2]=pn[0]),pn[1]>pn[3]&&(yn[1]=pn[3],yn[3]=pn[1]),yn}static intersect(pn,yn){const zn=Math.max(Math.min(pn[0],pn[2]),Math.min(yn[0],yn[2])),ar=Math.min(Math.max(pn[0],pn[2]),Math.max(yn[0],yn[2]));if(zn>ar)return null;const tr=Math.max(Math.min(pn[1],pn[3]),Math.min(yn[1],yn[3])),Yt=Math.min(Math.max(pn[1],pn[3]),Math.max(yn[1],yn[3]));return tr>Yt?null:[zn,tr,ar,Yt]}static bezierBoundingBox(pn,yn,zn,ar,tr,Yt,Pn,Mn){const Kn=[],Xn=[[],[]];let Bn,Ut,Bt,en,xn,An,kn,On;for(let nr=0;nr<2;++nr){if(nr===0?(Ut=6*pn-12*zn+6*tr,Bn=-3*pn+9*zn-9*tr+3*Pn,Bt=3*zn-3*pn):(Ut=6*yn-12*ar+6*Yt,Bn=-3*yn+9*ar-9*Yt+3*Mn,Bt=3*ar-3*yn),Math.abs(Bn)<1e-12){if(Math.abs(Ut)<1e-12)continue;en=-Bt/Ut,0<en&&en<1&&Kn.push(en);continue}kn=Ut*Ut-4*Bt*Bn,On=Math.sqrt(kn),!(kn<0)&&(xn=(-Ut+On)/(2*Bn),0<xn&&xn<1&&Kn.push(xn),An=(-Ut-On)/(2*Bn),0<An&&An<1&&Kn.push(An))}let Gn=Kn.length,Wn;const Dn=Gn;for(;Gn--;)en=Kn[Gn],Wn=1-en,Xn[0][Gn]=Wn*Wn*Wn*pn+3*Wn*Wn*en*zn+3*Wn*en*en*tr+en*en*en*Pn,Xn[1][Gn]=Wn*Wn*Wn*yn+3*Wn*Wn*en*ar+3*Wn*en*en*Yt+en*en*en*Mn;return Xn[0][Dn]=pn,Xn[1][Dn]=yn,Xn[0][Dn+1]=Pn,Xn[1][Dn+1]=Mn,Xn[0].length=Xn[1].length=Dn+2,[Math.min(...Xn[0]),Math.min(...Xn[1]),Math.max(...Xn[0]),Math.max(...Xn[1])]}}_e.Util=tn;const fn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _n(Tn){if(Tn[0]>=""){let yn;if(Tn[0]===""&&Tn[1]===""?yn="utf-16be":Tn[0]===""&&Tn[1]===""?yn="utf-16le":Tn[0]===""&&Tn[1]===""&&Tn[2]===""&&(yn="utf-8"),yn)try{const zn=new TextDecoder(yn,{fatal:!0}),ar=Qt(Tn);return zn.decode(ar)}catch(zn){Rt(`stringToPDFString: "${zn}".`)}}const pn=[];for(let yn=0,zn=Tn.length;yn<zn;yn++){const ar=fn[Tn.charCodeAt(yn)];pn.push(ar?String.fromCharCode(ar):Tn.charAt(yn))}return pn.join("")}function Cn(Tn){return decodeURIComponent(escape(Tn))}function En(Tn){return unescape(encodeURIComponent(Tn))}function sn(Tn){return typeof Tn=="object"&&(Tn==null?void 0:Tn.byteLength)!==void 0}function In(Tn,pn){if(Tn.length!==pn.length)return!1;for(let yn=0,zn=Tn.length;yn<zn;yn++)if(Tn[yn]!==pn[yn])return!1;return!0}function Nn(Tn=new Date){return[Tn.getUTCFullYear().toString(),(Tn.getUTCMonth()+1).toString().padStart(2,"0"),Tn.getUTCDate().toString().padStart(2,"0"),Tn.getUTCHours().toString().padStart(2,"0"),Tn.getUTCMinutes().toString().padStart(2,"0"),Tn.getUTCSeconds().toString().padStart(2,"0")].join("")}class er{constructor(){mn(this,sr,!1);this.promise=new Promise((pn,yn)=>{this.resolve=zn=>{vn(this,sr,!0),pn(zn)},this.reject=zn=>{vn(this,sr,!0),yn(zn)}})}get settled(){return At(this,sr)}}sr=new WeakMap,_e.PromiseCapability=er;let Jn=null,ir=null;function Vn(Tn){return Jn||(Jn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ir=new Map([["","t"]])),Tn.replaceAll(Jn,(pn,yn,zn)=>yn?yn.normalize("NFKC"):ir.get(zn))}function Yn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Tn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Tn);else for(let pn=0;pn<32;pn++)Tn[pn]=Math.floor(Math.random()*255);return dn(Tn)}const or="pdfjs_internal_id_";_e.AnnotationPrefix=or},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var $,et,tt,nt,Pr,Gr,ot,at,st,lt,ct,ut,dt,ft,pt,Ur,ht,yt,fo,St,gt;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(bt){if(typeof bt=="string"||bt instanceof URL?bt={url:bt}:(0,_util.isArrayBuffer)(bt)&&(bt={data:bt}),typeof bt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!bt.url&&!bt.data&&!bt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const wt=new PDFDocumentLoadingTask,{docId:_t}=wt,Ct=bt.url?getUrlProp(bt.url):null,$t=bt.data?getDataProp(bt.data):null,Et=bt.httpHeaders||null,jt=bt.withCredentials===!0,Vt=bt.password??null,Mt=bt.range instanceof PDFDataRangeTransport?bt.range:null,Ht=Number.isInteger(bt.rangeChunkSize)&&bt.rangeChunkSize>0?bt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Rt=bt.worker instanceof PDFWorker?bt.worker:null;const Ft=bt.verbosity,Tt=typeof bt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(bt.docBaseUrl)?bt.docBaseUrl:null,Dt=typeof bt.cMapUrl=="string"?bt.cMapUrl:null,Jt=bt.cMapPacked!==!1,Ot=bt.CMapReaderFactory||DefaultCMapReaderFactory,Pt=typeof bt.standardFontDataUrl=="string"?bt.standardFontDataUrl:null,kt=bt.StandardFontDataFactory||DefaultStandardFontDataFactory,Nt=bt.stopAtErrors!==!0,zt=Number.isInteger(bt.maxImageSize)&&bt.maxImageSize>-1?bt.maxImageSize:-1,Wt=bt.isEvalSupported!==!1,Gt=typeof bt.isOffscreenCanvasSupported=="boolean"?bt.isOffscreenCanvasSupported:!_util.isNodeJS,Kt=Number.isInteger(bt.canvasMaxAreaInBytes)?bt.canvasMaxAreaInBytes:-1,Zt=typeof bt.disableFontFace=="boolean"?bt.disableFontFace:_util.isNodeJS,dn=bt.fontExtraProperties===!0,Qt=bt.enableXfa===!0,wn=bt.ownerDocument||globalThis.document,Sn=bt.disableRange===!0,$n=bt.disableStream===!0,an=bt.disableAutoFetch===!0,cn=bt.pdfBug===!0,It=Mt?Mt.length:bt.length??NaN,qt=typeof bt.useSystemFonts=="boolean"?bt.useSystemFonts:!_util.isNodeJS&&!Zt,tn=typeof bt.useWorkerFetch=="boolean"?bt.useWorkerFetch:Ot===_display_utils.DOMCMapReaderFactory&&kt===_display_utils.DOMStandardFontDataFactory&&Dt&&Pt&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Pt,document.baseURI),fn=bt.canvasFactory||new DefaultCanvasFactory({ownerDocument:wn}),_n=bt.filterFactory||new DefaultFilterFactory({docId:_t,ownerDocument:wn}),Cn=null;(0,_util.setVerbosityLevel)(Ft);const En={canvasFactory:fn,filterFactory:_n};if(tn||(En.cMapReaderFactory=new Ot({baseUrl:Dt,isCompressed:Jt}),En.standardFontDataFactory=new kt({baseUrl:Pt})),!Rt){const Nn={verbosity:Ft,port:_worker_options.GlobalWorkerOptions.workerPort};Rt=Nn.port?PDFWorker.fromPort(Nn):new PDFWorker(Nn),wt._worker=Rt}const sn={docId:_t,apiVersion:"3.11.174",data:$t,password:Vt,disableAutoFetch:an,rangeChunkSize:Ht,length:It,docBaseUrl:Tt,enableXfa:Qt,evaluatorOptions:{maxImageSize:zt,disableFontFace:Zt,ignoreErrors:Nt,isEvalSupported:Wt,isOffscreenCanvasSupported:Gt,canvasMaxAreaInBytes:Kt,fontExtraProperties:dn,useSystemFonts:qt,cMapUrl:tn?Dt:null,standardFontDataUrl:tn?Pt:null}},In={ignoreErrors:Nt,isEvalSupported:Wt,disableFontFace:Zt,fontExtraProperties:dn,enableXfa:Qt,ownerDocument:wn,disableAutoFetch:an,pdfBug:cn,styleElement:Cn};return Rt.promise.then(function(){if(wt.destroyed)throw new Error("Loading aborted");const Nn=_fetchDocument(Rt,sn),er=new Promise(function(Jn){let ir;Mt?ir=new _transport_stream.PDFDataTransportStream({length:It,initialData:Mt.initialData,progressiveDone:Mt.progressiveDone,contentDispositionFilename:Mt.contentDispositionFilename,disableRange:Sn,disableStream:$n},Mt):$t||(ir=(Yn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Yn):(0,_display_utils.isValidFetchUrl)(Yn.url)?new _displayFetch_stream.PDFFetchStream(Yn):new _displayNetwork.PDFNetworkStream(Yn))({url:Ct,length:It,httpHeaders:Et,withCredentials:jt,rangeChunkSize:Ht,disableRange:Sn,disableStream:$n})),Jn(ir)});return Promise.all([Nn,er]).then(function([Jn,ir]){if(wt.destroyed)throw new Error("Loading aborted");const Vn=new _message_handler.MessageHandler(_t,Jn,Rt.port),Yn=new WorkerTransport(Vn,wt,ir,In,En);wt._transport=Yn,Vn.send("Ready",null)})}).catch(wt._capability.reject),wt}async function _fetchDocument(bt,wt){if(bt.destroyed)throw new Error("Worker was destroyed");const _t=await bt.messageHandler.sendWithPromise("GetDocRequest",wt,wt.data?[wt.data.buffer]:null);if(bt.destroyed)throw new Error("Worker was destroyed");return _t}function getUrlProp(bt){if(bt instanceof URL)return bt.href;try{return new URL(bt,window.location).href}catch{if(_util.isNodeJS&&typeof bt=="string")return bt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(bt){if(_util.isNodeJS&&typeof Buffer<"u"&&bt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength)return bt;if(typeof bt=="string")return(0,_util.stringToBytes)(bt);if(typeof bt=="object"&&!isNaN(bt==null?void 0:bt.length)||(0,_util.isArrayBuffer)(bt))return new Uint8Array(bt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _e=class _e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Mr(_e,$)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var wt,_t,Ct;this.destroyed=!0;try{(wt=this._worker)!=null&&wt.port&&(this._worker._pendingDestroy=!0),await((_t=this._transport)==null?void 0:_t.destroy())}catch($t){throw(Ct=this._worker)!=null&&Ct.port&&delete this._worker._pendingDestroy,$t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$=new WeakMap,mn(_e,$,0);let PDFDocumentLoadingTask=_e;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(wt,_t,Ct=!1,$t=null){this.length=wt,this.initialData=_t,this.progressiveDone=Ct,this.contentDispositionFilename=$t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(wt){this._rangeListeners.push(wt)}addProgressListener(wt){this._progressListeners.push(wt)}addProgressiveReadListener(wt){this._progressiveReadListeners.push(wt)}addProgressiveDoneListener(wt){this._progressiveDoneListeners.push(wt)}onDataRange(wt,_t){for(const Ct of this._rangeListeners)Ct(wt,_t)}onDataProgress(wt,_t){this._readyCapability.promise.then(()=>{for(const Ct of this._progressListeners)Ct(wt,_t)})}onDataProgressiveRead(wt){this._readyCapability.promise.then(()=>{for(const _t of this._progressiveReadListeners)_t(wt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const wt of this._progressiveDoneListeners)wt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(wt,_t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(wt,_t){this._pdfInfo=wt,this._transport=_t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ct=>{if(!Ct)return Ct;const $t=[];for(const Et in Ct)$t.push(...Ct[Et]);return $t}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(wt){return this._transport.getPage(wt)}getPageIndex(wt){return this._transport.getPageIndex(wt)}getDestinations(){return this._transport.getDestinations()}getDestination(wt){return this._transport.getDestination(wt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(wt=!1){return this._transport.startCleanup(wt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(wt,_t,Ct,$t=!1){mn(this,nt);mn(this,et,null);mn(this,tt,!1);this._pageIndex=wt,this._pageInfo=_t,this._transport=Ct,this._stats=$t?new _display_utils.StatTimer:null,this._pdfBug=$t,this.commonObjs=Ct.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:wt,rotation:_t=this.rotate,offsetX:Ct=0,offsetY:$t=0,dontFlip:Et=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:wt,rotation:_t,offsetX:Ct,offsetY:$t,dontFlip:Et})}getAnnotations({intent:wt="display"}={}){const _t=this._transport.getRenderingIntent(wt);return this._transport.getAnnotations(this._pageIndex,_t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var wt;return((wt=this._transport._htmlForXfa)==null?void 0:wt.children[this._pageIndex])||null}render({canvasContext:wt,viewport:_t,intent:Ct="display",annotationMode:$t=_util.AnnotationMode.ENABLE,transform:Et=null,background:jt=null,optionalContentConfigPromise:Vt=null,annotationCanvasMap:Mt=null,pageColors:Ht=null,printAnnotationStorage:Rt=null}){var kt,Nt;(kt=this._stats)==null||kt.time("Overall");const Ft=this._transport.getRenderingIntent(Ct,$t,Rt);vn(this,tt,!1),on(this,nt,Gr).call(this),Vt||(Vt=this._transport.getOptionalContentConfig());let Tt=this._intentStates.get(Ft.cacheKey);Tt||(Tt=Object.create(null),this._intentStates.set(Ft.cacheKey,Tt)),Tt.streamReaderCancelTimeout&&(clearTimeout(Tt.streamReaderCancelTimeout),Tt.streamReaderCancelTimeout=null);const Dt=!!(Ft.renderingIntent&_util.RenderingIntentFlag.PRINT);Tt.displayReadyCapability||(Tt.displayReadyCapability=new _util.PromiseCapability,Tt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Nt=this._stats)==null||Nt.time("Page Request"),this._pumpOperatorList(Ft));const Jt=zt=>{var Wt,Gt;Tt.renderTasks.delete(Ot),(this._maybeCleanupAfterRender||Dt)&&vn(this,tt,!0),on(this,nt,Pr).call(this,!Dt),zt?(Ot.capability.reject(zt),this._abortOperatorList({intentState:Tt,reason:zt instanceof Error?zt:new Error(zt)})):Ot.capability.resolve(),(Wt=this._stats)==null||Wt.timeEnd("Rendering"),(Gt=this._stats)==null||Gt.timeEnd("Overall")},Ot=new InternalRenderTask({callback:Jt,params:{canvasContext:wt,viewport:_t,transform:Et,background:jt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Mt,operatorList:Tt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:Ht});(Tt.renderTasks||(Tt.renderTasks=new Set)).add(Ot);const Pt=Ot.task;return Promise.all([Tt.displayReadyCapability.promise,Vt]).then(([zt,Wt])=>{var Gt;if(this.destroyed){Jt();return}(Gt=this._stats)==null||Gt.time("Rendering"),Ot.initializeGraphics({transparency:zt,optionalContentConfig:Wt}),Ot.operatorListChanged()}).catch(Jt),Pt}getOperatorList({intent:wt="display",annotationMode:_t=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ct=null}={}){var Mt;function $t(){jt.operatorList.lastChunk&&(jt.opListReadCapability.resolve(jt.operatorList),jt.renderTasks.delete(Vt))}const Et=this._transport.getRenderingIntent(wt,_t,Ct,!0);let jt=this._intentStates.get(Et.cacheKey);jt||(jt=Object.create(null),this._intentStates.set(Et.cacheKey,jt));let Vt;return jt.opListReadCapability||(Vt=Object.create(null),Vt.operatorListChanged=$t,jt.opListReadCapability=new _util.PromiseCapability,(jt.renderTasks||(jt.renderTasks=new Set)).add(Vt),jt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Mt=this._stats)==null||Mt.time("Page Request"),this._pumpOperatorList(Et)),jt.opListReadCapability.promise}streamTextContent({includeMarkedContent:wt=!1,disableNormalization:_t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:wt===!0,disableNormalization:_t===!0},{highWaterMark:100,size($t){return $t.items.length}})}getTextContent(wt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ct=>_xfa_text.XfaText.textContent(Ct));const _t=this.streamTextContent(wt);return new Promise(function(Ct,$t){function Et(){jt.read().then(function({value:Mt,done:Ht}){if(Ht){Ct(Vt);return}Object.assign(Vt.styles,Mt.styles),Vt.items.push(...Mt.items),Et()},$t)}const jt=_t.getReader(),Vt={items:[],styles:Object.create(null)};Et()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const wt=[];for(const _t of this._intentStates.values())if(this._abortOperatorList({intentState:_t,reason:new Error("Page was destroyed."),force:!0}),!_t.opListReadCapability)for(const Ct of _t.renderTasks)wt.push(Ct.completed),Ct.cancel();return this.objs.clear(),vn(this,tt,!1),on(this,nt,Gr).call(this),Promise.all(wt)}cleanup(wt=!1){vn(this,tt,!0);const _t=on(this,nt,Pr).call(this,!1);return wt&&_t&&this._stats&&(this._stats=new _display_utils.StatTimer),_t}_startRenderPage(wt,_t){var $t,Et;const Ct=this._intentStates.get(_t);Ct&&(($t=this._stats)==null||$t.timeEnd("Page Request"),(Et=Ct.displayReadyCapability)==null||Et.resolve(wt))}_renderPageChunk(wt,_t){for(let Ct=0,$t=wt.length;Ct<$t;Ct++)_t.operatorList.fnArray.push(wt.fnArray[Ct]),_t.operatorList.argsArray.push(wt.argsArray[Ct]);_t.operatorList.lastChunk=wt.lastChunk,_t.operatorList.separateAnnots=wt.separateAnnots;for(const Ct of _t.renderTasks)Ct.operatorListChanged();wt.lastChunk&&on(this,nt,Pr).call(this,!0)}_pumpOperatorList({renderingIntent:wt,cacheKey:_t,annotationStorageSerializable:Ct}){const{map:$t,transfers:Et}=Ct,Vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:wt,cacheKey:_t,annotationStorage:$t},Et).getReader(),Mt=this._intentStates.get(_t);Mt.streamReader=Vt;const Ht=()=>{Vt.read().then(({value:Rt,done:Ft})=>{if(Ft){Mt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Rt,Mt),Ht())},Rt=>{if(Mt.streamReader=null,!this._transport.destroyed){if(Mt.operatorList){Mt.operatorList.lastChunk=!0;for(const Ft of Mt.renderTasks)Ft.operatorListChanged();on(this,nt,Pr).call(this,!0)}if(Mt.displayReadyCapability)Mt.displayReadyCapability.reject(Rt);else if(Mt.opListReadCapability)Mt.opListReadCapability.reject(Rt);else throw Rt}})};Ht()}_abortOperatorList({intentState:wt,reason:_t,force:Ct=!1}){if(wt.streamReader){if(wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null),!Ct){if(wt.renderTasks.size>0)return;if(_t instanceof _display_utils.RenderingCancelledException){let $t=RENDERING_CANCELLED_TIMEOUT;_t.extraDelay>0&&_t.extraDelay<1e3&&($t+=_t.extraDelay),wt.streamReaderCancelTimeout=setTimeout(()=>{wt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:wt,reason:_t,force:!0})},$t);return}}if(wt.streamReader.cancel(new _util.AbortException(_t.message)).catch(()=>{}),wt.streamReader=null,!this._transport.destroyed){for(const[$t,Et]of this._intentStates)if(Et===wt){this._intentStates.delete($t);break}this.cleanup()}}}get stats(){return this._stats}}et=new WeakMap,tt=new WeakMap,nt=new WeakSet,Pr=function(wt=!1){if(on(this,nt,Gr).call(this),!At(this,tt)||this.destroyed)return!1;if(wt)return vn(this,et,setTimeout(()=>{vn(this,et,null),on(this,nt,Pr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_t,operatorList:Ct}of this._intentStates.values())if(_t.size>0||!Ct.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),vn(this,tt,!1),!0},Gr=function(){At(this,et)&&(clearTimeout(At(this,et)),vn(this,et,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){mn(this,ot,new Set);mn(this,at,Promise.resolve())}postMessage(wt,_t){const Ct={data:structuredClone(wt,_t?{transfer:_t}:null)};At(this,at).then(()=>{for(const $t of At(this,ot))$t.call(this,Ct)})}addEventListener(wt,_t){At(this,ot).add(_t)}removeEventListener(wt,_t){At(this,ot).delete(_t)}terminate(){At(this,ot).clear()}}ot=new WeakMap,at=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const bt=(st=document==null?void 0:document.currentScript)==null?void 0:st.src;bt&&(PDFWorkerUtil.fallbackWorkerSrc=bt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(bt,wt){let _t;try{if(_t=new URL(bt),!_t.origin||_t.origin==="null")return!1}catch{return!1}const Ct=new URL(wt,_t);return _t.origin===Ct.origin},PDFWorkerUtil.createCDNWrapper=function(bt){const wt=`importScripts("${bt}");`;return URL.createObjectURL(new Blob([wt]))}}const _PDFWorker=class _PDFWorker{constructor({name:bt=null,port:wt=null,verbosity:_t=(0,_util.getVerbosityLevel)()}={}){var Ct;if(this.name=bt,this.destroyed=!1,this.verbosity=_t,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,wt){if((Ct=At(_PDFWorker,lt))!=null&&Ct.has(wt))throw new Error("Cannot use more than one PDFWorker per port.");(At(_PDFWorker,lt)||vn(_PDFWorker,lt,new WeakMap)).set(wt,this),this._initializeFromPort(wt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(bt){this._port=bt,this._messageHandler=new _message_handler.MessageHandler("main","worker",bt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:bt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,bt)||(bt=PDFWorkerUtil.createCDNWrapper(new URL(bt,window.location).href));const wt=new Worker(bt),_t=new _message_handler.MessageHandler("main","worker",wt),Ct=()=>{wt.removeEventListener("error",$t),_t.destroy(),wt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},$t=()=>{this._webWorker||Ct()};wt.addEventListener("error",$t),_t.on("test",jt=>{if(wt.removeEventListener("error",$t),this.destroyed){Ct();return}jt?(this._messageHandler=_t,this._port=wt,this._webWorker=wt,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_t.destroy(),wt.terminate())}),_t.on("ready",jt=>{if(wt.removeEventListener("error",$t),this.destroyed){Ct();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const jt=new Uint8Array;_t.send("test",jt,[jt.buffer])};Et();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(bt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const wt=new LoopbackPort;this._port=wt;const _t=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ct=new _message_handler.MessageHandler(_t+"_worker",_t,wt);bt.setup(Ct,wt);const $t=new _message_handler.MessageHandler(_t,_t+"_worker",wt);this._messageHandler=$t,this._readyCapability.resolve(),$t.send("configure",{verbosity:this.verbosity})}).catch(bt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${bt.message}".`))})}destroy(){var bt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(bt=At(_PDFWorker,lt))==null||bt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(bt){var _t;if(!(bt!=null&&bt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const wt=(_t=At(this,lt))==null?void 0:_t.get(bt.port);if(wt){if(wt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return wt}return new _PDFWorker(bt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var bt;try{return((bt=globalThis.pdfjsWorker)==null?void 0:bt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};lt=new WeakMap,mn(_PDFWorker,lt);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(wt,_t,Ct,$t,Et){mn(this,pt);mn(this,ct,new Map);mn(this,ut,new Map);mn(this,dt,new Map);mn(this,ft,null);this.messageHandler=wt,this.loadingTask=_t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:$t.ownerDocument,styleElement:$t.styleElement}),this._params=$t,this.canvasFactory=Et.canvasFactory,this.filterFactory=Et.filterFactory,this.cMapReaderFactory=Et.cMapReaderFactory,this.standardFontDataFactory=Et.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ct,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(wt,_t=_util.AnnotationMode.ENABLE,Ct=null,$t=!1){let Et=_util.RenderingIntentFlag.DISPLAY,jt=_annotation_storage.SerializableEmpty;switch(wt){case"any":Et=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Et=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${wt}`)}switch(_t){case _util.AnnotationMode.DISABLE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Et+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Et+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,jt=(Et&_util.RenderingIntentFlag.PRINT&&Ct instanceof _annotation_storage.PrintAnnotationStorage?Ct:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_t}`)}return $t&&(Et+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Et,cacheKey:`${Et}_${jt.hash}`,annotationStorageSerializable:jt}}destroy(){var Ct;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ct=At(this,ft))==null||Ct.reject(new Error("Worker was destroyed during onPassword callback"));const wt=[];for(const $t of At(this,ut).values())wt.push($t._destroy());At(this,ut).clear(),At(this,dt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _t=this.messageHandler.sendWithPromise("Terminate",null);return wt.push(_t),Promise.all(wt).then(()=>{var $t;this.commonObjs.clear(),this.fontLoader.clear(),At(this,ct).clear(),this.filterFactory.destroy(),($t=this._networkStream)==null||$t.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:wt,loadingTask:_t}=this;wt.on("GetReader",(Ct,$t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Et=>{this._lastProgress={loaded:Et.loaded,total:Et.total}},$t.onPull=()=>{this._fullReader.read().then(function({value:Et,done:jt}){if(jt){$t.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),$t.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{$t.error(Et)})},$t.onCancel=Et=>{this._fullReader.cancel(Et),$t.ready.catch(jt=>{if(!this.destroyed)throw jt})}}),wt.on("ReaderHeadersReady",Ct=>{const $t=new _util.PromiseCapability,Et=this._fullReader;return Et.headersReady.then(()=>{var jt;(!Et.isStreamingSupported||!Et.isRangeSupported)&&(this._lastProgress&&((jt=_t.onProgress)==null||jt.call(_t,this._lastProgress)),Et.onProgress=Vt=>{var Mt;(Mt=_t.onProgress)==null||Mt.call(_t,{loaded:Vt.loaded,total:Vt.total})}),$t.resolve({isStreamingSupported:Et.isStreamingSupported,isRangeSupported:Et.isRangeSupported,contentLength:Et.contentLength})},$t.reject),$t.promise}),wt.on("GetRangeReader",(Ct,$t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Et=this._networkStream.getRangeReader(Ct.begin,Ct.end);if(!Et){$t.close();return}$t.onPull=()=>{Et.read().then(function({value:jt,done:Vt}){if(Vt){$t.close();return}(0,_util.assert)(jt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),$t.enqueue(new Uint8Array(jt),1,[jt])}).catch(jt=>{$t.error(jt)})},$t.onCancel=jt=>{Et.cancel(jt),$t.ready.catch(Vt=>{if(!this.destroyed)throw Vt})}}),wt.on("GetDoc",({pdfInfo:Ct})=>{this._numPages=Ct.numPages,this._htmlForXfa=Ct.htmlForXfa,delete Ct.htmlForXfa,_t._capability.resolve(new PDFDocumentProxy(Ct,this))}),wt.on("DocException",function(Ct){let $t;switch(Ct.name){case"PasswordException":$t=new _util.PasswordException(Ct.message,Ct.code);break;case"InvalidPDFException":$t=new _util.InvalidPDFException(Ct.message);break;case"MissingPDFException":$t=new _util.MissingPDFException(Ct.message);break;case"UnexpectedResponseException":$t=new _util.UnexpectedResponseException(Ct.message,Ct.status);break;case"UnknownErrorException":$t=new _util.UnknownErrorException(Ct.message,Ct.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_t._capability.reject($t)}),wt.on("PasswordRequest",Ct=>{if(vn(this,ft,new _util.PromiseCapability),_t.onPassword){const $t=Et=>{Et instanceof Error?At(this,ft).reject(Et):At(this,ft).resolve({password:Et})};try{_t.onPassword($t,Ct.code)}catch(Et){At(this,ft).reject(Et)}}else At(this,ft).reject(new _util.PasswordException(Ct.message,Ct.code));return At(this,ft).promise}),wt.on("DataLoaded",Ct=>{var $t;($t=_t.onProgress)==null||$t.call(_t,{loaded:Ct.length,total:Ct.length}),this.downloadInfoCapability.resolve(Ct)}),wt.on("StartRenderPage",Ct=>{if(this.destroyed)return;At(this,ut).get(Ct.pageIndex)._startRenderPage(Ct.transparency,Ct.cacheKey)}),wt.on("commonobj",([Ct,$t,Et])=>{var jt;if(!this.destroyed&&!this.commonObjs.has(Ct))switch($t){case"Font":const Vt=this._params;if("error"in Et){const Rt=Et.error;(0,_util.warn)(`Error during font loading: ${Rt}`),this.commonObjs.resolve(Ct,Rt);break}const Mt=Vt.pdfBug&&((jt=globalThis.FontInspector)!=null&&jt.enabled)?(Rt,Ft)=>globalThis.FontInspector.fontAdded(Rt,Ft):null,Ht=new _font_loader.FontFaceObject(Et,{isEvalSupported:Vt.isEvalSupported,disableFontFace:Vt.disableFontFace,ignoreErrors:Vt.ignoreErrors,inspectFont:Mt});this.fontLoader.bind(Ht).catch(Rt=>wt.sendWithPromise("FontFallback",{id:Ct})).finally(()=>{!Vt.fontExtraProperties&&Ht.data&&(Ht.data=null),this.commonObjs.resolve(Ct,Ht)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ct,Et);break;default:throw new Error(`Got unknown common object type ${$t}`)}}),wt.on("obj",([Ct,$t,Et,jt])=>{var Mt;if(this.destroyed)return;const Vt=At(this,ut).get($t);if(!Vt.objs.has(Ct))switch(Et){case"Image":if(Vt.objs.resolve(Ct,jt),jt){let Ht;if(jt.bitmap){const{width:Rt,height:Ft}=jt;Ht=Rt*Ft*4}else Ht=((Mt=jt.data)==null?void 0:Mt.length)||0;Ht>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Vt._maybeCleanupAfterRender=!0)}break;case"Pattern":Vt.objs.resolve(Ct,jt);break;default:throw new Error(`Got unknown object type ${Et}`)}}),wt.on("DocProgress",Ct=>{var $t;this.destroyed||($t=_t.onProgress)==null||$t.call(_t,{loaded:Ct.loaded,total:Ct.total})}),wt.on("FetchBuiltInCMap",Ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ct):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),wt.on("FetchStandardFontData",Ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ct):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ct;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:wt,transfers:_t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:wt,filename:((Ct=this._fullReader)==null?void 0:Ct.filename)??null},_t).finally(()=>{this.annotationStorage.resetModified()})}getPage(wt){if(!Number.isInteger(wt)||wt<=0||wt>this._numPages)return Promise.reject(new Error("Invalid page request."));const _t=wt-1,Ct=At(this,dt).get(_t);if(Ct)return Ct;const $t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_t}).then(Et=>{if(this.destroyed)throw new Error("Transport destroyed");const jt=new PDFPageProxy(_t,Et,this,this._params.pdfBug);return At(this,ut).set(_t,jt),jt});return At(this,dt).set(_t,$t),$t}getPageIndex(wt){return typeof wt!="object"||wt===null||!Number.isInteger(wt.num)||wt.num<0||!Number.isInteger(wt.gen)||wt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:wt.num,gen:wt.gen})}getAnnotations(wt,_t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:wt,intent:_t})}getFieldObjects(){return on(this,pt,Ur).call(this,"GetFieldObjects")}hasJSActions(){return on(this,pt,Ur).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(wt){return typeof wt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:wt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return on(this,pt,Ur).call(this,"GetDocJSActions")}getPageJSActions(wt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:wt})}getStructTree(wt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:wt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(wt=>new _optional_content_config.OptionalContentConfig(wt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const wt="GetMetadata",_t=At(this,ct).get(wt);if(_t)return _t;const Ct=this.messageHandler.sendWithPromise(wt,null).then($t=>{var Et,jt;return{info:$t[0],metadata:$t[1]?new _metadata.Metadata($t[1]):null,contentDispositionFilename:((Et=this._fullReader)==null?void 0:Et.filename)??null,contentLength:((jt=this._fullReader)==null?void 0:jt.contentLength)??null}});return At(this,ct).set(wt,Ct),Ct}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(wt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _t of At(this,ut).values())if(!_t.cleanup())throw new Error(`startCleanup: Page ${_t.pageNumber} is currently rendering.`);this.commonObjs.clear(),wt||this.fontLoader.clear(),At(this,ct).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:wt,enableXfa:_t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:wt,enableXfa:_t})}}ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakSet,Ur=function(wt,_t=null){const Ct=At(this,ct).get(wt);if(Ct)return Ct;const $t=this.messageHandler.sendWithPromise(wt,_t);return At(this,ct).set(wt,$t),$t};class PDFObjects{constructor(){mn(this,yt);mn(this,ht,Object.create(null))}get(wt,_t=null){if(_t){const $t=on(this,yt,fo).call(this,wt);return $t.capability.promise.then(()=>_t($t.data)),null}const Ct=At(this,ht)[wt];if(!(Ct!=null&&Ct.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${wt}.`);return Ct.data}has(wt){const _t=At(this,ht)[wt];return(_t==null?void 0:_t.capability.settled)||!1}resolve(wt,_t=null){const Ct=on(this,yt,fo).call(this,wt);Ct.data=_t,Ct.capability.resolve()}clear(){var wt;for(const _t in At(this,ht)){const{data:Ct}=At(this,ht)[_t];(wt=Ct==null?void 0:Ct.bitmap)==null||wt.close()}vn(this,ht,Object.create(null))}}ht=new WeakMap,yt=new WeakSet,fo=function(wt){var _t;return(_t=At(this,ht))[wt]||(_t[wt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(wt){mn(this,St,null);vn(this,St,wt),this.onContinue=null}get promise(){return At(this,St).capability.promise}cancel(wt=0){At(this,St).cancel(null,wt)}get separateAnnots(){const{separateAnnots:wt}=At(this,St).operatorList;if(!wt)return!1;const{annotationCanvasMap:_t}=At(this,St);return wt.form||wt.canvas&&(_t==null?void 0:_t.size)>0}}St=new WeakMap,exports$1.RenderTask=RenderTask;const vt=class vt{constructor({callback:wt,params:_t,objs:Ct,commonObjs:$t,annotationCanvasMap:Et,operatorList:jt,pageIndex:Vt,canvasFactory:Mt,filterFactory:Ht,useRequestAnimationFrame:Rt=!1,pdfBug:Ft=!1,pageColors:Tt=null}){this.callback=wt,this.params=_t,this.objs=Ct,this.commonObjs=$t,this.annotationCanvasMap=Et,this.operatorListIdx=null,this.operatorList=jt,this._pageIndex=Vt,this.canvasFactory=Mt,this.filterFactory=Ht,this._pdfBug=Ft,this.pageColors=Tt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Rt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:wt=!1,optionalContentConfig:_t}){var Vt,Mt;if(this.cancelled)return;if(this._canvas){if(At(vt,gt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");At(vt,gt).add(this._canvas)}this._pdfBug&&((Vt=globalThis.StepperManager)!=null&&Vt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ct,viewport:$t,transform:Et,background:jt}=this.params;this.gfx=new _canvas.CanvasGraphics(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Et,viewport:$t,transparency:wt,background:jt}),this.operatorListIdx=0,this.graphicsReady=!0,(Mt=this.graphicsReadyCallback)==null||Mt.call(this)}cancel(wt=null,_t=0){var Ct;this.running=!1,this.cancelled=!0,(Ct=this.gfx)==null||Ct.endDrawing(),At(vt,gt).delete(this._canvas),this.callback(wt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_t))}operatorListChanged(){var wt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(wt=this.stepper)==null||wt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),At(vt,gt).delete(this._canvas),this.callback())))}};gt=new WeakMap,mn(vt,gt,new WeakSet);let InternalRenderTask=vt;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},($,_e,et)=>{var st,lt,ct,Jo,dt;Object.defineProperty(_e,"__esModule",{value:!0}),_e.SerializableEmpty=_e.PrintAnnotationStorage=_e.AnnotationStorage=void 0;var tt=et(1),nt=et(4),rt=et(8);const it=Object.freeze({map:null,hash:"",transfers:void 0});_e.SerializableEmpty=it;class ot{constructor(){mn(this,ct);mn(this,st,!1);mn(this,lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(pt,mt){const ht=At(this,lt).get(pt);return ht===void 0?mt:Object.assign(mt,ht)}getRawValue(pt){return At(this,lt).get(pt)}remove(pt){if(At(this,lt).delete(pt),At(this,lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const mt of At(this,lt).values())if(mt instanceof nt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(pt,mt){const ht=At(this,lt).get(pt);let yt=!1;if(ht!==void 0)for(const[xt,St]of Object.entries(mt))ht[xt]!==St&&(yt=!0,ht[xt]=St);else yt=!0,At(this,lt).set(pt,mt);yt&&on(this,ct,Jo).call(this),mt instanceof nt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(mt.constructor._type)}has(pt){return At(this,lt).has(pt)}getAll(){return At(this,lt).size>0?(0,tt.objectFromMap)(At(this,lt)):null}setAll(pt){for(const[mt,ht]of Object.entries(pt))this.setValue(mt,ht)}get size(){return At(this,lt).size}resetModified(){At(this,st)&&(vn(this,st,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new at(this)}get serializable(){if(At(this,lt).size===0)return it;const pt=new Map,mt=new rt.MurmurHash3_64,ht=[],yt=Object.create(null);let xt=!1;for(const[St,gt]of At(this,lt)){const vt=gt instanceof nt.AnnotationEditor?gt.serialize(!1,yt):gt;vt&&(pt.set(St,vt),mt.update(`${St}:${JSON.stringify(vt)}`),xt||(xt=!!vt.bitmap))}if(xt)for(const St of pt.values())St.bitmap&&ht.push(St.bitmap);return pt.size>0?{map:pt,hash:mt.hexdigest(),transfers:ht}:it}}st=new WeakMap,lt=new WeakMap,ct=new WeakSet,Jo=function(){At(this,st)||(vn(this,st,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_e.AnnotationStorage=ot;class at extends ot{constructor(mt){super();mn(this,dt);const{map:ht,hash:yt,transfers:xt}=mt.serializable,St=structuredClone(ht,xt?{transfer:xt}:null);vn(this,dt,{map:St,hash:yt,transfers:xt})}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return At(this,dt)}}dt=new WeakMap,_e.PrintAnnotationStorage=at},($,_e,et)=>{var at,st,lt,ct,ut,dt,ft,pt,mt,ht,yt,xt,St,gt,vt,ho,po,_t,mo,go,Qo,Zo,na,yo,ga;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditor=void 0;var tt=et(5),nt=et(1),rt=et(6);const Rt=class Rt{constructor(Tt){mn(this,vt);mn(this,at,"");mn(this,st,!1);mn(this,lt,null);mn(this,ct,null);mn(this,ut,null);mn(this,dt,!1);mn(this,ft,null);mn(this,pt,this.focusin.bind(this));mn(this,mt,this.focusout.bind(this));mn(this,ht,!1);mn(this,yt,!1);mn(this,xt,!1);hr(this,"_initialOptions",Object.create(null));hr(this,"_uiManager",null);hr(this,"_focusEventsAllowed",!0);hr(this,"_l10nPromise",null);mn(this,St,!1);mn(this,gt,Rt._zIndex++);this.constructor===Rt&&(0,nt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Tt.parent,this.id=Tt.id,this.width=this.height=null,this.pageIndex=Tt.parent.pageIndex,this.name=Tt.name,this.div=null,this._uiManager=Tt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Tt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:Jt,pageHeight:Ot,pageX:Pt,pageY:kt}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Jt,Ot],this.pageTranslation=[Pt,kt];const[Nt,zt]=this.parentDimensions;this.x=Tt.x/Nt,this.y=Tt.y/zt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,nt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Tt){const Dt=new ot({id:Tt.parent.getNextId(),parent:Tt.parent,uiManager:Tt._uiManager});Dt.annotationElementId=Tt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(Tt,Dt=null){if(Rt._l10nPromise||(Rt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ot=>[Ot,Tt.get(Ot)]))),Dt!=null&&Dt.strings)for(const Ot of Dt.strings)Rt._l10nPromise.set(Ot,Tt.get(Ot));if(Rt._borderLineWidth!==-1)return;const Jt=getComputedStyle(document.documentElement);Rt._borderLineWidth=parseFloat(Jt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Tt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Tt){return!1}static paste(Tt,Dt){(0,nt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return At(this,St)}set _isDraggable(Tt){var Dt;vn(this,St,Tt),(Dt=this.div)==null||Dt.classList.toggle("draggable",Tt)}center(){const[Tt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(Tt*2),this.y+=this.width*Tt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(Tt*2),this.y-=this.width*Tt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Tt){this._uiManager.addCommands(Tt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=At(this,gt)}setParent(Tt){Tt!==null&&(this.pageIndex=Tt.pageIndex,this.pageDimensions=Tt.pageDimensions),this.parent=Tt}focusin(Tt){this._focusEventsAllowed&&(At(this,ht)?vn(this,ht,!1):this.parent.setSelected(this))}focusout(Tt){var Jt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=Tt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(Tt.preventDefault(),(Jt=this.parent)!=null&&Jt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Tt,Dt,Jt,Ot){const[Pt,kt]=this.parentDimensions;[Jt,Ot]=this.screenToPageTranslation(Jt,Ot),this.x=(Tt+Jt)/Pt,this.y=(Dt+Ot)/kt,this.fixAndSetPosition()}translate(Tt,Dt){on(this,vt,ho).call(this,this.parentDimensions,Tt,Dt)}translateInPage(Tt,Dt){on(this,vt,ho).call(this,this.pageDimensions,Tt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(Tt,Dt){const[Jt,Ot]=this.parentDimensions;if(this.x+=Tt/Jt,this.y+=Dt/Ot,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Wt,y:Gt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Wt,Gt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Pt,y:kt}=this;const[Nt,zt]=on(this,vt,po).call(this);Pt+=Nt,kt+=zt,this.div.style.left=`${(100*Pt).toFixed(2)}%`,this.div.style.top=`${(100*kt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Tt,Dt]=this.pageDimensions;let{x:Jt,y:Ot,width:Pt,height:kt}=this;switch(Pt*=Tt,kt*=Dt,Jt*=Tt,Ot*=Dt,this.rotation){case 0:Jt=Math.max(0,Math.min(Tt-Pt,Jt)),Ot=Math.max(0,Math.min(Dt-kt,Ot));break;case 90:Jt=Math.max(0,Math.min(Tt-kt,Jt)),Ot=Math.min(Dt,Math.max(Pt,Ot));break;case 180:Jt=Math.min(Tt,Math.max(Pt,Jt)),Ot=Math.min(Dt,Math.max(kt,Ot));break;case 270:Jt=Math.min(Tt,Math.max(kt,Jt)),Ot=Math.max(0,Math.min(Dt-Pt,Ot));break}this.x=Jt/=Tt,this.y=Ot/=Dt;const[Nt,zt]=on(this,vt,po).call(this);Jt+=Nt,Ot+=zt;const{style:Wt}=this.div;Wt.left=`${(100*Jt).toFixed(2)}%`,Wt.top=`${(100*Ot).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Tt,Dt){var Jt;return on(Jt=Rt,_t,mo).call(Jt,Tt,Dt,this.parentRotation)}pageTranslationToScreen(Tt,Dt){var Jt;return on(Jt=Rt,_t,mo).call(Jt,Tt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Tt,pageDimensions:[Dt,Jt]}=this,Ot=Dt*Tt,Pt=Jt*Tt;return nt.FeatureTest.isCSSRoundSupported?[Math.round(Ot),Math.round(Pt)]:[Ot,Pt]}setDims(Tt,Dt){var Pt;const[Jt,Ot]=this.parentDimensions;this.div.style.width=`${(100*Tt/Jt).toFixed(2)}%`,At(this,dt)||(this.div.style.height=`${(100*Dt/Ot).toFixed(2)}%`),(Pt=At(this,lt))==null||Pt.classList.toggle("small",Tt<Rt.SMALL_EDITOR_SIZE||Dt<Rt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Tt}=this.div,{height:Dt,width:Jt}=Tt,Ot=Jt.endsWith("%"),Pt=!At(this,dt)&&Dt.endsWith("%");if(Ot&&Pt)return;const[kt,Nt]=this.parentDimensions;Ot||(Tt.width=`${(100*parseFloat(Jt)/kt).toFixed(2)}%`),!At(this,dt)&&!Pt&&(Tt.height=`${(100*parseFloat(Dt)/Nt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(At(this,lt))return;const Tt=vn(this,lt,document.createElement("button"));Tt.className="altText";const Dt=await Rt._l10nPromise.get("editor_alt_text_button_label");Tt.textContent=Dt,Tt.setAttribute("aria-label",Dt),Tt.tabIndex="0",Tt.addEventListener("contextmenu",rt.noContextMenu),Tt.addEventListener("pointerdown",Jt=>Jt.stopPropagation()),Tt.addEventListener("click",Jt=>{Jt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Tt.addEventListener("keydown",Jt=>{Jt.target===Tt&&Jt.key==="Enter"&&(Jt.preventDefault(),this._uiManager.editAltText(this))}),on(this,vt,yo).call(this),this.div.append(Tt),Rt.SMALL_EDITOR_SIZE||(Rt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Tt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:At(this,at),decorative:At(this,st)}}set altTextData({altText:Tt,decorative:Dt}){At(this,at)===Tt&&At(this,st)===Dt||(vn(this,at,Tt),vn(this,st,Dt),on(this,vt,yo).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",At(this,pt)),this.div.addEventListener("focusout",At(this,mt));const[Tt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/Tt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Tt/Dt).toFixed(2)}%`);const[Jt,Ot]=this.getInitialTranslation();return this.translate(Jt,Ot),(0,tt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Tt){const{isMac:Dt}=nt.FeatureTest.platform;if(Tt.button!==0||Tt.ctrlKey&&Dt){Tt.preventDefault();return}vn(this,ht,!0),on(this,vt,ga).call(this,Tt)}moveInDOM(){var Tt;(Tt=this.parent)==null||Tt.moveEditorInDOM(this)}_setParentAndPosition(Tt,Dt,Jt){Tt.changeParent(this),this.x=Dt,this.y=Jt,this.fixAndSetPosition()}getRect(Tt,Dt){const Jt=this.parentScale,[Ot,Pt]=this.pageDimensions,[kt,Nt]=this.pageTranslation,zt=Tt/Jt,Wt=Dt/Jt,Gt=this.x*Ot,Kt=this.y*Pt,Zt=this.width*Ot,dn=this.height*Pt;switch(this.rotation){case 0:return[Gt+zt+kt,Pt-Kt-Wt-dn+Nt,Gt+zt+Zt+kt,Pt-Kt-Wt+Nt];case 90:return[Gt+Wt+kt,Pt-Kt+zt+Nt,Gt+Wt+dn+kt,Pt-Kt+zt+Zt+Nt];case 180:return[Gt-zt-Zt+kt,Pt-Kt+Wt+Nt,Gt-zt+kt,Pt-Kt+Wt+dn+Nt];case 270:return[Gt-Wt-dn+kt,Pt-Kt-zt-Zt+Nt,Gt-Wt+kt,Pt-Kt-zt+Nt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Tt,Dt){const[Jt,Ot,Pt,kt]=Tt,Nt=Pt-Jt,zt=kt-Ot;switch(this.rotation){case 0:return[Jt,Dt-kt,Nt,zt];case 90:return[Jt,Dt-Ot,zt,Nt];case 180:return[Pt,Dt-Ot,Nt,zt];case 270:return[Pt,Dt-kt,zt,Nt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){vn(this,xt,!0)}disableEditMode(){vn(this,xt,!1)}isInEditMode(){return At(this,xt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Tt,Dt;(Tt=this.div)==null||Tt.addEventListener("focusin",At(this,pt)),(Dt=this.div)==null||Dt.addEventListener("focusout",At(this,mt))}serialize(Tt=!1,Dt=null){(0,nt.unreachable)("An editor must be serializable")}static deserialize(Tt,Dt,Jt){const Ot=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:Jt});Ot.rotation=Tt.rotation;const[Pt,kt]=Ot.pageDimensions,[Nt,zt,Wt,Gt]=Ot.getRectInCurrentCoords(Tt.rect,kt);return Ot.x=Nt/Pt,Ot.y=zt/kt,Ot.width=Wt/Pt,Ot.height=Gt/kt,Ot}remove(){var Tt;this.div.removeEventListener("focusin",At(this,pt)),this.div.removeEventListener("focusout",At(this,mt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Tt=At(this,lt))==null||Tt.remove(),vn(this,lt,null),vn(this,ct,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(on(this,vt,Qo).call(this),At(this,ft).classList.remove("hidden"))}select(){var Tt;this.makeResizable(),(Tt=this.div)==null||Tt.classList.add("selectedEditor")}unselect(){var Tt,Dt,Jt;(Tt=At(this,ft))==null||Tt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(Jt=this.div)!=null&&Jt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Tt,Dt){}disableEditing(){At(this,lt)&&(At(this,lt).hidden=!0)}enableEditing(){At(this,lt)&&(At(this,lt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return At(this,yt)}set isEditing(Tt){vn(this,yt,Tt),this.parent&&(Tt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Tt,Dt){vn(this,dt,!0);const Jt=Tt/Dt,{style:Ot}=this.div;Ot.aspectRatio=Jt,Ot.height="auto"}static get MIN_SIZE(){return 16}};at=new WeakMap,st=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakMap,xt=new WeakMap,St=new WeakMap,gt=new WeakMap,vt=new WeakSet,ho=function([Tt,Dt],Jt,Ot){[Jt,Ot]=this.screenToPageTranslation(Jt,Ot),this.x+=Jt/Tt,this.y+=Ot/Dt,this.fixAndSetPosition()},po=function(){const[Tt,Dt]=this.parentDimensions,{_borderLineWidth:Jt}=Rt,Ot=Jt/Tt,Pt=Jt/Dt;switch(this.rotation){case 90:return[-Ot,Pt];case 180:return[Ot,Pt];case 270:return[Ot,-Pt];default:return[-Ot,-Pt]}},_t=new WeakSet,mo=function(Tt,Dt,Jt){switch(Jt){case 90:return[Dt,-Tt];case 180:return[-Tt,-Dt];case 270:return[-Dt,Tt];default:return[Tt,Dt]}},go=function(Tt){switch(Tt){case 90:{const[Dt,Jt]=this.pageDimensions;return[0,-Dt/Jt,Jt/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,Jt]=this.pageDimensions;return[0,Dt/Jt,-Jt/Dt,0]}default:return[1,0,0,1]}},Qo=function(){if(At(this,ft))return;vn(this,ft,document.createElement("div")),At(this,ft).classList.add("resizers");const Tt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Tt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of Tt){const Jt=document.createElement("div");At(this,ft).append(Jt),Jt.classList.add("resizer",Dt),Jt.addEventListener("pointerdown",on(this,vt,Zo).bind(this,Dt)),Jt.addEventListener("contextmenu",rt.noContextMenu)}this.div.prepend(At(this,ft))},Zo=function(Tt,Dt){Dt.preventDefault();const{isMac:Jt}=nt.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&Jt)return;const Ot=on(this,vt,na).bind(this,Tt),Pt=this._isDraggable;this._isDraggable=!1;const kt={passive:!0,capture:!0};window.addEventListener("pointermove",Ot,kt);const Nt=this.x,zt=this.y,Wt=this.width,Gt=this.height,Kt=this.parent.div.style.cursor,Zt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const dn=()=>{this._isDraggable=Pt,window.removeEventListener("pointerup",dn),window.removeEventListener("blur",dn),window.removeEventListener("pointermove",Ot,kt),this.parent.div.style.cursor=Kt,this.div.style.cursor=Zt;const Qt=this.x,wn=this.y,Sn=this.width,$n=this.height;Qt===Nt&&wn===zt&&Sn===Wt&&$n===Gt||this.addCommands({cmd:()=>{this.width=Sn,this.height=$n,this.x=Qt,this.y=wn;const[an,cn]=this.parentDimensions;this.setDims(an*Sn,cn*$n),this.fixAndSetPosition()},undo:()=>{this.width=Wt,this.height=Gt,this.x=Nt,this.y=zt;const[an,cn]=this.parentDimensions;this.setDims(an*Wt,cn*Gt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",dn),window.addEventListener("blur",dn)},na=function(Tt,Dt){const[Jt,Ot]=this.parentDimensions,Pt=this.x,kt=this.y,Nt=this.width,zt=this.height,Wt=Rt.MIN_SIZE/Jt,Gt=Rt.MIN_SIZE/Ot,Kt=Vn=>Math.round(Vn*1e4)/1e4,Zt=on(this,vt,go).call(this,this.rotation),dn=(Vn,Yn)=>[Zt[0]*Vn+Zt[2]*Yn,Zt[1]*Vn+Zt[3]*Yn],Qt=on(this,vt,go).call(this,360-this.rotation),wn=(Vn,Yn)=>[Qt[0]*Vn+Qt[2]*Yn,Qt[1]*Vn+Qt[3]*Yn];let Sn,$n,an=!1,cn=!1;switch(Tt){case"topLeft":an=!0,Sn=(Vn,Yn)=>[0,0],$n=(Vn,Yn)=>[Vn,Yn];break;case"topMiddle":Sn=(Vn,Yn)=>[Vn/2,0],$n=(Vn,Yn)=>[Vn/2,Yn];break;case"topRight":an=!0,Sn=(Vn,Yn)=>[Vn,0],$n=(Vn,Yn)=>[0,Yn];break;case"middleRight":cn=!0,Sn=(Vn,Yn)=>[Vn,Yn/2],$n=(Vn,Yn)=>[0,Yn/2];break;case"bottomRight":an=!0,Sn=(Vn,Yn)=>[Vn,Yn],$n=(Vn,Yn)=>[0,0];break;case"bottomMiddle":Sn=(Vn,Yn)=>[Vn/2,Yn],$n=(Vn,Yn)=>[Vn/2,0];break;case"bottomLeft":an=!0,Sn=(Vn,Yn)=>[0,Yn],$n=(Vn,Yn)=>[Vn,0];break;case"middleLeft":cn=!0,Sn=(Vn,Yn)=>[0,Yn/2],$n=(Vn,Yn)=>[Vn,Yn/2];break}const It=Sn(Nt,zt),qt=$n(Nt,zt);let tn=dn(...qt);const fn=Kt(Pt+tn[0]),_n=Kt(kt+tn[1]);let Cn=1,En=1,[sn,In]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([sn,In]=wn(sn/Jt,In/Ot),an){const Vn=Math.hypot(Nt,zt);Cn=En=Math.max(Math.min(Math.hypot(qt[0]-It[0]-sn,qt[1]-It[1]-In)/Vn,1/Nt,1/zt),Wt/Nt,Gt/zt)}else cn?Cn=Math.max(Wt,Math.min(1,Math.abs(qt[0]-It[0]-sn)))/Nt:En=Math.max(Gt,Math.min(1,Math.abs(qt[1]-It[1]-In)))/zt;const Nn=Kt(Nt*Cn),er=Kt(zt*En);tn=dn(...$n(Nn,er));const Jn=fn-tn[0],ir=_n-tn[1];this.width=Nn,this.height=er,this.x=Jn,this.y=ir,this.setDims(Jt*Nn,Ot*er),this.fixAndSetPosition()},yo=async function(){var Jt;const Tt=At(this,lt);if(!Tt)return;if(!At(this,at)&&!At(this,st)){Tt.classList.remove("done"),(Jt=At(this,ct))==null||Jt.remove();return}Rt._l10nPromise.get("editor_alt_text_edit_button_label").then(Ot=>{Tt.setAttribute("aria-label",Ot)});let Dt=At(this,ct);if(!Dt){vn(this,ct,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const Ot=Dt.id=`alt-text-tooltip-${this.id}`;Tt.setAttribute("aria-describedby",Ot);const Pt=100;Tt.addEventListener("mouseenter",()=>{vn(this,ut,setTimeout(()=>{vn(this,ut,null),At(this,ct).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Pt))}),Tt.addEventListener("mouseleave",()=>{var kt;clearTimeout(At(this,ut)),vn(this,ut,null),(kt=At(this,ct))==null||kt.classList.remove("show")})}Tt.classList.add("done"),Dt.innerText=At(this,st)?await Rt._l10nPromise.get("editor_alt_text_decorative_tooltip"):At(this,at),Dt.parentNode||Tt.append(Dt)},ga=function(Tt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Jt,Ot;Dt&&(Jt={passive:!0,capture:!0},Ot=kt=>{const[Nt,zt]=this.screenToPageTranslation(kt.movementX,kt.movementY);this._uiManager.dragSelectedEditors(Nt,zt)},window.addEventListener("pointermove",Ot,Jt));const Pt=()=>{if(window.removeEventListener("pointerup",Pt),window.removeEventListener("blur",Pt),Dt&&window.removeEventListener("pointermove",Ot,Jt),vn(this,ht,!1),!this._uiManager.endDragSession()){const{isMac:kt}=nt.FeatureTest.platform;Tt.ctrlKey&&!kt||Tt.shiftKey||Tt.metaKey&&kt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Pt),window.addEventListener("blur",Pt)},mn(Rt,_t),hr(Rt,"_borderLineWidth",-1),hr(Rt,"_colorManager",new tt.ColorManager),hr(Rt,"_zIndex",1),hr(Rt,"SMALL_EDITOR_SIZE",0);let it=Rt;_e.AnnotationEditor=it;class ot extends it{constructor(Tt){super(Tt),this.annotationElementId=Tt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},($,_e,et)=>{var dt,ft,pt,mt,ht,vo,St,gt,vt,bt,wt,ba,$t,Et,jt,Vt,Mt,Ht,Rt,Ft,Tt,Dt,Jt,Ot,Pt,kt,Nt,zt,Wt,Gt,Kt,Zt,dn,Qt,wn,Sn,$n,an,cn,It,qt,tn,fn,_n,Cn,En,sn,xa,bo,xo,Kr,So,wo,br,Ir,_a,$a,_o,Rr,Ao;Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardManager=_e.CommandManager=_e.ColorManager=_e.AnnotationEditorUIManager=void 0,_e.bindEvents=rt,_e.opacityToHex=it;var tt=et(1),nt=et(6);function rt(tr,Yt,Pn){for(const Mn of Pn)Yt.addEventListener(Mn,tr[Mn].bind(tr))}function it(tr){return Math.round(Math.min(255,Math.max(1,255*tr))).toString(16).padStart(2,"0")}class ot{constructor(){mn(this,dt,0)}getId(){return`${tt.AnnotationEditorPrefix}${Mr(this,dt)._++}`}}dt=new WeakMap;const xt=class xt{constructor(){mn(this,ht);mn(this,ft,(0,tt.getUuid)());mn(this,pt,0);mn(this,mt,null)}static get _isSVGFittingCanvas(){const Yt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Mn=new OffscreenCanvas(1,3).getContext("2d"),Kn=new Image;Kn.src=Yt;const Xn=Kn.decode().then(()=>(Mn.drawImage(Kn,0,0,1,1,0,0,1,3),new Uint32Array(Mn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,tt.shadow)(this,"_isSVGFittingCanvas",Xn)}async getFromFile(Yt){const{lastModified:Pn,name:Mn,size:Kn,type:Xn}=Yt;return on(this,ht,vo).call(this,`${Pn}_${Mn}_${Kn}_${Xn}`,Yt)}async getFromUrl(Yt){return on(this,ht,vo).call(this,Yt,Yt)}async getFromId(Yt){At(this,mt)||vn(this,mt,new Map);const Pn=At(this,mt).get(Yt);return Pn?Pn.bitmap?(Pn.refCounter+=1,Pn):Pn.file?this.getFromFile(Pn.file):this.getFromUrl(Pn.url):null}getSvgUrl(Yt){const Pn=At(this,mt).get(Yt);return Pn!=null&&Pn.isSvg?Pn.svgUrl:null}deleteId(Yt){At(this,mt)||vn(this,mt,new Map);const Pn=At(this,mt).get(Yt);Pn&&(Pn.refCounter-=1,Pn.refCounter===0&&(Pn.bitmap=null))}isValidId(Yt){return Yt.startsWith(`image_${At(this,ft)}_`)}};ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakSet,vo=async function(Yt,Pn){At(this,mt)||vn(this,mt,new Map);let Mn=At(this,mt).get(Yt);if(Mn===null)return null;if(Mn!=null&&Mn.bitmap)return Mn.refCounter+=1,Mn;try{Mn||(Mn={bitmap:null,id:`image_${At(this,ft)}_${Mr(this,pt)._++}`,refCounter:0,isSvg:!1});let Kn;if(typeof Pn=="string"){Mn.url=Pn;const Xn=await fetch(Pn);if(!Xn.ok)throw new Error(Xn.statusText);Kn=await Xn.blob()}else Kn=Mn.file=Pn;if(Kn.type==="image/svg+xml"){const Xn=xt._isSVGFittingCanvas,Bn=new FileReader,Ut=new Image,Bt=new Promise((en,xn)=>{Ut.onload=()=>{Mn.bitmap=Ut,Mn.isSvg=!0,en()},Bn.onload=async()=>{const An=Mn.svgUrl=Bn.result;Ut.src=await Xn?`${An}#svgView(preserveAspectRatio(none))`:An},Ut.onerror=Bn.onerror=xn});Bn.readAsDataURL(Kn),await Bt}else Mn.bitmap=await createImageBitmap(Kn);Mn.refCounter=1}catch(Kn){console.error(Kn),Mn=null}return At(this,mt).set(Yt,Mn),Mn&&At(this,mt).set(Mn.id,Mn),Mn};let at=xt;class st{constructor(Yt=128){mn(this,St,[]);mn(this,gt,!1);mn(this,vt);mn(this,bt,-1);vn(this,vt,Yt)}add({cmd:Yt,undo:Pn,mustExec:Mn,type:Kn=NaN,overwriteIfSameType:Xn=!1,keepUndo:Bn=!1}){if(Mn&&Yt(),At(this,gt))return;const Ut={cmd:Yt,undo:Pn,type:Kn};if(At(this,bt)===-1){At(this,St).length>0&&(At(this,St).length=0),vn(this,bt,0),At(this,St).push(Ut);return}if(Xn&&At(this,St)[At(this,bt)].type===Kn){Bn&&(Ut.undo=At(this,St)[At(this,bt)].undo),At(this,St)[At(this,bt)]=Ut;return}const Bt=At(this,bt)+1;Bt===At(this,vt)?At(this,St).splice(0,1):(vn(this,bt,Bt),Bt<At(this,St).length&&At(this,St).splice(Bt)),At(this,St).push(Ut)}undo(){At(this,bt)!==-1&&(vn(this,gt,!0),At(this,St)[At(this,bt)].undo(),vn(this,gt,!1),vn(this,bt,At(this,bt)-1))}redo(){At(this,bt)<At(this,St).length-1&&(vn(this,bt,At(this,bt)+1),vn(this,gt,!0),At(this,St)[At(this,bt)].cmd(),vn(this,gt,!1))}hasSomethingToUndo(){return At(this,bt)!==-1}hasSomethingToRedo(){return At(this,bt)<At(this,St).length-1}destroy(){vn(this,St,null)}}St=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,_e.CommandManager=st;class lt{constructor(Yt){mn(this,wt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Pn}=tt.FeatureTest.platform;for(const[Mn,Kn,Xn={}]of Yt)for(const Bn of Mn){const Ut=Bn.startsWith("mac+");Pn&&Ut?(this.callbacks.set(Bn.slice(4),{callback:Kn,options:Xn}),this.allKeys.add(Bn.split("+").at(-1))):!Pn&&!Ut&&(this.callbacks.set(Bn,{callback:Kn,options:Xn}),this.allKeys.add(Bn.split("+").at(-1)))}}exec(Yt,Pn){if(!this.allKeys.has(Pn.key))return;const Mn=this.callbacks.get(on(this,wt,ba).call(this,Pn));if(!Mn)return;const{callback:Kn,options:{bubbles:Xn=!1,args:Bn=[],checker:Ut=null}}=Mn;Ut&&!Ut(Yt,Pn)||(Kn.bind(Yt,...Bn)(),Xn||(Pn.stopPropagation(),Pn.preventDefault()))}}wt=new WeakSet,ba=function(Yt){Yt.altKey&&this.buffer.push("alt"),Yt.ctrlKey&&this.buffer.push("ctrl"),Yt.metaKey&&this.buffer.push("meta"),Yt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Yt.key);const Pn=this.buffer.join("+");return this.buffer.length=0,Pn},_e.KeyboardManager=lt;const Ct=class Ct{get _colors(){const Yt=new Map([["CanvasText",null],["Canvas",null]]);return(0,nt.getColorValues)(Yt),(0,tt.shadow)(this,"_colors",Yt)}convert(Yt){const Pn=(0,nt.getRGB)(Yt);if(!window.matchMedia("(forced-colors: active)").matches)return Pn;for(const[Mn,Kn]of this._colors)if(Kn.every((Xn,Bn)=>Xn===Pn[Bn]))return Ct._colorsMapping.get(Mn);return Pn}getHexCode(Yt){const Pn=this._colors.get(Yt);return Pn?tt.Util.makeHexColor(...Pn):Yt}};hr(Ct,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ct=Ct;_e.ColorManager=ct;const ar=class ar{constructor(Yt,Pn,Mn,Kn,Xn,Bn){mn(this,sn);mn(this,$t,null);mn(this,Et,new Map);mn(this,jt,new Map);mn(this,Vt,null);mn(this,Mt,null);mn(this,Ht,new st);mn(this,Rt,0);mn(this,Ft,new Set);mn(this,Tt,null);mn(this,Dt,null);mn(this,Jt,new Set);mn(this,Ot,null);mn(this,Pt,new ot);mn(this,kt,!1);mn(this,Nt,!1);mn(this,zt,null);mn(this,Wt,tt.AnnotationEditorType.NONE);mn(this,Gt,new Set);mn(this,Kt,null);mn(this,Zt,this.blur.bind(this));mn(this,dn,this.focus.bind(this));mn(this,Qt,this.copy.bind(this));mn(this,wn,this.cut.bind(this));mn(this,Sn,this.paste.bind(this));mn(this,$n,this.keydown.bind(this));mn(this,an,this.onEditingAction.bind(this));mn(this,cn,this.onPageChanging.bind(this));mn(this,It,this.onScaleChanging.bind(this));mn(this,qt,this.onRotationChanging.bind(this));mn(this,tn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});mn(this,fn,[0,0]);mn(this,_n,null);mn(this,Cn,null);mn(this,En,null);vn(this,Cn,Yt),vn(this,En,Pn),vn(this,Vt,Mn),this._eventBus=Kn,this._eventBus._on("editingaction",At(this,an)),this._eventBus._on("pagechanging",At(this,cn)),this._eventBus._on("scalechanging",At(this,It)),this._eventBus._on("rotationchanging",At(this,qt)),vn(this,Mt,Xn.annotationStorage),vn(this,Ot,Xn.filterFactory),vn(this,Kt,Bn),this.viewParameters={realScale:nt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Yt=ar.prototype,Pn=Xn=>{const{activeElement:Bn}=document;return Bn&&At(Xn,Cn).contains(Bn)&&Xn.hasSomethingToControl()},Mn=this.TRANSLATE_SMALL,Kn=this.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new lt([[["ctrl+a","mac+meta+a"],Yt.selectAll],[["ctrl+z","mac+meta+z"],Yt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Yt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Yt.delete],[["Escape","mac+Escape"],Yt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Yt.translateSelectedEditors,{args:[-Mn,0],checker:Pn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Yt.translateSelectedEditors,{args:[-Kn,0],checker:Pn}],[["ArrowRight","mac+ArrowRight"],Yt.translateSelectedEditors,{args:[Mn,0],checker:Pn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Yt.translateSelectedEditors,{args:[Kn,0],checker:Pn}],[["ArrowUp","mac+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-Mn],checker:Pn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Yt.translateSelectedEditors,{args:[0,-Kn],checker:Pn}],[["ArrowDown","mac+ArrowDown"],Yt.translateSelectedEditors,{args:[0,Mn],checker:Pn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Yt.translateSelectedEditors,{args:[0,Kn],checker:Pn}]]))}destroy(){on(this,sn,Kr).call(this),on(this,sn,bo).call(this),this._eventBus._off("editingaction",At(this,an)),this._eventBus._off("pagechanging",At(this,cn)),this._eventBus._off("scalechanging",At(this,It)),this._eventBus._off("rotationchanging",At(this,qt));for(const Yt of At(this,jt).values())Yt.destroy();At(this,jt).clear(),At(this,Et).clear(),At(this,Jt).clear(),vn(this,$t,null),At(this,Gt).clear(),At(this,Ht).destroy(),At(this,Vt).destroy()}get hcmFilter(){return(0,tt.shadow)(this,"hcmFilter",At(this,Kt)?At(this,Ot).addHCMFilter(At(this,Kt).foreground,At(this,Kt).background):"none")}get direction(){return(0,tt.shadow)(this,"direction",getComputedStyle(At(this,Cn)).direction)}editAltText(Yt){var Pn;(Pn=At(this,Vt))==null||Pn.editAltText(this,Yt)}onPageChanging({pageNumber:Yt}){vn(this,Rt,Yt-1)}focusMainContainer(){At(this,Cn).focus()}findParent(Yt,Pn){for(const Mn of At(this,jt).values()){const{x:Kn,y:Xn,width:Bn,height:Ut}=Mn.div.getBoundingClientRect();if(Yt>=Kn&&Yt<=Kn+Bn&&Pn>=Xn&&Pn<=Xn+Ut)return Mn}return null}disableUserSelect(Yt=!1){At(this,En).classList.toggle("noUserSelect",Yt)}addShouldRescale(Yt){At(this,Jt).add(Yt)}removeShouldRescale(Yt){At(this,Jt).delete(Yt)}onScaleChanging({scale:Yt}){this.commitOrRemove(),this.viewParameters.realScale=Yt*nt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Pn of At(this,Jt))Pn.onScaleChanging()}onRotationChanging({pagesRotation:Yt}){this.commitOrRemove(),this.viewParameters.rotation=Yt}addToAnnotationStorage(Yt){!Yt.isEmpty()&&At(this,Mt)&&!At(this,Mt).has(Yt.id)&&At(this,Mt).setValue(Yt.id,Yt)}blur(){if(!this.hasSelection)return;const{activeElement:Yt}=document;for(const Pn of At(this,Gt))if(Pn.div.contains(Yt)){vn(this,zt,[Pn,Yt]),Pn._focusEventsAllowed=!1;break}}focus(){if(!At(this,zt))return;const[Yt,Pn]=At(this,zt);vn(this,zt,null),Pn.addEventListener("focusin",()=>{Yt._focusEventsAllowed=!0},{once:!0}),Pn.focus()}addEditListeners(){on(this,sn,xo).call(this),on(this,sn,So).call(this)}removeEditListeners(){on(this,sn,Kr).call(this),on(this,sn,wo).call(this)}copy(Yt){var Mn;if(Yt.preventDefault(),(Mn=At(this,$t))==null||Mn.commitOrRemove(),!this.hasSelection)return;const Pn=[];for(const Kn of At(this,Gt)){const Xn=Kn.serialize(!0);Xn&&Pn.push(Xn)}Pn.length!==0&&Yt.clipboardData.setData("application/pdfjs",JSON.stringify(Pn))}cut(Yt){this.copy(Yt),this.delete()}paste(Yt){Yt.preventDefault();const{clipboardData:Pn}=Yt;for(const Xn of Pn.items)for(const Bn of At(this,Dt))if(Bn.isHandlingMimeForPasting(Xn.type)){Bn.paste(Xn,this.currentLayer);return}let Mn=Pn.getData("application/pdfjs");if(!Mn)return;try{Mn=JSON.parse(Mn)}catch(Xn){(0,tt.warn)(`paste: "${Xn.message}".`);return}if(!Array.isArray(Mn))return;this.unselectAll();const Kn=this.currentLayer;try{const Xn=[];for(const Bt of Mn){const en=Kn.deserialize(Bt);if(!en)return;Xn.push(en)}const Bn=()=>{for(const Bt of Xn)on(this,sn,_o).call(this,Bt);on(this,sn,Ao).call(this,Xn)},Ut=()=>{for(const Bt of Xn)Bt.remove()};this.addCommands({cmd:Bn,undo:Ut,mustExec:!0})}catch(Xn){(0,tt.warn)(`paste: "${Xn.message}".`)}}keydown(Yt){var Pn;(Pn=this.getActive())!=null&&Pn.shouldGetKeyboardEvents()||ar._keyboardManager.exec(this,Yt)}onEditingAction(Yt){["undo","redo","delete","selectAll"].includes(Yt.name)&&this[Yt.name]()}setEditingState(Yt){Yt?(on(this,sn,xa).call(this),on(this,sn,xo).call(this),on(this,sn,So).call(this),on(this,sn,br).call(this,{isEditing:At(this,Wt)!==tt.AnnotationEditorType.NONE,isEmpty:on(this,sn,Rr).call(this),hasSomethingToUndo:At(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:At(this,Ht).hasSomethingToRedo(),hasSelectedEditor:!1})):(on(this,sn,bo).call(this),on(this,sn,Kr).call(this),on(this,sn,wo).call(this),on(this,sn,br).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Yt){if(!At(this,Dt)){vn(this,Dt,Yt);for(const Pn of At(this,Dt))on(this,sn,Ir).call(this,Pn.defaultPropertiesToUpdate)}}getId(){return At(this,Pt).getId()}get currentLayer(){return At(this,jt).get(At(this,Rt))}getLayer(Yt){return At(this,jt).get(Yt)}get currentPageIndex(){return At(this,Rt)}addLayer(Yt){At(this,jt).set(Yt.pageIndex,Yt),At(this,kt)?Yt.enable():Yt.disable()}removeLayer(Yt){At(this,jt).delete(Yt.pageIndex)}updateMode(Yt,Pn=null){if(At(this,Wt)!==Yt){if(vn(this,Wt,Yt),Yt===tt.AnnotationEditorType.NONE){this.setEditingState(!1),on(this,sn,$a).call(this);return}this.setEditingState(!0),on(this,sn,_a).call(this),this.unselectAll();for(const Mn of At(this,jt).values())Mn.updateMode(Yt);if(Pn){for(const Mn of At(this,Et).values())if(Mn.annotationElementId===Pn){this.setSelected(Mn),Mn.enterInEditMode();break}}}}updateToolbar(Yt){Yt!==At(this,Wt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Yt})}updateParams(Yt,Pn){if(At(this,Dt)){if(Yt===tt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Yt);return}for(const Mn of At(this,Gt))Mn.updateParams(Yt,Pn);for(const Mn of At(this,Dt))Mn.updateDefaultParams(Yt,Pn)}}enableWaiting(Yt=!1){if(At(this,Nt)!==Yt){vn(this,Nt,Yt);for(const Pn of At(this,jt).values())Yt?Pn.disableClick():Pn.enableClick(),Pn.div.classList.toggle("waiting",Yt)}}getEditors(Yt){const Pn=[];for(const Mn of At(this,Et).values())Mn.pageIndex===Yt&&Pn.push(Mn);return Pn}getEditor(Yt){return At(this,Et).get(Yt)}addEditor(Yt){At(this,Et).set(Yt.id,Yt)}removeEditor(Yt){var Pn;At(this,Et).delete(Yt.id),this.unselect(Yt),(!Yt.annotationElementId||!At(this,Ft).has(Yt.annotationElementId))&&((Pn=At(this,Mt))==null||Pn.remove(Yt.id))}addDeletedAnnotationElement(Yt){At(this,Ft).add(Yt.annotationElementId),Yt.deleted=!0}isDeletedAnnotationElement(Yt){return At(this,Ft).has(Yt)}removeDeletedAnnotationElement(Yt){At(this,Ft).delete(Yt.annotationElementId),Yt.deleted=!1}setActiveEditor(Yt){At(this,$t)!==Yt&&(vn(this,$t,Yt),Yt&&on(this,sn,Ir).call(this,Yt.propertiesToUpdate))}toggleSelected(Yt){if(At(this,Gt).has(Yt)){At(this,Gt).delete(Yt),Yt.unselect(),on(this,sn,br).call(this,{hasSelectedEditor:this.hasSelection});return}At(this,Gt).add(Yt),Yt.select(),on(this,sn,Ir).call(this,Yt.propertiesToUpdate),on(this,sn,br).call(this,{hasSelectedEditor:!0})}setSelected(Yt){for(const Pn of At(this,Gt))Pn!==Yt&&Pn.unselect();At(this,Gt).clear(),At(this,Gt).add(Yt),Yt.select(),on(this,sn,Ir).call(this,Yt.propertiesToUpdate),on(this,sn,br).call(this,{hasSelectedEditor:!0})}isSelected(Yt){return At(this,Gt).has(Yt)}unselect(Yt){Yt.unselect(),At(this,Gt).delete(Yt),on(this,sn,br).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return At(this,Gt).size!==0}undo(){At(this,Ht).undo(),on(this,sn,br).call(this,{hasSomethingToUndo:At(this,Ht).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:on(this,sn,Rr).call(this)})}redo(){At(this,Ht).redo(),on(this,sn,br).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:At(this,Ht).hasSomethingToRedo(),isEmpty:on(this,sn,Rr).call(this)})}addCommands(Yt){At(this,Ht).add(Yt),on(this,sn,br).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:on(this,sn,Rr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Yt=[...At(this,Gt)],Pn=()=>{for(const Kn of Yt)Kn.remove()},Mn=()=>{for(const Kn of Yt)on(this,sn,_o).call(this,Kn)};this.addCommands({cmd:Pn,undo:Mn,mustExec:!0})}commitOrRemove(){var Yt;(Yt=At(this,$t))==null||Yt.commitOrRemove()}hasSomethingToControl(){return At(this,$t)||this.hasSelection}selectAll(){for(const Yt of At(this,Gt))Yt.commit();on(this,sn,Ao).call(this,At(this,Et).values())}unselectAll(){if(At(this,$t)){At(this,$t).commitOrRemove();return}if(this.hasSelection){for(const Yt of At(this,Gt))Yt.unselect();At(this,Gt).clear(),on(this,sn,br).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Yt,Pn,Mn=!1){if(Mn||this.commitOrRemove(),!this.hasSelection)return;At(this,fn)[0]+=Yt,At(this,fn)[1]+=Pn;const[Kn,Xn]=At(this,fn),Bn=[...At(this,Gt)],Ut=1e3;At(this,_n)&&clearTimeout(At(this,_n)),vn(this,_n,setTimeout(()=>{vn(this,_n,null),At(this,fn)[0]=At(this,fn)[1]=0,this.addCommands({cmd:()=>{for(const Bt of Bn)At(this,Et).has(Bt.id)&&Bt.translateInPage(Kn,Xn)},undo:()=>{for(const Bt of Bn)At(this,Et).has(Bt.id)&&Bt.translateInPage(-Kn,-Xn)},mustExec:!1})},Ut));for(const Bt of Bn)Bt.translateInPage(Yt,Pn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),vn(this,Tt,new Map);for(const Yt of At(this,Gt))At(this,Tt).set(Yt,{savedX:Yt.x,savedY:Yt.y,savedPageIndex:Yt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!At(this,Tt))return!1;this.disableUserSelect(!1);const Yt=At(this,Tt);vn(this,Tt,null);let Pn=!1;for(const[{x:Kn,y:Xn,pageIndex:Bn},Ut]of Yt)Ut.newX=Kn,Ut.newY=Xn,Ut.newPageIndex=Bn,Pn||(Pn=Kn!==Ut.savedX||Xn!==Ut.savedY||Bn!==Ut.savedPageIndex);if(!Pn)return!1;const Mn=(Kn,Xn,Bn,Ut)=>{if(At(this,Et).has(Kn.id)){const Bt=At(this,jt).get(Ut);Bt?Kn._setParentAndPosition(Bt,Xn,Bn):(Kn.pageIndex=Ut,Kn.x=Xn,Kn.y=Bn)}};return this.addCommands({cmd:()=>{for(const[Kn,{newX:Xn,newY:Bn,newPageIndex:Ut}]of Yt)Mn(Kn,Xn,Bn,Ut)},undo:()=>{for(const[Kn,{savedX:Xn,savedY:Bn,savedPageIndex:Ut}]of Yt)Mn(Kn,Xn,Bn,Ut)},mustExec:!0}),!0}dragSelectedEditors(Yt,Pn){if(At(this,Tt))for(const Mn of At(this,Tt).keys())Mn.drag(Yt,Pn)}rebuild(Yt){if(Yt.parent===null){const Pn=this.getLayer(Yt.pageIndex);Pn?(Pn.changeParent(Yt),Pn.addOrRebuild(Yt)):(this.addEditor(Yt),this.addToAnnotationStorage(Yt),Yt.rebuild())}else Yt.parent.addOrRebuild(Yt)}isActive(Yt){return At(this,$t)===Yt}getActive(){return At(this,$t)}getMode(){return At(this,Wt)}get imageManager(){return(0,tt.shadow)(this,"imageManager",new at)}};$t=new WeakMap,Et=new WeakMap,jt=new WeakMap,Vt=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,Jt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Nt=new WeakMap,zt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Kt=new WeakMap,Zt=new WeakMap,dn=new WeakMap,Qt=new WeakMap,wn=new WeakMap,Sn=new WeakMap,$n=new WeakMap,an=new WeakMap,cn=new WeakMap,It=new WeakMap,qt=new WeakMap,tn=new WeakMap,fn=new WeakMap,_n=new WeakMap,Cn=new WeakMap,En=new WeakMap,sn=new WeakSet,xa=function(){window.addEventListener("focus",At(this,dn)),window.addEventListener("blur",At(this,Zt))},bo=function(){window.removeEventListener("focus",At(this,dn)),window.removeEventListener("blur",At(this,Zt))},xo=function(){window.addEventListener("keydown",At(this,$n),{capture:!0})},Kr=function(){window.removeEventListener("keydown",At(this,$n),{capture:!0})},So=function(){document.addEventListener("copy",At(this,Qt)),document.addEventListener("cut",At(this,wn)),document.addEventListener("paste",At(this,Sn))},wo=function(){document.removeEventListener("copy",At(this,Qt)),document.removeEventListener("cut",At(this,wn)),document.removeEventListener("paste",At(this,Sn))},br=function(Yt){Object.entries(Yt).some(([Mn,Kn])=>At(this,tn)[Mn]!==Kn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(At(this,tn),Yt)})},Ir=function(Yt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Yt})},_a=function(){if(!At(this,kt)){vn(this,kt,!0);for(const Yt of At(this,jt).values())Yt.enable()}},$a=function(){if(this.unselectAll(),At(this,kt)){vn(this,kt,!1);for(const Yt of At(this,jt).values())Yt.disable()}},_o=function(Yt){const Pn=At(this,jt).get(Yt.pageIndex);Pn?Pn.addOrRebuild(Yt):this.addEditor(Yt)},Rr=function(){if(At(this,Et).size===0)return!0;if(At(this,Et).size===1)for(const Yt of At(this,Et).values())return Yt.isEmpty();return!1},Ao=function(Yt){At(this,Gt).clear();for(const Pn of Yt)Pn.isEmpty()||(At(this,Gt).add(Pn),Pn.select());on(this,sn,br).call(this,{hasSelectedEditor:!0})},hr(ar,"TRANSLATE_SMALL",1),hr(ar,"TRANSLATE_BIG",10);let ut=ar;_e.AnnotationEditorUIManager=ut},($,_e,et)=>{var Rt,Ft,Tt,Dt,Jt,Ot,Pt,kt,Nt,zt,Wt,Gt,Er,Cr,$o,qr,Xr,Dr,Fr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMFilterFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=void 0,_e.deprecated=bt,_e.getColorValues=Et,_e.getCurrentTransform=jt,_e.getCurrentTransformInverse=Vt,_e.getFilenameFromUrl=ht,_e.getPdfFilenameFromUrl=yt,_e.getRGB=$t,_e.getXfaPageViewport=Ct,_e.isDataScheme=pt,_e.isPdfFile=mt,_e.isValidFetchUrl=St,_e.loadScript=vt,_e.noContextMenu=gt,_e.setLayerDimensions=Mt;var tt=et(7),nt=et(1);const rt="http://www.w3.org/2000/svg",Ht=class Ht{};hr(Ht,"CSS",96),hr(Ht,"PDF",72),hr(Ht,"PDF_TO_CSS_UNITS",Ht.CSS/Ht.PDF);let it=Ht;_e.PixelsPerInch=it;class ot extends tt.BaseFilterFactory{constructor({docId:It,ownerDocument:qt=globalThis.document}={}){super();mn(this,Gt);mn(this,Rt);mn(this,Ft);mn(this,Tt);mn(this,Dt);mn(this,Jt);mn(this,Ot);mn(this,Pt);mn(this,kt);mn(this,Nt);mn(this,zt);mn(this,Wt,0);vn(this,Tt,It),vn(this,Dt,qt)}addFilter(It){if(!It)return"none";let qt=At(this,Gt,Er).get(It);if(qt)return qt;let tn,fn,_n,Cn;if(It.length===1){const Nn=It[0],er=new Array(256);for(let Jn=0;Jn<256;Jn++)er[Jn]=Nn[Jn]/255;Cn=tn=fn=_n=er.join(",")}else{const[Nn,er,Jn]=It,ir=new Array(256),Vn=new Array(256),Yn=new Array(256);for(let or=0;or<256;or++)ir[or]=Nn[or]/255,Vn[or]=er[or]/255,Yn[or]=Jn[or]/255;tn=ir.join(","),fn=Vn.join(","),_n=Yn.join(","),Cn=`${tn}${fn}${_n}`}if(qt=At(this,Gt,Er).get(Cn),qt)return At(this,Gt,Er).set(It,qt),qt;const En=`g_${At(this,Tt)}_transfer_map_${Mr(this,Wt)._++}`,sn=`url(#${En})`;At(this,Gt,Er).set(It,sn),At(this,Gt,Er).set(Cn,sn);const In=on(this,Gt,qr).call(this,En);return on(this,Gt,Dr).call(this,tn,fn,_n,In),sn}addHCMFilter(It,qt){var er;const tn=`${It}-${qt}`;if(At(this,Ot)===tn)return At(this,Pt);if(vn(this,Ot,tn),vn(this,Pt,"none"),(er=At(this,Jt))==null||er.remove(),!It||!qt)return At(this,Pt);const fn=on(this,Gt,Fr).call(this,It);It=nt.Util.makeHexColor(...fn);const _n=on(this,Gt,Fr).call(this,qt);if(qt=nt.Util.makeHexColor(..._n),At(this,Gt,Cr).style.color="",It==="#000000"&&qt==="#ffffff"||It===qt)return At(this,Pt);const Cn=new Array(256);for(let Jn=0;Jn<=255;Jn++){const ir=Jn/255;Cn[Jn]=ir<=.03928?ir/12.92:((ir+.055)/1.055)**2.4}const En=Cn.join(","),sn=`g_${At(this,Tt)}_hcm_filter`,In=vn(this,kt,on(this,Gt,qr).call(this,sn));on(this,Gt,Dr).call(this,En,En,En,In),on(this,Gt,$o).call(this,In);const Nn=(Jn,ir)=>{const Vn=fn[Jn]/255,Yn=_n[Jn]/255,or=new Array(ir+1);for(let sr=0;sr<=ir;sr++)or[sr]=Vn+sr/ir*(Yn-Vn);return or.join(",")};return on(this,Gt,Dr).call(this,Nn(0,5),Nn(1,5),Nn(2,5),In),vn(this,Pt,`url(#${sn})`),At(this,Pt)}addHighlightHCMFilter(It,qt,tn,fn){var Yn;const _n=`${It}-${qt}-${tn}-${fn}`;if(At(this,Nt)===_n)return At(this,zt);if(vn(this,Nt,_n),vn(this,zt,"none"),(Yn=At(this,kt))==null||Yn.remove(),!It||!qt)return At(this,zt);const[Cn,En]=[It,qt].map(on(this,Gt,Fr).bind(this));let sn=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),In=Math.round(.2126*En[0]+.7152*En[1]+.0722*En[2]),[Nn,er]=[tn,fn].map(on(this,Gt,Fr).bind(this));In<sn&&([sn,In,Nn,er]=[In,sn,er,Nn]),At(this,Gt,Cr).style.color="";const Jn=(or,sr,Tn)=>{const pn=new Array(256),yn=(In-sn)/Tn,zn=or/255,ar=(sr-or)/(255*Tn);let tr=0;for(let Yt=0;Yt<=Tn;Yt++){const Pn=Math.round(sn+Yt*yn),Mn=zn+Yt*ar;for(let Kn=tr;Kn<=Pn;Kn++)pn[Kn]=Mn;tr=Pn+1}for(let Yt=tr;Yt<256;Yt++)pn[Yt]=pn[tr-1];return pn.join(",")},ir=`g_${At(this,Tt)}_hcm_highlight_filter`,Vn=vn(this,kt,on(this,Gt,qr).call(this,ir));return on(this,Gt,$o).call(this,Vn),on(this,Gt,Dr).call(this,Jn(Nn[0],er[0],5),Jn(Nn[1],er[1],5),Jn(Nn[2],er[2],5),Vn),vn(this,zt,`url(#${ir})`),At(this,zt)}destroy(It=!1){It&&(At(this,Pt)||At(this,zt))||(At(this,Ft)&&(At(this,Ft).parentNode.parentNode.remove(),vn(this,Ft,null)),At(this,Rt)&&(At(this,Rt).clear(),vn(this,Rt,null)),vn(this,Wt,0))}}Rt=new WeakMap,Ft=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,Jt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Nt=new WeakMap,zt=new WeakMap,Wt=new WeakMap,Gt=new WeakSet,Er=function(){return At(this,Rt)||vn(this,Rt,new Map)},Cr=function(){if(!At(this,Ft)){const It=At(this,Dt).createElement("div"),{style:qt}=It;qt.visibility="hidden",qt.contain="strict",qt.width=qt.height=0,qt.position="absolute",qt.top=qt.left=0,qt.zIndex=-1;const tn=At(this,Dt).createElementNS(rt,"svg");tn.setAttribute("width",0),tn.setAttribute("height",0),vn(this,Ft,At(this,Dt).createElementNS(rt,"defs")),It.append(tn),tn.append(At(this,Ft)),At(this,Dt).body.append(It)}return At(this,Ft)},$o=function(It){const qt=At(this,Dt).createElementNS(rt,"feColorMatrix");qt.setAttribute("type","matrix"),qt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),It.append(qt)},qr=function(It){const qt=At(this,Dt).createElementNS(rt,"filter");return qt.setAttribute("color-interpolation-filters","sRGB"),qt.setAttribute("id",It),At(this,Gt,Cr).append(qt),qt},Xr=function(It,qt,tn){const fn=At(this,Dt).createElementNS(rt,qt);fn.setAttribute("type","discrete"),fn.setAttribute("tableValues",tn),It.append(fn)},Dr=function(It,qt,tn,fn){const _n=At(this,Dt).createElementNS(rt,"feComponentTransfer");fn.append(_n),on(this,Gt,Xr).call(this,_n,"feFuncR",It),on(this,Gt,Xr).call(this,_n,"feFuncG",qt),on(this,Gt,Xr).call(this,_n,"feFuncB",tn)},Fr=function(It){return At(this,Gt,Cr).style.color=It,$t(getComputedStyle(At(this,Gt,Cr)).getPropertyValue("color"))},_e.DOMFilterFactory=ot;class at extends tt.BaseCanvasFactory{constructor({ownerDocument:cn=globalThis.document}={}){super(),this._document=cn}_createCanvas(cn,It){const qt=this._document.createElement("canvas");return qt.width=cn,qt.height=It,qt}}_e.DOMCanvasFactory=at;async function st(an,cn=!1){if(St(an,document.baseURI)){const It=await fetch(an);if(!It.ok)throw new Error(It.statusText);return cn?new Uint8Array(await It.arrayBuffer()):(0,nt.stringToBytes)(await It.text())}return new Promise((It,qt)=>{const tn=new XMLHttpRequest;tn.open("GET",an,!0),cn&&(tn.responseType="arraybuffer"),tn.onreadystatechange=()=>{if(tn.readyState===XMLHttpRequest.DONE){if(tn.status===200||tn.status===0){let fn;if(cn&&tn.response?fn=new Uint8Array(tn.response):!cn&&tn.responseText&&(fn=(0,nt.stringToBytes)(tn.responseText)),fn){It(fn);return}}qt(new Error(tn.statusText))}},tn.send(null)})}class lt extends tt.BaseCMapReaderFactory{_fetchData(cn,It){return st(cn,this.isCompressed).then(qt=>({cMapData:qt,compressionType:It}))}}_e.DOMCMapReaderFactory=lt;class ct extends tt.BaseStandardFontDataFactory{_fetchData(cn){return st(cn,!0)}}_e.DOMStandardFontDataFactory=ct;class ut extends tt.BaseSVGFactory{_createSVG(cn){return document.createElementNS(rt,cn)}}_e.DOMSVGFactory=ut;class dt{constructor({viewBox:cn,scale:It,rotation:qt,offsetX:tn=0,offsetY:fn=0,dontFlip:_n=!1}){this.viewBox=cn,this.scale=It,this.rotation=qt,this.offsetX=tn,this.offsetY=fn;const Cn=(cn[2]+cn[0])/2,En=(cn[3]+cn[1])/2;let sn,In,Nn,er;switch(qt%=360,qt<0&&(qt+=360),qt){case 180:sn=-1,In=0,Nn=0,er=1;break;case 90:sn=0,In=1,Nn=1,er=0;break;case 270:sn=0,In=-1,Nn=-1,er=0;break;case 0:sn=1,In=0,Nn=0,er=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_n&&(Nn=-Nn,er=-er);let Jn,ir,Vn,Yn;sn===0?(Jn=Math.abs(En-cn[1])*It+tn,ir=Math.abs(Cn-cn[0])*It+fn,Vn=(cn[3]-cn[1])*It,Yn=(cn[2]-cn[0])*It):(Jn=Math.abs(Cn-cn[0])*It+tn,ir=Math.abs(En-cn[1])*It+fn,Vn=(cn[2]-cn[0])*It,Yn=(cn[3]-cn[1])*It),this.transform=[sn*It,In*It,Nn*It,er*It,Jn-sn*It*Cn-Nn*It*En,ir-In*It*Cn-er*It*En],this.width=Vn,this.height=Yn}get rawDims(){const{viewBox:cn}=this;return(0,nt.shadow)(this,"rawDims",{pageWidth:cn[2]-cn[0],pageHeight:cn[3]-cn[1],pageX:cn[0],pageY:cn[1]})}clone({scale:cn=this.scale,rotation:It=this.rotation,offsetX:qt=this.offsetX,offsetY:tn=this.offsetY,dontFlip:fn=!1}={}){return new dt({viewBox:this.viewBox.slice(),scale:cn,rotation:It,offsetX:qt,offsetY:tn,dontFlip:fn})}convertToViewportPoint(cn,It){return nt.Util.applyTransform([cn,It],this.transform)}convertToViewportRectangle(cn){const It=nt.Util.applyTransform([cn[0],cn[1]],this.transform),qt=nt.Util.applyTransform([cn[2],cn[3]],this.transform);return[It[0],It[1],qt[0],qt[1]]}convertToPdfPoint(cn,It){return nt.Util.applyInverseTransform([cn,It],this.transform)}}_e.PageViewport=dt;class ft extends nt.BaseException{constructor(cn,It=0){super(cn,"RenderingCancelledException"),this.extraDelay=It}}_e.RenderingCancelledException=ft;function pt(an){const cn=an.length;let It=0;for(;It<cn&&an[It].trim()==="";)It++;return an.substring(It,It+5).toLowerCase()==="data:"}function mt(an){return typeof an=="string"&&/\.pdf$/i.test(an)}function ht(an,cn=!1){return cn||([an]=an.split(/[#?]/,1)),an.substring(an.lastIndexOf("/")+1)}function yt(an,cn="document.pdf"){if(typeof an!="string")return cn;if(pt(an))return(0,nt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),cn;const It=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,qt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tn=It.exec(an);let fn=qt.exec(tn[1])||qt.exec(tn[2])||qt.exec(tn[3]);if(fn&&(fn=fn[0],fn.includes("%")))try{fn=qt.exec(decodeURIComponent(fn))[0]}catch{}return fn||cn}class xt{constructor(){hr(this,"started",Object.create(null));hr(this,"times",[])}time(cn){cn in this.started&&(0,nt.warn)(`Timer is already running for ${cn}`),this.started[cn]=Date.now()}timeEnd(cn){cn in this.started||(0,nt.warn)(`Timer has not been started for ${cn}`),this.times.push({name:cn,start:this.started[cn],end:Date.now()}),delete this.started[cn]}toString(){const cn=[];let It=0;for(const{name:qt}of this.times)It=Math.max(qt.length,It);for(const{name:qt,start:tn,end:fn}of this.times)cn.push(`${qt.padEnd(It)} ${fn-tn}ms
`);return cn.join("")}}_e.StatTimer=xt;function St(an,cn){try{const{protocol:It}=cn?new URL(an,cn):new URL(an);return It==="http:"||It==="https:"}catch{return!1}}function gt(an){an.preventDefault()}function vt(an,cn=!1){return new Promise((It,qt)=>{const tn=document.createElement("script");tn.src=an,tn.onload=function(fn){cn&&tn.remove(),It(fn)},tn.onerror=function(){qt(new Error(`Cannot load script at: ${tn.src}`))},(document.head||document.documentElement).append(tn)})}function bt(an){console.log("Deprecated API usage: "+an)}let wt;class _t{static toDateObject(cn){if(!cn||typeof cn!="string")return null;wt||(wt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const It=wt.exec(cn);if(!It)return null;const qt=parseInt(It[1],10);let tn=parseInt(It[2],10);tn=tn>=1&&tn<=12?tn-1:0;let fn=parseInt(It[3],10);fn=fn>=1&&fn<=31?fn:1;let _n=parseInt(It[4],10);_n=_n>=0&&_n<=23?_n:0;let Cn=parseInt(It[5],10);Cn=Cn>=0&&Cn<=59?Cn:0;let En=parseInt(It[6],10);En=En>=0&&En<=59?En:0;const sn=It[7]||"Z";let In=parseInt(It[8],10);In=In>=0&&In<=23?In:0;let Nn=parseInt(It[9],10)||0;return Nn=Nn>=0&&Nn<=59?Nn:0,sn==="-"?(_n+=In,Cn+=Nn):sn==="+"&&(_n-=In,Cn-=Nn),new Date(Date.UTC(qt,tn,fn,_n,Cn,En))}}_e.PDFDateString=_t;function Ct(an,{scale:cn=1,rotation:It=0}){const{width:qt,height:tn}=an.attributes.style,fn=[0,0,parseInt(qt),parseInt(tn)];return new dt({viewBox:fn,scale:cn,rotation:It})}function $t(an){if(an.startsWith("#")){const cn=parseInt(an.slice(1),16);return[(cn&16711680)>>16,(cn&65280)>>8,cn&255]}return an.startsWith("rgb(")?an.slice(4,-1).split(",").map(cn=>parseInt(cn)):an.startsWith("rgba(")?an.slice(5,-1).split(",").map(cn=>parseInt(cn)).slice(0,3):((0,nt.warn)(`Not a valid color format: "${an}"`),[0,0,0])}function Et(an){const cn=document.createElement("span");cn.style.visibility="hidden",document.body.append(cn);for(const It of an.keys()){cn.style.color=It;const qt=window.getComputedStyle(cn).color;an.set(It,$t(qt))}cn.remove()}function jt(an){const{a:cn,b:It,c:qt,d:tn,e:fn,f:_n}=an.getTransform();return[cn,It,qt,tn,fn,_n]}function Vt(an){const{a:cn,b:It,c:qt,d:tn,e:fn,f:_n}=an.getTransform().invertSelf();return[cn,It,qt,tn,fn,_n]}function Mt(an,cn,It=!1,qt=!0){if(cn instanceof dt){const{pageWidth:tn,pageHeight:fn}=cn.rawDims,{style:_n}=an,Cn=nt.FeatureTest.isCSSRoundSupported,En=`var(--scale-factor) * ${tn}px`,sn=`var(--scale-factor) * ${fn}px`,In=Cn?`round(${En}, 1px)`:`calc(${En})`,Nn=Cn?`round(${sn}, 1px)`:`calc(${sn})`;!It||cn.rotation%180===0?(_n.width=In,_n.height=Nn):(_n.width=Nn,_n.height=In)}qt&&an.setAttribute("data-main-rotation",cn.rotation)}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseFilterFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var tt=et(1);class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(lt){return"none"}addHCMFilter(lt,ct){return"none"}addHighlightHCMFilter(lt,ct,ut,dt){return"none"}destroy(lt=!1){}}_e.BaseFilterFactory=nt;class rt{constructor(){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lt,ct){if(lt<=0||ct<=0)throw new Error("Invalid canvas size");const ut=this._createCanvas(lt,ct);return{canvas:ut,context:ut.getContext("2d")}}reset(lt,ct,ut){if(!lt.canvas)throw new Error("Canvas is not specified");if(ct<=0||ut<=0)throw new Error("Invalid canvas size");lt.canvas.width=ct,lt.canvas.height=ut}destroy(lt){if(!lt.canvas)throw new Error("Canvas is not specified");lt.canvas.width=0,lt.canvas.height=0,lt.canvas=null,lt.context=null}_createCanvas(lt,ct){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}_e.BaseCanvasFactory=rt;class it{constructor({baseUrl:lt=null,isCompressed:ct=!0}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lt,this.isCompressed=ct}async fetch({name:lt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lt)throw new Error("CMap name must be specified.");const ct=this.baseUrl+lt+(this.isCompressed?".bcmap":""),ut=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(ct,ut).catch(dt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ct}`)})}_fetchData(lt,ct){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseCMapReaderFactory=it;class ot{constructor({baseUrl:lt=null}){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lt}async fetch({filename:lt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lt)throw new Error("Font filename must be specified.");const ct=`${this.baseUrl}${lt}`;return this._fetchData(ct).catch(ut=>{throw new Error(`Unable to load font data at: ${ct}`)})}_fetchData(lt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseStandardFontDataFactory=ot;class at{constructor(){this.constructor===at&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(lt,ct,ut=!1){if(lt<=0||ct<=0)throw new Error("Invalid SVG dimensions");const dt=this._createSVG("svg:svg");return dt.setAttribute("version","1.1"),ut||(dt.setAttribute("width",`${lt}px`),dt.setAttribute("height",`${ct}px`)),dt.setAttribute("preserveAspectRatio","none"),dt.setAttribute("viewBox",`0 0 ${lt} ${ct}`),dt}createElement(lt){if(typeof lt!="string")throw new Error("Invalid SVG element type");return this._createSVG(lt)}_createSVG(lt){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}_e.BaseSVGFactory=at},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var tt=et(1);const nt=3285377520,rt=4294901760,it=65535;class ot{constructor(st){this.h1=st?st&4294967295:nt,this.h2=st?st&4294967295:nt}update(st){let lt,ct;if(typeof st=="string"){lt=new Uint8Array(st.length*2),ct=0;for(let bt=0,wt=st.length;bt<wt;bt++){const _t=st.charCodeAt(bt);_t<=255?lt[ct++]=_t:(lt[ct++]=_t>>>8,lt[ct++]=_t&255)}}else if((0,tt.isArrayBuffer)(st))lt=st.slice(),ct=lt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ut=ct>>2,dt=ct-ut*4,ft=new Uint32Array(lt.buffer,0,ut);let pt=0,mt=0,ht=this.h1,yt=this.h2;const xt=3432918353,St=461845907,gt=xt&it,vt=St&it;for(let bt=0;bt<ut;bt++)bt&1?(pt=ft[bt],pt=pt*xt&rt|pt*gt&it,pt=pt<<15|pt>>>17,pt=pt*St&rt|pt*vt&it,ht^=pt,ht=ht<<13|ht>>>19,ht=ht*5+3864292196):(mt=ft[bt],mt=mt*xt&rt|mt*gt&it,mt=mt<<15|mt>>>17,mt=mt*St&rt|mt*vt&it,yt^=mt,yt=yt<<13|yt>>>19,yt=yt*5+3864292196);switch(pt=0,dt){case 3:pt^=lt[ut*4+2]<<16;case 2:pt^=lt[ut*4+1]<<8;case 1:pt^=lt[ut*4],pt=pt*xt&rt|pt*gt&it,pt=pt<<15|pt>>>17,pt=pt*St&rt|pt*vt&it,ut&1?ht^=pt:yt^=pt}this.h1=ht,this.h2=yt}hexdigest(){let st=this.h1,lt=this.h2;return st^=lt>>>1,st=st*3981806797&rt|st*36045&it,lt=lt*4283543511&rt|((lt<<16|st>>>16)*2950163797&rt)>>>16,st^=lt>>>1,st=st*444984403&rt|st*60499&it,lt=lt*3301882366&rt|((lt<<16|st>>>16)*3120437893&rt)>>>16,st^=lt>>>1,(st>>>0).toString(16).padStart(8,"0")+(lt>>>0).toString(16).padStart(8,"0")}}_e.MurmurHash3_64=ot},($,_e,et)=>{var it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var tt=et(1);class nt{constructor({ownerDocument:at=globalThis.document,styleElement:st=null}){mn(this,it,new Set);this._document=at,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(at){this.nativeFontFaces.add(at),this._document.fonts.add(at)}removeNativeFontFace(at){this.nativeFontFaces.delete(at),this._document.fonts.delete(at)}insertRule(at){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const st=this.styleElement.sheet;st.insertRule(at,st.cssRules.length)}clear(){for(const at of this.nativeFontFaces)this._document.fonts.delete(at);this.nativeFontFaces.clear(),At(this,it).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(at){if(!(!at||At(this,it).has(at.loadedName))){if((0,tt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:st,src:lt,style:ct}=at,ut=new FontFace(st,lt,ct);this.addNativeFontFace(ut);try{await ut.load(),At(this,it).add(st)}catch{(0,tt.warn)(`Cannot load system font: ${at.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ut)}return}(0,tt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(at){if(at.attached||at.missingFile&&!at.systemFontInfo)return;if(at.attached=!0,at.systemFontInfo){await this.loadSystemFont(at.systemFontInfo);return}if(this.isFontLoadingAPISupported){const lt=at.createNativeFontFace();if(lt){this.addNativeFontFace(lt);try{await lt.loaded}catch(ct){throw(0,tt.warn)(`Failed to load font '${lt.family}': '${ct}'.`),at.disableFontFace=!0,ct}}return}const st=at.createFontFaceRule();if(st){if(this.insertRule(st),this.isSyncFontLoadingSupported)return;await new Promise(lt=>{const ct=this._queueLoadingCallback(lt);this._prepareFontLoadEvent(at,ct)})}}get isFontLoadingAPISupported(){var st;const at=!!((st=this._document)!=null&&st.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",at)}get isSyncFontLoadingSupported(){let at=!1;return(tt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(at=!0),(0,tt.shadow)(this,"isSyncFontLoadingSupported",at)}_queueLoadingCallback(at){function st(){for((0,tt.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;lt.length>0&&lt[0].done;){const ut=lt.shift();setTimeout(ut.callback,0)}}const{loadingRequests:lt}=this,ct={done:!1,complete:st,callback:at};return lt.push(ct),ct}get _loadTestFont(){const at=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tt.shadow)(this,"_loadTestFont",at)}_prepareFontLoadEvent(at,st){function lt($t,Et){return $t.charCodeAt(Et)<<24|$t.charCodeAt(Et+1)<<16|$t.charCodeAt(Et+2)<<8|$t.charCodeAt(Et+3)&255}function ct($t,Et,jt,Vt){const Mt=$t.substring(0,Et),Ht=$t.substring(Et+jt);return Mt+Vt+Ht}let ut,dt;const ft=this._document.createElement("canvas");ft.width=1,ft.height=1;const pt=ft.getContext("2d");let mt=0;function ht($t,Et){if(++mt>30){(0,tt.warn)("Load test font never loaded."),Et();return}if(pt.font="30px "+$t,pt.fillText(".",0,20),pt.getImageData(0,0,1,1).data[3]>0){Et();return}setTimeout(ht.bind(null,$t,Et))}const yt=`lt${Date.now()}${this.loadTestFontId++}`;let xt=this._loadTestFont;xt=ct(xt,976,yt.length,yt);const gt=16,vt=1482184792;let bt=lt(xt,gt);for(ut=0,dt=yt.length-3;ut<dt;ut+=4)bt=bt-vt+lt(yt,ut)|0;ut<yt.length&&(bt=bt-vt+lt(yt+"XXX",ut)|0),xt=ct(xt,gt,4,(0,tt.string32)(bt));const wt=`url(data:font/opentype;base64,${btoa(xt)});`,_t=`@font-face {font-family:"${yt}";src:${wt}}`;this.insertRule(_t);const Ct=this._document.createElement("div");Ct.style.visibility="hidden",Ct.style.width=Ct.style.height="10px",Ct.style.position="absolute",Ct.style.top=Ct.style.left="0px";for(const $t of[at.loadedName,yt]){const Et=this._document.createElement("span");Et.textContent="Hi",Et.style.fontFamily=$t,Ct.append(Et)}this._document.body.append(Ct),ht(yt,()=>{Ct.remove(),st.complete()})}}it=new WeakMap,_e.FontLoader=nt;class rt{constructor(at,{isEvalSupported:st=!0,disableFontFace:lt=!1,ignoreErrors:ct=!1,inspectFont:ut=null}){this.compiledGlyphs=Object.create(null);for(const dt in at)this[dt]=at[dt];this.isEvalSupported=st!==!1,this.disableFontFace=lt===!0,this.ignoreErrors=ct===!0,this._inspectFont=ut}createNativeFontFace(){var st;if(!this.data||this.disableFontFace)return null;let at;if(!this.cssFontInfo)at=new FontFace(this.loadedName,this.data,{});else{const lt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(lt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),at=new FontFace(this.cssFontInfo.fontFamily,this.data,lt)}return(st=this._inspectFont)==null||st.call(this,this),at}createFontFaceRule(){var ct;if(!this.data||this.disableFontFace)return null;const at=(0,tt.bytesToString)(this.data),st=`url(data:${this.mimetype};base64,${btoa(at)});`;let lt;if(!this.cssFontInfo)lt=`@font-face {font-family:"${this.loadedName}";src:${st}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${st}}`}return(ct=this._inspectFont)==null||ct.call(this,this,st),lt}getPathGenerator(at,st){if(this.compiledGlyphs[st]!==void 0)return this.compiledGlyphs[st];let lt;try{lt=at.get(this.loadedName+"_path_"+st)}catch(ct){if(!this.ignoreErrors)throw ct;return(0,tt.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[st]=function(ut,dt){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const ct=[];for(const ut of lt){const dt=ut.args!==void 0?ut.args.join(","):"";ct.push("c.",ut.cmd,"(",dt,`);
`)}return this.compiledGlyphs[st]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[st]=function(ct,ut){for(const dt of lt)dt.cmd==="scale"&&(dt.args=[ut,-ut]),ct[dt.cmd].apply(ct,dt.args)}}}_e.FontFaceObject=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeFilterFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var tt=et(7);et(1);const nt=function(st){return new Promise((lt,ct)=>{require$$5.readFile(st,(dt,ft)=>{if(dt||!ft){ct(new Error(dt));return}lt(new Uint8Array(ft))})})};class rt extends tt.BaseFilterFactory{}_e.NodeFilterFactory=rt;class it extends tt.BaseCanvasFactory{_createCanvas(lt,ct){return require$$5.createCanvas(lt,ct)}}_e.NodeCanvasFactory=it;class ot extends tt.BaseCMapReaderFactory{_fetchData(lt,ct){return nt(lt).then(ut=>({cMapData:ut,compressionType:ct}))}}_e.NodeCMapReaderFactory=ot;class at extends tt.BaseStandardFontDataFactory{_fetchData(lt){return nt(lt)}}_e.NodeStandardFontDataFactory=at},($,_e,et)=>{var Ft,Po,Eo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var tt=et(1),nt=et(6),rt=et(12),it=et(13);const ot=16,at=100,st=4096,lt=15,ct=10,ut=1e3,dt=16;function ft(Ot,Pt){if(Ot._removeMirroring)throw new Error("Context is already forwarding operations.");Ot.__originalSave=Ot.save,Ot.__originalRestore=Ot.restore,Ot.__originalRotate=Ot.rotate,Ot.__originalScale=Ot.scale,Ot.__originalTranslate=Ot.translate,Ot.__originalTransform=Ot.transform,Ot.__originalSetTransform=Ot.setTransform,Ot.__originalResetTransform=Ot.resetTransform,Ot.__originalClip=Ot.clip,Ot.__originalMoveTo=Ot.moveTo,Ot.__originalLineTo=Ot.lineTo,Ot.__originalBezierCurveTo=Ot.bezierCurveTo,Ot.__originalRect=Ot.rect,Ot.__originalClosePath=Ot.closePath,Ot.__originalBeginPath=Ot.beginPath,Ot._removeMirroring=()=>{Ot.save=Ot.__originalSave,Ot.restore=Ot.__originalRestore,Ot.rotate=Ot.__originalRotate,Ot.scale=Ot.__originalScale,Ot.translate=Ot.__originalTranslate,Ot.transform=Ot.__originalTransform,Ot.setTransform=Ot.__originalSetTransform,Ot.resetTransform=Ot.__originalResetTransform,Ot.clip=Ot.__originalClip,Ot.moveTo=Ot.__originalMoveTo,Ot.lineTo=Ot.__originalLineTo,Ot.bezierCurveTo=Ot.__originalBezierCurveTo,Ot.rect=Ot.__originalRect,Ot.closePath=Ot.__originalClosePath,Ot.beginPath=Ot.__originalBeginPath,delete Ot._removeMirroring},Ot.save=function(){Pt.save(),this.__originalSave()},Ot.restore=function(){Pt.restore(),this.__originalRestore()},Ot.translate=function(Nt,zt){Pt.translate(Nt,zt),this.__originalTranslate(Nt,zt)},Ot.scale=function(Nt,zt){Pt.scale(Nt,zt),this.__originalScale(Nt,zt)},Ot.transform=function(Nt,zt,Wt,Gt,Kt,Zt){Pt.transform(Nt,zt,Wt,Gt,Kt,Zt),this.__originalTransform(Nt,zt,Wt,Gt,Kt,Zt)},Ot.setTransform=function(Nt,zt,Wt,Gt,Kt,Zt){Pt.setTransform(Nt,zt,Wt,Gt,Kt,Zt),this.__originalSetTransform(Nt,zt,Wt,Gt,Kt,Zt)},Ot.resetTransform=function(){Pt.resetTransform(),this.__originalResetTransform()},Ot.rotate=function(Nt){Pt.rotate(Nt),this.__originalRotate(Nt)},Ot.clip=function(Nt){Pt.clip(Nt),this.__originalClip(Nt)},Ot.moveTo=function(kt,Nt){Pt.moveTo(kt,Nt),this.__originalMoveTo(kt,Nt)},Ot.lineTo=function(kt,Nt){Pt.lineTo(kt,Nt),this.__originalLineTo(kt,Nt)},Ot.bezierCurveTo=function(kt,Nt,zt,Wt,Gt,Kt){Pt.bezierCurveTo(kt,Nt,zt,Wt,Gt,Kt),this.__originalBezierCurveTo(kt,Nt,zt,Wt,Gt,Kt)},Ot.rect=function(kt,Nt,zt,Wt){Pt.rect(kt,Nt,zt,Wt),this.__originalRect(kt,Nt,zt,Wt)},Ot.closePath=function(){Pt.closePath(),this.__originalClosePath()},Ot.beginPath=function(){Pt.beginPath(),this.__originalBeginPath()}}class pt{constructor(Pt){this.canvasFactory=Pt,this.cache=Object.create(null)}getCanvas(Pt,kt,Nt){let zt;return this.cache[Pt]!==void 0?(zt=this.cache[Pt],this.canvasFactory.reset(zt,kt,Nt)):(zt=this.canvasFactory.create(kt,Nt),this.cache[Pt]=zt),zt}delete(Pt){delete this.cache[Pt]}clear(){for(const Pt in this.cache){const kt=this.cache[Pt];this.canvasFactory.destroy(kt),delete this.cache[Pt]}}}function mt(Ot,Pt,kt,Nt,zt,Wt,Gt,Kt,Zt,dn){const[Qt,wn,Sn,$n,an,cn]=(0,nt.getCurrentTransform)(Ot);if(wn===0&&Sn===0){const tn=Gt*Qt+an,fn=Math.round(tn),_n=Kt*$n+cn,Cn=Math.round(_n),En=(Gt+Zt)*Qt+an,sn=Math.abs(Math.round(En)-fn)||1,In=(Kt+dn)*$n+cn,Nn=Math.abs(Math.round(In)-Cn)||1;return Ot.setTransform(Math.sign(Qt),0,0,Math.sign($n),fn,Cn),Ot.drawImage(Pt,kt,Nt,zt,Wt,0,0,sn,Nn),Ot.setTransform(Qt,wn,Sn,$n,an,cn),[sn,Nn]}if(Qt===0&&$n===0){const tn=Kt*Sn+an,fn=Math.round(tn),_n=Gt*wn+cn,Cn=Math.round(_n),En=(Kt+dn)*Sn+an,sn=Math.abs(Math.round(En)-fn)||1,In=(Gt+Zt)*wn+cn,Nn=Math.abs(Math.round(In)-Cn)||1;return Ot.setTransform(0,Math.sign(wn),Math.sign(Sn),0,fn,Cn),Ot.drawImage(Pt,kt,Nt,zt,Wt,0,0,Nn,sn),Ot.setTransform(Qt,wn,Sn,$n,an,cn),[Nn,sn]}Ot.drawImage(Pt,kt,Nt,zt,Wt,Gt,Kt,Zt,dn);const It=Math.hypot(Qt,wn),qt=Math.hypot(Sn,$n);return[It*Zt,qt*dn]}function ht(Ot){const{width:Pt,height:kt}=Ot;if(Pt>ut||kt>ut)return null;const Nt=1e3,zt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Wt=Pt+1;let Gt=new Uint8Array(Wt*(kt+1)),Kt,Zt,dn;const Qt=Pt+7&-8;let wn=new Uint8Array(Qt*kt),Sn=0;for(const qt of Ot.data){let tn=128;for(;tn>0;)wn[Sn++]=qt&tn?0:255,tn>>=1}let $n=0;for(Sn=0,wn[Sn]!==0&&(Gt[0]=1,++$n),Zt=1;Zt<Pt;Zt++)wn[Sn]!==wn[Sn+1]&&(Gt[Zt]=wn[Sn]?2:1,++$n),Sn++;for(wn[Sn]!==0&&(Gt[Zt]=2,++$n),Kt=1;Kt<kt;Kt++){Sn=Kt*Qt,dn=Kt*Wt,wn[Sn-Qt]!==wn[Sn]&&(Gt[dn]=wn[Sn]?1:8,++$n);let qt=(wn[Sn]?4:0)+(wn[Sn-Qt]?8:0);for(Zt=1;Zt<Pt;Zt++)qt=(qt>>2)+(wn[Sn+1]?4:0)+(wn[Sn-Qt+1]?8:0),zt[qt]&&(Gt[dn+Zt]=zt[qt],++$n),Sn++;if(wn[Sn-Qt]!==wn[Sn]&&(Gt[dn+Zt]=wn[Sn]?2:4,++$n),$n>Nt)return null}for(Sn=Qt*(kt-1),dn=Kt*Wt,wn[Sn]!==0&&(Gt[dn]=8,++$n),Zt=1;Zt<Pt;Zt++)wn[Sn]!==wn[Sn+1]&&(Gt[dn+Zt]=wn[Sn]?4:8,++$n),Sn++;if(wn[Sn]!==0&&(Gt[dn+Zt]=4,++$n),$n>Nt)return null;const an=new Int32Array([0,Wt,-1,0,-Wt,0,0,0,1]),cn=new Path2D;for(Kt=0;$n&&Kt<=kt;Kt++){let qt=Kt*Wt;const tn=qt+Pt;for(;qt<tn&&!Gt[qt];)qt++;if(qt===tn)continue;cn.moveTo(qt%Wt,Kt);const fn=qt;let _n=Gt[qt];do{const Cn=an[_n];do qt+=Cn;while(!Gt[qt]);const En=Gt[qt];En!==5&&En!==10?(_n=En,Gt[qt]=0):(_n=En&51*_n>>4,Gt[qt]&=_n>>2|_n<<2),cn.lineTo(qt%Wt,qt/Wt|0),Gt[qt]||--$n}while(fn!==qt);--Kt}return wn=null,Gt=null,function(qt){qt.save(),qt.scale(1/Pt,-1/kt),qt.translate(0,-kt),qt.fill(cn),qt.beginPath(),qt.restore()}}class yt{constructor(Pt,kt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Pt,kt])}clone(){const Pt=Object.create(this);return Pt.clipBox=this.clipBox.slice(),Pt}setCurrentPoint(Pt,kt){this.x=Pt,this.y=kt}updatePathMinMax(Pt,kt,Nt){[kt,Nt]=tt.Util.applyTransform([kt,Nt],Pt),this.minX=Math.min(this.minX,kt),this.minY=Math.min(this.minY,Nt),this.maxX=Math.max(this.maxX,kt),this.maxY=Math.max(this.maxY,Nt)}updateRectMinMax(Pt,kt){const Nt=tt.Util.applyTransform(kt,Pt),zt=tt.Util.applyTransform(kt.slice(2),Pt);this.minX=Math.min(this.minX,Nt[0],zt[0]),this.minY=Math.min(this.minY,Nt[1],zt[1]),this.maxX=Math.max(this.maxX,Nt[0],zt[0]),this.maxY=Math.max(this.maxY,Nt[1],zt[1])}updateScalingPathMinMax(Pt,kt){tt.Util.scaleMinMax(Pt,kt),this.minX=Math.min(this.minX,kt[0]),this.maxX=Math.max(this.maxX,kt[1]),this.minY=Math.min(this.minY,kt[2]),this.maxY=Math.max(this.maxY,kt[3])}updateCurvePathMinMax(Pt,kt,Nt,zt,Wt,Gt,Kt,Zt,dn,Qt){const wn=tt.Util.bezierBoundingBox(kt,Nt,zt,Wt,Gt,Kt,Zt,dn);if(Qt){Qt[0]=Math.min(Qt[0],wn[0],wn[2]),Qt[1]=Math.max(Qt[1],wn[0],wn[2]),Qt[2]=Math.min(Qt[2],wn[1],wn[3]),Qt[3]=Math.max(Qt[3],wn[1],wn[3]);return}this.updateRectMinMax(Pt,wn)}getPathBoundingBox(Pt=rt.PathType.FILL,kt=null){const Nt=[this.minX,this.minY,this.maxX,this.maxY];if(Pt===rt.PathType.STROKE){kt||(0,tt.unreachable)("Stroke bounding box must include transform.");const zt=tt.Util.singularValueDecompose2dScale(kt),Wt=zt[0]*this.lineWidth/2,Gt=zt[1]*this.lineWidth/2;Nt[0]-=Wt,Nt[1]-=Gt,Nt[2]+=Wt,Nt[3]+=Gt}return Nt}updateClipFromPath(){const Pt=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Pt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Pt){this.clipBox=Pt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Pt=rt.PathType.FILL,kt=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(Pt,kt))}}function xt(Ot,Pt){if(typeof ImageData<"u"&&Pt instanceof ImageData){Ot.putImageData(Pt,0,0);return}const kt=Pt.height,Nt=Pt.width,zt=kt%dt,Wt=(kt-zt)/dt,Gt=zt===0?Wt:Wt+1,Kt=Ot.createImageData(Nt,dt);let Zt=0,dn;const Qt=Pt.data,wn=Kt.data;let Sn,$n,an,cn;if(Pt.kind===tt.ImageKind.GRAYSCALE_1BPP){const It=Qt.byteLength,qt=new Uint32Array(wn.buffer,0,wn.byteLength>>2),tn=qt.length,fn=Nt+7>>3,_n=4294967295,Cn=tt.FeatureTest.isLittleEndian?4278190080:255;for(Sn=0;Sn<Gt;Sn++){for(an=Sn<Wt?dt:zt,dn=0,$n=0;$n<an;$n++){const En=It-Zt;let sn=0;const In=En>fn?Nt:En*8-7,Nn=In&-8;let er=0,Jn=0;for(;sn<Nn;sn+=8)Jn=Qt[Zt++],qt[dn++]=Jn&128?_n:Cn,qt[dn++]=Jn&64?_n:Cn,qt[dn++]=Jn&32?_n:Cn,qt[dn++]=Jn&16?_n:Cn,qt[dn++]=Jn&8?_n:Cn,qt[dn++]=Jn&4?_n:Cn,qt[dn++]=Jn&2?_n:Cn,qt[dn++]=Jn&1?_n:Cn;for(;sn<In;sn++)er===0&&(Jn=Qt[Zt++],er=128),qt[dn++]=Jn&er?_n:Cn,er>>=1}for(;dn<tn;)qt[dn++]=0;Ot.putImageData(Kt,0,Sn*dt)}}else if(Pt.kind===tt.ImageKind.RGBA_32BPP){for($n=0,cn=Nt*dt*4,Sn=0;Sn<Wt;Sn++)wn.set(Qt.subarray(Zt,Zt+cn)),Zt+=cn,Ot.putImageData(Kt,0,$n),$n+=dt;Sn<Gt&&(cn=Nt*zt*4,wn.set(Qt.subarray(Zt,Zt+cn)),Ot.putImageData(Kt,0,$n))}else if(Pt.kind===tt.ImageKind.RGB_24BPP)for(an=dt,cn=Nt*an,Sn=0;Sn<Gt;Sn++){for(Sn>=Wt&&(an=zt,cn=Nt*an),dn=0,$n=cn;$n--;)wn[dn++]=Qt[Zt++],wn[dn++]=Qt[Zt++],wn[dn++]=Qt[Zt++],wn[dn++]=255;Ot.putImageData(Kt,0,Sn*dt)}else throw new Error(`bad image kind: ${Pt.kind}`)}function St(Ot,Pt){if(Pt.bitmap){Ot.drawImage(Pt.bitmap,0,0);return}const kt=Pt.height,Nt=Pt.width,zt=kt%dt,Wt=(kt-zt)/dt,Gt=zt===0?Wt:Wt+1,Kt=Ot.createImageData(Nt,dt);let Zt=0;const dn=Pt.data,Qt=Kt.data;for(let wn=0;wn<Gt;wn++){const Sn=wn<Wt?dt:zt;({srcPos:Zt}=(0,it.convertBlackAndWhiteToRGBA)({src:dn,srcPos:Zt,dest:Qt,width:Nt,height:Sn,nonBlackColor:0})),Ot.putImageData(Kt,0,wn*dt)}}function gt(Ot,Pt){const kt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Nt of kt)Ot[Nt]!==void 0&&(Pt[Nt]=Ot[Nt]);Ot.setLineDash!==void 0&&(Pt.setLineDash(Ot.getLineDash()),Pt.lineDashOffset=Ot.lineDashOffset)}function vt(Ot){if(Ot.strokeStyle=Ot.fillStyle="#000000",Ot.fillRule="nonzero",Ot.globalAlpha=1,Ot.lineWidth=1,Ot.lineCap="butt",Ot.lineJoin="miter",Ot.miterLimit=10,Ot.globalCompositeOperation="source-over",Ot.font="10px sans-serif",Ot.setLineDash!==void 0&&(Ot.setLineDash([]),Ot.lineDashOffset=0),!tt.isNodeJS){const{filter:Pt}=Ot;Pt!=="none"&&Pt!==""&&(Ot.filter="none")}}function bt(Ot,Pt,kt,Nt){const zt=Ot.length;for(let Wt=3;Wt<zt;Wt+=4){const Gt=Ot[Wt];if(Gt===0)Ot[Wt-3]=Pt,Ot[Wt-2]=kt,Ot[Wt-1]=Nt;else if(Gt<255){const Kt=255-Gt;Ot[Wt-3]=Ot[Wt-3]*Gt+Pt*Kt>>8,Ot[Wt-2]=Ot[Wt-2]*Gt+kt*Kt>>8,Ot[Wt-1]=Ot[Wt-1]*Gt+Nt*Kt>>8}}}function wt(Ot,Pt,kt){const Nt=Ot.length,zt=1/255;for(let Wt=3;Wt<Nt;Wt+=4){const Gt=kt?kt[Ot[Wt]]:Ot[Wt];Pt[Wt]=Pt[Wt]*Gt*zt|0}}function _t(Ot,Pt,kt){const Nt=Ot.length;for(let zt=3;zt<Nt;zt+=4){const Wt=Ot[zt-3]*77+Ot[zt-2]*152+Ot[zt-1]*28;Pt[zt]=kt?Pt[zt]*kt[Wt>>8]>>8:Pt[zt]*Wt>>16}}function Ct(Ot,Pt,kt,Nt,zt,Wt,Gt,Kt,Zt,dn,Qt){const wn=!!Wt,Sn=wn?Wt[0]:0,$n=wn?Wt[1]:0,an=wn?Wt[2]:0,cn=zt==="Luminosity"?_t:wt,qt=Math.min(Nt,Math.ceil(1048576/kt));for(let tn=0;tn<Nt;tn+=qt){const fn=Math.min(qt,Nt-tn),_n=Ot.getImageData(Kt-dn,tn+(Zt-Qt),kt,fn),Cn=Pt.getImageData(Kt,tn+Zt,kt,fn);wn&&bt(_n.data,Sn,$n,an),cn(_n.data,Cn.data,Gt),Pt.putImageData(Cn,Kt,tn+Zt)}}function $t(Ot,Pt,kt,Nt){const zt=Nt[0],Wt=Nt[1],Gt=Nt[2]-zt,Kt=Nt[3]-Wt;Gt===0||Kt===0||(Ct(Pt.context,kt,Gt,Kt,Pt.subtype,Pt.backdrop,Pt.transferMap,zt,Wt,Pt.offsetX,Pt.offsetY),Ot.save(),Ot.globalAlpha=1,Ot.globalCompositeOperation="source-over",Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(kt.canvas,0,0),Ot.restore())}function Et(Ot,Pt){const kt=tt.Util.singularValueDecompose2dScale(Ot);kt[0]=Math.fround(kt[0]),kt[1]=Math.fround(kt[1]);const Nt=Math.fround((globalThis.devicePixelRatio||1)*nt.PixelsPerInch.PDF_TO_CSS_UNITS);return Pt!==void 0?Pt:kt[0]<=Nt||kt[1]<=Nt}const jt=["butt","round","square"],Vt=["miter","round","bevel"],Mt={},Ht={},Jt=class Jt{constructor(Pt,kt,Nt,zt,Wt,{optionalContentConfig:Gt,markedContentStack:Kt=null},Zt,dn){mn(this,Ft);this.ctx=Pt,this.current=new yt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=kt,this.objs=Nt,this.canvasFactory=zt,this.filterFactory=Wt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Kt||[],this.optionalContentConfig=Gt,this.cachedCanvases=new pt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Zt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=dn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Pt,kt=null){return typeof Pt=="string"?Pt.startsWith("g_")?this.commonObjs.get(Pt):this.objs.get(Pt):kt}beginDrawing({transform:Pt,viewport:kt,transparency:Nt=!1,background:zt=null}){const Wt=this.ctx.canvas.width,Gt=this.ctx.canvas.height,Kt=this.ctx.fillStyle;if(this.ctx.fillStyle=zt||"#ffffff",this.ctx.fillRect(0,0,Wt,Gt),this.ctx.fillStyle=Kt,Nt){const Zt=this.cachedCanvases.getCanvas("transparent",Wt,Gt);this.compositeCtx=this.ctx,this.transparentCanvas=Zt.canvas,this.ctx=Zt.context,this.ctx.save(),this.ctx.transform(...(0,nt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),vt(this.ctx),Pt&&(this.ctx.transform(...Pt),this.outputScaleX=Pt[0],this.outputScaleY=Pt[0]),this.ctx.transform(...kt.transform),this.viewportScale=kt.scale,this.baseTransform=(0,nt.getCurrentTransform)(this.ctx)}executeOperatorList(Pt,kt,Nt,zt){const Wt=Pt.argsArray,Gt=Pt.fnArray;let Kt=kt||0;const Zt=Wt.length;if(Zt===Kt)return Kt;const dn=Zt-Kt>ct&&typeof Nt=="function",Qt=dn?Date.now()+lt:0;let wn=0;const Sn=this.commonObjs,$n=this.objs;let an;for(;;){if(zt!==void 0&&Kt===zt.nextBreakPoint)return zt.breakIt(Kt,Nt),Kt;if(an=Gt[Kt],an!==tt.OPS.dependency)this[an].apply(this,Wt[Kt]);else for(const cn of Wt[Kt]){const It=cn.startsWith("g_")?Sn:$n;if(!It.has(cn))return It.get(cn,Nt),Kt}if(Kt++,Kt===Zt)return Kt;if(dn&&++wn>ct){if(Date.now()>Qt)return Nt(),Kt;wn=0}}}endDrawing(){on(this,Ft,Po).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Pt of this._cachedBitmapsMap.values()){for(const kt of Pt.values())typeof HTMLCanvasElement<"u"&&kt instanceof HTMLCanvasElement&&(kt.width=kt.height=0);Pt.clear()}this._cachedBitmapsMap.clear(),on(this,Ft,Eo).call(this)}_scaleImage(Pt,kt){const Nt=Pt.width,zt=Pt.height;let Wt=Math.max(Math.hypot(kt[0],kt[1]),1),Gt=Math.max(Math.hypot(kt[2],kt[3]),1),Kt=Nt,Zt=zt,dn="prescale1",Qt,wn;for(;Wt>2&&Kt>1||Gt>2&&Zt>1;){let Sn=Kt,$n=Zt;Wt>2&&Kt>1&&(Sn=Kt>=16384?Math.floor(Kt/2)-1||1:Math.ceil(Kt/2),Wt/=Kt/Sn),Gt>2&&Zt>1&&($n=Zt>=16384?Math.floor(Zt/2)-1||1:Math.ceil(Zt)/2,Gt/=Zt/$n),Qt=this.cachedCanvases.getCanvas(dn,Sn,$n),wn=Qt.context,wn.clearRect(0,0,Sn,$n),wn.drawImage(Pt,0,0,Kt,Zt,0,0,Sn,$n),Pt=Qt.canvas,Kt=Sn,Zt=$n,dn=dn==="prescale1"?"prescale2":"prescale1"}return{img:Pt,paintWidth:Kt,paintHeight:Zt}}_createMaskCanvas(Pt){const kt=this.ctx,{width:Nt,height:zt}=Pt,Wt=this.current.fillColor,Gt=this.current.patternFill,Kt=(0,nt.getCurrentTransform)(kt);let Zt,dn,Qt,wn;if((Pt.bitmap||Pt.data)&&Pt.count>1){const sn=Pt.bitmap||Pt.data.buffer;dn=JSON.stringify(Gt?Kt:[Kt.slice(0,4),Wt]),Zt=this._cachedBitmapsMap.get(sn),Zt||(Zt=new Map,this._cachedBitmapsMap.set(sn,Zt));const In=Zt.get(dn);if(In&&!Gt){const Nn=Math.round(Math.min(Kt[0],Kt[2])+Kt[4]),er=Math.round(Math.min(Kt[1],Kt[3])+Kt[5]);return{canvas:In,offsetX:Nn,offsetY:er}}Qt=In}Qt||(wn=this.cachedCanvases.getCanvas("maskCanvas",Nt,zt),St(wn.context,Pt));let Sn=tt.Util.transform(Kt,[1/Nt,0,0,-1/zt,0,0]);Sn=tt.Util.transform(Sn,[1,0,0,1,0,-zt]);const $n=tt.Util.applyTransform([0,0],Sn),an=tt.Util.applyTransform([Nt,zt],Sn),cn=tt.Util.normalizeRect([$n[0],$n[1],an[0],an[1]]),It=Math.round(cn[2]-cn[0])||1,qt=Math.round(cn[3]-cn[1])||1,tn=this.cachedCanvases.getCanvas("fillCanvas",It,qt),fn=tn.context,_n=Math.min($n[0],an[0]),Cn=Math.min($n[1],an[1]);fn.translate(-_n,-Cn),fn.transform(...Sn),Qt||(Qt=this._scaleImage(wn.canvas,(0,nt.getCurrentTransformInverse)(fn)),Qt=Qt.img,Zt&&Gt&&Zt.set(dn,Qt)),fn.imageSmoothingEnabled=Et((0,nt.getCurrentTransform)(fn),Pt.interpolate),mt(fn,Qt,0,0,Qt.width,Qt.height,0,0,Nt,zt),fn.globalCompositeOperation="source-in";const En=tt.Util.transform((0,nt.getCurrentTransformInverse)(fn),[1,0,0,1,-_n,-Cn]);return fn.fillStyle=Gt?Wt.getPattern(kt,this,En,rt.PathType.FILL):Wt,fn.fillRect(0,0,Nt,zt),Zt&&!Gt&&(this.cachedCanvases.delete("fillCanvas"),Zt.set(dn,tn.canvas)),{canvas:tn.canvas,offsetX:Math.round(_n),offsetY:Math.round(Cn)}}setLineWidth(Pt){Pt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Pt,this.ctx.lineWidth=Pt}setLineCap(Pt){this.ctx.lineCap=jt[Pt]}setLineJoin(Pt){this.ctx.lineJoin=Vt[Pt]}setMiterLimit(Pt){this.ctx.miterLimit=Pt}setDash(Pt,kt){const Nt=this.ctx;Nt.setLineDash!==void 0&&(Nt.setLineDash(Pt),Nt.lineDashOffset=kt)}setRenderingIntent(Pt){}setFlatness(Pt){}setGState(Pt){for(const[kt,Nt]of Pt)switch(kt){case"LW":this.setLineWidth(Nt);break;case"LC":this.setLineCap(Nt);break;case"LJ":this.setLineJoin(Nt);break;case"ML":this.setMiterLimit(Nt);break;case"D":this.setDash(Nt[0],Nt[1]);break;case"RI":this.setRenderingIntent(Nt);break;case"FL":this.setFlatness(Nt);break;case"Font":this.setFont(Nt[0],Nt[1]);break;case"CA":this.current.strokeAlpha=Nt;break;case"ca":this.current.fillAlpha=Nt,this.ctx.globalAlpha=Nt;break;case"BM":this.ctx.globalCompositeOperation=Nt;break;case"SMask":this.current.activeSMask=Nt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Nt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Pt=this.inSMaskMode;this.current.activeSMask&&!Pt?this.beginSMaskMode():!this.current.activeSMask&&Pt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Pt=this.ctx.canvas.width,kt=this.ctx.canvas.height,Nt="smaskGroupAt"+this.groupLevel,zt=this.cachedCanvases.getCanvas(Nt,Pt,kt);this.suspendedCtx=this.ctx,this.ctx=zt.context;const Wt=this.ctx;Wt.setTransform(...(0,nt.getCurrentTransform)(this.suspendedCtx)),gt(this.suspendedCtx,Wt),ft(Wt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Pt){if(!this.current.activeSMask)return;Pt?(Pt[0]=Math.floor(Pt[0]),Pt[1]=Math.floor(Pt[1]),Pt[2]=Math.ceil(Pt[2]),Pt[3]=Math.ceil(Pt[3])):Pt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const kt=this.current.activeSMask,Nt=this.suspendedCtx;$t(Nt,kt,this.ctx,Pt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(gt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Pt=this.current;this.stateStack.push(Pt),this.current=Pt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Pt,kt,Nt,zt,Wt,Gt){this.ctx.transform(Pt,kt,Nt,zt,Wt,Gt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Pt,kt,Nt){const zt=this.ctx,Wt=this.current;let Gt=Wt.x,Kt=Wt.y,Zt,dn;const Qt=(0,nt.getCurrentTransform)(zt),wn=Qt[0]===0&&Qt[3]===0||Qt[1]===0&&Qt[2]===0,Sn=wn?Nt.slice(0):null;for(let $n=0,an=0,cn=Pt.length;$n<cn;$n++)switch(Pt[$n]|0){case tt.OPS.rectangle:Gt=kt[an++],Kt=kt[an++];const It=kt[an++],qt=kt[an++],tn=Gt+It,fn=Kt+qt;zt.moveTo(Gt,Kt),It===0||qt===0?zt.lineTo(tn,fn):(zt.lineTo(tn,Kt),zt.lineTo(tn,fn),zt.lineTo(Gt,fn)),wn||Wt.updateRectMinMax(Qt,[Gt,Kt,tn,fn]),zt.closePath();break;case tt.OPS.moveTo:Gt=kt[an++],Kt=kt[an++],zt.moveTo(Gt,Kt),wn||Wt.updatePathMinMax(Qt,Gt,Kt);break;case tt.OPS.lineTo:Gt=kt[an++],Kt=kt[an++],zt.lineTo(Gt,Kt),wn||Wt.updatePathMinMax(Qt,Gt,Kt);break;case tt.OPS.curveTo:Zt=Gt,dn=Kt,Gt=kt[an+4],Kt=kt[an+5],zt.bezierCurveTo(kt[an],kt[an+1],kt[an+2],kt[an+3],Gt,Kt),Wt.updateCurvePathMinMax(Qt,Zt,dn,kt[an],kt[an+1],kt[an+2],kt[an+3],Gt,Kt,Sn),an+=6;break;case tt.OPS.curveTo2:Zt=Gt,dn=Kt,zt.bezierCurveTo(Gt,Kt,kt[an],kt[an+1],kt[an+2],kt[an+3]),Wt.updateCurvePathMinMax(Qt,Zt,dn,Gt,Kt,kt[an],kt[an+1],kt[an+2],kt[an+3],Sn),Gt=kt[an+2],Kt=kt[an+3],an+=4;break;case tt.OPS.curveTo3:Zt=Gt,dn=Kt,Gt=kt[an+2],Kt=kt[an+3],zt.bezierCurveTo(kt[an],kt[an+1],Gt,Kt,Gt,Kt),Wt.updateCurvePathMinMax(Qt,Zt,dn,kt[an],kt[an+1],Gt,Kt,Gt,Kt,Sn),an+=4;break;case tt.OPS.closePath:zt.closePath();break}wn&&Wt.updateScalingPathMinMax(Qt,Sn),Wt.setCurrentPoint(Gt,Kt)}closePath(){this.ctx.closePath()}stroke(Pt=!0){const kt=this.ctx,Nt=this.current.strokeColor;kt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Nt=="object"&&(Nt!=null&&Nt.getPattern)?(kt.save(),kt.strokeStyle=Nt.getPattern(kt,this,(0,nt.getCurrentTransformInverse)(kt),rt.PathType.STROKE),this.rescaleAndStroke(!1),kt.restore()):this.rescaleAndStroke(!0)),Pt&&this.consumePath(this.current.getClippedPathBoundingBox()),kt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Pt=!0){const kt=this.ctx,Nt=this.current.fillColor,zt=this.current.patternFill;let Wt=!1;zt&&(kt.save(),kt.fillStyle=Nt.getPattern(kt,this,(0,nt.getCurrentTransformInverse)(kt),rt.PathType.FILL),Wt=!0);const Gt=this.current.getClippedPathBoundingBox();this.contentVisible&&Gt!==null&&(this.pendingEOFill?(kt.fill("evenodd"),this.pendingEOFill=!1):kt.fill()),Wt&&kt.restore(),Pt&&this.consumePath(Gt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Mt}eoClip(){this.pendingClip=Ht}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Pt=this.pendingTextPaths,kt=this.ctx;if(Pt===void 0){kt.beginPath();return}kt.save(),kt.beginPath();for(const Nt of Pt)kt.setTransform(...Nt.transform),kt.translate(Nt.x,Nt.y),Nt.addToPath(kt,Nt.fontSize);kt.restore(),kt.clip(),kt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Pt){this.current.charSpacing=Pt}setWordSpacing(Pt){this.current.wordSpacing=Pt}setHScale(Pt){this.current.textHScale=Pt/100}setLeading(Pt){this.current.leading=-Pt}setFont(Pt,kt){var Qt;const Nt=this.commonObjs.get(Pt),zt=this.current;if(!Nt)throw new Error(`Can't find font for ${Pt}`);if(zt.fontMatrix=Nt.fontMatrix||tt.FONT_IDENTITY_MATRIX,(zt.fontMatrix[0]===0||zt.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+Pt),kt<0?(kt=-kt,zt.fontDirection=-1):zt.fontDirection=1,this.current.font=Nt,this.current.fontSize=kt,Nt.isType3Font)return;const Wt=Nt.loadedName||"sans-serif",Gt=((Qt=Nt.systemFontInfo)==null?void 0:Qt.css)||`"${Wt}", ${Nt.fallbackName}`;let Kt="normal";Nt.black?Kt="900":Nt.bold&&(Kt="bold");const Zt=Nt.italic?"italic":"normal";let dn=kt;kt<ot?dn=ot:kt>at&&(dn=at),this.current.fontSizeScale=kt/dn,this.ctx.font=`${Zt} ${Kt} ${dn}px ${Gt}`}setTextRenderingMode(Pt){this.current.textRenderingMode=Pt}setTextRise(Pt){this.current.textRise=Pt}moveText(Pt,kt){this.current.x=this.current.lineX+=Pt,this.current.y=this.current.lineY+=kt}setLeadingMoveText(Pt,kt){this.setLeading(-kt),this.moveText(Pt,kt)}setTextMatrix(Pt,kt,Nt,zt,Wt,Gt){this.current.textMatrix=[Pt,kt,Nt,zt,Wt,Gt],this.current.textMatrixScale=Math.hypot(Pt,kt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Pt,kt,Nt,zt){const Wt=this.ctx,Gt=this.current,Kt=Gt.font,Zt=Gt.textRenderingMode,dn=Gt.fontSize/Gt.fontSizeScale,Qt=Zt&tt.TextRenderingMode.FILL_STROKE_MASK,wn=!!(Zt&tt.TextRenderingMode.ADD_TO_PATH_FLAG),Sn=Gt.patternFill&&!Kt.missingFile;let $n;(Kt.disableFontFace||wn||Sn)&&($n=Kt.getPathGenerator(this.commonObjs,Pt)),Kt.disableFontFace||Sn?(Wt.save(),Wt.translate(kt,Nt),Wt.beginPath(),$n(Wt,dn),zt&&Wt.setTransform(...zt),(Qt===tt.TextRenderingMode.FILL||Qt===tt.TextRenderingMode.FILL_STROKE)&&Wt.fill(),(Qt===tt.TextRenderingMode.STROKE||Qt===tt.TextRenderingMode.FILL_STROKE)&&Wt.stroke(),Wt.restore()):((Qt===tt.TextRenderingMode.FILL||Qt===tt.TextRenderingMode.FILL_STROKE)&&Wt.fillText(Pt,kt,Nt),(Qt===tt.TextRenderingMode.STROKE||Qt===tt.TextRenderingMode.FILL_STROKE)&&Wt.strokeText(Pt,kt,Nt)),wn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nt.getCurrentTransform)(Wt),x:kt,y:Nt,fontSize:dn,addToPath:$n})}get isFontSubpixelAAEnabled(){const{context:Pt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Pt.scale(1.5,1),Pt.fillText("I",0,10);const kt=Pt.getImageData(0,0,10,10).data;let Nt=!1;for(let zt=3;zt<kt.length;zt+=4)if(kt[zt]>0&&kt[zt]<255){Nt=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",Nt)}showText(Pt){const kt=this.current,Nt=kt.font;if(Nt.isType3Font)return this.showType3Text(Pt);const zt=kt.fontSize;if(zt===0)return;const Wt=this.ctx,Gt=kt.fontSizeScale,Kt=kt.charSpacing,Zt=kt.wordSpacing,dn=kt.fontDirection,Qt=kt.textHScale*dn,wn=Pt.length,Sn=Nt.vertical,$n=Sn?1:-1,an=Nt.defaultVMetrics,cn=zt*kt.fontMatrix[0],It=kt.textRenderingMode===tt.TextRenderingMode.FILL&&!Nt.disableFontFace&&!kt.patternFill;Wt.save(),Wt.transform(...kt.textMatrix),Wt.translate(kt.x,kt.y+kt.textRise),dn>0?Wt.scale(Qt,-1):Wt.scale(Qt,1);let qt;if(kt.patternFill){Wt.save();const En=kt.fillColor.getPattern(Wt,this,(0,nt.getCurrentTransformInverse)(Wt),rt.PathType.FILL);qt=(0,nt.getCurrentTransform)(Wt),Wt.restore(),Wt.fillStyle=En}let tn=kt.lineWidth;const fn=kt.textMatrixScale;if(fn===0||tn===0){const En=kt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(En===tt.TextRenderingMode.STROKE||En===tt.TextRenderingMode.FILL_STROKE)&&(tn=this.getSinglePixelWidth())}else tn/=fn;if(Gt!==1&&(Wt.scale(Gt,Gt),tn/=Gt),Wt.lineWidth=tn,Nt.isInvalidPDFjsFont){const En=[];let sn=0;for(const In of Pt)En.push(In.unicode),sn+=In.width;Wt.fillText(En.join(""),0,0),kt.x+=sn*cn*Qt,Wt.restore(),this.compose();return}let _n=0,Cn;for(Cn=0;Cn<wn;++Cn){const En=Pt[Cn];if(typeof En=="number"){_n+=$n*En*zt/1e3;continue}let sn=!1;const In=(En.isSpace?Zt:0)+Kt,Nn=En.fontChar,er=En.accent;let Jn,ir,Vn=En.width;if(Sn){const or=En.vmetric||an,sr=-(En.vmetric?or[1]:Vn*.5)*cn,Tn=or[2]*cn;Vn=or?-or[0]:Vn,Jn=sr/Gt,ir=(_n+Tn)/Gt}else Jn=_n/Gt,ir=0;if(Nt.remeasure&&Vn>0){const or=Wt.measureText(Nn).width*1e3/zt*Gt;if(Vn<or&&this.isFontSubpixelAAEnabled){const sr=Vn/or;sn=!0,Wt.save(),Wt.scale(sr,1),Jn/=sr}else Vn!==or&&(Jn+=(Vn-or)/2e3*zt/Gt)}if(this.contentVisible&&(En.isInFont||Nt.missingFile)){if(It&&!er)Wt.fillText(Nn,Jn,ir);else if(this.paintChar(Nn,Jn,ir,qt),er){const or=Jn+zt*er.offset.x/Gt,sr=ir-zt*er.offset.y/Gt;this.paintChar(er.fontChar,or,sr,qt)}}const Yn=Sn?Vn*cn-In*dn:Vn*cn+In*dn;_n+=Yn,sn&&Wt.restore()}Sn?kt.y-=_n:kt.x+=_n*Qt,Wt.restore(),this.compose()}showType3Text(Pt){const kt=this.ctx,Nt=this.current,zt=Nt.font,Wt=Nt.fontSize,Gt=Nt.fontDirection,Kt=zt.vertical?1:-1,Zt=Nt.charSpacing,dn=Nt.wordSpacing,Qt=Nt.textHScale*Gt,wn=Nt.fontMatrix||tt.FONT_IDENTITY_MATRIX,Sn=Pt.length,$n=Nt.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let an,cn,It,qt;if(!($n||Wt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,kt.save(),kt.transform(...Nt.textMatrix),kt.translate(Nt.x,Nt.y),kt.scale(Qt,Gt),an=0;an<Sn;++an){if(cn=Pt[an],typeof cn=="number"){qt=Kt*cn*Wt/1e3,this.ctx.translate(qt,0),Nt.x+=qt*Qt;continue}const tn=(cn.isSpace?dn:0)+Zt,fn=zt.charProcOperatorList[cn.operatorListId];if(!fn){(0,tt.warn)(`Type3 character "${cn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=cn,this.save(),kt.scale(Wt,Wt),kt.transform(...wn),this.executeOperatorList(fn),this.restore()),It=tt.Util.applyTransform([cn.width,0],wn)[0]*Wt+tn,kt.translate(It,0),Nt.x+=It*Qt}kt.restore(),this.processingType3=null}}setCharWidth(Pt,kt){}setCharWidthAndBounds(Pt,kt,Nt,zt,Wt,Gt){this.ctx.rect(Nt,zt,Wt-Nt,Gt-zt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Pt){let kt;if(Pt[0]==="TilingPattern"){const Nt=Pt[1],zt=this.baseTransform||(0,nt.getCurrentTransform)(this.ctx),Wt={createCanvasGraphics:Gt=>new Jt(Gt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};kt=new rt.TilingPattern(Pt,Nt,this.ctx,Wt,zt)}else kt=this._getPattern(Pt[1],Pt[2]);return kt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Pt,kt,Nt){const zt=tt.Util.makeHexColor(Pt,kt,Nt);this.ctx.strokeStyle=zt,this.current.strokeColor=zt}setFillRGBColor(Pt,kt,Nt){const zt=tt.Util.makeHexColor(Pt,kt,Nt);this.ctx.fillStyle=zt,this.current.fillColor=zt,this.current.patternFill=!1}_getPattern(Pt,kt=null){let Nt;return this.cachedPatterns.has(Pt)?Nt=this.cachedPatterns.get(Pt):(Nt=(0,rt.getShadingPattern)(this.getObject(Pt)),this.cachedPatterns.set(Pt,Nt)),kt&&(Nt.matrix=kt),Nt}shadingFill(Pt){if(!this.contentVisible)return;const kt=this.ctx;this.save();const Nt=this._getPattern(Pt);kt.fillStyle=Nt.getPattern(kt,this,(0,nt.getCurrentTransformInverse)(kt),rt.PathType.SHADING);const zt=(0,nt.getCurrentTransformInverse)(kt);if(zt){const{width:Wt,height:Gt}=kt.canvas,[Kt,Zt,dn,Qt]=tt.Util.getAxialAlignedBoundingBox([0,0,Wt,Gt],zt);this.ctx.fillRect(Kt,Zt,dn-Kt,Qt-Zt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Pt,kt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Pt)&&Pt.length===6&&this.transform(...Pt),this.baseTransform=(0,nt.getCurrentTransform)(this.ctx),kt)){const Nt=kt[2]-kt[0],zt=kt[3]-kt[1];this.ctx.rect(kt[0],kt[1],Nt,zt),this.current.updateRectMinMax((0,nt.getCurrentTransform)(this.ctx),kt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Pt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const kt=this.ctx;Pt.isolated||(0,tt.info)("TODO: Support non-isolated groups."),Pt.knockout&&(0,tt.warn)("Knockout groups not supported.");const Nt=(0,nt.getCurrentTransform)(kt);if(Pt.matrix&&kt.transform(...Pt.matrix),!Pt.bbox)throw new Error("Bounding box is required.");let zt=tt.Util.getAxialAlignedBoundingBox(Pt.bbox,(0,nt.getCurrentTransform)(kt));const Wt=[0,0,kt.canvas.width,kt.canvas.height];zt=tt.Util.intersect(zt,Wt)||[0,0,0,0];const Gt=Math.floor(zt[0]),Kt=Math.floor(zt[1]);let Zt=Math.max(Math.ceil(zt[2])-Gt,1),dn=Math.max(Math.ceil(zt[3])-Kt,1),Qt=1,wn=1;Zt>st&&(Qt=Zt/st,Zt=st),dn>st&&(wn=dn/st,dn=st),this.current.startNewPathAndClipBox([0,0,Zt,dn]);let Sn="groupAt"+this.groupLevel;Pt.smask&&(Sn+="_smask_"+this.smaskCounter++%2);const $n=this.cachedCanvases.getCanvas(Sn,Zt,dn),an=$n.context;an.scale(1/Qt,1/wn),an.translate(-Gt,-Kt),an.transform(...Nt),Pt.smask?this.smaskStack.push({canvas:$n.canvas,context:an,offsetX:Gt,offsetY:Kt,scaleX:Qt,scaleY:wn,subtype:Pt.smask.subtype,backdrop:Pt.smask.backdrop,transferMap:Pt.smask.transferMap||null,startTransformInverse:null}):(kt.setTransform(1,0,0,1,0,0),kt.translate(Gt,Kt),kt.scale(Qt,wn),kt.save()),gt(kt,an),this.ctx=an,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(kt),this.groupLevel++}endGroup(Pt){if(!this.contentVisible)return;this.groupLevel--;const kt=this.ctx,Nt=this.groupStack.pop();if(this.ctx=Nt,this.ctx.imageSmoothingEnabled=!1,Pt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const zt=(0,nt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...zt);const Wt=tt.Util.getAxialAlignedBoundingBox([0,0,kt.canvas.width,kt.canvas.height],zt);this.ctx.drawImage(kt.canvas,0,0),this.ctx.restore(),this.compose(Wt)}}beginAnnotation(Pt,kt,Nt,zt,Wt){if(on(this,Ft,Po).call(this),vt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(kt)&&kt.length===4){const Gt=kt[2]-kt[0],Kt=kt[3]-kt[1];if(Wt&&this.annotationCanvasMap){Nt=Nt.slice(),Nt[4]-=kt[0],Nt[5]-=kt[1],kt=kt.slice(),kt[0]=kt[1]=0,kt[2]=Gt,kt[3]=Kt;const[Zt,dn]=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(this.ctx)),{viewportScale:Qt}=this,wn=Math.ceil(Gt*this.outputScaleX*Qt),Sn=Math.ceil(Kt*this.outputScaleY*Qt);this.annotationCanvas=this.canvasFactory.create(wn,Sn);const{canvas:$n,context:an}=this.annotationCanvas;this.annotationCanvasMap.set(Pt,$n),this.annotationCanvas.savedCtx=this.ctx,this.ctx=an,this.ctx.save(),this.ctx.setTransform(Zt,0,0,-dn,0,Kt*dn),vt(this.ctx)}else vt(this.ctx),this.ctx.rect(kt[0],kt[1],Gt,Kt),this.ctx.clip(),this.endPath()}this.current=new yt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Nt),this.transform(...zt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),on(this,Ft,Eo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Pt){if(!this.contentVisible)return;const kt=Pt.count;Pt=this.getObject(Pt.data,Pt),Pt.count=kt;const Nt=this.ctx,zt=this.processingType3;if(zt&&(zt.compiled===void 0&&(zt.compiled=ht(Pt)),zt.compiled)){zt.compiled(Nt);return}const Wt=this._createMaskCanvas(Pt),Gt=Wt.canvas;Nt.save(),Nt.setTransform(1,0,0,1,0,0),Nt.drawImage(Gt,Wt.offsetX,Wt.offsetY),Nt.restore(),this.compose()}paintImageMaskXObjectRepeat(Pt,kt,Nt=0,zt=0,Wt,Gt){if(!this.contentVisible)return;Pt=this.getObject(Pt.data,Pt);const Kt=this.ctx;Kt.save();const Zt=(0,nt.getCurrentTransform)(Kt);Kt.transform(kt,Nt,zt,Wt,0,0);const dn=this._createMaskCanvas(Pt);Kt.setTransform(1,0,0,1,dn.offsetX-Zt[4],dn.offsetY-Zt[5]);for(let Qt=0,wn=Gt.length;Qt<wn;Qt+=2){const Sn=tt.Util.transform(Zt,[kt,Nt,zt,Wt,Gt[Qt],Gt[Qt+1]]),[$n,an]=tt.Util.applyTransform([0,0],Sn);Kt.drawImage(dn.canvas,$n,an)}Kt.restore(),this.compose()}paintImageMaskXObjectGroup(Pt){if(!this.contentVisible)return;const kt=this.ctx,Nt=this.current.fillColor,zt=this.current.patternFill;for(const Wt of Pt){const{data:Gt,width:Kt,height:Zt,transform:dn}=Wt,Qt=this.cachedCanvases.getCanvas("maskCanvas",Kt,Zt),wn=Qt.context;wn.save();const Sn=this.getObject(Gt,Wt);St(wn,Sn),wn.globalCompositeOperation="source-in",wn.fillStyle=zt?Nt.getPattern(wn,this,(0,nt.getCurrentTransformInverse)(kt),rt.PathType.FILL):Nt,wn.fillRect(0,0,Kt,Zt),wn.restore(),kt.save(),kt.transform(...dn),kt.scale(1,-1),mt(kt,Qt.canvas,0,0,Kt,Zt,0,-1,1,1),kt.restore()}this.compose()}paintImageXObject(Pt){if(!this.contentVisible)return;const kt=this.getObject(Pt);if(!kt){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(kt)}paintImageXObjectRepeat(Pt,kt,Nt,zt){if(!this.contentVisible)return;const Wt=this.getObject(Pt);if(!Wt){(0,tt.warn)("Dependent image isn't ready yet");return}const Gt=Wt.width,Kt=Wt.height,Zt=[];for(let dn=0,Qt=zt.length;dn<Qt;dn+=2)Zt.push({transform:[kt,0,0,Nt,zt[dn],zt[dn+1]],x:0,y:0,w:Gt,h:Kt});this.paintInlineImageXObjectGroup(Wt,Zt)}applyTransferMapsToCanvas(Pt){return this.current.transferMaps!=="none"&&(Pt.filter=this.current.transferMaps,Pt.drawImage(Pt.canvas,0,0),Pt.filter="none"),Pt.canvas}applyTransferMapsToBitmap(Pt){if(this.current.transferMaps==="none")return Pt.bitmap;const{bitmap:kt,width:Nt,height:zt}=Pt,Wt=this.cachedCanvases.getCanvas("inlineImage",Nt,zt),Gt=Wt.context;return Gt.filter=this.current.transferMaps,Gt.drawImage(kt,0,0),Gt.filter="none",Wt.canvas}paintInlineImageXObject(Pt){if(!this.contentVisible)return;const kt=Pt.width,Nt=Pt.height,zt=this.ctx;if(this.save(),!tt.isNodeJS){const{filter:Kt}=zt;Kt!=="none"&&Kt!==""&&(zt.filter="none")}zt.scale(1/kt,-1/Nt);let Wt;if(Pt.bitmap)Wt=this.applyTransferMapsToBitmap(Pt);else if(typeof HTMLElement=="function"&&Pt instanceof HTMLElement||!Pt.data)Wt=Pt;else{const Zt=this.cachedCanvases.getCanvas("inlineImage",kt,Nt).context;xt(Zt,Pt),Wt=this.applyTransferMapsToCanvas(Zt)}const Gt=this._scaleImage(Wt,(0,nt.getCurrentTransformInverse)(zt));zt.imageSmoothingEnabled=Et((0,nt.getCurrentTransform)(zt),Pt.interpolate),mt(zt,Gt.img,0,0,Gt.paintWidth,Gt.paintHeight,0,-Nt,kt,Nt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Pt,kt){if(!this.contentVisible)return;const Nt=this.ctx;let zt;if(Pt.bitmap)zt=Pt.bitmap;else{const Wt=Pt.width,Gt=Pt.height,Zt=this.cachedCanvases.getCanvas("inlineImage",Wt,Gt).context;xt(Zt,Pt),zt=this.applyTransferMapsToCanvas(Zt)}for(const Wt of kt)Nt.save(),Nt.transform(...Wt.transform),Nt.scale(1,-1),mt(Nt,zt,Wt.x,Wt.y,Wt.w,Wt.h,0,-1,1,1),Nt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Pt){}markPointProps(Pt,kt){}beginMarkedContent(Pt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Pt,kt){Pt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(kt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Pt){const kt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Pt);const Nt=this.ctx;this.pendingClip&&(kt||(this.pendingClip===Ht?Nt.clip("evenodd"):Nt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Nt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Pt=(0,nt.getCurrentTransform)(this.ctx);if(Pt[1]===0&&Pt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Pt[0]),Math.abs(Pt[3]));else{const kt=Math.abs(Pt[0]*Pt[3]-Pt[2]*Pt[1]),Nt=Math.hypot(Pt[0],Pt[2]),zt=Math.hypot(Pt[1],Pt[3]);this._cachedGetSinglePixelWidth=Math.max(Nt,zt)/kt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Pt}=this.current,{a:kt,b:Nt,c:zt,d:Wt}=this.ctx.getTransform();let Gt,Kt;if(Nt===0&&zt===0){const Zt=Math.abs(kt),dn=Math.abs(Wt);if(Zt===dn)if(Pt===0)Gt=Kt=1/Zt;else{const Qt=Zt*Pt;Gt=Kt=Qt<1?1/Qt:1}else if(Pt===0)Gt=1/Zt,Kt=1/dn;else{const Qt=Zt*Pt,wn=dn*Pt;Gt=Qt<1?1/Qt:1,Kt=wn<1?1/wn:1}}else{const Zt=Math.abs(kt*Wt-Nt*zt),dn=Math.hypot(kt,Nt),Qt=Math.hypot(zt,Wt);if(Pt===0)Gt=Qt/Zt,Kt=dn/Zt;else{const wn=Pt*Zt;Gt=Qt>wn?Qt/wn:1,Kt=dn>wn?dn/wn:1}}this._cachedScaleForStroking[0]=Gt,this._cachedScaleForStroking[1]=Kt}return this._cachedScaleForStroking}rescaleAndStroke(Pt){const{ctx:kt}=this,{lineWidth:Nt}=this.current,[zt,Wt]=this.getScaleForStroking();if(kt.lineWidth=Nt||1,zt===1&&Wt===1){kt.stroke();return}const Gt=kt.getLineDash();if(Pt&&kt.save(),kt.scale(zt,Wt),Gt.length>0){const Kt=Math.max(zt,Wt);kt.setLineDash(Gt.map(Zt=>Zt/Kt)),kt.lineDashOffset/=Kt}kt.stroke(),Pt&&kt.restore()}isContentVisible(){for(let Pt=this.markedContentStack.length-1;Pt>=0;Pt--)if(!this.markedContentStack[Pt].visible)return!1;return!0}};Ft=new WeakSet,Po=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Eo=function(){if(this.pageColors){const Pt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Pt!=="none"){const kt=this.ctx.filter;this.ctx.filter=Pt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=kt}}};let Rt=Jt;_e.CanvasGraphics=Rt;for(const Ot in tt.OPS)Rt.prototype[Ot]!==void 0&&(Rt.prototype[tt.OPS[Ot]]=Rt.prototype[Ot])},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=dt;var tt=et(1),nt=et(6);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=rt;function it(ht,yt){if(!yt)return;const xt=yt[2]-yt[0],St=yt[3]-yt[1],gt=new Path2D;gt.rect(yt[0],yt[1],xt,St),ht.clip(gt)}class ot{constructor(){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class at extends ot{constructor(yt){super(),this._type=yt[1],this._bbox=yt[2],this._colorStops=yt[3],this._p0=yt[4],this._p1=yt[5],this._r0=yt[6],this._r1=yt[7],this.matrix=null}_createGradient(yt){let xt;this._type==="axial"?xt=yt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xt=yt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const St of this._colorStops)xt.addColorStop(St[0],St[1]);return xt}getPattern(yt,xt,St,gt){let vt;if(gt===rt.STROKE||gt===rt.FILL){const bt=xt.current.getClippedPathBoundingBox(gt,(0,nt.getCurrentTransform)(yt))||[0,0,0,0],wt=Math.ceil(bt[2]-bt[0])||1,_t=Math.ceil(bt[3]-bt[1])||1,Ct=xt.cachedCanvases.getCanvas("pattern",wt,_t,!0),$t=Ct.context;$t.clearRect(0,0,$t.canvas.width,$t.canvas.height),$t.beginPath(),$t.rect(0,0,$t.canvas.width,$t.canvas.height),$t.translate(-bt[0],-bt[1]),St=tt.Util.transform(St,[1,0,0,1,bt[0],bt[1]]),$t.transform(...xt.baseTransform),this.matrix&&$t.transform(...this.matrix),it($t,this._bbox),$t.fillStyle=this._createGradient($t),$t.fill(),vt=yt.createPattern(Ct.canvas,"no-repeat");const Et=new DOMMatrix(St);vt.setTransform(Et)}else it(yt,this._bbox),vt=this._createGradient(yt);return vt}}function st(ht,yt,xt,St,gt,vt,bt,wt){const _t=yt.coords,Ct=yt.colors,$t=ht.data,Et=ht.width*4;let jt;_t[xt+1]>_t[St+1]&&(jt=xt,xt=St,St=jt,jt=vt,vt=bt,bt=jt),_t[St+1]>_t[gt+1]&&(jt=St,St=gt,gt=jt,jt=bt,bt=wt,wt=jt),_t[xt+1]>_t[St+1]&&(jt=xt,xt=St,St=jt,jt=vt,vt=bt,bt=jt);const Vt=(_t[xt]+yt.offsetX)*yt.scaleX,Mt=(_t[xt+1]+yt.offsetY)*yt.scaleY,Ht=(_t[St]+yt.offsetX)*yt.scaleX,Rt=(_t[St+1]+yt.offsetY)*yt.scaleY,Ft=(_t[gt]+yt.offsetX)*yt.scaleX,Tt=(_t[gt+1]+yt.offsetY)*yt.scaleY;if(Mt>=Tt)return;const Dt=Ct[vt],Jt=Ct[vt+1],Ot=Ct[vt+2],Pt=Ct[bt],kt=Ct[bt+1],Nt=Ct[bt+2],zt=Ct[wt],Wt=Ct[wt+1],Gt=Ct[wt+2],Kt=Math.round(Mt),Zt=Math.round(Tt);let dn,Qt,wn,Sn,$n,an,cn,It;for(let qt=Kt;qt<=Zt;qt++){if(qt<Rt){const En=qt<Mt?0:(Mt-qt)/(Mt-Rt);dn=Vt-(Vt-Ht)*En,Qt=Dt-(Dt-Pt)*En,wn=Jt-(Jt-kt)*En,Sn=Ot-(Ot-Nt)*En}else{let En;qt>Tt?En=1:Rt===Tt?En=0:En=(Rt-qt)/(Rt-Tt),dn=Ht-(Ht-Ft)*En,Qt=Pt-(Pt-zt)*En,wn=kt-(kt-Wt)*En,Sn=Nt-(Nt-Gt)*En}let tn;qt<Mt?tn=0:qt>Tt?tn=1:tn=(Mt-qt)/(Mt-Tt),$n=Vt-(Vt-Ft)*tn,an=Dt-(Dt-zt)*tn,cn=Jt-(Jt-Wt)*tn,It=Ot-(Ot-Gt)*tn;const fn=Math.round(Math.min(dn,$n)),_n=Math.round(Math.max(dn,$n));let Cn=Et*qt+fn*4;for(let En=fn;En<=_n;En++)tn=(dn-En)/(dn-$n),tn<0?tn=0:tn>1&&(tn=1),$t[Cn++]=Qt-(Qt-an)*tn|0,$t[Cn++]=wn-(wn-cn)*tn|0,$t[Cn++]=Sn-(Sn-It)*tn|0,$t[Cn++]=255}}function lt(ht,yt,xt){const St=yt.coords,gt=yt.colors;let vt,bt;switch(yt.type){case"lattice":const wt=yt.verticesPerRow,_t=Math.floor(St.length/wt)-1,Ct=wt-1;for(vt=0;vt<_t;vt++){let $t=vt*wt;for(let Et=0;Et<Ct;Et++,$t++)st(ht,xt,St[$t],St[$t+1],St[$t+wt],gt[$t],gt[$t+1],gt[$t+wt]),st(ht,xt,St[$t+wt+1],St[$t+1],St[$t+wt],gt[$t+wt+1],gt[$t+1],gt[$t+wt])}break;case"triangles":for(vt=0,bt=St.length;vt<bt;vt+=3)st(ht,xt,St[vt],St[vt+1],St[vt+2],gt[vt],gt[vt+1],gt[vt+2]);break;default:throw new Error("illegal figure")}}class ct extends ot{constructor(yt){super(),this._coords=yt[2],this._colors=yt[3],this._figures=yt[4],this._bounds=yt[5],this._bbox=yt[7],this._background=yt[8],this.matrix=null}_createMeshCanvas(yt,xt,St){const wt=Math.floor(this._bounds[0]),_t=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-wt,$t=Math.ceil(this._bounds[3])-_t,Et=Math.min(Math.ceil(Math.abs(Ct*yt[0]*1.1)),3e3),jt=Math.min(Math.ceil(Math.abs($t*yt[1]*1.1)),3e3),Vt=Ct/Et,Mt=$t/jt,Ht={coords:this._coords,colors:this._colors,offsetX:-wt,offsetY:-_t,scaleX:1/Vt,scaleY:1/Mt},Rt=Et+2*2,Ft=jt+2*2,Tt=St.getCanvas("mesh",Rt,Ft,!1),Dt=Tt.context,Jt=Dt.createImageData(Et,jt);if(xt){const Pt=Jt.data;for(let kt=0,Nt=Pt.length;kt<Nt;kt+=4)Pt[kt]=xt[0],Pt[kt+1]=xt[1],Pt[kt+2]=xt[2],Pt[kt+3]=255}for(const Pt of this._figures)lt(Jt,Pt,Ht);return Dt.putImageData(Jt,2,2),{canvas:Tt.canvas,offsetX:wt-2*Vt,offsetY:_t-2*Mt,scaleX:Vt,scaleY:Mt}}getPattern(yt,xt,St,gt){it(yt,this._bbox);let vt;if(gt===rt.SHADING)vt=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(yt));else if(vt=tt.Util.singularValueDecompose2dScale(xt.baseTransform),this.matrix){const wt=tt.Util.singularValueDecompose2dScale(this.matrix);vt=[vt[0]*wt[0],vt[1]*wt[1]]}const bt=this._createMeshCanvas(vt,gt===rt.SHADING?null:this._background,xt.cachedCanvases);return gt!==rt.SHADING&&(yt.setTransform(...xt.baseTransform),this.matrix&&yt.transform(...this.matrix)),yt.translate(bt.offsetX,bt.offsetY),yt.scale(bt.scaleX,bt.scaleY),yt.createPattern(bt.canvas,"no-repeat")}}class ut extends ot{getPattern(){return"hotpink"}}function dt(ht){switch(ht[0]){case"RadialAxial":return new at(ht);case"Mesh":return new ct(ht);case"Dummy":return new ut}throw new Error(`Unknown IR type: ${ht[0]}`)}const ft={COLORED:1,UNCOLORED:2},mt=class mt{constructor(yt,xt,St,gt,vt){this.operatorList=yt[2],this.matrix=yt[3]||[1,0,0,1,0,0],this.bbox=yt[4],this.xstep=yt[5],this.ystep=yt[6],this.paintType=yt[7],this.tilingType=yt[8],this.color=xt,this.ctx=St,this.canvasGraphicsFactory=gt,this.baseTransform=vt}createPatternCanvas(yt){const xt=this.operatorList,St=this.bbox,gt=this.xstep,vt=this.ystep,bt=this.paintType,wt=this.tilingType,_t=this.color,Ct=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+wt);const $t=St[0],Et=St[1],jt=St[2],Vt=St[3],Mt=tt.Util.singularValueDecompose2dScale(this.matrix),Ht=tt.Util.singularValueDecompose2dScale(this.baseTransform),Rt=[Mt[0]*Ht[0],Mt[1]*Ht[1]],Ft=this.getSizeAndScale(gt,this.ctx.canvas.width,Rt[0]),Tt=this.getSizeAndScale(vt,this.ctx.canvas.height,Rt[1]),Dt=yt.cachedCanvases.getCanvas("pattern",Ft.size,Tt.size,!0),Jt=Dt.context,Ot=Ct.createCanvasGraphics(Jt);Ot.groupLevel=yt.groupLevel,this.setFillAndStrokeStyleToContext(Ot,bt,_t);let Pt=$t,kt=Et,Nt=jt,zt=Vt;return $t<0&&(Pt=0,Nt+=Math.abs($t)),Et<0&&(kt=0,zt+=Math.abs(Et)),Jt.translate(-(Ft.scale*Pt),-(Tt.scale*kt)),Ot.transform(Ft.scale,0,0,Tt.scale,0,0),Jt.save(),this.clipBbox(Ot,Pt,kt,Nt,zt),Ot.baseTransform=(0,nt.getCurrentTransform)(Ot.ctx),Ot.executeOperatorList(xt),Ot.endDrawing(),{canvas:Dt.canvas,scaleX:Ft.scale,scaleY:Tt.scale,offsetX:Pt,offsetY:kt}}getSizeAndScale(yt,xt,St){yt=Math.abs(yt);const gt=Math.max(mt.MAX_PATTERN_SIZE,xt);let vt=Math.ceil(yt*St);return vt>=gt?vt=gt:St=vt/yt,{scale:St,size:vt}}clipBbox(yt,xt,St,gt,vt){const bt=gt-xt,wt=vt-St;yt.ctx.rect(xt,St,bt,wt),yt.current.updateRectMinMax((0,nt.getCurrentTransform)(yt.ctx),[xt,St,gt,vt]),yt.clip(),yt.endPath()}setFillAndStrokeStyleToContext(yt,xt,St){const gt=yt.ctx,vt=yt.current;switch(xt){case ft.COLORED:const bt=this.ctx;gt.fillStyle=bt.fillStyle,gt.strokeStyle=bt.strokeStyle,vt.fillColor=bt.fillStyle,vt.strokeColor=bt.strokeStyle;break;case ft.UNCOLORED:const wt=tt.Util.makeHexColor(St[0],St[1],St[2]);gt.fillStyle=wt,gt.strokeStyle=wt,vt.fillColor=wt,vt.strokeColor=wt;break;default:throw new tt.FormatError(`Unsupported paint type: ${xt}`)}}getPattern(yt,xt,St,gt){let vt=St;gt!==rt.SHADING&&(vt=tt.Util.transform(vt,xt.baseTransform),this.matrix&&(vt=tt.Util.transform(vt,this.matrix)));const bt=this.createPatternCanvas(xt);let wt=new DOMMatrix(vt);wt=wt.translate(bt.offsetX,bt.offsetY),wt=wt.scale(1/bt.scaleX,1/bt.scaleY);const _t=yt.createPattern(bt.canvas,"repeat");return _t.setTransform(wt),_t}};hr(mt,"MAX_PATTERN_SIZE",3e3);let pt=mt;_e.TilingPattern=pt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertBlackAndWhiteToRGBA=rt,_e.convertToRGBA=nt,_e.grayToRGBA=ot;var tt=et(1);function nt(at){switch(at.kind){case tt.ImageKind.GRAYSCALE_1BPP:return rt(at);case tt.ImageKind.RGB_24BPP:return it(at)}return null}function rt({src:at,srcPos:st=0,dest:lt,width:ct,height:ut,nonBlackColor:dt=4294967295,inverseDecode:ft=!1}){const pt=tt.FeatureTest.isLittleEndian?4278190080:255,[mt,ht]=ft?[dt,pt]:[pt,dt],yt=ct>>3,xt=ct&7,St=at.length;lt=new Uint32Array(lt.buffer);let gt=0;for(let vt=0;vt<ut;vt++){for(const wt=st+yt;st<wt;st++){const _t=st<St?at[st]:255;lt[gt++]=_t&128?ht:mt,lt[gt++]=_t&64?ht:mt,lt[gt++]=_t&32?ht:mt,lt[gt++]=_t&16?ht:mt,lt[gt++]=_t&8?ht:mt,lt[gt++]=_t&4?ht:mt,lt[gt++]=_t&2?ht:mt,lt[gt++]=_t&1?ht:mt}if(xt===0)continue;const bt=st<St?at[st++]:255;for(let wt=0;wt<xt;wt++)lt[gt++]=bt&1<<7-wt?ht:mt}return{srcPos:st,destPos:gt}}function it({src:at,srcPos:st=0,dest:lt,destPos:ct=0,width:ut,height:dt}){let ft=0;const pt=at.length>>2,mt=new Uint32Array(at.buffer,st,pt);if(tt.FeatureTest.isLittleEndian){for(;ft<pt-2;ft+=3,ct+=4){const ht=mt[ft],yt=mt[ft+1],xt=mt[ft+2];lt[ct]=ht|4278190080,lt[ct+1]=ht>>>24|yt<<8|4278190080,lt[ct+2]=yt>>>16|xt<<16|4278190080,lt[ct+3]=xt>>>8|4278190080}for(let ht=ft*4,yt=at.length;ht<yt;ht+=3)lt[ct++]=at[ht]|at[ht+1]<<8|at[ht+2]<<16|4278190080}else{for(;ft<pt-2;ft+=3,ct+=4){const ht=mt[ft],yt=mt[ft+1],xt=mt[ft+2];lt[ct]=ht|255,lt[ct+1]=ht<<24|yt>>>8|255,lt[ct+2]=yt<<16|xt>>>16|255,lt[ct+3]=xt<<8|255}for(let ht=ft*4,yt=at.length;ht<yt;ht+=3)lt[ct++]=at[ht]<<24|at[ht+1]<<16|at[ht+2]<<8|255}return{srcPos:st,destPos:ct}}function ot(at,st){if(tt.FeatureTest.isLittleEndian)for(let lt=0,ct=at.length;lt<ct;lt++)st[lt]=at[lt]*65793|4278190080;else for(let lt=0,ct=at.length;lt<ct;lt++)st[lt]=at[lt]*16843008|255}},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;const et=Object.create(null);_e.GlobalWorkerOptions=et,et.workerPort=null,et.workerSrc=""},($,_e,et)=>{var at,es,ts,Yr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var tt=et(1);const nt={DATA:1,ERROR:2},rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new tt.AbortException(ut.message);case"MissingPDFException":return new tt.MissingPDFException(ut.message);case"PasswordException":return new tt.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new tt.UnknownErrorException(ut.message,ut.details);default:return new tt.UnknownErrorException(ut.message,ut.toString())}}class ot{constructor(dt,ft,pt){mn(this,at);this.sourceName=dt,this.targetName=ft,this.comObj=pt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=mt=>{const ht=mt.data;if(ht.targetName!==this.sourceName)return;if(ht.stream){on(this,at,ts).call(this,ht);return}if(ht.callback){const xt=ht.callbackId,St=this.callbackCapabilities[xt];if(!St)throw new Error(`Cannot resolve callback ${xt}`);if(delete this.callbackCapabilities[xt],ht.callback===nt.DATA)St.resolve(ht.data);else if(ht.callback===nt.ERROR)St.reject(it(ht.reason));else throw new Error("Unexpected callback case");return}const yt=this.actionHandler[ht.action];if(!yt)throw new Error(`Unknown action from worker: ${ht.action}`);if(ht.callbackId){const xt=this.sourceName,St=ht.sourceName;new Promise(function(gt){gt(yt(ht.data))}).then(function(gt){pt.postMessage({sourceName:xt,targetName:St,callback:nt.DATA,callbackId:ht.callbackId,data:gt})},function(gt){pt.postMessage({sourceName:xt,targetName:St,callback:nt.ERROR,callbackId:ht.callbackId,reason:it(gt)})});return}if(ht.streamId){on(this,at,es).call(this,ht);return}yt(ht.data)},pt.addEventListener("message",this._onComObjOnMessage)}on(dt,ft){const pt=this.actionHandler;if(pt[dt])throw new Error(`There is already an actionName called "${dt}"`);pt[dt]=ft}send(dt,ft,pt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:ft},pt)}sendWithPromise(dt,ft,pt){const mt=this.callbackId++,ht=new tt.PromiseCapability;this.callbackCapabilities[mt]=ht;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:mt,data:ft},pt)}catch(yt){ht.reject(yt)}return ht.promise}sendWithStream(dt,ft,pt,mt){const ht=this.streamId++,yt=this.sourceName,xt=this.targetName,St=this.comObj;return new ReadableStream({start:gt=>{const vt=new tt.PromiseCapability;return this.streamControllers[ht]={controller:gt,startCall:vt,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:yt,targetName:xt,action:dt,streamId:ht,data:ft,desiredSize:gt.desiredSize},mt),vt.promise},pull:gt=>{const vt=new tt.PromiseCapability;return this.streamControllers[ht].pullCall=vt,St.postMessage({sourceName:yt,targetName:xt,stream:rt.PULL,streamId:ht,desiredSize:gt.desiredSize}),vt.promise},cancel:gt=>{(0,tt.assert)(gt instanceof Error,"cancel must have a valid reason");const vt=new tt.PromiseCapability;return this.streamControllers[ht].cancelCall=vt,this.streamControllers[ht].isClosed=!0,St.postMessage({sourceName:yt,targetName:xt,stream:rt.CANCEL,streamId:ht,reason:it(gt)}),vt.promise}},pt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}at=new WeakSet,es=function(dt){const ft=dt.streamId,pt=this.sourceName,mt=dt.sourceName,ht=this.comObj,yt=this,xt=this.actionHandler[dt.action],St={enqueue(gt,vt=1,bt){if(this.isCancelled)return;const wt=this.desiredSize;this.desiredSize-=vt,wt>0&&this.desiredSize<=0&&(this.sinkCapability=new tt.PromiseCapability,this.ready=this.sinkCapability.promise),ht.postMessage({sourceName:pt,targetName:mt,stream:rt.ENQUEUE,streamId:ft,chunk:gt},bt)},close(){this.isCancelled||(this.isCancelled=!0,ht.postMessage({sourceName:pt,targetName:mt,stream:rt.CLOSE,streamId:ft}),delete yt.streamSinks[ft])},error(gt){(0,tt.assert)(gt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ht.postMessage({sourceName:pt,targetName:mt,stream:rt.ERROR,streamId:ft,reason:it(gt)}))},sinkCapability:new tt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[ft]=St,new Promise(function(gt){gt(xt(dt.data,St))}).then(function(){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.START_COMPLETE,streamId:ft,success:!0})},function(gt){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.START_COMPLETE,streamId:ft,reason:it(gt)})})},ts=function(dt){const ft=dt.streamId,pt=this.sourceName,mt=dt.sourceName,ht=this.comObj,yt=this.streamControllers[ft],xt=this.streamSinks[ft];switch(dt.stream){case rt.START_COMPLETE:dt.success?yt.startCall.resolve():yt.startCall.reject(it(dt.reason));break;case rt.PULL_COMPLETE:dt.success?yt.pullCall.resolve():yt.pullCall.reject(it(dt.reason));break;case rt.PULL:if(!xt){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.PULL_COMPLETE,streamId:ft,success:!0});break}xt.desiredSize<=0&&dt.desiredSize>0&&xt.sinkCapability.resolve(),xt.desiredSize=dt.desiredSize,new Promise(function(St){var gt;St((gt=xt.onPull)==null?void 0:gt.call(xt))}).then(function(){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.PULL_COMPLETE,streamId:ft,success:!0})},function(St){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.PULL_COMPLETE,streamId:ft,reason:it(St)})});break;case rt.ENQUEUE:if((0,tt.assert)(yt,"enqueue should have stream controller"),yt.isClosed)break;yt.controller.enqueue(dt.chunk);break;case rt.CLOSE:if((0,tt.assert)(yt,"close should have stream controller"),yt.isClosed)break;yt.isClosed=!0,yt.controller.close(),on(this,at,Yr).call(this,yt,ft);break;case rt.ERROR:(0,tt.assert)(yt,"error should have stream controller"),yt.controller.error(it(dt.reason)),on(this,at,Yr).call(this,yt,ft);break;case rt.CANCEL_COMPLETE:dt.success?yt.cancelCall.resolve():yt.cancelCall.reject(it(dt.reason)),on(this,at,Yr).call(this,yt,ft);break;case rt.CANCEL:if(!xt)break;new Promise(function(St){var gt;St((gt=xt.onCancel)==null?void 0:gt.call(xt,it(dt.reason)))}).then(function(){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.CANCEL_COMPLETE,streamId:ft,success:!0})},function(St){ht.postMessage({sourceName:pt,targetName:mt,stream:rt.CANCEL_COMPLETE,streamId:ft,reason:it(St)})}),xt.sinkCapability.reject(it(dt.reason)),xt.isCancelled=!0,delete this.streamSinks[ft];break;default:throw new Error("Unexpected stream case")}},Yr=async function(dt,ft){var pt,mt,ht;await Promise.allSettled([(pt=dt.startCall)==null?void 0:pt.promise,(mt=dt.pullCall)==null?void 0:mt.promise,(ht=dt.cancelCall)==null?void 0:ht.promise]),delete this.streamControllers[ft]},_e.MessageHandler=ot},($,_e,et)=>{var rt,it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var tt=et(1);class nt{constructor({parsedData:at,rawData:st}){mn(this,rt);mn(this,it);vn(this,rt,at),vn(this,it,st)}getRaw(){return At(this,it)}get(at){return At(this,rt).get(at)??null}getAll(){return(0,tt.objectFromMap)(At(this,rt))}has(at){return At(this,rt).has(at)}}rt=new WeakMap,it=new WeakMap,_e.Metadata=nt},($,_e,et)=>{var at,st,lt,ct,ut,dt,ko;Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var tt=et(1),nt=et(8);const rt=Symbol("INTERNAL");class it{constructor(mt,ht){mn(this,at,!0);this.name=mt,this.intent=ht}get visible(){return At(this,at)}_setVisible(mt,ht){mt!==rt&&(0,tt.unreachable)("Internal method `_setVisible` called."),vn(this,at,ht)}}at=new WeakMap;class ot{constructor(mt){mn(this,dt);mn(this,st,null);mn(this,lt,new Map);mn(this,ct,null);mn(this,ut,null);if(this.name=null,this.creator=null,mt!==null){this.name=mt.name,this.creator=mt.creator,vn(this,ut,mt.order);for(const ht of mt.groups)At(this,lt).set(ht.id,new it(ht.name,ht.intent));if(mt.baseState==="OFF")for(const ht of At(this,lt).values())ht._setVisible(rt,!1);for(const ht of mt.on)At(this,lt).get(ht)._setVisible(rt,!0);for(const ht of mt.off)At(this,lt).get(ht)._setVisible(rt,!1);vn(this,ct,this.getHash())}}isVisible(mt){if(At(this,lt).size===0)return!0;if(!mt)return(0,tt.warn)("Optional content group not defined."),!0;if(mt.type==="OCG")return At(this,lt).has(mt.id)?At(this,lt).get(mt.id).visible:((0,tt.warn)(`Optional content group not found: ${mt.id}`),!0);if(mt.type==="OCMD"){if(mt.expression)return on(this,dt,ko).call(this,mt.expression);if(!mt.policy||mt.policy==="AnyOn"){for(const ht of mt.ids){if(!At(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(At(this,lt).get(ht).visible)return!0}return!1}else if(mt.policy==="AllOn"){for(const ht of mt.ids){if(!At(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(!At(this,lt).get(ht).visible)return!1}return!0}else if(mt.policy==="AnyOff"){for(const ht of mt.ids){if(!At(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(!At(this,lt).get(ht).visible)return!0}return!1}else if(mt.policy==="AllOff"){for(const ht of mt.ids){if(!At(this,lt).has(ht))return(0,tt.warn)(`Optional content group not found: ${ht}`),!0;if(At(this,lt).get(ht).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${mt.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${mt.type}.`),!0}setVisibility(mt,ht=!0){if(!At(this,lt).has(mt)){(0,tt.warn)(`Optional content group not found: ${mt}`);return}At(this,lt).get(mt)._setVisible(rt,!!ht),vn(this,st,null)}get hasInitialVisibility(){return At(this,ct)===null||this.getHash()===At(this,ct)}getOrder(){return At(this,lt).size?At(this,ut)?At(this,ut).slice():[...At(this,lt).keys()]:null}getGroups(){return At(this,lt).size>0?(0,tt.objectFromMap)(At(this,lt)):null}getGroup(mt){return At(this,lt).get(mt)||null}getHash(){if(At(this,st)!==null)return At(this,st);const mt=new nt.MurmurHash3_64;for(const[ht,yt]of At(this,lt))mt.update(`${ht}:${yt.visible}`);return vn(this,st,mt.hexdigest())}}st=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakSet,ko=function(mt){const ht=mt.length;if(ht<2)return!0;const yt=mt[0];for(let xt=1;xt<ht;xt++){const St=mt[xt];let gt;if(Array.isArray(St))gt=on(this,dt,ko).call(this,St);else if(At(this,lt).has(St))gt=At(this,lt).get(St).visible;else return(0,tt.warn)(`Optional content group not found: ${St}`),!0;switch(yt){case"And":if(!gt)return!1;break;case"Or":if(gt)return!0;break;case"Not":return!gt;default:return!0}}return yt==="And"},_e.OptionalContentConfig=ot},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var tt=et(1),nt=et(6);class rt{constructor({length:st,initialData:lt,progressiveDone:ct=!1,contentDispositionFilename:ut=null,disableRange:dt=!1,disableStream:ft=!1},pt){if((0,tt.assert)(pt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct,this._contentDispositionFilename=ut,(lt==null?void 0:lt.length)>0){const mt=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;this._queuedChunks.push(mt)}this._pdfDataRangeTransport=pt,this._isStreamingSupported=!ft,this._isRangeSupported=!dt,this._contentLength=st,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((mt,ht)=>{this._onReceiveData({begin:mt,chunk:ht})}),this._pdfDataRangeTransport.addProgressListener((mt,ht)=>{this._onProgress({loaded:mt,total:ht})}),this._pdfDataRangeTransport.addProgressiveReadListener(mt=>{this._onReceiveData({chunk:mt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:st,chunk:lt}){const ct=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;if(st===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ct):this._queuedChunks.push(ct);else{const ut=this._rangeReaders.some(function(dt){return dt._begin!==st?!1:(dt._enqueue(ct),!0)});(0,tt.assert)(ut,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}_onProgress(st){var lt,ct,ut,dt;st.total===void 0?(ct=(lt=this._rangeReaders[0])==null?void 0:lt.onProgress)==null||ct.call(lt,{loaded:st.loaded}):(dt=(ut=this._fullRequestReader)==null?void 0:ut.onProgress)==null||dt.call(ut,{loaded:st.loaded,total:st.total})}_onProgressiveDone(){var st;(st=this._fullRequestReader)==null||st.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(st){const lt=this._rangeReaders.indexOf(st);lt>=0&&this._rangeReaders.splice(lt,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const st=this._queuedChunks;return this._queuedChunks=null,new it(this,st,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(st,lt){if(lt<=this._progressiveDataLength)return null;const ct=new ot(this,st,lt);return this._pdfDataRangeTransport.requestDataRange(st,lt),this._rangeReaders.push(ct),ct}cancelAllRequests(st){var lt;(lt=this._fullRequestReader)==null||lt.cancel(st);for(const ct of this._rangeReaders.slice(0))ct.cancel(st);this._pdfDataRangeTransport.abort()}}_e.PDFDataTransportStream=rt;class it{constructor(st,lt,ct=!1,ut=null){this._stream=st,this._done=ct||!1,this._filename=(0,nt.isPdfFile)(ut)?ut:null,this._queuedChunks=lt||[],this._loaded=0;for(const dt of this._queuedChunks)this._loaded+=dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),st._fullRequestReader=this,this.onProgress=null}_enqueue(st){this._done||(this._requests.length>0?this._requests.shift().resolve({value:st,done:!1}):this._queuedChunks.push(st),this._loaded+=st.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const st=new tt.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ot{constructor(st,lt,ct){this._stream=st,this._begin=lt,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(st){if(!this._done){if(this._requests.length===0)this._queuedChunk=st;else{this._requests.shift().resolve({value:st,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const st=new tt.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var tt=et(1),nt=et(20);function rt(ct,ut,dt){return{method:"GET",headers:ct,signal:dt.signal,mode:"cors",credentials:ut?"include":"same-origin",redirect:"follow"}}function it(ct){const ut=new Headers;for(const dt in ct){const ft=ct[dt];ft!==void 0&&ut.append(dt,ft)}return ut}function ot(ct){return ct instanceof Uint8Array?ct.buffer:ct instanceof ArrayBuffer?ct:((0,tt.warn)(`getArrayBuffer - unexpected data format: ${ct}`),new Uint8Array(ct).buffer)}class at{constructor(ut){this.source=ut,this.isHttp=/^https?:/i.test(ut.url),this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new st(this),this._fullRequestReader}getRangeReader(ut,dt){if(dt<=this._progressiveDataLength)return null;const ft=new lt(this,ut,dt);return this._rangeRequestReaders.push(ft),ft}cancelAllRequests(ut){var dt;(dt=this._fullRequestReader)==null||dt.cancel(ut);for(const ft of this._rangeRequestReaders.slice(0))ft.cancel(ut)}}_e.PDFFetchStream=at;class st{constructor(ut){this._stream=ut,this._reader=null,this._loaded=0,this._filename=null;const dt=ut.source;this._withCredentials=dt.withCredentials||!1,this._contentLength=dt.length,this._headersCapability=new tt.PromiseCapability,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._headers=it(this._stream.httpHeaders);const ft=dt.url;fetch(ft,rt(this._headers,this._withCredentials,this._abortController)).then(pt=>{if(!(0,nt.validateResponseStatus)(pt.status))throw(0,nt.createResponseStatusError)(pt.status,ft);this._reader=pt.body.getReader(),this._headersCapability.resolve();const mt=xt=>pt.headers.get(xt),{allowRangeRequests:ht,suggestedLength:yt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ht,this._contentLength=yt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(mt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ft;await this._headersCapability.promise;const{value:ut,done:dt}=await this._reader.read();return dt?{value:ut,done:dt}:(this._loaded+=ut.byteLength,(ft=this.onProgress)==null||ft.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ot(ut),done:!1})}cancel(ut){var dt;(dt=this._reader)==null||dt.cancel(ut),this._abortController.abort()}}class lt{constructor(ut,dt,ft){this._stream=ut,this._reader=null,this._loaded=0;const pt=ut.source;this._withCredentials=pt.withCredentials||!1,this._readCapability=new tt.PromiseCapability,this._isStreamingSupported=!pt.disableStream,this._abortController=new AbortController,this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${dt}-${ft-1}`);const mt=pt.url;fetch(mt,rt(this._headers,this._withCredentials,this._abortController)).then(ht=>{if(!(0,nt.validateResponseStatus)(ht.status))throw(0,nt.createResponseStatusError)(ht.status,mt);this._readCapability.resolve(),this._reader=ht.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ft;await this._readCapability.promise;const{value:ut,done:dt}=await this._reader.read();return dt?{value:ut,done:dt}:(this._loaded+=ut.byteLength,(ft=this.onProgress)==null||ft.call(this,{loaded:this._loaded}),{value:ot(ut),done:!1})}cancel(ut){var dt;(dt=this._reader)==null||dt.cancel(ut),this._abortController.abort()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=at,_e.extractFilenameFromHeader=ot,_e.validateRangeRequestCapabilities=it,_e.validateResponseStatus=st;var tt=et(1),nt=et(21),rt=et(6);function it({getResponseHeader:lt,isHttp:ct,rangeChunkSize:ut,disableRange:dt}){const ft={allowRangeRequests:!1,suggestedLength:void 0},pt=parseInt(lt("Content-Length"),10);return!Number.isInteger(pt)||(ft.suggestedLength=pt,pt<=2*ut)||dt||!ct||lt("Accept-Ranges")!=="bytes"||(lt("Content-Encoding")||"identity")!=="identity"||(ft.allowRangeRequests=!0),ft}function ot(lt){const ct=lt("Content-Disposition");if(ct){let ut=(0,nt.getFilenameFromContentDispositionHeader)(ct);if(ut.includes("%"))try{ut=decodeURIComponent(ut)}catch{}if((0,rt.isPdfFile)(ut))return ut}return null}function at(lt,ct){return lt===404||lt===0&&ct.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+ct+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${lt}) while retrieving PDF "${ct}".`,lt)}function st(lt){return lt===200||lt===206}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=nt;var tt=et(1);function nt(rt){let it=!0,ot=at("filename\\*","i").exec(rt);if(ot){ot=ot[1];let pt=ut(ot);return pt=unescape(pt),pt=dt(pt),pt=ft(pt),lt(pt)}if(ot=ct(rt),ot){const pt=ft(ot);return lt(pt)}if(ot=at("filename","i").exec(rt),ot){ot=ot[1];let pt=ut(ot);return pt=ft(pt),lt(pt)}function at(pt,mt){return new RegExp("(?:^|;)\\s*"+pt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',mt)}function st(pt,mt){if(pt){if(!/^[\x00-\xFF]+$/.test(mt))return mt;try{const ht=new TextDecoder(pt,{fatal:!0}),yt=(0,tt.stringToBytes)(mt);mt=ht.decode(yt),it=!1}catch{}}return mt}function lt(pt){return it&&/[\x80-\xff]/.test(pt)&&(pt=st("utf-8",pt),it&&(pt=st("iso-8859-1",pt))),pt}function ct(pt){const mt=[];let ht;const yt=at("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ht=yt.exec(pt))!==null;){let[,St,gt,vt]=ht;if(St=parseInt(St,10),St in mt){if(St===0)break;continue}mt[St]=[gt,vt]}const xt=[];for(let St=0;St<mt.length&&St in mt;++St){let[gt,vt]=mt[St];vt=ut(vt),gt&&(vt=unescape(vt),St===0&&(vt=dt(vt))),xt.push(vt)}return xt.join("")}function ut(pt){if(pt.startsWith('"')){const mt=pt.slice(1).split('\\"');for(let ht=0;ht<mt.length;++ht){const yt=mt[ht].indexOf('"');yt!==-1&&(mt[ht]=mt[ht].slice(0,yt),mt.length=ht+1),mt[ht]=mt[ht].replaceAll(/\\(.)/g,"$1")}pt=mt.join('"')}return pt}function dt(pt){const mt=pt.indexOf("'");if(mt===-1)return pt;const ht=pt.slice(0,mt),xt=pt.slice(mt+1).replace(/^[^']*'/,"");return st(ht,xt)}function ft(pt){return!pt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(pt)?pt:pt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(mt,ht,yt,xt){if(yt==="q"||yt==="Q")return xt=xt.replaceAll("_"," "),xt=xt.replaceAll(/=([0-9a-fA-F]{2})/g,function(St,gt){return String.fromCharCode(parseInt(gt,16))}),st(ht,xt);try{xt=atob(xt)}catch{}return st(ht,xt)})}return""}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var tt=et(1),nt=et(20);const rt=200,it=206;function ot(ut){const dt=ut.response;return typeof dt!="string"?dt:(0,tt.stringToBytes)(dt).buffer}class at{constructor(dt,ft={}){this.url=dt,this.isHttp=/^https?:/i.test(dt),this.httpHeaders=this.isHttp&&ft.httpHeaders||Object.create(null),this.withCredentials=ft.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(dt,ft,pt){const mt={begin:dt,end:ft};for(const ht in pt)mt[ht]=pt[ht];return this.request(mt)}requestFull(dt){return this.request(dt)}request(dt){const ft=new XMLHttpRequest,pt=this.currXhrId++,mt=this.pendingRequests[pt]={xhr:ft};ft.open("GET",this.url),ft.withCredentials=this.withCredentials;for(const ht in this.httpHeaders){const yt=this.httpHeaders[ht];yt!==void 0&&ft.setRequestHeader(ht,yt)}return this.isHttp&&"begin"in dt&&"end"in dt?(ft.setRequestHeader("Range",`bytes=${dt.begin}-${dt.end-1}`),mt.expectedStatus=it):mt.expectedStatus=rt,ft.responseType="arraybuffer",dt.onError&&(ft.onerror=function(ht){dt.onError(ft.status)}),ft.onreadystatechange=this.onStateChange.bind(this,pt),ft.onprogress=this.onProgress.bind(this,pt),mt.onHeadersReceived=dt.onHeadersReceived,mt.onDone=dt.onDone,mt.onError=dt.onError,mt.onProgress=dt.onProgress,ft.send(null),pt}onProgress(dt,ft){var mt;const pt=this.pendingRequests[dt];pt&&((mt=pt.onProgress)==null||mt.call(pt,ft))}onStateChange(dt,ft){var St,gt,vt;const pt=this.pendingRequests[dt];if(!pt)return;const mt=pt.xhr;if(mt.readyState>=2&&pt.onHeadersReceived&&(pt.onHeadersReceived(),delete pt.onHeadersReceived),mt.readyState!==4||!(dt in this.pendingRequests))return;if(delete this.pendingRequests[dt],mt.status===0&&this.isHttp){(St=pt.onError)==null||St.call(pt,mt.status);return}const ht=mt.status||rt;if(!(ht===rt&&pt.expectedStatus===it)&&ht!==pt.expectedStatus){(gt=pt.onError)==null||gt.call(pt,mt.status);return}const xt=ot(mt);if(ht===it){const bt=mt.getResponseHeader("Content-Range"),wt=/bytes (\d+)-(\d+)\/(\d+)/.exec(bt);pt.onDone({begin:parseInt(wt[1],10),chunk:xt})}else xt?pt.onDone({begin:0,chunk:xt}):(vt=pt.onError)==null||vt.call(pt,mt.status)}getRequestXhr(dt){return this.pendingRequests[dt].xhr}isPendingRequest(dt){return dt in this.pendingRequests}abortRequest(dt){const ft=this.pendingRequests[dt].xhr;delete this.pendingRequests[dt],ft.abort()}}class st{constructor(dt){this._source=dt,this._manager=new at(dt.url,{httpHeaders:dt.httpHeaders,withCredentials:dt.withCredentials}),this._rangeChunkSize=dt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(dt){const ft=this._rangeRequestReaders.indexOf(dt);ft>=0&&this._rangeRequestReaders.splice(ft,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this._manager,this._source),this._fullRequestReader}getRangeReader(dt,ft){const pt=new ct(this._manager,dt,ft);return pt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(pt),pt}cancelAllRequests(dt){var ft;(ft=this._fullRequestReader)==null||ft.cancel(dt);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(dt)}}_e.PDFNetworkStream=st;class lt{constructor(dt,ft){this._manager=dt;const pt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ft.url,this._fullRequestId=dt.requestFull(pt),this._headersReceivedCapability=new tt.PromiseCapability,this._disableRange=ft.disableRange||!1,this._contentLength=ft.length,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const dt=this._fullRequestId,ft=this._manager.getRequestXhr(dt),pt=yt=>ft.getResponseHeader(yt),{allowRangeRequests:mt,suggestedLength:ht}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});mt&&(this._isRangeSupported=!0),this._contentLength=ht||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(pt),this._isRangeSupported&&this._manager.abortRequest(dt),this._headersReceivedCapability.resolve()}_onDone(dt){if(dt&&(this._requests.length>0?this._requests.shift().resolve({value:dt.chunk,done:!1}):this._cachedChunks.push(dt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(dt){this._storedError=(0,nt.createResponseStatusError)(dt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ft of this._requests)ft.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(dt){var ft;(ft=this.onProgress)==null||ft.call(this,{loaded:dt.loaded,total:dt.lengthComputable?dt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const dt=new tt.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0,this._headersReceivedCapability.reject(dt);for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(dt,ft,pt){this._manager=dt;const mt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=dt.url,this._requestId=dt.requestRange(ft,pt,mt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var dt;(dt=this.onClosed)==null||dt.call(this,this)}_onDone(dt){const ft=dt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ft,done:!1}):this._queuedChunk=ft,this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(dt){this._storedError=(0,nt.createResponseStatusError)(dt,this._url);for(const ft of this._requests)ft.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(dt){var ft;this.isStreamingSupported||(ft=this.onProgress)==null||ft.call(this,{loaded:dt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ft=this._queuedChunk;return this._queuedChunk=null,{value:ft,done:!1}}if(this._done)return{value:void 0,done:!0};const dt=new tt.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0;for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var tt=et(1),nt=et(20);const rt=/^file:\/\/\/[a-zA-Z]:\//;function it(pt){const mt=require$$5,ht=mt.parse(pt);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(pt)?mt.parse(`file:///${pt}`):(ht.host||(ht.protocol="file:"),ht)}class ot{constructor(mt){this.source=mt,this.url=it(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new ct(this),this._fullRequestReader}getRangeReader(mt,ht){if(ht<=this._progressiveDataLength)return null;const yt=this.isFsUrl?new ft(this,mt,ht):new ut(this,mt,ht);return this._rangeRequestReaders.push(yt),yt}cancelAllRequests(mt){var ht;(ht=this._fullRequestReader)==null||ht.cancel(mt);for(const yt of this._rangeRequestReaders.slice(0))yt.cancel(mt)}}_e.PDFNodeStream=ot;class at{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=mt.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=new tt.PromiseCapability,this._headersCapability=new tt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=mt.length,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class st{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new tt.PromiseCapability;const ht=mt.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=mt.length,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lt(pt,mt){return{protocol:pt.protocol,auth:pt.auth,host:pt.hostname,port:pt.port,path:pt.path,method:"GET",headers:mt}}class ct extends at{constructor(mt){super(mt);const ht=yt=>{if(yt.statusCode===404){const vt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=vt,this._headersCapability.reject(vt);return}this._headersCapability.resolve(),this._setReadableStream(yt);const xt=vt=>this._readableStream.headers[vt.toLowerCase()],{allowRangeRequests:St,suggestedLength:gt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=gt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(xt)};if(this._request=null,this._url.protocol==="http:"){const yt=require$$5;this._request=yt.request(lt(this._url,mt.httpHeaders),ht)}else{const yt=require$$5;this._request=yt.request(lt(this._url,mt.httpHeaders),ht)}this._request.on("error",yt=>{this._storedError=yt,this._headersCapability.reject(yt)}),this._request.end()}}class ut extends st{constructor(mt,ht,yt){super(mt),this._httpHeaders={};for(const St in mt.httpHeaders){const gt=mt.httpHeaders[St];gt!==void 0&&(this._httpHeaders[St]=gt)}this._httpHeaders.Range=`bytes=${ht}-${yt-1}`;const xt=St=>{if(St.statusCode===404){const gt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=gt;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=require$$5;this._request=St.request(lt(this._url,this._httpHeaders),xt)}else{const St=require$$5;this._request=St.request(lt(this._url,this._httpHeaders),xt)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class dt extends at{constructor(mt){super(mt);let ht=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(ht=ht.replace(/^\//,""));const yt=require$$5;yt.lstat(ht,(xt,St)=>{if(xt){xt.code==="ENOENT"&&(xt=new tt.MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=xt,this._headersCapability.reject(xt);return}this._contentLength=St.size,this._setReadableStream(yt.createReadStream(ht)),this._headersCapability.resolve()})}}class ft extends st{constructor(mt,ht,yt){super(mt);let xt=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(xt=xt.replace(/^\//,""));const St=require$$5;this._setReadableStream(St.createReadStream(xt,{start:ht,end:yt-1}))}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var tt=et(6),nt=et(1);const rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/1999/xlink",at=["butt","round","square"],st=["miter","round","bevel"],lt=function(St,gt="",vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!vt)return URL.createObjectURL(new Blob([St],{type:gt}));const bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let wt=`data:${gt};base64,`;for(let _t=0,Ct=St.length;_t<Ct;_t+=3){const $t=St[_t]&255,Et=St[_t+1]&255,jt=St[_t+2]&255,Vt=$t>>2,Mt=($t&3)<<4|Et>>4,Ht=_t+1<Ct?(Et&15)<<2|jt>>6:64,Rt=_t+2<Ct?jt&63:64;wt+=bt[Vt]+bt[Mt]+bt[Ht]+bt[Rt]}return wt},ct=function(){const St=new Uint8Array([137,80,78,71,13,10,26,10]),gt=12,vt=new Int32Array(256);for(let jt=0;jt<256;jt++){let Vt=jt;for(let Mt=0;Mt<8;Mt++)Vt=Vt&1?3988292384^Vt>>1&2147483647:Vt>>1&2147483647;vt[jt]=Vt}function bt(jt,Vt,Mt){let Ht=-1;for(let Rt=Vt;Rt<Mt;Rt++){const Ft=(Ht^jt[Rt])&255,Tt=vt[Ft];Ht=Ht>>>8^Tt}return Ht^-1}function wt(jt,Vt,Mt,Ht){let Rt=Ht;const Ft=Vt.length;Mt[Rt]=Ft>>24&255,Mt[Rt+1]=Ft>>16&255,Mt[Rt+2]=Ft>>8&255,Mt[Rt+3]=Ft&255,Rt+=4,Mt[Rt]=jt.charCodeAt(0)&255,Mt[Rt+1]=jt.charCodeAt(1)&255,Mt[Rt+2]=jt.charCodeAt(2)&255,Mt[Rt+3]=jt.charCodeAt(3)&255,Rt+=4,Mt.set(Vt,Rt),Rt+=Vt.length;const Tt=bt(Mt,Ht+4,Rt);Mt[Rt]=Tt>>24&255,Mt[Rt+1]=Tt>>16&255,Mt[Rt+2]=Tt>>8&255,Mt[Rt+3]=Tt&255}function _t(jt,Vt,Mt){let Ht=1,Rt=0;for(let Ft=Vt;Ft<Mt;++Ft)Ht=(Ht+(jt[Ft]&255))%65521,Rt=(Rt+Ht)%65521;return Rt<<16|Ht}function Ct(jt){if(!nt.isNodeJS)return $t(jt);try{const Vt=parseInt(process.versions.node)>=8?jt:Buffer.from(jt),Mt=require$$5.deflateSync(Vt,{level:9});return Mt instanceof Uint8Array?Mt:new Uint8Array(Mt)}catch(Vt){(0,nt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Vt)}return $t(jt)}function $t(jt){let Vt=jt.length;const Mt=65535,Ht=Math.ceil(Vt/Mt),Rt=new Uint8Array(2+Vt+Ht*5+4);let Ft=0;Rt[Ft++]=120,Rt[Ft++]=156;let Tt=0;for(;Vt>Mt;)Rt[Ft++]=0,Rt[Ft++]=255,Rt[Ft++]=255,Rt[Ft++]=0,Rt[Ft++]=0,Rt.set(jt.subarray(Tt,Tt+Mt),Ft),Ft+=Mt,Tt+=Mt,Vt-=Mt;Rt[Ft++]=1,Rt[Ft++]=Vt&255,Rt[Ft++]=Vt>>8&255,Rt[Ft++]=~Vt&65535&255,Rt[Ft++]=(~Vt&65535)>>8&255,Rt.set(jt.subarray(Tt),Ft),Ft+=jt.length-Tt;const Dt=_t(jt,0,jt.length);return Rt[Ft++]=Dt>>24&255,Rt[Ft++]=Dt>>16&255,Rt[Ft++]=Dt>>8&255,Rt[Ft++]=Dt&255,Rt}function Et(jt,Vt,Mt,Ht){const Rt=jt.width,Ft=jt.height;let Tt,Dt,Jt;const Ot=jt.data;switch(Vt){case nt.ImageKind.GRAYSCALE_1BPP:Dt=0,Tt=1,Jt=Rt+7>>3;break;case nt.ImageKind.RGB_24BPP:Dt=2,Tt=8,Jt=Rt*3;break;case nt.ImageKind.RGBA_32BPP:Dt=6,Tt=8,Jt=Rt*4;break;default:throw new Error("invalid format")}const Pt=new Uint8Array((1+Jt)*Ft);let kt=0,Nt=0;for(let dn=0;dn<Ft;++dn)Pt[kt++]=0,Pt.set(Ot.subarray(Nt,Nt+Jt),kt),Nt+=Jt,kt+=Jt;if(Vt===nt.ImageKind.GRAYSCALE_1BPP&&Ht){kt=0;for(let dn=0;dn<Ft;dn++){kt++;for(let Qt=0;Qt<Jt;Qt++)Pt[kt++]^=255}}const zt=new Uint8Array([Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255,Tt,Dt,0,0,0]),Wt=Ct(Pt),Gt=St.length+gt*3+zt.length+Wt.length,Kt=new Uint8Array(Gt);let Zt=0;return Kt.set(St,Zt),Zt+=St.length,wt("IHDR",zt,Kt,Zt),Zt+=gt+zt.length,wt("IDATA",Wt,Kt,Zt),Zt+=gt+Wt.length,wt("IEND",new Uint8Array(0),Kt,Zt),lt(Kt,"image/png",Mt)}return function(Vt,Mt,Ht){const Rt=Vt.kind===void 0?nt.ImageKind.GRAYSCALE_1BPP:Vt.kind;return Et(Vt,Rt,Mt,Ht)}}();class ut{constructor(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=nt.IDENTITY_MATRIX,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(gt,vt){this.x=gt,this.y=vt}}function dt(St){let gt=[];const vt=[];for(const bt of St){if(bt.fn==="save"){gt.push({fnId:92,fn:"group",items:[]}),vt.push(gt),gt=gt.at(-1).items;continue}bt.fn==="restore"?gt=vt.pop():gt.push(bt)}return gt}function ft(St){if(Number.isInteger(St))return St.toString();const gt=St.toFixed(10);let vt=gt.length-1;if(gt[vt]!=="0")return gt;do vt--;while(gt[vt]==="0");return gt.substring(0,gt[vt]==="."?vt:vt+1)}function pt(St){if(St[4]===0&&St[5]===0){if(St[1]===0&&St[2]===0)return St[0]===1&&St[3]===1?"":`scale(${ft(St[0])} ${ft(St[3])})`;if(St[0]===St[3]&&St[1]===-St[2]){const gt=Math.acos(St[0])*180/Math.PI;return`rotate(${ft(gt)})`}}else if(St[0]===1&&St[1]===0&&St[2]===0&&St[3]===1)return`translate(${ft(St[4])} ${ft(St[5])})`;return`matrix(${ft(St[0])} ${ft(St[1])} ${ft(St[2])} ${ft(St[3])} ${ft(St[4])} ${ft(St[5])})`}let mt=0,ht=0,yt=0;class xt{constructor(gt,vt,bt=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new ut,this.transformMatrix=nt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=gt,this.objs=vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!bt,this._operatorIdMapping=[];for(const wt in nt.OPS)this._operatorIdMapping[nt.OPS[wt]]=wt}getObject(gt,vt=null){return typeof gt=="string"?gt.startsWith("g_")?this.commonObjs.get(gt):this.objs.get(gt):vt}save(){this.transformStack.push(this.transformMatrix);const gt=this.current;this.extraStack.push(gt),this.current=gt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(gt){this.save(),this.executeOpTree(gt),this.restore()}loadDependencies(gt){const vt=gt.fnArray,bt=gt.argsArray;for(let wt=0,_t=vt.length;wt<_t;wt++)if(vt[wt]===nt.OPS.dependency)for(const Ct of bt[wt]){const $t=Ct.startsWith("g_")?this.commonObjs:this.objs,Et=new Promise(jt=>{$t.get(Ct,jt)});this.current.dependencies.push(Et)}return Promise.all(this.current.dependencies)}transform(gt,vt,bt,wt,_t,Ct){const $t=[gt,vt,bt,wt,_t,Ct];this.transformMatrix=nt.Util.transform(this.transformMatrix,$t),this.tgrp=null}getSVG(gt,vt){this.viewport=vt;const bt=this._initialize(vt);return this.loadDependencies(gt).then(()=>(this.transformMatrix=nt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(gt)),bt))}convertOpList(gt){const vt=this._operatorIdMapping,bt=gt.argsArray,wt=gt.fnArray,_t=[];for(let Ct=0,$t=wt.length;Ct<$t;Ct++){const Et=wt[Ct];_t.push({fnId:Et,fn:vt[Et],args:bt[Ct]})}return dt(_t)}executeOpTree(gt){for(const vt of gt){const bt=vt.fn,wt=vt.fnId,_t=vt.args;switch(wt|0){case nt.OPS.beginText:this.beginText();break;case nt.OPS.dependency:break;case nt.OPS.setLeading:this.setLeading(_t);break;case nt.OPS.setLeadingMoveText:this.setLeadingMoveText(_t[0],_t[1]);break;case nt.OPS.setFont:this.setFont(_t);break;case nt.OPS.showText:this.showText(_t[0]);break;case nt.OPS.showSpacedText:this.showText(_t[0]);break;case nt.OPS.endText:this.endText();break;case nt.OPS.moveText:this.moveText(_t[0],_t[1]);break;case nt.OPS.setCharSpacing:this.setCharSpacing(_t[0]);break;case nt.OPS.setWordSpacing:this.setWordSpacing(_t[0]);break;case nt.OPS.setHScale:this.setHScale(_t[0]);break;case nt.OPS.setTextMatrix:this.setTextMatrix(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]);break;case nt.OPS.setTextRise:this.setTextRise(_t[0]);break;case nt.OPS.setTextRenderingMode:this.setTextRenderingMode(_t[0]);break;case nt.OPS.setLineWidth:this.setLineWidth(_t[0]);break;case nt.OPS.setLineJoin:this.setLineJoin(_t[0]);break;case nt.OPS.setLineCap:this.setLineCap(_t[0]);break;case nt.OPS.setMiterLimit:this.setMiterLimit(_t[0]);break;case nt.OPS.setFillRGBColor:this.setFillRGBColor(_t[0],_t[1],_t[2]);break;case nt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_t[0],_t[1],_t[2]);break;case nt.OPS.setStrokeColorN:this.setStrokeColorN(_t);break;case nt.OPS.setFillColorN:this.setFillColorN(_t);break;case nt.OPS.shadingFill:this.shadingFill(_t[0]);break;case nt.OPS.setDash:this.setDash(_t[0],_t[1]);break;case nt.OPS.setRenderingIntent:this.setRenderingIntent(_t[0]);break;case nt.OPS.setFlatness:this.setFlatness(_t[0]);break;case nt.OPS.setGState:this.setGState(_t[0]);break;case nt.OPS.fill:this.fill();break;case nt.OPS.eoFill:this.eoFill();break;case nt.OPS.stroke:this.stroke();break;case nt.OPS.fillStroke:this.fillStroke();break;case nt.OPS.eoFillStroke:this.eoFillStroke();break;case nt.OPS.clip:this.clip("nonzero");break;case nt.OPS.eoClip:this.clip("evenodd");break;case nt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nt.OPS.paintImageXObject:this.paintImageXObject(_t[0]);break;case nt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_t[0]);break;case nt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_t[0]);break;case nt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_t[0],_t[1]);break;case nt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nt.OPS.closePath:this.closePath();break;case nt.OPS.closeStroke:this.closeStroke();break;case nt.OPS.closeFillStroke:this.closeFillStroke();break;case nt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nt.OPS.nextLine:this.nextLine();break;case nt.OPS.transform:this.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]);break;case nt.OPS.constructPath:this.constructPath(_t[0],_t[1]);break;case nt.OPS.endPath:this.endPath();break;case 92:this.group(vt.items);break;default:(0,nt.warn)(`Unimplemented operator ${bt}`);break}}}setWordSpacing(gt){this.current.wordSpacing=gt}setCharSpacing(gt){this.current.charSpacing=gt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(gt,vt,bt,wt,_t,Ct){const $t=this.current;$t.textMatrix=$t.lineMatrix=[gt,vt,bt,wt,_t,Ct],$t.textMatrixScale=Math.hypot(gt,vt),$t.x=$t.lineX=0,$t.y=$t.lineY=0,$t.xcoords=[],$t.ycoords=[],$t.tspan=this.svgFactory.createElement("svg:tspan"),$t.tspan.setAttributeNS(null,"font-family",$t.fontFamily),$t.tspan.setAttributeNS(null,"font-size",`${ft($t.fontSize)}px`),$t.tspan.setAttributeNS(null,"y",ft(-$t.y)),$t.txtElement=this.svgFactory.createElement("svg:text"),$t.txtElement.append($t.tspan)}beginText(){const gt=this.current;gt.x=gt.lineX=0,gt.y=gt.lineY=0,gt.textMatrix=nt.IDENTITY_MATRIX,gt.lineMatrix=nt.IDENTITY_MATRIX,gt.textMatrixScale=1,gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.txtElement=this.svgFactory.createElement("svg:text"),gt.txtgrp=this.svgFactory.createElement("svg:g"),gt.xcoords=[],gt.ycoords=[]}moveText(gt,vt){const bt=this.current;bt.x=bt.lineX+=gt,bt.y=bt.lineY+=vt,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${ft(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",ft(-bt.y))}showText(gt){const vt=this.current,bt=vt.font,wt=vt.fontSize;if(wt===0)return;const _t=vt.fontSizeScale,Ct=vt.charSpacing,$t=vt.wordSpacing,Et=vt.fontDirection,jt=vt.textHScale*Et,Vt=bt.vertical,Mt=Vt?1:-1,Ht=bt.defaultVMetrics,Rt=wt*vt.fontMatrix[0];let Ft=0;for(const Jt of gt){if(Jt===null){Ft+=Et*$t;continue}else if(typeof Jt=="number"){Ft+=Mt*Jt*wt/1e3;continue}const Ot=(Jt.isSpace?$t:0)+Ct,Pt=Jt.fontChar;let kt,Nt,zt=Jt.width;if(Vt){let Gt;const Kt=Jt.vmetric||Ht;Gt=Jt.vmetric?Kt[1]:zt*.5,Gt=-Gt*Rt;const Zt=Kt[2]*Rt;zt=Kt?-Kt[0]:zt,kt=Gt/_t,Nt=(Ft+Zt)/_t}else kt=Ft/_t,Nt=0;(Jt.isInFont||bt.missingFile)&&(vt.xcoords.push(vt.x+kt),Vt&&vt.ycoords.push(-vt.y+Nt),vt.tspan.textContent+=Pt);const Wt=Vt?zt*Rt-Ot*Et:zt*Rt+Ot*Et;Ft+=Wt}vt.tspan.setAttributeNS(null,"x",vt.xcoords.map(ft).join(" ")),Vt?vt.tspan.setAttributeNS(null,"y",vt.ycoords.map(ft).join(" ")):vt.tspan.setAttributeNS(null,"y",ft(-vt.y)),Vt?vt.y-=Ft:vt.x+=Ft*jt,vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${ft(vt.fontSize)}px`),vt.fontStyle!==rt.fontStyle&&vt.tspan.setAttributeNS(null,"font-style",vt.fontStyle),vt.fontWeight!==rt.fontWeight&&vt.tspan.setAttributeNS(null,"font-weight",vt.fontWeight);const Tt=vt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;if(Tt===nt.TextRenderingMode.FILL||Tt===nt.TextRenderingMode.FILL_STROKE?(vt.fillColor!==rt.fillColor&&vt.tspan.setAttributeNS(null,"fill",vt.fillColor),vt.fillAlpha<1&&vt.tspan.setAttributeNS(null,"fill-opacity",vt.fillAlpha)):vt.textRenderingMode===nt.TextRenderingMode.ADD_TO_PATH?vt.tspan.setAttributeNS(null,"fill","transparent"):vt.tspan.setAttributeNS(null,"fill","none"),Tt===nt.TextRenderingMode.STROKE||Tt===nt.TextRenderingMode.FILL_STROKE){const Jt=1/(vt.textMatrixScale||1);this._setStrokeAttributes(vt.tspan,Jt)}let Dt=vt.textMatrix;vt.textRise!==0&&(Dt=Dt.slice(),Dt[5]+=vt.textRise),vt.txtElement.setAttributeNS(null,"transform",`${pt(Dt)} scale(${ft(jt)}, -1)`),vt.txtElement.setAttributeNS(it,"xml:space","preserve"),vt.txtElement.append(vt.tspan),vt.txtgrp.append(vt.txtElement),this._ensureTransformGroup().append(vt.txtElement)}setLeadingMoveText(gt,vt){this.setLeading(-vt),this.moveText(gt,vt)}addFontStyle(gt){if(!gt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const vt=lt(gt.data,gt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${gt.loadedName}"; src: url(${vt}); }
`}setFont(gt){const vt=this.current,bt=this.commonObjs.get(gt[0]);let wt=gt[1];vt.font=bt,this.embedFonts&&!bt.missingFile&&!this.embeddedFonts[bt.loadedName]&&(this.addFontStyle(bt),this.embeddedFonts[bt.loadedName]=bt),vt.fontMatrix=bt.fontMatrix||nt.FONT_IDENTITY_MATRIX;let _t="normal";bt.black?_t="900":bt.bold&&(_t="bold");const Ct=bt.italic?"italic":"normal";wt<0?(wt=-wt,vt.fontDirection=-1):vt.fontDirection=1,vt.fontSize=wt,vt.fontFamily=bt.loadedName,vt.fontWeight=_t,vt.fontStyle=Ct,vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"y",ft(-vt.y)),vt.xcoords=[],vt.ycoords=[]}endText(){var vt;const gt=this.current;gt.textRenderingMode&nt.TextRenderingMode.ADD_TO_PATH_FLAG&&((vt=gt.txtElement)!=null&&vt.hasChildNodes())&&(gt.element=gt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(gt){gt>0&&(this.current.lineWidth=gt)}setLineCap(gt){this.current.lineCap=at[gt]}setLineJoin(gt){this.current.lineJoin=st[gt]}setMiterLimit(gt){this.current.miterLimit=gt}setStrokeAlpha(gt){this.current.strokeAlpha=gt}setStrokeRGBColor(gt,vt,bt){this.current.strokeColor=nt.Util.makeHexColor(gt,vt,bt)}setFillAlpha(gt){this.current.fillAlpha=gt}setFillRGBColor(gt,vt,bt){this.current.fillColor=nt.Util.makeHexColor(gt,vt,bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(gt){this.current.strokeColor=this._makeColorN_Pattern(gt)}setFillColorN(gt){this.current.fillColor=this._makeColorN_Pattern(gt)}shadingFill(gt){const{width:vt,height:bt}=this.viewport,wt=nt.Util.inverseTransform(this.transformMatrix),[_t,Ct,$t,Et]=nt.Util.getAxialAlignedBoundingBox([0,0,vt,bt],wt),jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x",_t),jt.setAttributeNS(null,"y",Ct),jt.setAttributeNS(null,"width",$t-_t),jt.setAttributeNS(null,"height",Et-Ct),jt.setAttributeNS(null,"fill",this._makeShadingPattern(gt)),this.current.fillAlpha<1&&jt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(jt)}_makeColorN_Pattern(gt){return gt[0]==="TilingPattern"?this._makeTilingPattern(gt):this._makeShadingPattern(gt)}_makeTilingPattern(gt){const vt=gt[1],bt=gt[2],wt=gt[3]||nt.IDENTITY_MATRIX,[_t,Ct,$t,Et]=gt[4],jt=gt[5],Vt=gt[6],Mt=gt[7],Ht=`shading${yt++}`,[Rt,Ft,Tt,Dt]=nt.Util.normalizeRect([...nt.Util.applyTransform([_t,Ct],wt),...nt.Util.applyTransform([$t,Et],wt)]),[Jt,Ot]=nt.Util.singularValueDecompose2dScale(wt),Pt=jt*Jt,kt=Vt*Ot,Nt=this.svgFactory.createElement("svg:pattern");Nt.setAttributeNS(null,"id",Ht),Nt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Nt.setAttributeNS(null,"width",Pt),Nt.setAttributeNS(null,"height",kt),Nt.setAttributeNS(null,"x",`${Rt}`),Nt.setAttributeNS(null,"y",`${Ft}`);const zt=this.svg,Wt=this.transformMatrix,Gt=this.current.fillColor,Kt=this.current.strokeColor,Zt=this.svgFactory.create(Tt-Rt,Dt-Ft);if(this.svg=Zt,this.transformMatrix=wt,Mt===2){const dn=nt.Util.makeHexColor(...vt);this.current.fillColor=dn,this.current.strokeColor=dn}return this.executeOpTree(this.convertOpList(bt)),this.svg=zt,this.transformMatrix=Wt,this.current.fillColor=Gt,this.current.strokeColor=Kt,Nt.append(Zt.childNodes[0]),this.defs.append(Nt),`url(#${Ht})`}_makeShadingPattern(gt){switch(typeof gt=="string"&&(gt=this.objs.get(gt)),gt[0]){case"RadialAxial":const vt=`shading${yt++}`,bt=gt[3];let wt;switch(gt[1]){case"axial":const _t=gt[4],Ct=gt[5];wt=this.svgFactory.createElement("svg:linearGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"x1",_t[0]),wt.setAttributeNS(null,"y1",_t[1]),wt.setAttributeNS(null,"x2",Ct[0]),wt.setAttributeNS(null,"y2",Ct[1]);break;case"radial":const $t=gt[4],Et=gt[5],jt=gt[6],Vt=gt[7];wt=this.svgFactory.createElement("svg:radialGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"cx",Et[0]),wt.setAttributeNS(null,"cy",Et[1]),wt.setAttributeNS(null,"r",Vt),wt.setAttributeNS(null,"fx",$t[0]),wt.setAttributeNS(null,"fy",$t[1]),wt.setAttributeNS(null,"fr",jt);break;default:throw new Error(`Unknown RadialAxial type: ${gt[1]}`)}for(const _t of bt){const Ct=this.svgFactory.createElement("svg:stop");Ct.setAttributeNS(null,"offset",_t[0]),Ct.setAttributeNS(null,"stop-color",_t[1]),wt.append(Ct)}return this.defs.append(wt),`url(#${vt})`;case"Mesh":return(0,nt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${gt[0]}`)}}setDash(gt,vt){this.current.dashArray=gt,this.current.dashPhase=vt}constructPath(gt,vt){const bt=this.current;let wt=bt.x,_t=bt.y,Ct=[],$t=0;for(const Et of gt)switch(Et|0){case nt.OPS.rectangle:wt=vt[$t++],_t=vt[$t++];const jt=vt[$t++],Vt=vt[$t++],Mt=wt+jt,Ht=_t+Vt;Ct.push("M",ft(wt),ft(_t),"L",ft(Mt),ft(_t),"L",ft(Mt),ft(Ht),"L",ft(wt),ft(Ht),"Z");break;case nt.OPS.moveTo:wt=vt[$t++],_t=vt[$t++],Ct.push("M",ft(wt),ft(_t));break;case nt.OPS.lineTo:wt=vt[$t++],_t=vt[$t++],Ct.push("L",ft(wt),ft(_t));break;case nt.OPS.curveTo:wt=vt[$t+4],_t=vt[$t+5],Ct.push("C",ft(vt[$t]),ft(vt[$t+1]),ft(vt[$t+2]),ft(vt[$t+3]),ft(wt),ft(_t)),$t+=6;break;case nt.OPS.curveTo2:Ct.push("C",ft(wt),ft(_t),ft(vt[$t]),ft(vt[$t+1]),ft(vt[$t+2]),ft(vt[$t+3])),wt=vt[$t+2],_t=vt[$t+3],$t+=4;break;case nt.OPS.curveTo3:wt=vt[$t+2],_t=vt[$t+3],Ct.push("C",ft(vt[$t]),ft(vt[$t+1]),ft(wt),ft(_t),ft(wt),ft(_t)),$t+=4;break;case nt.OPS.closePath:Ct.push("Z");break}Ct=Ct.join(" "),bt.path&&gt.length>0&&gt[0]!==nt.OPS.rectangle&&gt[0]!==nt.OPS.moveTo?Ct=bt.path.getAttributeNS(null,"d")+Ct:(bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(bt.path)),bt.path.setAttributeNS(null,"d",Ct),bt.path.setAttributeNS(null,"fill","none"),bt.element=bt.path,bt.setCurrentPoint(wt,_t)}endPath(){const gt=this.current;if(gt.path=null,!this.pendingClip)return;if(!gt.element){this.pendingClip=null;return}const vt=`clippath${mt++}`,bt=this.svgFactory.createElement("svg:clipPath");bt.setAttributeNS(null,"id",vt),bt.setAttributeNS(null,"transform",pt(this.transformMatrix));const wt=gt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?wt.setAttributeNS(null,"clip-rule","evenodd"):wt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,bt.append(wt),this.defs.append(bt),gt.activeClipUrl){gt.clipGroup=null;for(const _t of this.extraStack)_t.clipGroup=null;bt.setAttributeNS(null,"clip-path",gt.activeClipUrl)}gt.activeClipUrl=`url(#${vt})`,this.tgrp=null}clip(gt){this.pendingClip=gt}closePath(){const gt=this.current;if(gt.path){const vt=`${gt.path.getAttributeNS(null,"d")}Z`;gt.path.setAttributeNS(null,"d",vt)}}setLeading(gt){this.current.leading=-gt}setTextRise(gt){this.current.textRise=gt}setTextRenderingMode(gt){this.current.textRenderingMode=gt}setHScale(gt){this.current.textHScale=gt/100}setRenderingIntent(gt){}setFlatness(gt){}setGState(gt){for(const[vt,bt]of gt)switch(vt){case"LW":this.setLineWidth(bt);break;case"LC":this.setLineCap(bt);break;case"LJ":this.setLineJoin(bt);break;case"ML":this.setMiterLimit(bt);break;case"D":this.setDash(bt[0],bt[1]);break;case"RI":this.setRenderingIntent(bt);break;case"FL":this.setFlatness(bt);break;case"Font":this.setFont(bt);break;case"CA":this.setStrokeAlpha(bt);break;case"ca":this.setFillAlpha(bt);break;default:(0,nt.warn)(`Unimplemented graphic state operator ${vt}`);break}}fill(){const gt=this.current;gt.element&&(gt.element.setAttributeNS(null,"fill",gt.fillColor),gt.element.setAttributeNS(null,"fill-opacity",gt.fillAlpha),this.endPath())}stroke(){const gt=this.current;gt.element&&(this._setStrokeAttributes(gt.element),gt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(gt,vt=1){const bt=this.current;let wt=bt.dashArray;vt!==1&&wt.length>0&&(wt=wt.map(function(_t){return vt*_t})),gt.setAttributeNS(null,"stroke",bt.strokeColor),gt.setAttributeNS(null,"stroke-opacity",bt.strokeAlpha),gt.setAttributeNS(null,"stroke-miterlimit",ft(bt.miterLimit)),gt.setAttributeNS(null,"stroke-linecap",bt.lineCap),gt.setAttributeNS(null,"stroke-linejoin",bt.lineJoin),gt.setAttributeNS(null,"stroke-width",ft(vt*bt.lineWidth)+"px"),gt.setAttributeNS(null,"stroke-dasharray",wt.map(ft).join(" ")),gt.setAttributeNS(null,"stroke-dashoffset",ft(vt*bt.dashPhase)+"px")}eoFill(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var gt;(gt=this.current.element)==null||gt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const gt=this.svgFactory.createElement("svg:rect");gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y","0"),gt.setAttributeNS(null,"width","1px"),gt.setAttributeNS(null,"height","1px"),gt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(gt)}paintImageXObject(gt){const vt=this.getObject(gt);if(!vt){(0,nt.warn)(`Dependent image with object ID ${gt} is not ready yet`);return}this.paintInlineImageXObject(vt)}paintInlineImageXObject(gt,vt){const bt=gt.width,wt=gt.height,_t=ct(gt,this.forceDataSchema,!!vt),Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x","0"),Ct.setAttributeNS(null,"y","0"),Ct.setAttributeNS(null,"width",ft(bt)),Ct.setAttributeNS(null,"height",ft(wt)),this.current.element=Ct,this.clip("nonzero");const $t=this.svgFactory.createElement("svg:image");$t.setAttributeNS(ot,"xlink:href",_t),$t.setAttributeNS(null,"x","0"),$t.setAttributeNS(null,"y",ft(-wt)),$t.setAttributeNS(null,"width",ft(bt)+"px"),$t.setAttributeNS(null,"height",ft(wt)+"px"),$t.setAttributeNS(null,"transform",`scale(${ft(1/bt)} ${ft(-1/wt)})`),vt?vt.append($t):this._ensureTransformGroup().append($t)}paintImageMaskXObject(gt){const vt=this.getObject(gt.data,gt);if(vt.bitmap){(0,nt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const bt=this.current,wt=vt.width,_t=vt.height,Ct=bt.fillColor;bt.maskId=`mask${ht++}`;const $t=this.svgFactory.createElement("svg:mask");$t.setAttributeNS(null,"id",bt.maskId);const Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",ft(wt)),Et.setAttributeNS(null,"height",ft(_t)),Et.setAttributeNS(null,"fill",Ct),Et.setAttributeNS(null,"mask",`url(#${bt.maskId})`),this.defs.append($t),this._ensureTransformGroup().append(Et),this.paintInlineImageXObject(vt,$t)}paintFormXObjectBegin(gt,vt){if(Array.isArray(gt)&&gt.length===6&&this.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),vt){const bt=vt[2]-vt[0],wt=vt[3]-vt[1],_t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x",vt[0]),_t.setAttributeNS(null,"y",vt[1]),_t.setAttributeNS(null,"width",ft(bt)),_t.setAttributeNS(null,"height",ft(wt)),this.current.element=_t,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(gt){const vt=this.svgFactory.create(gt.width,gt.height),bt=this.svgFactory.createElement("svg:defs");vt.append(bt),this.defs=bt;const wt=this.svgFactory.createElement("svg:g");return wt.setAttributeNS(null,"transform",pt(gt.transform)),vt.append(wt),this.svg=wt,vt}_ensureClipGroup(){if(!this.current.clipGroup){const gt=this.svgFactory.createElement("svg:g");gt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(gt),this.current.clipGroup=gt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_e.SVGGraphics=xt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;class et{static textContent(nt){const rt=[],it={items:rt,styles:Object.create(null)};function ot(at){var ct;if(!at)return;let st=null;const lt=at.name;if(lt==="#text")st=at.value;else if(et.shouldBuildText(lt))(ct=at==null?void 0:at.attributes)!=null&&ct.textContent?st=at.attributes.textContent:at.value&&(st=at.value);else return;if(st!==null&&rt.push({str:st}),!!at.children)for(const ut of at.children)ot(ut)}return ot(nt),it}static shouldBuildText(nt){return!(nt==="textarea"||nt==="input"||nt==="option"||nt==="select")}}_e.XfaText=et},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextLayerRenderTask=void 0,_e.renderTextLayer=pt,_e.updateTextLayer=mt;var tt=et(1),nt=et(6);const rt=1e5,it=30,ot=.8,at=new Map;function st(ht,yt){let xt;if(yt&&tt.FeatureTest.isOffscreenCanvasSupported)xt=new OffscreenCanvas(ht,ht).getContext("2d",{alpha:!1});else{const St=document.createElement("canvas");St.width=St.height=ht,xt=St.getContext("2d",{alpha:!1})}return xt}function lt(ht,yt){const xt=at.get(ht);if(xt)return xt;const St=st(it,yt);St.font=`${it}px ${ht}`;const gt=St.measureText("");let vt=gt.fontBoundingBoxAscent,bt=Math.abs(gt.fontBoundingBoxDescent);if(vt){const _t=vt/(vt+bt);return at.set(ht,_t),St.canvas.width=St.canvas.height=0,_t}St.strokeStyle="red",St.clearRect(0,0,it,it),St.strokeText("g",0,0);let wt=St.getImageData(0,0,it,it).data;bt=0;for(let _t=wt.length-1-3;_t>=0;_t-=4)if(wt[_t]>0){bt=Math.ceil(_t/4/it);break}St.clearRect(0,0,it,it),St.strokeText("A",0,it),wt=St.getImageData(0,0,it,it).data,vt=0;for(let _t=0,Ct=wt.length;_t<Ct;_t+=4)if(wt[_t]>0){vt=it-Math.floor(_t/4/it);break}if(St.canvas.width=St.canvas.height=0,vt){const _t=vt/(vt+bt);return at.set(ht,_t),_t}return at.set(ht,ot),ot}function ct(ht,yt,xt){const St=document.createElement("span"),gt={angle:0,canvasWidth:0,hasText:yt.str!=="",hasEOL:yt.hasEOL,fontSize:0};ht._textDivs.push(St);const vt=tt.Util.transform(ht._transform,yt.transform);let bt=Math.atan2(vt[1],vt[0]);const wt=xt[yt.fontName];wt.vertical&&(bt+=Math.PI/2);const _t=Math.hypot(vt[2],vt[3]),Ct=_t*lt(wt.fontFamily,ht._isOffscreenCanvasSupported);let $t,Et;bt===0?($t=vt[4],Et=vt[5]-Ct):($t=vt[4]+Ct*Math.sin(bt),Et=vt[5]-Ct*Math.cos(bt));const jt="calc(var(--scale-factor)*",Vt=St.style;ht._container===ht._rootContainer?(Vt.left=`${(100*$t/ht._pageWidth).toFixed(2)}%`,Vt.top=`${(100*Et/ht._pageHeight).toFixed(2)}%`):(Vt.left=`${jt}${$t.toFixed(2)}px)`,Vt.top=`${jt}${Et.toFixed(2)}px)`),Vt.fontSize=`${jt}${_t.toFixed(2)}px)`,Vt.fontFamily=wt.fontFamily,gt.fontSize=_t,St.setAttribute("role","presentation"),St.textContent=yt.str,St.dir=yt.dir,ht._fontInspectorEnabled&&(St.dataset.fontName=yt.fontName),bt!==0&&(gt.angle=bt*(180/Math.PI));let Mt=!1;if(yt.str.length>1)Mt=!0;else if(yt.str!==" "&&yt.transform[0]!==yt.transform[3]){const Ht=Math.abs(yt.transform[0]),Rt=Math.abs(yt.transform[3]);Ht!==Rt&&Math.max(Ht,Rt)/Math.min(Ht,Rt)>1.5&&(Mt=!0)}Mt&&(gt.canvasWidth=wt.vertical?yt.height:yt.width),ht._textDivProperties.set(St,gt),ht._isReadableStream&&ht._layoutText(St)}function ut(ht){const{div:yt,scale:xt,properties:St,ctx:gt,prevFontSize:vt,prevFontFamily:bt}=ht,{style:wt}=yt;let _t="";if(St.canvasWidth!==0&&St.hasText){const{fontFamily:Ct}=wt,{canvasWidth:$t,fontSize:Et}=St;(vt!==Et||bt!==Ct)&&(gt.font=`${Et*xt}px ${Ct}`,ht.prevFontSize=Et,ht.prevFontFamily=Ct);const{width:jt}=gt.measureText(yt.textContent);jt>0&&(_t=`scaleX(${$t*xt/jt})`)}St.angle!==0&&(_t=`rotate(${St.angle}deg) ${_t}`),_t.length>0&&(wt.transform=_t)}function dt(ht){if(ht._canceled)return;const yt=ht._textDivs,xt=ht._capability;if(yt.length>rt){xt.resolve();return}if(!ht._isReadableStream)for(const gt of yt)ht._layoutText(gt);xt.resolve()}class ft{constructor({textContentSource:yt,container:xt,viewport:St,textDivs:gt,textDivProperties:vt,textContentItemsStr:bt,isOffscreenCanvasSupported:wt}){var jt;this._textContentSource=yt,this._isReadableStream=yt instanceof ReadableStream,this._container=this._rootContainer=xt,this._textDivs=gt||[],this._textContentItemsStr=bt||[],this._isOffscreenCanvasSupported=wt,this._fontInspectorEnabled=!!((jt=globalThis.FontInspector)!=null&&jt.enabled),this._reader=null,this._textDivProperties=vt||new WeakMap,this._canceled=!1,this._capability=new tt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:St.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:st(0,wt)};const{pageWidth:_t,pageHeight:Ct,pageX:$t,pageY:Et}=St.rawDims;this._transform=[1,0,0,-1,-$t,Et+Ct],this._pageWidth=_t,this._pageHeight=Ct,(0,nt.setLayerDimensions)(xt,St),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new tt.AbortException("TextLayer task cancelled."))}_processItems(yt,xt){for(const St of yt){if(St.str===void 0){if(St.type==="beginMarkedContentProps"||St.type==="beginMarkedContent"){const gt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),St.id!==null&&this._container.setAttribute("id",`${St.id}`),gt.append(this._container)}else St.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(St.str),ct(this,St,xt)}}_layoutText(yt){const xt=this._layoutTextParams.properties=this._textDivProperties.get(yt);if(this._layoutTextParams.div=yt,ut(this._layoutTextParams),xt.hasText&&this._container.append(yt),xt.hasEOL){const St=document.createElement("br");St.setAttribute("role","presentation"),this._container.append(St)}}_render(){const yt=new tt.PromiseCapability;let xt=Object.create(null);if(this._isReadableStream){const St=()=>{this._reader.read().then(({value:gt,done:vt})=>{if(vt){yt.resolve();return}Object.assign(xt,gt.styles),this._processItems(gt.items,xt),St()},yt.reject)};this._reader=this._textContentSource.getReader(),St()}else if(this._textContentSource){const{items:St,styles:gt}=this._textContentSource;this._processItems(St,gt),yt.resolve()}else throw new Error('No "textContentSource" parameter specified.');yt.promise.then(()=>{xt=null,dt(this)},this._capability.reject)}}_e.TextLayerRenderTask=ft;function pt(ht){!ht.textContentSource&&(ht.textContent||ht.textContentStream)&&((0,nt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ht.textContentSource=ht.textContent||ht.textContentStream);const{container:yt,viewport:xt}=ht,St=getComputedStyle(yt),gt=St.getPropertyValue("visibility"),vt=parseFloat(St.getPropertyValue("--scale-factor"));gt==="visible"&&(!vt||Math.abs(vt-xt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const bt=new ft(ht);return bt._render(),bt}function mt({container:ht,viewport:yt,textDivs:xt,textDivProperties:St,isOffscreenCanvasSupported:gt,mustRotate:vt=!0,mustRescale:bt=!0}){if(vt&&(0,nt.setLayerDimensions)(ht,{rotation:yt.rotation}),bt){const wt=st(0,gt),Ct={prevFontSize:null,prevFontFamily:null,div:null,scale:yt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt};for(const $t of xt)Ct.properties=St.get($t),Ct.div=$t,ut(Ct)}}},($,_e,et)=>{var lt,ct,ut,dt,ft,pt,mt,ht,yt,xt,St,Co,Jr,To,Oo;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditorLayer=void 0;var tt=et(1),nt=et(4),rt=et(28),it=et(33),ot=et(6),at=et(34);const _t=class _t{constructor({uiManager:$t,pageIndex:Et,div:jt,accessibilityManager:Vt,annotationLayer:Mt,viewport:Ht,l10n:Rt}){mn(this,St);mn(this,lt);mn(this,ct,!1);mn(this,ut,null);mn(this,dt,this.pointerup.bind(this));mn(this,ft,this.pointerdown.bind(this));mn(this,pt,new Map);mn(this,mt,!1);mn(this,ht,!1);mn(this,yt,!1);mn(this,xt);const Ft=[rt.FreeTextEditor,it.InkEditor,at.StampEditor];if(!_t._initialized){_t._initialized=!0;for(const Tt of Ft)Tt.initialize(Rt)}$t.registerEditorTypes(Ft),vn(this,xt,$t),this.pageIndex=Et,this.div=jt,vn(this,lt,Vt),vn(this,ut,Mt),this.viewport=Ht,At(this,xt).addLayer(this)}get isEmpty(){return At(this,pt).size===0}updateToolbar($t){At(this,xt).updateToolbar($t)}updateMode($t=At(this,xt).getMode()){on(this,St,Oo).call(this),$t===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),$t!==tt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",$t===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",$t===tt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",$t===tt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded($t){if(!$t&&At(this,xt).getMode()!==tt.AnnotationEditorType.INK)return;if(!$t){for(const jt of At(this,pt).values())if(jt.isEmpty()){jt.setInBackground();return}}on(this,St,Jr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($t){At(this,xt).setEditingState($t)}addCommands($t){At(this,xt).addCommands($t)}enable(){this.div.style.pointerEvents="auto";const $t=new Set;for(const jt of At(this,pt).values())jt.enableEditing(),jt.annotationElementId&&$t.add(jt.annotationElementId);if(!At(this,ut))return;const Et=At(this,ut).getEditableAnnotations();for(const jt of Et){if(jt.hide(),At(this,xt).isDeletedAnnotationElement(jt.data.id)||$t.has(jt.data.id))continue;const Vt=this.deserialize(jt);Vt&&(this.addOrRebuild(Vt),Vt.enableEditing())}}disable(){var Et;vn(this,yt,!0),this.div.style.pointerEvents="none";const $t=new Set;for(const jt of At(this,pt).values()){if(jt.disableEditing(),!jt.annotationElementId||jt.serialize()!==null){$t.add(jt.annotationElementId);continue}(Et=this.getEditableAnnotation(jt.annotationElementId))==null||Et.show(),jt.remove()}if(At(this,ut)){const jt=At(this,ut).getEditableAnnotations();for(const Vt of jt){const{id:Mt}=Vt.data;$t.has(Mt)||At(this,xt).isDeletedAnnotationElement(Mt)||Vt.show()}}on(this,St,Oo).call(this),this.isEmpty&&(this.div.hidden=!0),vn(this,yt,!1)}getEditableAnnotation($t){var Et;return((Et=At(this,ut))==null?void 0:Et.getEditableAnnotation($t))||null}setActiveEditor($t){At(this,xt).getActive()!==$t&&At(this,xt).setActiveEditor($t)}enableClick(){this.div.addEventListener("pointerdown",At(this,ft)),this.div.addEventListener("pointerup",At(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",At(this,ft)),this.div.removeEventListener("pointerup",At(this,dt))}attach($t){At(this,pt).set($t.id,$t);const{annotationElementId:Et}=$t;Et&&At(this,xt).isDeletedAnnotationElement(Et)&&At(this,xt).removeDeletedAnnotationElement($t)}detach($t){var Et;At(this,pt).delete($t.id),(Et=At(this,lt))==null||Et.removePointerInTextLayer($t.contentDiv),!At(this,yt)&&$t.annotationElementId&&At(this,xt).addDeletedAnnotationElement($t)}remove($t){this.detach($t),At(this,xt).removeEditor($t),$t.div.contains(document.activeElement)&&setTimeout(()=>{At(this,xt).focusMainContainer()},0),$t.div.remove(),$t.isAttachedToDOM=!1,At(this,ht)||this.addInkEditorIfNeeded(!1)}changeParent($t){var Et;$t.parent!==this&&($t.annotationElementId&&(At(this,xt).addDeletedAnnotationElement($t.annotationElementId),nt.AnnotationEditor.deleteAnnotationElement($t),$t.annotationElementId=null),this.attach($t),(Et=$t.parent)==null||Et.detach($t),$t.setParent(this),$t.div&&$t.isAttachedToDOM&&($t.div.remove(),this.div.append($t.div)))}add($t){if(this.changeParent($t),At(this,xt).addEditor($t),this.attach($t),!$t.isAttachedToDOM){const Et=$t.render();this.div.append(Et),$t.isAttachedToDOM=!0}$t.fixAndSetPosition(),$t.onceAdded(),At(this,xt).addToAnnotationStorage($t)}moveEditorInDOM($t){var jt;if(!$t.isAttachedToDOM)return;const{activeElement:Et}=document;$t.div.contains(Et)&&($t._focusEventsAllowed=!1,setTimeout(()=>{$t.div.contains(document.activeElement)?$t._focusEventsAllowed=!0:($t.div.addEventListener("focusin",()=>{$t._focusEventsAllowed=!0},{once:!0}),Et.focus())},0)),$t._structTreeParentId=(jt=At(this,lt))==null?void 0:jt.moveElementInDOM(this.div,$t.div,$t.contentDiv,!0)}addOrRebuild($t){$t.needsToBeRebuilt()?$t.rebuild():this.add($t)}addUndoableEditor($t){const Et=()=>$t._uiManager.rebuild($t),jt=()=>{$t.remove()};this.addCommands({cmd:Et,undo:jt,mustExec:!1})}getNextId(){return At(this,xt).getId()}pasteEditor($t,Et){At(this,xt).updateToolbar($t),At(this,xt).updateMode($t);const{offsetX:jt,offsetY:Vt}=on(this,St,To).call(this),Mt=this.getNextId(),Ht=on(this,St,Co).call(this,{parent:this,id:Mt,x:jt,y:Vt,uiManager:At(this,xt),isCentered:!0,...Et});Ht&&this.add(Ht)}deserialize($t){switch($t.annotationType??$t.annotationEditorType){case tt.AnnotationEditorType.FREETEXT:return rt.FreeTextEditor.deserialize($t,this,At(this,xt));case tt.AnnotationEditorType.INK:return it.InkEditor.deserialize($t,this,At(this,xt));case tt.AnnotationEditorType.STAMP:return at.StampEditor.deserialize($t,this,At(this,xt))}return null}addNewEditor(){on(this,St,Jr).call(this,on(this,St,To).call(this),!0)}setSelected($t){At(this,xt).setSelected($t)}toggleSelected($t){At(this,xt).toggleSelected($t)}isSelected($t){return At(this,xt).isSelected($t)}unselect($t){At(this,xt).unselect($t)}pointerup($t){const{isMac:Et}=tt.FeatureTest.platform;if(!($t.button!==0||$t.ctrlKey&&Et)&&$t.target===this.div&&At(this,mt)){if(vn(this,mt,!1),!At(this,ct)){vn(this,ct,!0);return}if(At(this,xt).getMode()===tt.AnnotationEditorType.STAMP){At(this,xt).unselectAll();return}on(this,St,Jr).call(this,$t,!1)}}pointerdown($t){if(At(this,mt)){vn(this,mt,!1);return}const{isMac:Et}=tt.FeatureTest.platform;if($t.button!==0||$t.ctrlKey&&Et||$t.target!==this.div)return;vn(this,mt,!0);const jt=At(this,xt).getActive();vn(this,ct,!jt||jt.isEmpty())}findNewParent($t,Et,jt){const Vt=At(this,xt).findParent(Et,jt);return Vt===null||Vt===this?!1:(Vt.changeParent($t),!0)}destroy(){var $t,Et;(($t=At(this,xt).getActive())==null?void 0:$t.parent)===this&&(At(this,xt).commitOrRemove(),At(this,xt).setActiveEditor(null));for(const jt of At(this,pt).values())(Et=At(this,lt))==null||Et.removePointerInTextLayer(jt.contentDiv),jt.setParent(null),jt.isAttachedToDOM=!1,jt.div.remove();this.div=null,At(this,pt).clear(),At(this,xt).removeLayer(this)}render({viewport:$t}){this.viewport=$t,(0,ot.setLayerDimensions)(this.div,$t);for(const Et of At(this,xt).getEditors(this.pageIndex))this.add(Et);this.updateMode()}update({viewport:$t}){At(this,xt).commitOrRemove(),this.viewport=$t,(0,ot.setLayerDimensions)(this.div,{rotation:$t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:$t,pageHeight:Et}=this.viewport.rawDims;return[$t,Et]}};lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakMap,xt=new WeakMap,St=new WeakSet,Co=function($t){switch(At(this,xt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new rt.FreeTextEditor($t);case tt.AnnotationEditorType.INK:return new it.InkEditor($t);case tt.AnnotationEditorType.STAMP:return new at.StampEditor($t)}return null},Jr=function($t,Et){const jt=this.getNextId(),Vt=on(this,St,Co).call(this,{parent:this,id:jt,x:$t.offsetX,y:$t.offsetY,uiManager:At(this,xt),isCentered:Et});return Vt&&this.add(Vt),Vt},To=function(){const{x:$t,y:Et,width:jt,height:Vt}=this.div.getBoundingClientRect(),Mt=Math.max(0,$t),Ht=Math.max(0,Et),Rt=Math.min(window.innerWidth,$t+jt),Ft=Math.min(window.innerHeight,Et+Vt),Tt=(Mt+Rt)/2-$t,Dt=(Ht+Ft)/2-Et,[Jt,Ot]=this.viewport.rotation%180===0?[Tt,Dt]:[Dt,Tt];return{offsetX:Jt,offsetY:Ot}},Oo=function(){vn(this,ht,!0);for(const $t of At(this,pt).values())$t.isEmpty()&&$t.remove();vn(this,ht,!1)},hr(_t,"_initialized",!1);let st=_t;_e.AnnotationEditorLayer=st},($,_e,et)=>{var at,st,lt,ct,ut,dt,ft,pt,mt,ht,ns,rs,is,Lr,jo,as,No;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FreeTextEditor=void 0;var tt=et(1),nt=et(5),rt=et(4),it=et(29);const _t=class _t extends rt.AnnotationEditor{constructor(Et){super({...Et,name:"freeTextEditor"});mn(this,ht);mn(this,at,this.editorDivBlur.bind(this));mn(this,st,this.editorDivFocus.bind(this));mn(this,lt,this.editorDivInput.bind(this));mn(this,ct,this.editorDivKeydown.bind(this));mn(this,ut);mn(this,dt,"");mn(this,ft,`${this.id}-editor`);mn(this,pt);mn(this,mt,null);vn(this,ut,Et.color||_t._defaultColor||rt.AnnotationEditor._defaultLineColor),vn(this,pt,Et.fontSize||_t._defaultFontSize)}static get _keyboardManager(){const Et=_t.prototype,jt=Ht=>Ht.isEmpty(),Vt=nt.AnnotationEditorUIManager.TRANSLATE_SMALL,Mt=nt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new nt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Et.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Et.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Et._translateEmpty,{args:[-Vt,0],checker:jt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Et._translateEmpty,{args:[-Mt,0],checker:jt}],[["ArrowRight","mac+ArrowRight"],Et._translateEmpty,{args:[Vt,0],checker:jt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Et._translateEmpty,{args:[Mt,0],checker:jt}],[["ArrowUp","mac+ArrowUp"],Et._translateEmpty,{args:[0,-Vt],checker:jt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Et._translateEmpty,{args:[0,-Mt],checker:jt}],[["ArrowDown","mac+ArrowDown"],Et._translateEmpty,{args:[0,Vt],checker:jt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Et._translateEmpty,{args:[0,Mt],checker:jt}]]))}static initialize(Et){rt.AnnotationEditor.initialize(Et,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const jt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(jt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Et,jt){switch(Et){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:_t._defaultFontSize=jt;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:_t._defaultColor=jt;break}}updateParams(Et,jt){switch(Et){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:on(this,ht,ns).call(this,jt);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:on(this,ht,rs).call(this,jt);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,_t._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,_t._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,At(this,pt)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,At(this,ut)]]}_translateEmpty(Et,jt){this._uiManager.translateSelectedEditors(Et,jt,!0)}getInitialTranslation(){const Et=this.parentScale;return[-_t._internalPadding*Et,-(_t._internalPadding+At(this,pt))*Et]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",At(this,ct)),this.editorDiv.addEventListener("focus",At(this,st)),this.editorDiv.addEventListener("blur",At(this,at)),this.editorDiv.addEventListener("input",At(this,lt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",At(this,ft)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",At(this,ct)),this.editorDiv.removeEventListener("focus",At(this,st)),this.editorDiv.removeEventListener("blur",At(this,at)),this.editorDiv.removeEventListener("input",At(this,lt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Et){this._focusEventsAllowed&&(super.focusin(Et),Et.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Et;if(this.width){on(this,ht,No).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Et=this._initialOptions)!=null&&Et.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Et=At(this,dt),jt=vn(this,dt,on(this,ht,is).call(this).trimEnd());if(Et===jt)return;const Vt=Mt=>{if(vn(this,dt,Mt),!Mt){this.remove();return}on(this,ht,jo).call(this),this._uiManager.rebuild(this),on(this,ht,Lr).call(this)};this.addCommands({cmd:()=>{Vt(jt)},undo:()=>{Vt(Et)},mustExec:!1}),on(this,ht,Lr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Et){this.enterInEditMode()}keydown(Et){Et.target===this.div&&Et.key==="Enter"&&(this.enterInEditMode(),Et.preventDefault())}editorDivKeydown(Et){_t._keyboardManager.exec(this,Et)}editorDivFocus(Et){this.isEditing=!0}editorDivBlur(Et){this.isEditing=!1}editorDivInput(Et){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Et,jt;this.width&&(Et=this.x,jt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",At(this,ft)),this.enableEditing(),rt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Mt=>{var Ht;return(Ht=this.editorDiv)==null?void 0:Ht.setAttribute("aria-label",Mt)}),rt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Mt=>{var Ht;return(Ht=this.editorDiv)==null?void 0:Ht.setAttribute("default-content",Mt)}),this.editorDiv.contentEditable=!0;const{style:Vt}=this.editorDiv;if(Vt.fontSize=`calc(${At(this,pt)}px * var(--scale-factor))`,Vt.color=At(this,ut),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Mt,Ht]=this.parentDimensions;if(this.annotationElementId){const{position:Rt}=At(this,mt);let[Ft,Tt]=this.getInitialTranslation();[Ft,Tt]=this.pageTranslationToScreen(Ft,Tt);const[Dt,Jt]=this.pageDimensions,[Ot,Pt]=this.pageTranslation;let kt,Nt;switch(this.rotation){case 0:kt=Et+(Rt[0]-Ot)/Dt,Nt=jt+this.height-(Rt[1]-Pt)/Jt;break;case 90:kt=Et+(Rt[0]-Ot)/Dt,Nt=jt-(Rt[1]-Pt)/Jt,[Ft,Tt]=[Tt,-Ft];break;case 180:kt=Et-this.width+(Rt[0]-Ot)/Dt,Nt=jt-(Rt[1]-Pt)/Jt,[Ft,Tt]=[-Ft,-Tt];break;case 270:kt=Et+(Rt[0]-Ot-this.height*Jt)/Dt,Nt=jt+(Rt[1]-Pt-this.width*Dt)/Jt,[Ft,Tt]=[-Tt,Ft];break}this.setAt(kt*Mt,Nt*Ht,Ft,Tt)}else this.setAt(Et*Mt,jt*Ht,this.width*Mt,this.height*Ht);on(this,ht,jo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Et,jt,Vt){let Mt=null;if(Et instanceof it.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Rt,fontColor:Ft},rect:Tt,rotation:Dt,id:Jt},textContent:Ot,textPosition:Pt,parent:{page:{pageNumber:kt}}}=Et;if(!Ot||Ot.length===0)return null;Mt=Et={annotationType:tt.AnnotationEditorType.FREETEXT,color:Array.from(Ft),fontSize:Rt,value:Ot.join(`
`),position:Pt,pageIndex:kt-1,rect:Tt,rotation:Dt,id:Jt,deleted:!1}}const Ht=super.deserialize(Et,jt,Vt);return vn(Ht,pt,Et.fontSize),vn(Ht,ut,tt.Util.makeHexColor(...Et.color)),vn(Ht,dt,Et.value),Ht.annotationElementId=Et.id||null,vn(Ht,mt,Mt),Ht}serialize(Et=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const jt=_t._internalPadding*this.parentScale,Vt=this.getRect(jt,jt),Mt=rt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:At(this,ut)),Ht={annotationType:tt.AnnotationEditorType.FREETEXT,color:Mt,fontSize:At(this,pt),value:At(this,dt),pageIndex:this.pageIndex,rect:Vt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Et?Ht:this.annotationElementId&&!on(this,ht,as).call(this,Ht)?null:(Ht.id=this.annotationElementId,Ht)}};at=new WeakMap,st=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakSet,ns=function(Et){const jt=Mt=>{this.editorDiv.style.fontSize=`calc(${Mt}px * var(--scale-factor))`,this.translate(0,-(Mt-At(this,pt))*this.parentScale),vn(this,pt,Mt),on(this,ht,Lr).call(this)},Vt=At(this,pt);this.addCommands({cmd:()=>{jt(Et)},undo:()=>{jt(Vt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},rs=function(Et){const jt=At(this,ut);this.addCommands({cmd:()=>{vn(this,ut,this.editorDiv.style.color=Et)},undo:()=>{vn(this,ut,this.editorDiv.style.color=jt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},is=function(){const Et=this.editorDiv.getElementsByTagName("div");if(Et.length===0)return this.editorDiv.innerText;const jt=[];for(const Vt of Et)jt.push(Vt.innerText.replace(/\r\n?|\n/,""));return jt.join(`
`)},Lr=function(){const[Et,jt]=this.parentDimensions;let Vt;if(this.isAttachedToDOM)Vt=this.div.getBoundingClientRect();else{const{currentLayer:Mt,div:Ht}=this,Rt=Ht.style.display;Ht.style.display="hidden",Mt.div.append(this.div),Vt=Ht.getBoundingClientRect(),Ht.remove(),Ht.style.display=Rt}this.rotation%180===this.parentRotation%180?(this.width=Vt.width/Et,this.height=Vt.height/jt):(this.width=Vt.height/Et,this.height=Vt.width/jt),this.fixAndSetPosition()},jo=function(){if(this.editorDiv.replaceChildren(),!!At(this,dt))for(const Et of At(this,dt).split(`
`)){const jt=document.createElement("div");jt.append(Et?document.createTextNode(Et):document.createElement("br")),this.editorDiv.append(jt)}},as=function(Et){const{value:jt,fontSize:Vt,color:Mt,rect:Ht,pageIndex:Rt}=At(this,mt);return Et.value!==jt||Et.fontSize!==Vt||Et.rect.some((Ft,Tt)=>Math.abs(Ft-Ht[Tt])>=1)||Et.color.some((Ft,Tt)=>Ft!==Mt[Tt])||Et.pageIndex!==Rt},No=function(Et=!1){if(!this.annotationElementId)return;if(on(this,ht,Lr).call(this),!Et&&(this.width===0||this.height===0)){setTimeout(()=>on(this,ht,No).call(this,!0),0);return}const jt=_t._internalPadding*this.parentScale;At(this,mt).rect=this.getRect(jt,jt)},hr(_t,"_freeTextDefaultContent",""),hr(_t,"_internalPadding",0),hr(_t,"_defaultColor",null),hr(_t,"_defaultFontSize",10),hr(_t,"_type","freetext");let ot=_t;_e.FreeTextEditor=ot},($,_e,et)=>{var Nt,Wt,Ar,ss,Zt,dn,Qt,wn,Sn,$n,an,cn,It,qt,tn,fn,_n,Cn,En,sn,In,Nn,ls,Qr,Mo,Io,Yn,or,sr,Tn,pn,yn,zn,Ro,tr,Yt,Pn,Mn,cs,Do;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampAnnotationElement=_e.InkAnnotationElement=_e.FreeTextAnnotationElement=_e.AnnotationLayer=void 0;var tt=et(1),nt=et(6),rt=et(3),it=et(30),ot=et(31),at=et(32);const st=1e3,lt=9,ct=new WeakSet;function ut(Bn){return{width:Bn[2]-Bn[0],height:Bn[3]-Bn[1]}}class dt{static create(Ut){switch(Ut.data.annotationType){case tt.AnnotationType.LINK:return new pt(Ut);case tt.AnnotationType.TEXT:return new mt(Ut);case tt.AnnotationType.WIDGET:switch(Ut.data.fieldType){case"Tx":return new yt(Ut);case"Btn":return Ut.data.radioButton?new gt(Ut):Ut.data.checkBox?new St(Ut):new vt(Ut);case"Ch":return new bt(Ut);case"Sig":return new xt(Ut)}return new ht(Ut);case tt.AnnotationType.POPUP:return new wt(Ut);case tt.AnnotationType.FREETEXT:return new Ct(Ut);case tt.AnnotationType.LINE:return new $t(Ut);case tt.AnnotationType.SQUARE:return new Et(Ut);case tt.AnnotationType.CIRCLE:return new jt(Ut);case tt.AnnotationType.POLYLINE:return new Vt(Ut);case tt.AnnotationType.CARET:return new Ht(Ut);case tt.AnnotationType.INK:return new Rt(Ut);case tt.AnnotationType.POLYGON:return new Mt(Ut);case tt.AnnotationType.HIGHLIGHT:return new Ft(Ut);case tt.AnnotationType.UNDERLINE:return new Tt(Ut);case tt.AnnotationType.SQUIGGLY:return new Dt(Ut);case tt.AnnotationType.STRIKEOUT:return new Jt(Ut);case tt.AnnotationType.STAMP:return new Ot(Ut);case tt.AnnotationType.FILEATTACHMENT:return new Pt(Ut);default:return new ft(Ut)}}}const zt=class zt{constructor(Ut,{isRenderable:Bt=!1,ignoreBorder:en=!1,createQuadrilaterals:xn=!1}={}){mn(this,Nt,!1);this.isRenderable=Bt,this.data=Ut.data,this.layer=Ut.layer,this.linkService=Ut.linkService,this.downloadManager=Ut.downloadManager,this.imageResourcesPath=Ut.imageResourcesPath,this.renderForms=Ut.renderForms,this.svgFactory=Ut.svgFactory,this.annotationStorage=Ut.annotationStorage,this.enableScripting=Ut.enableScripting,this.hasJSActions=Ut.hasJSActions,this._fieldObjects=Ut.fieldObjects,this.parent=Ut.parent,Bt&&(this.container=this._createContainer(en)),xn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ut,contentsObj:Bt,richText:en}){return!!(Ut!=null&&Ut.str||Bt!=null&&Bt.str||en!=null&&en.str)}get hasPopupData(){return zt._hasPopupData(this.data)}_createContainer(Ut){const{data:Bt,parent:{page:en,viewport:xn}}=this,An=document.createElement("section");An.setAttribute("data-annotation-id",Bt.id),this instanceof ht||(An.tabIndex=st),An.style.zIndex=this.parent.zIndex++,this.data.popupRef&&An.setAttribute("aria-haspopup","dialog"),Bt.noRotate&&An.classList.add("norotate");const{pageWidth:kn,pageHeight:On,pageX:Gn,pageY:Wn}=xn.rawDims;if(!Bt.rect||this instanceof wt){const{rotation:Qn}=Bt;return!Bt.hasOwnCanvas&&Qn!==0&&this.setRotation(Qn,An),An}const{width:Dn,height:nr}=ut(Bt.rect),Un=tt.Util.normalizeRect([Bt.rect[0],en.view[3]-Bt.rect[1]+en.view[1],Bt.rect[2],en.view[3]-Bt.rect[3]+en.view[1]]);if(!Ut&&Bt.borderStyle.width>0){An.style.borderWidth=`${Bt.borderStyle.width}px`;const Qn=Bt.borderStyle.horizontalCornerRadius,rr=Bt.borderStyle.verticalCornerRadius;if(Qn>0||rr>0){const ur=`calc(${Qn}px * var(--scale-factor)) / calc(${rr}px * var(--scale-factor))`;An.style.borderRadius=ur}else if(this instanceof gt){const ur=`calc(${Dn}px * var(--scale-factor)) / calc(${nr}px * var(--scale-factor))`;An.style.borderRadius=ur}switch(Bt.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:An.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:An.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:An.style.borderBottomStyle="solid";break}const lr=Bt.borderColor||null;lr?(vn(this,Nt,!0),An.style.borderColor=tt.Util.makeHexColor(lr[0]|0,lr[1]|0,lr[2]|0)):An.style.borderWidth=0}An.style.left=`${100*(Un[0]-Gn)/kn}%`,An.style.top=`${100*(Un[1]-Wn)/On}%`;const{rotation:qn}=Bt;return Bt.hasOwnCanvas||qn===0?(An.style.width=`${100*Dn/kn}%`,An.style.height=`${100*nr/On}%`):this.setRotation(qn,An),An}setRotation(Ut,Bt=this.container){if(!this.data.rect)return;const{pageWidth:en,pageHeight:xn}=this.parent.viewport.rawDims,{width:An,height:kn}=ut(this.data.rect);let On,Gn;Ut%180===0?(On=100*An/en,Gn=100*kn/xn):(On=100*kn/en,Gn=100*An/xn),Bt.style.width=`${On}%`,Bt.style.height=`${Gn}%`,Bt.setAttribute("data-main-rotation",(360-Ut)%360)}get _commonActions(){const Ut=(Bt,en,xn)=>{const An=xn.detail[Bt],kn=An[0],On=An.slice(1);xn.target.style[en]=it.ColorConverters[`${kn}_HTML`](On),this.annotationStorage.setValue(this.data.id,{[en]:it.ColorConverters[`${kn}_rgb`](On)})};return(0,tt.shadow)(this,"_commonActions",{display:Bt=>{const{display:en}=Bt.detail,xn=en%2===1;this.container.style.visibility=xn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xn,noPrint:en===1||en===2})},print:Bt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Bt.detail.print})},hidden:Bt=>{const{hidden:en}=Bt.detail;this.container.style.visibility=en?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:en,noView:en})},focus:Bt=>{setTimeout(()=>Bt.target.focus({preventScroll:!1}),0)},userName:Bt=>{Bt.target.title=Bt.detail.userName},readonly:Bt=>{Bt.target.disabled=Bt.detail.readonly},required:Bt=>{this._setRequired(Bt.target,Bt.detail.required)},bgColor:Bt=>{Ut("bgColor","backgroundColor",Bt)},fillColor:Bt=>{Ut("fillColor","backgroundColor",Bt)},fgColor:Bt=>{Ut("fgColor","color",Bt)},textColor:Bt=>{Ut("textColor","color",Bt)},borderColor:Bt=>{Ut("borderColor","borderColor",Bt)},strokeColor:Bt=>{Ut("strokeColor","borderColor",Bt)},rotation:Bt=>{const en=Bt.detail.rotation;this.setRotation(en),this.annotationStorage.setValue(this.data.id,{rotation:en})}})}_dispatchEventFromSandbox(Ut,Bt){const en=this._commonActions;for(const xn of Object.keys(Bt.detail)){const An=Ut[xn]||en[xn];An==null||An(Bt)}}_setDefaultPropertiesFromJS(Ut){if(!this.enableScripting)return;const Bt=this.annotationStorage.getRawValue(this.data.id);if(!Bt)return;const en=this._commonActions;for(const[xn,An]of Object.entries(Bt)){const kn=en[xn];if(kn){const On={detail:{[xn]:An},target:Ut};kn(On),delete Bt[xn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ut}=this.data;if(!Ut)return;const[Bt,en,xn,An]=this.data.rect;if(Ut.length===1){const[,{x:rr,y:lr},{x:ur,y:gr}]=Ut[0];if(xn===rr&&An===lr&&Bt===ur&&en===gr)return}const{style:kn}=this.container;let On;if(At(this,Nt)){const{borderColor:rr,borderWidth:lr}=kn;kn.borderWidth=0,On=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${rr}" stroke-width="${lr}">`],this.container.classList.add("hasBorder")}const Gn=xn-Bt,Wn=An-en,{svgFactory:Dn}=this,nr=Dn.createElement("svg");nr.classList.add("quadrilateralsContainer"),nr.setAttribute("width",0),nr.setAttribute("height",0);const Un=Dn.createElement("defs");nr.append(Un);const qn=Dn.createElement("clipPath"),Qn=`clippath_${this.data.id}`;qn.setAttribute("id",Qn),qn.setAttribute("clipPathUnits","objectBoundingBox"),Un.append(qn);for(const[,{x:rr,y:lr},{x:ur,y:gr}]of Ut){const pr=Dn.createElement("rect"),xr=(ur-Bt)/Gn,Sr=(An-lr)/Wn,wr=(rr-ur)/Gn,Hr=(lr-gr)/Wn;pr.setAttribute("x",xr),pr.setAttribute("y",Sr),pr.setAttribute("width",wr),pr.setAttribute("height",Hr),qn.append(pr),On==null||On.push(`<rect vector-effect="non-scaling-stroke" x="${xr}" y="${Sr}" width="${wr}" height="${Hr}"/>`)}At(this,Nt)&&(On.push("</g></svg>')"),kn.backgroundImage=On.join("")),this.container.append(nr),this.container.style.clipPath=`url(#${Qn})`}_createPopup(){const{container:Ut,data:Bt}=this;Ut.setAttribute("aria-haspopup","dialog");const en=new wt({data:{color:Bt.color,titleObj:Bt.titleObj,modificationDate:Bt.modificationDate,contentsObj:Bt.contentsObj,richText:Bt.richText,parentRect:Bt.rect,borderStyle:0,id:`popup_${Bt.id}`,rotation:Bt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(en.render())}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ut,Bt=null){const en=[];if(this._fieldObjects){const xn=this._fieldObjects[Ut];if(xn)for(const{page:An,id:kn,exportValues:On}of xn){if(An===-1||kn===Bt)continue;const Gn=typeof On=="string"?On:null,Wn=document.querySelector(`[data-element-id="${kn}"]`);if(Wn&&!ct.has(Wn)){(0,tt.warn)(`_getElementsByName - element not allowed: ${kn}`);continue}en.push({id:kn,exportValue:Gn,domElement:Wn})}return en}for(const xn of document.getElementsByName(Ut)){const{exportValue:An}=xn,kn=xn.getAttribute("data-element-id");kn!==Bt&&ct.has(xn)&&en.push({id:kn,exportValue:An,domElement:xn})}return en}show(){var Ut;this.container&&(this.container.hidden=!1),(Ut=this.popup)==null||Ut.maybeShow()}hide(){var Ut;this.container&&(this.container.hidden=!0),(Ut=this.popup)==null||Ut.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ut=this.getElementsToTriggerPopup();if(Array.isArray(Ut))for(const Bt of Ut)Bt.classList.add("highlightArea");else Ut.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ut,data:{id:Bt}}=this;this.container.addEventListener("dblclick",()=>{var en;(en=this.linkService.eventBus)==null||en.dispatch("switchannotationeditormode",{source:this,mode:Ut,editId:Bt})})}};Nt=new WeakMap;let ft=zt;class pt extends ft{constructor(Bt,en=null){super(Bt,{isRenderable:!0,ignoreBorder:!!(en!=null&&en.ignoreBorder),createQuadrilaterals:!0});mn(this,Wt);this.isTooltipOnly=Bt.data.isTooltipOnly}render(){const{data:Bt,linkService:en}=this,xn=document.createElement("a");xn.setAttribute("data-element-id",Bt.id);let An=!1;return Bt.url?(en.addLinkAttributes(xn,Bt.url,Bt.newWindow),An=!0):Bt.action?(this._bindNamedAction(xn,Bt.action),An=!0):Bt.attachment?(this._bindAttachment(xn,Bt.attachment),An=!0):Bt.setOCGState?(on(this,Wt,ss).call(this,xn,Bt.setOCGState),An=!0):Bt.dest?(this._bindLink(xn,Bt.dest),An=!0):(Bt.actions&&(Bt.actions.Action||Bt.actions["Mouse Up"]||Bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xn,Bt),An=!0),Bt.resetForm?(this._bindResetFormAction(xn,Bt.resetForm),An=!0):this.isTooltipOnly&&!An&&(this._bindLink(xn,""),An=!0)),this.container.classList.add("linkAnnotation"),An&&this.container.append(xn),this.container}_bindLink(Bt,en){Bt.href=this.linkService.getDestinationHash(en),Bt.onclick=()=>(en&&this.linkService.goToDestination(en),!1),(en||en==="")&&on(this,Wt,Ar).call(this)}_bindNamedAction(Bt,en){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>(this.linkService.executeNamedAction(en),!1),on(this,Wt,Ar).call(this)}_bindAttachment(Bt,en){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>{var xn;return(xn=this.downloadManager)==null||xn.openOrDownloadData(this.container,en.content,en.filename),!1},on(this,Wt,Ar).call(this)}_bindJSAction(Bt,en){Bt.href=this.linkService.getAnchorUrl("");const xn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const An of Object.keys(en.actions)){const kn=xn.get(An);kn&&(Bt[kn]=()=>{var On;return(On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:en.id,name:An}}),!1})}Bt.onclick||(Bt.onclick=()=>!1),on(this,Wt,Ar).call(this)}_bindResetFormAction(Bt,en){const xn=Bt.onclick;if(xn||(Bt.href=this.linkService.getAnchorUrl("")),on(this,Wt,Ar).call(this),!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xn||(Bt.onclick=()=>!1);return}Bt.onclick=()=>{var nr;xn==null||xn();const{fields:An,refs:kn,include:On}=en,Gn=[];if(An.length!==0||kn.length!==0){const Un=new Set(kn);for(const qn of An){const Qn=this._fieldObjects[qn]||[];for(const{id:rr}of Qn)Un.add(rr)}for(const qn of Object.values(this._fieldObjects))for(const Qn of qn)Un.has(Qn.id)===On&&Gn.push(Qn)}else for(const Un of Object.values(this._fieldObjects))Gn.push(...Un);const Wn=this.annotationStorage,Dn=[];for(const Un of Gn){const{id:qn}=Un;switch(Dn.push(qn),Un.type){case"text":{const rr=Un.defaultValue||"";Wn.setValue(qn,{value:rr});break}case"checkbox":case"radiobutton":{const rr=Un.defaultValue===Un.exportValues;Wn.setValue(qn,{value:rr});break}case"combobox":case"listbox":{const rr=Un.defaultValue||"";Wn.setValue(qn,{value:rr});break}default:continue}const Qn=document.querySelector(`[data-element-id="${qn}"]`);if(Qn){if(!ct.has(Qn)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${qn}`);continue}}else continue;Qn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Dn,name:"ResetForm"}})),!1}}}Wt=new WeakSet,Ar=function(){this.container.setAttribute("data-internal-link","")},ss=function(Bt,en){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>(this.linkService.executeSetOCGState(en),!1),on(this,Wt,Ar).call(this)};class mt extends ft{constructor(Ut){super(Ut,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ut=document.createElement("img");return Ut.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ut.alt="[{{type}} Annotation]",Ut.dataset.l10nId="text_annotation_type",Ut.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ut),this.container}}class ht extends ft{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ut){var Bt;this.data.hasOwnCanvas&&(((Bt=Ut.previousSibling)==null?void 0:Bt.nodeName)==="CANVAS"&&(Ut.previousSibling.hidden=!0),Ut.hidden=!1)}_getKeyModifier(Ut){const{isWin:Bt,isMac:en}=tt.FeatureTest.platform;return Bt&&Ut.ctrlKey||en&&Ut.metaKey}_setEventListener(Ut,Bt,en,xn,An){en.includes("mouse")?Ut.addEventListener(en,kn=>{var On;(On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xn,value:An(kn),shift:kn.shiftKey,modifier:this._getKeyModifier(kn)}})}):Ut.addEventListener(en,kn=>{var On;if(en==="blur"){if(!Bt.focused||!kn.relatedTarget)return;Bt.focused=!1}else if(en==="focus"){if(Bt.focused)return;Bt.focused=!0}An&&((On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xn,value:An(kn)}}))})}_setEventListeners(Ut,Bt,en,xn){var An,kn,On;for(const[Gn,Wn]of en)(Wn==="Action"||(An=this.data.actions)!=null&&An[Wn])&&((Wn==="Focus"||Wn==="Blur")&&(Bt||(Bt={focused:!1})),this._setEventListener(Ut,Bt,Gn,Wn,xn),Wn==="Focus"&&!((kn=this.data.actions)!=null&&kn.Blur)?this._setEventListener(Ut,Bt,"blur","Blur",null):Wn==="Blur"&&!((On=this.data.actions)!=null&&On.Focus)&&this._setEventListener(Ut,Bt,"focus","Focus",null))}_setBackgroundColor(Ut){const Bt=this.data.backgroundColor||null;Ut.style.backgroundColor=Bt===null?"transparent":tt.Util.makeHexColor(Bt[0],Bt[1],Bt[2])}_setTextStyle(Ut){const Bt=["left","center","right"],{fontColor:en}=this.data.defaultAppearanceData,xn=this.data.defaultAppearanceData.fontSize||lt,An=Ut.style;let kn;const On=2,Gn=Wn=>Math.round(10*Wn)/10;if(this.data.multiLine){const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-On),Dn=Math.round(Wn/(tt.LINE_FACTOR*xn))||1,nr=Wn/Dn;kn=Math.min(xn,Gn(nr/tt.LINE_FACTOR))}else{const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-On);kn=Math.min(xn,Gn(Wn/tt.LINE_FACTOR))}An.fontSize=`calc(${kn}px * var(--scale-factor))`,An.color=tt.Util.makeHexColor(en[0],en[1],en[2]),this.data.textAlignment!==null&&(An.textAlign=Bt[this.data.textAlignment])}_setRequired(Ut,Bt){Bt?Ut.setAttribute("required",!0):Ut.removeAttribute("required"),Ut.setAttribute("aria-required",Bt)}}class yt extends ht{constructor(Ut){const Bt=Ut.renderForms||!Ut.data.hasAppearance&&!!Ut.data.fieldValue;super(Ut,{isRenderable:Bt})}setPropertyOnSiblings(Ut,Bt,en,xn){const An=this.annotationStorage;for(const kn of this._getElementsByName(Ut.name,Ut.id))kn.domElement&&(kn.domElement[Bt]=en),An.setValue(kn.id,{[xn]:en})}render(){var xn,An;const Ut=this.annotationStorage,Bt=this.data.id;this.container.classList.add("textWidgetAnnotation");let en=null;if(this.renderForms){const kn=Ut.getValue(Bt,{value:this.data.fieldValue});let On=kn.value||"";const Gn=Ut.getValue(Bt,{charLimit:this.data.maxLen}).charLimit;Gn&&On.length>Gn&&(On=On.slice(0,Gn));let Wn=kn.formattedValue||((xn=this.data.textContent)==null?void 0:xn.join(`
`))||null;Wn&&this.data.comb&&(Wn=Wn.replaceAll(/\s+/g,""));const Dn={userValue:On,formattedValue:Wn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(en=document.createElement("textarea"),en.textContent=Wn??On,this.data.doNotScroll&&(en.style.overflowY="hidden")):(en=document.createElement("input"),en.type="text",en.setAttribute("value",Wn??On),this.data.doNotScroll&&(en.style.overflowX="hidden")),this.data.hasOwnCanvas&&(en.hidden=!0),ct.add(en),en.setAttribute("data-element-id",Bt),en.disabled=this.data.readOnly,en.name=this.data.fieldName,en.tabIndex=st,this._setRequired(en,this.data.required),Gn&&(en.maxLength=Gn),en.addEventListener("input",Un=>{Ut.setValue(Bt,{value:Un.target.value}),this.setPropertyOnSiblings(en,"value",Un.target.value,"value"),Dn.formattedValue=null}),en.addEventListener("resetform",Un=>{const qn=this.data.defaultFieldValue??"";en.value=Dn.userValue=qn,Dn.formattedValue=null});let nr=Un=>{const{formattedValue:qn}=Dn;qn!=null&&(Un.target.value=qn),Un.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){en.addEventListener("focus",qn=>{if(Dn.focused)return;const{target:Qn}=qn;Dn.userValue&&(Qn.value=Dn.userValue),Dn.lastCommittedValue=Qn.value,Dn.commitKey=1,Dn.focused=!0}),en.addEventListener("updatefromsandbox",qn=>{this.showElementAndHideCanvas(qn.target);const Qn={value(rr){Dn.userValue=rr.detail.value??"",Ut.setValue(Bt,{value:Dn.userValue.toString()}),rr.target.value=Dn.userValue},formattedValue(rr){const{formattedValue:lr}=rr.detail;Dn.formattedValue=lr,lr!=null&&rr.target!==document.activeElement&&(rr.target.value=lr),Ut.setValue(Bt,{formattedValue:lr})},selRange(rr){rr.target.setSelectionRange(...rr.detail.selRange)},charLimit:rr=>{var pr;const{charLimit:lr}=rr.detail,{target:ur}=rr;if(lr===0){ur.removeAttribute("maxLength");return}ur.setAttribute("maxLength",lr);let gr=Dn.userValue;!gr||gr.length<=lr||(gr=gr.slice(0,lr),ur.value=Dn.userValue=gr,Ut.setValue(Bt,{value:gr}),(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:gr,willCommit:!0,commitKey:1,selStart:ur.selectionStart,selEnd:ur.selectionEnd}}))}};this._dispatchEventFromSandbox(Qn,qn)}),en.addEventListener("keydown",qn=>{var lr;Dn.commitKey=1;let Qn=-1;if(qn.key==="Escape"?Qn=0:qn.key==="Enter"&&!this.data.multiLine?Qn=2:qn.key==="Tab"&&(Dn.commitKey=3),Qn===-1)return;const{value:rr}=qn.target;Dn.lastCommittedValue!==rr&&(Dn.lastCommittedValue=rr,Dn.userValue=rr,(lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:rr,willCommit:!0,commitKey:Qn,selStart:qn.target.selectionStart,selEnd:qn.target.selectionEnd}}))});const Un=nr;nr=null,en.addEventListener("blur",qn=>{var rr;if(!Dn.focused||!qn.relatedTarget)return;Dn.focused=!1;const{value:Qn}=qn.target;Dn.userValue=Qn,Dn.lastCommittedValue!==Qn&&((rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:Qn,willCommit:!0,commitKey:Dn.commitKey,selStart:qn.target.selectionStart,selEnd:qn.target.selectionEnd}})),Un(qn)}),(An=this.data.actions)!=null&&An.Keystroke&&en.addEventListener("beforeinput",qn=>{var Sr;Dn.lastCommittedValue=null;const{data:Qn,target:rr}=qn,{value:lr,selectionStart:ur,selectionEnd:gr}=rr;let pr=ur,xr=gr;switch(qn.inputType){case"deleteWordBackward":{const wr=lr.substring(0,ur).match(/\w*[^\w]*$/);wr&&(pr-=wr[0].length);break}case"deleteWordForward":{const wr=lr.substring(ur).match(/^[^\w]*\w*/);wr&&(xr+=wr[0].length);break}case"deleteContentBackward":ur===gr&&(pr-=1);break;case"deleteContentForward":ur===gr&&(xr+=1);break}qn.preventDefault(),(Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:lr,change:Qn||"",willCommit:!1,selStart:pr,selEnd:xr}})}),this._setEventListeners(en,Dn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qn=>qn.target.value)}if(nr&&en.addEventListener("blur",nr),this.data.comb){const qn=(this.data.rect[2]-this.data.rect[0])/Gn;en.classList.add("comb"),en.style.letterSpacing=`calc(${qn}px * var(--scale-factor) - 1ch)`}}else en=document.createElement("div"),en.textContent=this.data.fieldValue,en.style.verticalAlign="middle",en.style.display="table-cell";return this._setTextStyle(en),this._setBackgroundColor(en),this._setDefaultPropertiesFromJS(en),this.container.append(en),this.container}}class xt extends ht{constructor(Ut){super(Ut,{isRenderable:!!Ut.data.hasOwnCanvas})}}class St extends ht{constructor(Ut){super(Ut,{isRenderable:Ut.renderForms})}render(){const Ut=this.annotationStorage,Bt=this.data,en=Bt.id;let xn=Ut.getValue(en,{value:Bt.exportValue===Bt.fieldValue}).value;typeof xn=="string"&&(xn=xn!=="Off",Ut.setValue(en,{value:xn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const An=document.createElement("input");return ct.add(An),An.setAttribute("data-element-id",en),An.disabled=Bt.readOnly,this._setRequired(An,this.data.required),An.type="checkbox",An.name=Bt.fieldName,xn&&An.setAttribute("checked",!0),An.setAttribute("exportValue",Bt.exportValue),An.tabIndex=st,An.addEventListener("change",kn=>{const{name:On,checked:Gn}=kn.target;for(const Wn of this._getElementsByName(On,en)){const Dn=Gn&&Wn.exportValue===Bt.exportValue;Wn.domElement&&(Wn.domElement.checked=Dn),Ut.setValue(Wn.id,{value:Dn})}Ut.setValue(en,{value:Gn})}),An.addEventListener("resetform",kn=>{const On=Bt.defaultFieldValue||"Off";kn.target.checked=On===Bt.exportValue}),this.enableScripting&&this.hasJSActions&&(An.addEventListener("updatefromsandbox",kn=>{const On={value(Gn){Gn.target.checked=Gn.detail.value!=="Off",Ut.setValue(en,{value:Gn.target.checked})}};this._dispatchEventFromSandbox(On,kn)}),this._setEventListeners(An,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kn=>kn.target.checked)),this._setBackgroundColor(An),this._setDefaultPropertiesFromJS(An),this.container.append(An),this.container}}class gt extends ht{constructor(Ut){super(Ut,{isRenderable:Ut.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ut=this.annotationStorage,Bt=this.data,en=Bt.id;let xn=Ut.getValue(en,{value:Bt.fieldValue===Bt.buttonValue}).value;typeof xn=="string"&&(xn=xn!==Bt.buttonValue,Ut.setValue(en,{value:xn}));const An=document.createElement("input");if(ct.add(An),An.setAttribute("data-element-id",en),An.disabled=Bt.readOnly,this._setRequired(An,this.data.required),An.type="radio",An.name=Bt.fieldName,xn&&An.setAttribute("checked",!0),An.tabIndex=st,An.addEventListener("change",kn=>{const{name:On,checked:Gn}=kn.target;for(const Wn of this._getElementsByName(On,en))Ut.setValue(Wn.id,{value:!1});Ut.setValue(en,{value:Gn})}),An.addEventListener("resetform",kn=>{const On=Bt.defaultFieldValue;kn.target.checked=On!=null&&On===Bt.buttonValue}),this.enableScripting&&this.hasJSActions){const kn=Bt.buttonValue;An.addEventListener("updatefromsandbox",On=>{const Gn={value:Wn=>{const Dn=kn===Wn.detail.value;for(const nr of this._getElementsByName(Wn.target.name)){const Un=Dn&&nr.id===en;nr.domElement&&(nr.domElement.checked=Un),Ut.setValue(nr.id,{value:Un})}}};this._dispatchEventFromSandbox(Gn,On)}),this._setEventListeners(An,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],On=>On.target.checked)}return this._setBackgroundColor(An),this._setDefaultPropertiesFromJS(An),this.container.append(An),this.container}}class vt extends pt{constructor(Ut){super(Ut,{ignoreBorder:Ut.data.hasAppearance})}render(){const Ut=super.render();Ut.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ut.title=this.data.alternativeText);const Bt=Ut.lastChild;return this.enableScripting&&this.hasJSActions&&Bt&&(this._setDefaultPropertiesFromJS(Bt),Bt.addEventListener("updatefromsandbox",en=>{this._dispatchEventFromSandbox({},en)})),Ut}}class bt extends ht{constructor(Ut){super(Ut,{isRenderable:Ut.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ut=this.annotationStorage,Bt=this.data.id,en=Ut.getValue(Bt,{value:this.data.fieldValue}),xn=document.createElement("select");ct.add(xn),xn.setAttribute("data-element-id",Bt),xn.disabled=this.data.readOnly,this._setRequired(xn,this.data.required),xn.name=this.data.fieldName,xn.tabIndex=st;let An=this.data.combo&&this.data.options.length>0;this.data.combo||(xn.size=this.data.options.length,this.data.multiSelect&&(xn.multiple=!0)),xn.addEventListener("resetform",Dn=>{const nr=this.data.defaultFieldValue;for(const Un of xn.options)Un.selected=Un.value===nr});for(const Dn of this.data.options){const nr=document.createElement("option");nr.textContent=Dn.displayValue,nr.value=Dn.exportValue,en.value.includes(Dn.exportValue)&&(nr.setAttribute("selected",!0),An=!1),xn.append(nr)}let kn=null;if(An){const Dn=document.createElement("option");Dn.value=" ",Dn.setAttribute("hidden",!0),Dn.setAttribute("selected",!0),xn.prepend(Dn),kn=()=>{Dn.remove(),xn.removeEventListener("input",kn),kn=null},xn.addEventListener("input",kn)}const On=Dn=>{const nr=Dn?"value":"textContent",{options:Un,multiple:qn}=xn;return qn?Array.prototype.filter.call(Un,Qn=>Qn.selected).map(Qn=>Qn[nr]):Un.selectedIndex===-1?null:Un[Un.selectedIndex][nr]};let Gn=On(!1);const Wn=Dn=>{const nr=Dn.target.options;return Array.prototype.map.call(nr,Un=>({displayValue:Un.textContent,exportValue:Un.value}))};return this.enableScripting&&this.hasJSActions?(xn.addEventListener("updatefromsandbox",Dn=>{const nr={value(Un){kn==null||kn();const qn=Un.detail.value,Qn=new Set(Array.isArray(qn)?qn:[qn]);for(const rr of xn.options)rr.selected=Qn.has(rr.value);Ut.setValue(Bt,{value:On(!0)}),Gn=On(!1)},multipleSelection(Un){xn.multiple=!0},remove(Un){const qn=xn.options,Qn=Un.detail.remove;qn[Qn].selected=!1,xn.remove(Qn),qn.length>0&&Array.prototype.findIndex.call(qn,lr=>lr.selected)===-1&&(qn[0].selected=!0),Ut.setValue(Bt,{value:On(!0),items:Wn(Un)}),Gn=On(!1)},clear(Un){for(;xn.length!==0;)xn.remove(0);Ut.setValue(Bt,{value:null,items:[]}),Gn=On(!1)},insert(Un){const{index:qn,displayValue:Qn,exportValue:rr}=Un.detail.insert,lr=xn.children[qn],ur=document.createElement("option");ur.textContent=Qn,ur.value=rr,lr?lr.before(ur):xn.append(ur),Ut.setValue(Bt,{value:On(!0),items:Wn(Un)}),Gn=On(!1)},items(Un){const{items:qn}=Un.detail;for(;xn.length!==0;)xn.remove(0);for(const Qn of qn){const{displayValue:rr,exportValue:lr}=Qn,ur=document.createElement("option");ur.textContent=rr,ur.value=lr,xn.append(ur)}xn.options.length>0&&(xn.options[0].selected=!0),Ut.setValue(Bt,{value:On(!0),items:Wn(Un)}),Gn=On(!1)},indices(Un){const qn=new Set(Un.detail.indices);for(const Qn of Un.target.options)Qn.selected=qn.has(Qn.index);Ut.setValue(Bt,{value:On(!0)}),Gn=On(!1)},editable(Un){Un.target.disabled=!Un.detail.editable}};this._dispatchEventFromSandbox(nr,Dn)}),xn.addEventListener("input",Dn=>{var Un;const nr=On(!0);Ut.setValue(Bt,{value:nr}),Dn.preventDefault(),(Un=this.linkService.eventBus)==null||Un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:Gn,changeEx:nr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Dn=>Dn.target.value)):xn.addEventListener("input",function(Dn){Ut.setValue(Bt,{value:On(!0)})}),this.data.combo&&this._setTextStyle(xn),this._setBackgroundColor(xn),this._setDefaultPropertiesFromJS(xn),this.container.append(xn),this.container}}class wt extends ft{constructor(Ut){const{data:Bt,elements:en}=Ut;super(Ut,{isRenderable:ft._hasPopupData(Bt)}),this.elements=en}render(){this.container.classList.add("popupAnnotation");const Ut=new _t({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Bt=[];for(const en of this.elements)en.popup=Ut,Bt.push(en.data.id),en.addHighlightArea();return this.container.setAttribute("aria-controls",Bt.map(en=>`${tt.AnnotationPrefix}${en}`).join(",")),this.container}}class _t{constructor({container:Ut,color:Bt,elements:en,titleObj:xn,modificationDate:An,contentsObj:kn,richText:On,parent:Gn,rect:Wn,parentRect:Dn,open:nr}){mn(this,Nn);mn(this,Zt,null);mn(this,dn,on(this,Nn,ls).bind(this));mn(this,Qt,on(this,Nn,Io).bind(this));mn(this,wn,on(this,Nn,Mo).bind(this));mn(this,Sn,on(this,Nn,Qr).bind(this));mn(this,$n,null);mn(this,an,null);mn(this,cn,null);mn(this,It,null);mn(this,qt,null);mn(this,tn,null);mn(this,fn,!1);mn(this,_n,null);mn(this,Cn,null);mn(this,En,null);mn(this,sn,null);mn(this,In,!1);var qn;vn(this,an,Ut),vn(this,sn,xn),vn(this,cn,kn),vn(this,En,On),vn(this,qt,Gn),vn(this,$n,Bt),vn(this,Cn,Wn),vn(this,tn,Dn),vn(this,It,en);const Un=nt.PDFDateString.toDateObject(An);Un&&vn(this,Zt,Gn.l10n.get("annotation_date_string",{date:Un.toLocaleDateString(),time:Un.toLocaleTimeString()})),this.trigger=en.flatMap(Qn=>Qn.getElementsToTriggerPopup());for(const Qn of this.trigger)Qn.addEventListener("click",At(this,Sn)),Qn.addEventListener("mouseenter",At(this,wn)),Qn.addEventListener("mouseleave",At(this,Qt)),Qn.classList.add("popupTriggerArea");for(const Qn of en)(qn=Qn.container)==null||qn.addEventListener("keydown",At(this,dn));At(this,an).hidden=!0,nr&&on(this,Nn,Qr).call(this)}render(){if(At(this,_n))return;const{page:{view:Ut},viewport:{rawDims:{pageWidth:Bt,pageHeight:en,pageX:xn,pageY:An}}}=At(this,qt),kn=vn(this,_n,document.createElement("div"));if(kn.className="popup",At(this,$n)){const pr=kn.style.outlineColor=tt.Util.makeHexColor(...At(this,$n));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?kn.style.backgroundColor=`color-mix(in srgb, ${pr} 30%, white)`:kn.style.backgroundColor=tt.Util.makeHexColor(...At(this,$n).map(Sr=>Math.floor(.7*(255-Sr)+Sr)))}const On=document.createElement("span");On.className="header";const Gn=document.createElement("h1");if(On.append(Gn),{dir:Gn.dir,str:Gn.textContent}=At(this,sn),kn.append(On),At(this,Zt)){const pr=document.createElement("span");pr.classList.add("popupDate"),At(this,Zt).then(xr=>{pr.textContent=xr}),On.append(pr)}const Wn=At(this,cn),Dn=At(this,En);if(Dn!=null&&Dn.str&&(!(Wn!=null&&Wn.str)||Wn.str===Dn.str))at.XfaLayer.render({xfaHtml:Dn.html,intent:"richText",div:kn}),kn.lastChild.classList.add("richText","popupContent");else{const pr=this._formatContents(Wn);kn.append(pr)}let nr=!!At(this,tn),Un=nr?At(this,tn):At(this,Cn);for(const pr of At(this,It))if(!Un||tt.Util.intersect(pr.data.rect,Un)!==null){Un=pr.data.rect,nr=!0;break}const qn=tt.Util.normalizeRect([Un[0],Ut[3]-Un[1]+Ut[1],Un[2],Ut[3]-Un[3]+Ut[1]]),rr=nr?Un[2]-Un[0]+5:0,lr=qn[0]+rr,ur=qn[1],{style:gr}=At(this,an);gr.left=`${100*(lr-xn)/Bt}%`,gr.top=`${100*(ur-An)/en}%`,At(this,an).append(kn)}_formatContents({str:Ut,dir:Bt}){const en=document.createElement("p");en.classList.add("popupContent"),en.dir=Bt;const xn=Ut.split(/(?:\r\n?|\n)/);for(let An=0,kn=xn.length;An<kn;++An){const On=xn[An];en.append(document.createTextNode(On)),An<kn-1&&en.append(document.createElement("br"))}return en}forceHide(){vn(this,In,this.isVisible),At(this,In)&&(At(this,an).hidden=!0)}maybeShow(){At(this,In)&&(vn(this,In,!1),At(this,an).hidden=!1)}get isVisible(){return At(this,an).hidden===!1}}Zt=new WeakMap,dn=new WeakMap,Qt=new WeakMap,wn=new WeakMap,Sn=new WeakMap,$n=new WeakMap,an=new WeakMap,cn=new WeakMap,It=new WeakMap,qt=new WeakMap,tn=new WeakMap,fn=new WeakMap,_n=new WeakMap,Cn=new WeakMap,En=new WeakMap,sn=new WeakMap,In=new WeakMap,Nn=new WeakSet,ls=function(Ut){Ut.altKey||Ut.shiftKey||Ut.ctrlKey||Ut.metaKey||(Ut.key==="Enter"||Ut.key==="Escape"&&At(this,fn))&&on(this,Nn,Qr).call(this)},Qr=function(){vn(this,fn,!At(this,fn)),At(this,fn)?(on(this,Nn,Mo).call(this),At(this,an).addEventListener("click",At(this,Sn)),At(this,an).addEventListener("keydown",At(this,dn))):(on(this,Nn,Io).call(this),At(this,an).removeEventListener("click",At(this,Sn)),At(this,an).removeEventListener("keydown",At(this,dn)))},Mo=function(){At(this,_n)||this.render(),this.isVisible?At(this,fn)&&At(this,an).classList.add("focused"):(At(this,an).hidden=!1,At(this,an).style.zIndex=parseInt(At(this,an).style.zIndex)+1e3)},Io=function(){At(this,an).classList.remove("focused"),!(At(this,fn)||!this.isVisible)&&(At(this,an).hidden=!0,At(this,an).style.zIndex=parseInt(At(this,an).style.zIndex)-1e3)};class Ct extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ut.data.textContent,this.textPosition=Ut.data.textPosition,this.annotationEditorType=tt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ut=document.createElement("div");Ut.classList.add("annotationTextContent"),Ut.setAttribute("role","comment");for(const Bt of this.textContent){const en=document.createElement("span");en.textContent=Bt,Ut.append(en)}this.container.append(Ut)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_e.FreeTextAnnotationElement=Ct;class $t extends ft{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});mn(this,Yn,null)}render(){this.container.classList.add("lineAnnotation");const Bt=this.data,{width:en,height:xn}=ut(Bt.rect),An=this.svgFactory.create(en,xn,!0),kn=vn(this,Yn,this.svgFactory.createElement("svg:line"));return kn.setAttribute("x1",Bt.rect[2]-Bt.lineCoordinates[0]),kn.setAttribute("y1",Bt.rect[3]-Bt.lineCoordinates[1]),kn.setAttribute("x2",Bt.rect[2]-Bt.lineCoordinates[2]),kn.setAttribute("y2",Bt.rect[3]-Bt.lineCoordinates[3]),kn.setAttribute("stroke-width",Bt.borderStyle.width||1),kn.setAttribute("stroke","transparent"),kn.setAttribute("fill","transparent"),An.append(kn),this.container.append(An),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return At(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap;class Et extends ft{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});mn(this,or,null)}render(){this.container.classList.add("squareAnnotation");const Bt=this.data,{width:en,height:xn}=ut(Bt.rect),An=this.svgFactory.create(en,xn,!0),kn=Bt.borderStyle.width,On=vn(this,or,this.svgFactory.createElement("svg:rect"));return On.setAttribute("x",kn/2),On.setAttribute("y",kn/2),On.setAttribute("width",en-kn),On.setAttribute("height",xn-kn),On.setAttribute("stroke-width",kn||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),An.append(On),this.container.append(An),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return At(this,or)}addHighlightArea(){this.container.classList.add("highlightArea")}}or=new WeakMap;class jt extends ft{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});mn(this,sr,null)}render(){this.container.classList.add("circleAnnotation");const Bt=this.data,{width:en,height:xn}=ut(Bt.rect),An=this.svgFactory.create(en,xn,!0),kn=Bt.borderStyle.width,On=vn(this,sr,this.svgFactory.createElement("svg:ellipse"));return On.setAttribute("cx",en/2),On.setAttribute("cy",xn/2),On.setAttribute("rx",en/2-kn/2),On.setAttribute("ry",xn/2-kn/2),On.setAttribute("stroke-width",kn||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),An.append(On),this.container.append(An),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return At(this,sr)}addHighlightArea(){this.container.classList.add("highlightArea")}}sr=new WeakMap;class Vt extends ft{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});mn(this,Tn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Bt=this.data,{width:en,height:xn}=ut(Bt.rect),An=this.svgFactory.create(en,xn,!0);let kn=[];for(const Gn of Bt.vertices){const Wn=Gn.x-Bt.rect[0],Dn=Bt.rect[3]-Gn.y;kn.push(Wn+","+Dn)}kn=kn.join(" ");const On=vn(this,Tn,this.svgFactory.createElement(this.svgElementName));return On.setAttribute("points",kn),On.setAttribute("stroke-width",Bt.borderStyle.width||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),An.append(On),this.container.append(An),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return At(this,Tn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tn=new WeakMap;class Mt extends Vt{constructor(Ut){super(Ut),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ht extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Rt extends ft{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});mn(this,pn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Bt=this.data,{width:en,height:xn}=ut(Bt.rect),An=this.svgFactory.create(en,xn,!0);for(const kn of Bt.inkLists){let On=[];for(const Wn of kn){const Dn=Wn.x-Bt.rect[0],nr=Bt.rect[3]-Wn.y;On.push(`${Dn},${nr}`)}On=On.join(" ");const Gn=this.svgFactory.createElement(this.svgElementName);At(this,pn).push(Gn),Gn.setAttribute("points",On),Gn.setAttribute("stroke-width",Bt.borderStyle.width||1),Gn.setAttribute("stroke","transparent"),Gn.setAttribute("fill","transparent"),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),An.append(Gn)}return this.container.append(An),this.container}getElementsToTriggerPopup(){return At(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap,_e.InkAnnotationElement=Rt;class Ft extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Tt extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dt extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Jt extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ot extends ft{constructor(Ut){super(Ut,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_e.StampAnnotationElement=Ot;class Pt extends ft{constructor(Bt){var An;super(Bt,{isRenderable:!0});mn(this,zn);mn(this,yn,null);const{filename:en,content:xn}=this.data.file;this.filename=(0,nt.getFilenameFromUrl)(en,!0),this.content=xn,(An=this.linkService.eventBus)==null||An.dispatch("fileattachmentannotation",{source:this,filename:en,content:xn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Bt,data:en}=this;let xn;en.hasAppearance||en.fillAlpha===0?xn=document.createElement("div"):(xn=document.createElement("img"),xn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(en.name)?"paperclip":"pushpin"}.svg`,en.fillAlpha&&en.fillAlpha<1&&(xn.style=`filter: opacity(${Math.round(en.fillAlpha*100)}%);`)),xn.addEventListener("dblclick",on(this,zn,Ro).bind(this)),vn(this,yn,xn);const{isMac:An}=tt.FeatureTest.platform;return Bt.addEventListener("keydown",kn=>{kn.key==="Enter"&&(An?kn.metaKey:kn.ctrlKey)&&on(this,zn,Ro).call(this)}),!en.popupRef&&this.hasPopupData?this._createPopup():xn.classList.add("popupTriggerArea"),Bt.append(xn),Bt}getElementsToTriggerPopup(){return At(this,yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}yn=new WeakMap,zn=new WeakSet,Ro=function(){var Bt;(Bt=this.downloadManager)==null||Bt.openOrDownloadData(this.container,this.content,this.filename)};class kt{constructor({div:Ut,accessibilityManager:Bt,annotationCanvasMap:en,l10n:xn,page:An,viewport:kn}){mn(this,Mn);mn(this,tr,null);mn(this,Yt,null);mn(this,Pn,new Map);this.div=Ut,vn(this,tr,Bt),vn(this,Yt,en),this.l10n=xn,this.page=An,this.viewport=kn,this.zIndex=0,this.l10n||(this.l10n=ot.NullL10n)}async render(Ut){const{annotations:Bt}=Ut,en=this.div;(0,nt.setLayerDimensions)(en,this.viewport);const xn=new Map,An={data:null,layer:en,linkService:Ut.linkService,downloadManager:Ut.downloadManager,imageResourcesPath:Ut.imageResourcesPath||"",renderForms:Ut.renderForms!==!1,svgFactory:new nt.DOMSVGFactory,annotationStorage:Ut.annotationStorage||new rt.AnnotationStorage,enableScripting:Ut.enableScripting===!0,hasJSActions:Ut.hasJSActions,fieldObjects:Ut.fieldObjects,parent:this,elements:null};for(const kn of Bt){if(kn.noHTML)continue;const On=kn.annotationType===tt.AnnotationType.POPUP;if(On){const Dn=xn.get(kn.id);if(!Dn)continue;An.elements=Dn}else{const{width:Dn,height:nr}=ut(kn.rect);if(Dn<=0||nr<=0)continue}An.data=kn;const Gn=dt.create(An);if(!Gn.isRenderable)continue;if(!On&&kn.popupRef){const Dn=xn.get(kn.popupRef);Dn?Dn.push(Gn):xn.set(kn.popupRef,[Gn])}Gn.annotationEditorType>0&&At(this,Pn).set(Gn.data.id,Gn);const Wn=Gn.render();kn.hidden&&(Wn.style.visibility="hidden"),on(this,Mn,cs).call(this,Wn,kn.id)}on(this,Mn,Do).call(this),await this.l10n.translate(en)}update({viewport:Ut}){const Bt=this.div;this.viewport=Ut,(0,nt.setLayerDimensions)(Bt,{rotation:Ut.rotation}),on(this,Mn,Do).call(this),Bt.hidden=!1}getEditableAnnotations(){return Array.from(At(this,Pn).values())}getEditableAnnotation(Ut){return At(this,Pn).get(Ut)}}tr=new WeakMap,Yt=new WeakMap,Pn=new WeakMap,Mn=new WeakSet,cs=function(Ut,Bt){var xn;const en=Ut.firstChild||Ut;en.id=`${tt.AnnotationPrefix}${Bt}`,this.div.append(Ut),(xn=At(this,tr))==null||xn.moveElementInDOM(this.div,Ut,en,!1)},Do=function(){if(!At(this,Yt))return;const Ut=this.div;for(const[Bt,en]of At(this,Yt)){const xn=Ut.querySelector(`[data-annotation-id="${Bt}"]`);if(!xn)continue;const{firstChild:An}=xn;An?An.nodeName==="CANVAS"?An.replaceWith(en):An.before(en):xn.append(en)}At(this,Yt).clear()},_e.AnnotationLayer=kt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function et(rt){return Math.floor(Math.max(0,Math.min(1,rt))*255).toString(16).padStart(2,"0")}function tt(rt){return Math.max(0,Math.min(255,255*rt))}class nt{static CMYK_G([it,ot,at,st]){return["G",1-Math.min(1,.3*it+.59*at+.11*ot+st)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_rgb([it]){return it=tt(it),[it,it,it]}static G_HTML([it]){const ot=et(it);return`#${ot}${ot}${ot}`}static RGB_G([it,ot,at]){return["G",.3*it+.59*ot+.11*at]}static RGB_rgb(it){return it.map(tt)}static RGB_HTML(it){return`#${it.map(et).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([it,ot,at,st]){return["RGB",1-Math.min(1,it+st),1-Math.min(1,at+st),1-Math.min(1,ot+st)]}static CMYK_rgb([it,ot,at,st]){return[tt(1-Math.min(1,it+st)),tt(1-Math.min(1,at+st)),tt(1-Math.min(1,ot+st))]}static CMYK_HTML(it){const ot=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(ot)}static RGB_CMYK([it,ot,at]){const st=1-it,lt=1-ot,ct=1-at,ut=Math.min(st,lt,ct);return["CMYK",st,lt,ct,ut]}}_e.ColorConverters=nt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NullL10n=void 0,_e.getL10nFallback=tt;const et={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};et.print_progress_percent="{{progress}}%";function tt(it,ot){switch(it){case"find_match_count":it=`find_match_count[${ot.total===1?"one":"other"}]`;break;case"find_match_count_limit":it=`find_match_count_limit[${ot.limit===1?"one":"other"}]`;break}return et[it]||""}function nt(it,ot){return ot?it.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(at,st)=>st in ot?ot[st]:"{{"+st+"}}"):it}const rt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(it,ot=null,at=tt(it,ot)){return nt(at,ot)},async translate(it){}};_e.NullL10n=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var tt=et(25);class nt{static setupStorage(it,ot,at,st,lt){const ct=st.getValue(ot,{value:null});switch(at.name){case"textarea":if(ct.value!==null&&(it.textContent=ct.value),lt==="print")break;it.addEventListener("input",ut=>{st.setValue(ot,{value:ut.target.value})});break;case"input":if(at.attributes.type==="radio"||at.attributes.type==="checkbox"){if(ct.value===at.attributes.xfaOn?it.setAttribute("checked",!0):ct.value===at.attributes.xfaOff&&it.removeAttribute("checked"),lt==="print")break;it.addEventListener("change",ut=>{st.setValue(ot,{value:ut.target.checked?ut.target.getAttribute("xfaOn"):ut.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&it.setAttribute("value",ct.value),lt==="print")break;it.addEventListener("input",ut=>{st.setValue(ot,{value:ut.target.value})})}break;case"select":if(ct.value!==null){it.setAttribute("value",ct.value);for(const ut of at.children)ut.attributes.value===ct.value?ut.attributes.selected=!0:ut.attributes.hasOwnProperty("selected")&&delete ut.attributes.selected}it.addEventListener("input",ut=>{const dt=ut.target.options,ft=dt.selectedIndex===-1?"":dt[dt.selectedIndex].value;st.setValue(ot,{value:ft})});break}}static setAttributes({html:it,element:ot,storage:at=null,intent:st,linkService:lt}){const{attributes:ct}=ot,ut=it instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${st}`);for(const[dt,ft]of Object.entries(ct))if(ft!=null)switch(dt){case"class":ft.length&&it.setAttribute(dt,ft.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",ft);break;case"style":Object.assign(it.style,ft);break;case"textContent":it.textContent=ft;break;default:(!ut||dt!=="href"&&dt!=="newWindow")&&it.setAttribute(dt,ft)}ut&&lt.addLinkAttributes(it,ct.href,ct.newWindow),at&&ct.dataId&&this.setupStorage(it,ct.dataId,ot,at)}static render(it){var pt;const ot=it.annotationStorage,at=it.linkService,st=it.xfaHtml,lt=it.intent||"display",ct=document.createElement(st.name);st.attributes&&this.setAttributes({html:ct,element:st,intent:lt,linkService:at});const ut=[[st,-1,ct]],dt=it.div;if(dt.append(ct),it.viewport){const mt=`matrix(${it.viewport.transform.join(",")})`;dt.style.transform=mt}lt!=="richText"&&dt.setAttribute("class","xfaLayer xfaFont");const ft=[];for(;ut.length>0;){const[mt,ht,yt]=ut.at(-1);if(ht+1===mt.children.length){ut.pop();continue}const xt=mt.children[++ut.at(-1)[1]];if(xt===null)continue;const{name:St}=xt;if(St==="#text"){const vt=document.createTextNode(xt.value);ft.push(vt),yt.append(vt);continue}const gt=(pt=xt==null?void 0:xt.attributes)!=null&&pt.xmlns?document.createElementNS(xt.attributes.xmlns,St):document.createElement(St);if(yt.append(gt),xt.attributes&&this.setAttributes({html:gt,element:xt,storage:ot,intent:lt,linkService:at}),xt.children&&xt.children.length>0)ut.push([xt,-1,gt]);else if(xt.value){const vt=document.createTextNode(xt.value);tt.XfaText.shouldBuildText(St)&&ft.push(vt),gt.append(vt)}}for(const mt of dt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))mt.setAttribute("readOnly",!0);return{textDivs:ft}}static update(it){const ot=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=ot,it.div.hidden=!1}}_e.XfaLayer=nt},($,_e,et)=>{var st,lt,ct,ut,dt,ft,pt,mt,ht,yt,xt,St,gt,vt,bt,us,ds,fs,hs,Fo,ps,Lo,ms,gs,ys,vs,bs,_r,Bo,Zr,_i,Tr,zo,eo,Wt,xs,Ho,Ss,ws,Vo,to,Or;Object.defineProperty(_e,"__esModule",{value:!0}),_e.InkEditor=void 0;var tt=et(1),nt=et(4),rt=et(29),it=et(6),ot=et(5);const $n=class $n extends nt.AnnotationEditor{constructor(It){super({...It,name:"inkEditor"});mn(this,bt);mn(this,st,0);mn(this,lt,0);mn(this,ct,this.canvasPointermove.bind(this));mn(this,ut,this.canvasPointerleave.bind(this));mn(this,dt,this.canvasPointerup.bind(this));mn(this,ft,this.canvasPointerdown.bind(this));mn(this,pt,new Path2D);mn(this,mt,!1);mn(this,ht,!1);mn(this,yt,!1);mn(this,xt,null);mn(this,St,0);mn(this,gt,0);mn(this,vt,null);this.color=It.color||null,this.thickness=It.thickness||null,this.opacity=It.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(It){nt.AnnotationEditor.initialize(It,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(It,qt){switch(It){case tt.AnnotationEditorParamsType.INK_THICKNESS:$n._defaultThickness=qt;break;case tt.AnnotationEditorParamsType.INK_COLOR:$n._defaultColor=qt;break;case tt.AnnotationEditorParamsType.INK_OPACITY:$n._defaultOpacity=qt/100;break}}updateParams(It,qt){switch(It){case tt.AnnotationEditorParamsType.INK_THICKNESS:on(this,bt,us).call(this,qt);break;case tt.AnnotationEditorParamsType.INK_COLOR:on(this,bt,ds).call(this,qt);break;case tt.AnnotationEditorParamsType.INK_OPACITY:on(this,bt,fs).call(this,qt);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,$n._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,$n._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round($n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||$n._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||$n._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??$n._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(on(this,bt,Zr).call(this),on(this,bt,_i).call(this)),this.isAttachedToDOM||(this.parent.add(this),on(this,bt,Tr).call(this)),on(this,bt,Or).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,At(this,xt).disconnect(),vn(this,xt,null),super.remove())}setParent(It){!this.parent&&It?this._uiManager.removeShouldRescale(this):this.parent&&It===null&&this._uiManager.addShouldRescale(this),super.setParent(It)}onScaleChanging(){const[It,qt]=this.parentDimensions,tn=this.width*It,fn=this.height*qt;this.setDimensions(tn,fn)}enableEditMode(){At(this,mt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",At(this,ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",At(this,ft)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){At(this,mt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),vn(this,mt,!0),this.div.classList.add("disabled"),on(this,bt,Or).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(It){this._focusEventsAllowed&&(super.focusin(It),this.enableEditMode())}canvasPointerdown(It){It.button!==0||!this.isInEditMode()||At(this,mt)||(this.setInForeground(),It.preventDefault(),It.type!=="mouse"&&this.div.focus(),on(this,bt,ps).call(this,It.offsetX,It.offsetY))}canvasPointermove(It){It.preventDefault(),on(this,bt,Lo).call(this,It.offsetX,It.offsetY)}canvasPointerup(It){It.preventDefault(),on(this,bt,Bo).call(this,It)}canvasPointerleave(It){on(this,bt,Bo).call(this,It)}get isResizable(){return!this.isEmpty()&&At(this,mt)}render(){if(this.div)return this.div;let It,qt;this.width&&(It=this.x,qt=this.y),super.render(),nt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(En=>{var sn;return(sn=this.div)==null?void 0:sn.setAttribute("aria-label",En)});const[tn,fn,_n,Cn]=on(this,bt,hs).call(this);if(this.setAt(tn,fn,0,0),this.setDims(_n,Cn),on(this,bt,Zr).call(this),this.width){const[En,sn]=this.parentDimensions;this.setAspectRatio(this.width*En,this.height*sn),this.setAt(It*En,qt*sn,this.width*En,this.height*sn),vn(this,yt,!0),on(this,bt,Tr).call(this),this.setDims(this.width*En,this.height*sn),on(this,bt,_r).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return on(this,bt,_i).call(this),this.div}setDimensions(It,qt){const tn=Math.round(It),fn=Math.round(qt);if(At(this,St)===tn&&At(this,gt)===fn)return;vn(this,St,tn),vn(this,gt,fn),this.canvas.style.visibility="hidden";const[_n,Cn]=this.parentDimensions;this.width=It/_n,this.height=qt/Cn,this.fixAndSetPosition(),At(this,mt)&&on(this,bt,zo).call(this,It,qt),on(this,bt,Tr).call(this),on(this,bt,_r).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(It,qt,tn){var Yn,or,sr;if(It instanceof rt.InkAnnotationElement)return null;const fn=super.deserialize(It,qt,tn);fn.thickness=It.thickness,fn.color=tt.Util.makeHexColor(...It.color),fn.opacity=It.opacity;const[_n,Cn]=fn.pageDimensions,En=fn.width*_n,sn=fn.height*Cn,In=fn.parentScale,Nn=It.thickness/2;vn(fn,mt,!0),vn(fn,St,Math.round(En)),vn(fn,gt,Math.round(sn));const{paths:er,rect:Jn,rotation:ir}=It;for(let{bezier:Tn}of er){Tn=on(Yn=$n,Wt,Ss).call(Yn,Tn,Jn,ir);const pn=[];fn.paths.push(pn);let yn=In*(Tn[0]-Nn),zn=In*(Tn[1]-Nn);for(let tr=2,Yt=Tn.length;tr<Yt;tr+=6){const Pn=In*(Tn[tr]-Nn),Mn=In*(Tn[tr+1]-Nn),Kn=In*(Tn[tr+2]-Nn),Xn=In*(Tn[tr+3]-Nn),Bn=In*(Tn[tr+4]-Nn),Ut=In*(Tn[tr+5]-Nn);pn.push([[yn,zn],[Pn,Mn],[Kn,Xn],[Bn,Ut]]),yn=Bn,zn=Ut}const ar=on(this,Wt,xs).call(this,pn);fn.bezierPath2D.push(ar)}const Vn=on(or=fn,bt,Vo).call(or);return vn(fn,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,Vn[2]-Vn[0])),vn(fn,st,Math.max(nt.AnnotationEditor.MIN_SIZE,Vn[3]-Vn[1])),on(sr=fn,bt,zo).call(sr,En,sn),fn}serialize(){if(this.isEmpty())return null;const It=this.getRect(0,0),qt=nt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:qt,thickness:this.thickness,opacity:this.opacity,paths:on(this,bt,ws).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,It),pageIndex:this.pageIndex,rect:It,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};st=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakMap,xt=new WeakMap,St=new WeakMap,gt=new WeakMap,vt=new WeakMap,bt=new WeakSet,us=function(It){const qt=this.thickness;this.addCommands({cmd:()=>{this.thickness=It,on(this,bt,Or).call(this)},undo:()=>{this.thickness=qt,on(this,bt,Or).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ds=function(It){const qt=this.color;this.addCommands({cmd:()=>{this.color=It,on(this,bt,_r).call(this)},undo:()=>{this.color=qt,on(this,bt,_r).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fs=function(It){It/=100;const qt=this.opacity;this.addCommands({cmd:()=>{this.opacity=It,on(this,bt,_r).call(this)},undo:()=>{this.opacity=qt,on(this,bt,_r).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},hs=function(){const{parentRotation:It,parentDimensions:[qt,tn]}=this;switch(It){case 90:return[0,tn,tn,qt];case 180:return[qt,tn,qt,tn];case 270:return[qt,0,tn,qt];default:return[0,0,qt,tn]}},Fo=function(){const{ctx:It,color:qt,opacity:tn,thickness:fn,parentScale:_n,scaleFactor:Cn}=this;It.lineWidth=fn*_n/Cn,It.lineCap="round",It.lineJoin="round",It.miterLimit=10,It.strokeStyle=`${qt}${(0,ot.opacityToHex)(tn)}`},ps=function(It,qt){this.canvas.addEventListener("contextmenu",it.noContextMenu),this.canvas.addEventListener("pointerleave",At(this,ut)),this.canvas.addEventListener("pointermove",At(this,ct)),this.canvas.addEventListener("pointerup",At(this,dt)),this.canvas.removeEventListener("pointerdown",At(this,ft)),this.isEditing=!0,At(this,yt)||(vn(this,yt,!0),on(this,bt,Tr).call(this),this.thickness||(this.thickness=$n._defaultThickness),this.color||(this.color=$n._defaultColor||nt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=$n._defaultOpacity)),this.currentPath.push([It,qt]),vn(this,ht,!1),on(this,bt,Fo).call(this),vn(this,vt,()=>{on(this,bt,ys).call(this),At(this,vt)&&window.requestAnimationFrame(At(this,vt))}),window.requestAnimationFrame(At(this,vt))},Lo=function(It,qt){const[tn,fn]=this.currentPath.at(-1);if(this.currentPath.length>1&&It===tn&&qt===fn)return;const _n=this.currentPath;let Cn=At(this,pt);if(_n.push([It,qt]),vn(this,ht,!0),_n.length<=2){Cn.moveTo(..._n[0]),Cn.lineTo(It,qt);return}_n.length===3&&(vn(this,pt,Cn=new Path2D),Cn.moveTo(..._n[0])),on(this,bt,vs).call(this,Cn,..._n.at(-3),..._n.at(-2),It,qt)},ms=function(){if(this.currentPath.length===0)return;const It=this.currentPath.at(-1);At(this,pt).lineTo(...It)},gs=function(It,qt){vn(this,vt,null),It=Math.min(Math.max(It,0),this.canvas.width),qt=Math.min(Math.max(qt,0),this.canvas.height),on(this,bt,Lo).call(this,It,qt),on(this,bt,ms).call(this);let tn;if(this.currentPath.length!==1)tn=on(this,bt,bs).call(this);else{const sn=[It,qt];tn=[[sn,sn.slice(),sn.slice(),sn]]}const fn=At(this,pt),_n=this.currentPath;this.currentPath=[],vn(this,pt,new Path2D);const Cn=()=>{this.allRawPaths.push(_n),this.paths.push(tn),this.bezierPath2D.push(fn),this.rebuild()},En=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(on(this,bt,Zr).call(this),on(this,bt,_i).call(this)),on(this,bt,Or).call(this))};this.addCommands({cmd:Cn,undo:En,mustExec:!0})},ys=function(){if(!At(this,ht))return;vn(this,ht,!1);const It=Math.ceil(this.thickness*this.parentScale),qt=this.currentPath.slice(-3),tn=qt.map(Cn=>Cn[0]),fn=qt.map(Cn=>Cn[1]);Math.min(...tn)-It,Math.max(...tn)+It,Math.min(...fn)-It,Math.max(...fn)+It;const{ctx:_n}=this;_n.save(),_n.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Cn of this.bezierPath2D)_n.stroke(Cn);_n.stroke(At(this,pt)),_n.restore()},vs=function(It,qt,tn,fn,_n,Cn,En){const sn=(qt+fn)/2,In=(tn+_n)/2,Nn=(fn+Cn)/2,er=(_n+En)/2;It.bezierCurveTo(sn+2*(fn-sn)/3,In+2*(_n-In)/3,Nn+2*(fn-Nn)/3,er+2*(_n-er)/3,Nn,er)},bs=function(){const It=this.currentPath;if(It.length<=2)return[[It[0],It[0],It.at(-1),It.at(-1)]];const qt=[];let tn,[fn,_n]=It[0];for(tn=1;tn<It.length-2;tn++){const[Jn,ir]=It[tn],[Vn,Yn]=It[tn+1],or=(Jn+Vn)/2,sr=(ir+Yn)/2,Tn=[fn+2*(Jn-fn)/3,_n+2*(ir-_n)/3],pn=[or+2*(Jn-or)/3,sr+2*(ir-sr)/3];qt.push([[fn,_n],Tn,pn,[or,sr]]),[fn,_n]=[or,sr]}const[Cn,En]=It[tn],[sn,In]=It[tn+1],Nn=[fn+2*(Cn-fn)/3,_n+2*(En-_n)/3],er=[sn+2*(Cn-sn)/3,In+2*(En-In)/3];return qt.push([[fn,_n],Nn,er,[sn,In]]),qt},_r=function(){if(this.isEmpty()){on(this,bt,eo).call(this);return}on(this,bt,Fo).call(this);const{canvas:It,ctx:qt}=this;qt.setTransform(1,0,0,1,0,0),qt.clearRect(0,0,It.width,It.height),on(this,bt,eo).call(this);for(const tn of this.bezierPath2D)qt.stroke(tn)},Bo=function(It){this.canvas.removeEventListener("pointerleave",At(this,ut)),this.canvas.removeEventListener("pointermove",At(this,ct)),this.canvas.removeEventListener("pointerup",At(this,dt)),this.canvas.addEventListener("pointerdown",At(this,ft)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",it.noContextMenu)},10),on(this,bt,gs).call(this,It.offsetX,It.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",nt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(It=>{var qt;return(qt=this.canvas)==null?void 0:qt.setAttribute("aria-label",It)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_i=function(){vn(this,xt,new ResizeObserver(It=>{const qt=It[0].contentRect;qt.width&&qt.height&&this.setDimensions(qt.width,qt.height)})),At(this,xt).observe(this.div)},Tr=function(){if(!At(this,yt))return;const[It,qt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*It),this.canvas.height=Math.ceil(this.height*qt),on(this,bt,eo).call(this)},zo=function(It,qt){const tn=on(this,bt,to).call(this),fn=(It-tn)/At(this,lt),_n=(qt-tn)/At(this,st);this.scaleFactor=Math.min(fn,_n)},eo=function(){const It=on(this,bt,to).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+It,this.translationY*this.scaleFactor+It)},Wt=new WeakSet,xs=function(It){const qt=new Path2D;for(let tn=0,fn=It.length;tn<fn;tn++){const[_n,Cn,En,sn]=It[tn];tn===0&&qt.moveTo(..._n),qt.bezierCurveTo(Cn[0],Cn[1],En[0],En[1],sn[0],sn[1])}return qt},Ho=function(It,qt,tn){const[fn,_n,Cn,En]=qt;switch(tn){case 0:for(let sn=0,In=It.length;sn<In;sn+=2)It[sn]+=fn,It[sn+1]=En-It[sn+1];break;case 90:for(let sn=0,In=It.length;sn<In;sn+=2){const Nn=It[sn];It[sn]=It[sn+1]+fn,It[sn+1]=Nn+_n}break;case 180:for(let sn=0,In=It.length;sn<In;sn+=2)It[sn]=Cn-It[sn],It[sn+1]+=_n;break;case 270:for(let sn=0,In=It.length;sn<In;sn+=2){const Nn=It[sn];It[sn]=Cn-It[sn+1],It[sn+1]=En-Nn}break;default:throw new Error("Invalid rotation")}return It},Ss=function(It,qt,tn){const[fn,_n,Cn,En]=qt;switch(tn){case 0:for(let sn=0,In=It.length;sn<In;sn+=2)It[sn]-=fn,It[sn+1]=En-It[sn+1];break;case 90:for(let sn=0,In=It.length;sn<In;sn+=2){const Nn=It[sn];It[sn]=It[sn+1]-_n,It[sn+1]=Nn-fn}break;case 180:for(let sn=0,In=It.length;sn<In;sn+=2)It[sn]=Cn-It[sn],It[sn+1]-=_n;break;case 270:for(let sn=0,In=It.length;sn<In;sn+=2){const Nn=It[sn];It[sn]=En-It[sn+1],It[sn+1]=Cn-Nn}break;default:throw new Error("Invalid rotation")}return It},ws=function(It,qt,tn,fn){var In,Nn;const _n=[],Cn=this.thickness/2,En=It*qt+Cn,sn=It*tn+Cn;for(const er of this.paths){const Jn=[],ir=[];for(let Vn=0,Yn=er.length;Vn<Yn;Vn++){const[or,sr,Tn,pn]=er[Vn],yn=It*or[0]+En,zn=It*or[1]+sn,ar=It*sr[0]+En,tr=It*sr[1]+sn,Yt=It*Tn[0]+En,Pn=It*Tn[1]+sn,Mn=It*pn[0]+En,Kn=It*pn[1]+sn;Vn===0&&(Jn.push(yn,zn),ir.push(yn,zn)),Jn.push(ar,tr,Yt,Pn,Mn,Kn),ir.push(ar,tr),Vn===Yn-1&&ir.push(Mn,Kn)}_n.push({bezier:on(In=$n,Wt,Ho).call(In,Jn,fn,this.rotation),points:on(Nn=$n,Wt,Ho).call(Nn,ir,fn,this.rotation)})}return _n},Vo=function(){let It=1/0,qt=-1/0,tn=1/0,fn=-1/0;for(const _n of this.paths)for(const[Cn,En,sn,In]of _n){const Nn=tt.Util.bezierBoundingBox(...Cn,...En,...sn,...In);It=Math.min(It,Nn[0]),tn=Math.min(tn,Nn[1]),qt=Math.max(qt,Nn[2]),fn=Math.max(fn,Nn[3])}return[It,tn,qt,fn]},to=function(){return At(this,mt)?Math.ceil(this.thickness*this.parentScale):0},Or=function(It=!1){if(this.isEmpty())return;if(!At(this,mt)){on(this,bt,_r).call(this);return}const qt=on(this,bt,Vo).call(this),tn=on(this,bt,to).call(this);vn(this,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,qt[2]-qt[0])),vn(this,st,Math.max(nt.AnnotationEditor.MIN_SIZE,qt[3]-qt[1]));const fn=Math.ceil(tn+At(this,lt)*this.scaleFactor),_n=Math.ceil(tn+At(this,st)*this.scaleFactor),[Cn,En]=this.parentDimensions;this.width=fn/Cn,this.height=_n/En,this.setAspectRatio(fn,_n);const sn=this.translationX,In=this.translationY;this.translationX=-qt[0],this.translationY=-qt[1],on(this,bt,Tr).call(this),on(this,bt,_r).call(this),vn(this,St,fn),vn(this,gt,_n),this.setDims(fn,_n);const Nn=It?tn/this.scaleFactor/2:0;this.translate(sn-this.translationX-Nn,In-this.translationY-Nn)},mn($n,Wt),hr($n,"_defaultColor",null),hr($n,"_defaultOpacity",1),hr($n,"_defaultThickness",1),hr($n,"_type","ink");let at=$n;_e.InkEditor=at},($,_e,et)=>{var at,st,lt,ct,ut,dt,ft,pt,mt,ht,yt,Br,zr,no,Wo,_s,As,Go,ro,$s;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampEditor=void 0;var tt=et(1),nt=et(4),rt=et(6),it=et(29);const Et=class Et extends nt.AnnotationEditor{constructor(Mt){super({...Mt,name:"stampEditor"});mn(this,yt);mn(this,at,null);mn(this,st,null);mn(this,lt,null);mn(this,ct,null);mn(this,ut,null);mn(this,dt,null);mn(this,ft,null);mn(this,pt,null);mn(this,mt,!1);mn(this,ht,!1);vn(this,ct,Mt.bitmapUrl),vn(this,ut,Mt.bitmapFile)}static initialize(Mt){nt.AnnotationEditor.initialize(Mt)}static get supportedTypes(){const Mt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,tt.shadow)(this,"supportedTypes",Mt.map(Ht=>`image/${Ht}`))}static get supportedTypesStr(){return(0,tt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Mt){return this.supportedTypes.includes(Mt)}static paste(Mt,Ht){Ht.pasteEditor(tt.AnnotationEditorType.STAMP,{bitmapFile:Mt.getAsFile()})}remove(){var Mt,Ht;At(this,st)&&(vn(this,at,null),this._uiManager.imageManager.deleteId(At(this,st)),(Mt=At(this,dt))==null||Mt.remove(),vn(this,dt,null),(Ht=At(this,ft))==null||Ht.disconnect(),vn(this,ft,null)),super.remove()}rebuild(){if(!this.parent){At(this,st)&&on(this,yt,no).call(this);return}super.rebuild(),this.div!==null&&(At(this,st)&&on(this,yt,no).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(At(this,lt)||At(this,at)||At(this,ct)||At(this,ut))}get isResizable(){return!0}render(){if(this.div)return this.div;let Mt,Ht;if(this.width&&(Mt=this.x,Ht=this.y),super.render(),this.div.hidden=!0,At(this,at)?on(this,yt,Wo).call(this):on(this,yt,no).call(this),this.width){const[Rt,Ft]=this.parentDimensions;this.setAt(Mt*Rt,Ht*Ft,this.width*Rt,this.height*Ft)}return this.div}static deserialize(Mt,Ht,Rt){if(Mt instanceof it.StampAnnotationElement)return null;const Ft=super.deserialize(Mt,Ht,Rt),{rect:Tt,bitmapUrl:Dt,bitmapId:Jt,isSvg:Ot,accessibilityData:Pt}=Mt;Jt&&Rt.imageManager.isValidId(Jt)?vn(Ft,st,Jt):vn(Ft,ct,Dt),vn(Ft,mt,Ot);const[kt,Nt]=Ft.pageDimensions;return Ft.width=(Tt[2]-Tt[0])/kt,Ft.height=(Tt[3]-Tt[1])/Nt,Pt&&(Ft.altTextData=Pt),Ft}serialize(Mt=!1,Ht=null){if(this.isEmpty())return null;const Rt={annotationType:tt.AnnotationEditorType.STAMP,bitmapId:At(this,st),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:At(this,mt),structTreeParentId:this._structTreeParentId};if(Mt)return Rt.bitmapUrl=on(this,yt,ro).call(this,!0),Rt.accessibilityData=this.altTextData,Rt;const{decorative:Ft,altText:Tt}=this.altTextData;if(!Ft&&Tt&&(Rt.accessibilityData={type:"Figure",alt:Tt}),Ht===null)return Rt;Ht.stamps||(Ht.stamps=new Map);const Dt=At(this,mt)?(Rt.rect[2]-Rt.rect[0])*(Rt.rect[3]-Rt.rect[1]):null;if(!Ht.stamps.has(At(this,st)))Ht.stamps.set(At(this,st),{area:Dt,serialized:Rt}),Rt.bitmap=on(this,yt,ro).call(this,!1);else if(At(this,mt)){const Jt=Ht.stamps.get(At(this,st));Dt>Jt.area&&(Jt.area=Dt,Jt.serialized.bitmap.close(),Jt.serialized.bitmap=on(this,yt,ro).call(this,!1))}return Rt}};at=new WeakMap,st=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,yt=new WeakSet,Br=function(Mt,Ht=!1){if(!Mt){this.remove();return}vn(this,at,Mt.bitmap),Ht||(vn(this,st,Mt.id),vn(this,mt,Mt.isSvg)),on(this,yt,Wo).call(this)},zr=function(){vn(this,lt,null),this._uiManager.enableWaiting(!1),At(this,dt)&&this.div.focus()},no=function(){if(At(this,st)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(At(this,st)).then(Ht=>on(this,yt,Br).call(this,Ht,!0)).finally(()=>on(this,yt,zr).call(this));return}if(At(this,ct)){const Ht=At(this,ct);vn(this,ct,null),this._uiManager.enableWaiting(!0),vn(this,lt,this._uiManager.imageManager.getFromUrl(Ht).then(Rt=>on(this,yt,Br).call(this,Rt)).finally(()=>on(this,yt,zr).call(this)));return}if(At(this,ut)){const Ht=At(this,ut);vn(this,ut,null),this._uiManager.enableWaiting(!0),vn(this,lt,this._uiManager.imageManager.getFromFile(Ht).then(Rt=>on(this,yt,Br).call(this,Rt)).finally(()=>on(this,yt,zr).call(this)));return}const Mt=document.createElement("input");Mt.type="file",Mt.accept=Et.supportedTypesStr,vn(this,lt,new Promise(Ht=>{Mt.addEventListener("change",async()=>{if(!Mt.files||Mt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Rt=await this._uiManager.imageManager.getFromFile(Mt.files[0]);on(this,yt,Br).call(this,Rt)}Ht()}),Mt.addEventListener("cancel",()=>{this.remove(),Ht()})}).finally(()=>on(this,yt,zr).call(this))),Mt.click()},Wo=function(){const{div:Mt}=this;let{width:Ht,height:Rt}=At(this,at);const[Ft,Tt]=this.pageDimensions,Dt=.75;if(this.width)Ht=this.width*Ft,Rt=this.height*Tt;else if(Ht>Dt*Ft||Rt>Dt*Tt){const kt=Math.min(Dt*Ft/Ht,Dt*Tt/Rt);Ht*=kt,Rt*=kt}const[Jt,Ot]=this.parentDimensions;this.setDims(Ht*Jt/Ft,Rt*Ot/Tt),this._uiManager.enableWaiting(!1);const Pt=vn(this,dt,document.createElement("canvas"));Mt.append(Pt),Mt.hidden=!1,on(this,yt,Go).call(this,Ht,Rt),on(this,yt,$s).call(this),At(this,ht)||(this.parent.addUndoableEditor(this),vn(this,ht,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_s=function(Mt,Ht){var Dt;const[Rt,Ft]=this.parentDimensions;this.width=Mt/Rt,this.height=Ht/Ft,this.setDims(Mt,Ht),(Dt=this._initialOptions)!=null&&Dt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,At(this,pt)!==null&&clearTimeout(At(this,pt)),vn(this,pt,setTimeout(()=>{vn(this,pt,null),on(this,yt,Go).call(this,Mt,Ht)},200))},As=function(Mt,Ht){const{width:Rt,height:Ft}=At(this,at);let Tt=Rt,Dt=Ft,Jt=At(this,at);for(;Tt>2*Mt||Dt>2*Ht;){const Ot=Tt,Pt=Dt;Tt>2*Mt&&(Tt=Tt>=16384?Math.floor(Tt/2)-1:Math.ceil(Tt/2)),Dt>2*Ht&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2));const kt=new OffscreenCanvas(Tt,Dt);kt.getContext("2d").drawImage(Jt,0,0,Ot,Pt,0,0,Tt,Dt),Jt=kt.transferToImageBitmap()}return Jt},Go=function(Mt,Ht){Mt=Math.ceil(Mt),Ht=Math.ceil(Ht);const Rt=At(this,dt);if(!Rt||Rt.width===Mt&&Rt.height===Ht)return;Rt.width=Mt,Rt.height=Ht;const Ft=At(this,mt)?At(this,at):on(this,yt,As).call(this,Mt,Ht),Tt=Rt.getContext("2d");Tt.filter=this._uiManager.hcmFilter,Tt.drawImage(Ft,0,0,Ft.width,Ft.height,0,0,Mt,Ht)},ro=function(Mt){if(Mt){if(At(this,mt)){const Ft=this._uiManager.imageManager.getSvgUrl(At(this,st));if(Ft)return Ft}const Ht=document.createElement("canvas");return{width:Ht.width,height:Ht.height}=At(this,at),Ht.getContext("2d").drawImage(At(this,at),0,0),Ht.toDataURL()}if(At(this,mt)){const[Ht,Rt]=this.pageDimensions,Ft=Math.round(this.width*Ht*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Tt=Math.round(this.height*Rt*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=new OffscreenCanvas(Ft,Tt);return Dt.getContext("2d").drawImage(At(this,at),0,0,At(this,at).width,At(this,at).height,0,0,Ft,Tt),Dt.transferToImageBitmap()}return structuredClone(At(this,at))},$s=function(){vn(this,ft,new ResizeObserver(Mt=>{const Ht=Mt[0].contentRect;Ht.width&&Ht.height&&on(this,yt,_s).call(this,Ht.width,Ht.height)})),At(this,ft).observe(this.div)},hr(Et,"_type","stamp");let ot=Et;_e.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__($){var _e=__webpack_module_cache__[$];if(_e!==void 0)return _e.exports;var et=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](et,et.exports,__w_pdfjs_require__),et.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AbortException",{enumerable:!0,get:function(){return _e.AbortException}}),Object.defineProperty($,"AnnotationEditorLayer",{enumerable:!0,get:function(){return rt.AnnotationEditorLayer}}),Object.defineProperty($,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _e.AnnotationEditorParamsType}}),Object.defineProperty($,"AnnotationEditorType",{enumerable:!0,get:function(){return _e.AnnotationEditorType}}),Object.defineProperty($,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return it.AnnotationEditorUIManager}}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return ot.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return _e.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return _e.CMapCompressionType}}),Object.defineProperty($,"DOMSVGFactory",{enumerable:!0,get:function(){return tt.DOMSVGFactory}}),Object.defineProperty($,"FeatureTest",{enumerable:!0,get:function(){return _e.FeatureTest}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return at.GlobalWorkerOptions}}),Object.defineProperty($,"ImageKind",{enumerable:!0,get:function(){return _e.ImageKind}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return _e.InvalidPDFException}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return _e.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return _e.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return et.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return tt.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return et.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return _e.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return _e.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return tt.PixelsPerInch}}),Object.defineProperty($,"PromiseCapability",{enumerable:!0,get:function(){return _e.PromiseCapability}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return tt.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return et.SVGGraphics}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return _e.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return _e.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return _e.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return st.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return et.build}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _e.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return et.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return tt.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tt.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return tt.getXfaPageViewport}}),Object.defineProperty($,"isDataScheme",{enumerable:!0,get:function(){return tt.isDataScheme}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return tt.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return tt.loadScript}}),Object.defineProperty($,"noContextMenu",{enumerable:!0,get:function(){return tt.noContextMenu}}),Object.defineProperty($,"normalizeUnicode",{enumerable:!0,get:function(){return _e.normalizeUnicode}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty($,"setLayerDimensions",{enumerable:!0,get:function(){return tt.setLayerDimensions}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return _e.shadow}}),Object.defineProperty($,"updateTextLayer",{enumerable:!0,get:function(){return nt.updateTextLayer}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return et.version}});var _e=__w_pdfjs_require__(1),et=__w_pdfjs_require__(2),tt=__w_pdfjs_require__(6),nt=__w_pdfjs_require__(26),rt=__w_pdfjs_require__(27),it=__w_pdfjs_require__(5),ot=__w_pdfjs_require__(29),at=__w_pdfjs_require__(14),st=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;async function readFile($){const _e=$.name.toLowerCase();return _e.endsWith(".pdf")?await readPDF($):_e.endsWith(".docx")?await readDOCX():await readText($)}async function readText($){return new Promise((_e,et)=>{const tt=new FileReader;tt.onload=nt=>{var it;const rt=(it=nt.target)==null?void 0:it.result;_e(rt||"")},tt.onerror=et,tt.readAsText($)})}async function readPDF($){try{const _e=await $.arrayBuffer(),et=await pdfExports.getDocument({data:_e}).promise;let tt="";for(let nt=1;nt<=et.numPages;nt++){const ot=(await(await et.getPage(nt)).getTextContent()).items.map(at=>at.str||"").join(" ");tt+=ot+`
`}return tt||"[PDF extraction produced no readable text]"}catch(_e){return console.error("PDF reading error:",_e),`[Could not extract PDF text: ${_e instanceof Error?_e.message:"Unknown error"}]`}}async function readDOCX($){return"[DOCX preview coming soon - please use .txt or .pdf files for now]"}function BaselineManager(){const[$,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(null),[it,ot]=reactExports.useState(null),[at,st]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1);reactExports.useEffect(()=>{const ht=localStorage.getItem("baseline-files");if(ht)try{_e(JSON.parse(ht))}catch{console.log("Failed to parse stored baseline files")}},[]);const ut=ht=>{localStorage.setItem("baseline-files",JSON.stringify(ht))},dt=async ht=>{if(ht.target.files){const yt=Array.from(ht.target.files),xt=[];for(const gt of yt){const vt=await readFile(gt);xt.push({id:Math.random().toString(36).substr(2,9),name:gt.name,size:gt.size,type:gt.type,uploadedAt:new Date().toISOString(),content:vt})}const St=[...$,...xt];_e(St),ut(St)}},ft=async ht=>{ot(ht),ct(!0),ht.content?(st(ht.content),ct(!1)):(st("File content not available. Please re-upload the file."),ct(!1))},pt=ht=>{const yt=$.filter(xt=>xt.id!==ht);_e(yt),ut(yt)},mt=async()=>{tt(!0),setTimeout(()=>{rt({wordCount:3847,confidence:.96,sentenceLength:{mean:14.2,sd:4.8},lexicalDiversity:{mattr:.62},cefrLevel:"B2",createdDate:new Date().toISOString()}),tt(!1)},2e3)};return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-6",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Baseline Calibration"}),jsxRuntimeExports.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Upload 2-3 of your previous essays (2000+ words total) to establish your authentic writing voice."}),nt?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-900/20 border border-green-800/50 rounded-lg p-4 flex items-start space-x-3",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-green-400 mb-1",children:"Baseline Created Successfully!"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300",children:["Your linguistic fingerprint has been established with ",nt.confidence*100,"% confidence."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Words Analyzed"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:nt.wordCount.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Confidence"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[(nt.confidence*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Avg Sentence Length"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:nt.sentenceLength.mean})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"CEFR Level"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-400",children:nt.cefrLevel})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"Baseline Metadata"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:["Created: ",new Date(nt.createdDate).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:["Lexical Diversity (MATTR): ",nt.lexicalDiversity.mattr]}),jsxRuntimeExports.jsxs("p",{children:["Sentence Length SD: ",nt.sentenceLength.sd]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>rt(null),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 rounded-lg",children:"Recalibrate Baseline"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",style:{color:"var(--color-primary)"},children:"Click to upload"}),jsxRuntimeExports.jsx("span",{style:{color:"var(--color-text-secondary)"},children:" or drag and drop"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".txt,.doc,.docx,.pdf",onChange:dt,className:"hidden"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-secondary)"},children:"TXT, DOC, DOCX, or PDF files"})]}),$.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium",style:{color:"var(--color-text)"},children:["Uploaded Files (",$.length,"):"]}),$.map(ht=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 rounded p-3",style:{backgroundColor:"var(--color-bg-tertiary)",borderLeft:"3px solid var(--color-primary)"},children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--color-primary)"}}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:ht.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:[(ht.size/1024).toFixed(0)," KB"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ft(ht),className:"p-1 hover:bg-gray-600 rounded",title:"Preview file",children:jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5 text-gray-400 hover:text-gray-300"})}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(ht.id),className:"p-1 hover:bg-gray-600 rounded",title:"Remove file",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-400 hover:text-red-400"})})]},ht.id))]}),$.length>0&&jsxRuntimeExports.jsx("button",{onClick:mt,disabled:et,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:et?"Processing...":"Create Baseline"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 bg-blue-900/20 border border-blue-800/50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-200",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Why baseline calibration?"}),jsxRuntimeExports.jsx("p",{children:"Your baseline establishes your authentic voice. This helps the system distinguish between your natural writing development and AI-generated text."})]})]})})]}),it&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 max-w-4xl w-full max-h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:it.name})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{ot(null),st("")},className:"p-1 hover:bg-gray-700 rounded",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto p-4",children:lt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"Loading preview..."})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-3 text-sm text-gray-400 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{children:["File size: ",(it.size/1024).toFixed(0)," KB"]}),jsxRuntimeExports.jsxs("span",{children:["Uploaded: ",new Date(it.uploadedAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900 rounded border border-gray-700 p-4 text-sm",children:jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap font-mono text-gray-300 leading-relaxed",children:at||"No content available"})})]})})]})})]})}function ShadowPanel({scores:$}){const _e=tt=>tt<.3?"var(--color-success)":tt<.6?"var(--color-warning)":"var(--color-danger)",et=tt=>tt<.3?"Safe":tt<.6?"Caution":"Risk";return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-6",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"var(--color-text)"},children:"Shadow System"}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Real-time AI detection risk estimates"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"GPTZero"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",style:{color:_e($.gptZero)},children:et($.gptZero)})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-2",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${$.gptZero*100}%`,backgroundColor:_e($.gptZero)}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:["Risk: ",($.gptZero*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Turnitin"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",style:{color:_e($.turnitin)},children:et($.turnitin)})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-2",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${$.turnitin*100}%`,backgroundColor:_e($.turnitin)}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:["Risk: ",($.turnitin*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Originality.ai"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",style:{color:_e($.originality)},children:et($.originality)})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-2",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${$.originality*100}%`,backgroundColor:_e($.originality)}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:["Risk: ",($.originality*100).toFixed(0),"%"]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 pt-6",style:{borderTop:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--color-text)"},children:[jsxRuntimeExports.jsx("strong",{children:"Shadow Accuracy:"})," 93% vs. real detectors"]}),jsxRuntimeExports.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"These scores simulate how AI detectors would evaluate your writing. Use them as guidance, not absolute truth."})]})})]})}function SourceManager(){const[$,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState(""),[it,ot]=reactExports.useState(!1);reactExports.useEffect(()=>{const ut=localStorage.getItem("source-files");if(ut)try{_e(JSON.parse(ut))}catch{console.log("Failed to parse stored source files")}},[]);const at=ut=>{localStorage.setItem("source-files",JSON.stringify(ut))},st=async ut=>{if(ut.target.files){const dt=Array.from(ut.target.files),ft=[];for(const mt of dt){const ht=await readFile(mt);ft.push({id:Math.random().toString(36).substr(2,9),name:mt.name,size:mt.size,type:mt.type,uploadedAt:new Date().toISOString(),content:ht})}const pt=[...$,...ft];_e(pt),at(pt)}},lt=async ut=>{tt(ut),ot(!0),ut.content?(rt(ut.content),ot(!1)):(rt("File content not available. Please re-upload the file."),ot(!1))},ct=ut=>{const dt=$.filter(ft=>ft.id!==ut);_e(dt),at(dt)};return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-6",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Source File Management"}),jsxRuntimeExports.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Upload your research sources to detect structural plagiarism and ensure independent synthesis."}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center mb-6",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",style:{color:"var(--color-primary)"},children:"Click to upload sources"}),jsxRuntimeExports.jsx("span",{style:{color:"var(--color-text-secondary)"},children:" or drag and drop"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".txt,.doc,.docx,.pdf",onChange:st,className:"hidden"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-secondary)"},children:"PDF, DOC, DOCX, or TXT files (max 50MB each)"})]}),$.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-lg",style:{color:"var(--color-text)"},children:["Uploaded Sources (",$.length,")"]}),$.map(ut=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 rounded-lg p-4",style:{backgroundColor:"var(--color-bg-tertiary)",borderLeft:"3px solid var(--color-primary)"},children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 flex-shrink-0",style:{color:"var(--color-primary)"}}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium truncate",style:{color:"var(--color-text)"},children:ut.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[(ut.size/1024).toFixed(0)," KB  Uploaded ",new Date(ut.uploadedAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>lt(ut),className:"p-2 rounded",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text-secondary)"},title:"Preview file",children:jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(ut.id),className:"p-2 rounded",style:{backgroundColor:"var(--color-danger)",color:"white"},children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]})]},ut.id))]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-gray-400",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No sources uploaded yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:"Upload sources to enable plagiarism detection"})]}),$.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-6 bg-blue-900/20 border border-blue-800/50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-200",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Note:"})," Scanned PDFs will be automatically detected. We'll offer OCR processing to extract text from images."]})})]}),et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 max-w-4xl w-full max-h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:et.name})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{tt(null),rt("")},className:"p-1 hover:bg-gray-700 rounded",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto p-4",children:it?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"Loading preview..."})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-3 text-sm text-gray-400 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{children:["File size: ",(et.size/1024).toFixed(0)," KB"]}),jsxRuntimeExports.jsxs("span",{children:["Uploaded: ",new Date(et.uploadedAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900 rounded border border-gray-700 p-4 text-sm",children:jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap font-mono text-gray-300 leading-relaxed",children:nt||"No content available"})})]})})]})})]})}const steps=[{title:"Welcome to Writing Defense Platform",description:"This tool helps L2 writers protect their authentic voice from AI detection bias. Let's get started with a quick tour."},{title:"Step 1: Create Your Baseline",description:"Upload 2-3 of your previous essays to establish your unique writing fingerprint. This helps the system understand YOUR authentic voice.",highlight:"baseline"},{title:"Step 2: Upload Research Sources",description:"Add your research materials to enable plagiarism detection and ensure independent synthesis.",highlight:"sources"},{title:"Step 3: Start Writing",description:"Write naturally in the editor. The system tracks your keystroke patterns and provides real-time feedback.",highlight:"editor"},{title:"Understanding Metrics",description:"Humanity Score shows how human-like your writing patterns are. Higher scores (70-100) indicate authentic, human writing."},{title:"Shadow System",description:"See how AI detectors might score your work. Low risk (green) means your authentic voice is strong!"}];function OnboardingTutorial({onComplete:$}){const[_e,et]=reactExports.useState(0),[tt,nt]=reactExports.useState(!1);reactExports.useEffect(()=>{localStorage.getItem("hasSeenTutorial")||nt(!0)},[]);const rt=()=>{_e<steps.length-1?et(_e+1):ot()},it=()=>{ot()},ot=()=>{localStorage.setItem("hasSeenTutorial","true"),nt(!1),$()};if(!tt)return null;const at=steps[_e],st=(_e+1)/steps.length*100;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 max-w-2xl w-full p-6 relative",children:[jsxRuntimeExports.jsx("button",{onClick:it,className:"absolute top-4 right-4 p-1 hover:bg-gray-700 rounded","aria-label":"Close tutorial",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-400"})}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",_e+1," of ",steps.length]}),jsxRuntimeExports.jsx("button",{onClick:it,className:"text-sm text-gray-400 hover:text-gray-300",children:"Skip tutorial"})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${st}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[_e===steps.length-1&&jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-400 mr-2"}),at.title]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:at.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-1",children:steps.map((lt,ct)=>jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${ct===_e?"bg-primary-500":ct<_e?"bg-primary-700":"bg-gray-600"}`},ct))}),jsxRuntimeExports.jsxs("button",{onClick:rt,className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx("span",{children:_e===steps.length-1?"Get Started":"Next"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 p-3 bg-blue-900/20 border border-blue-800/50 rounded text-sm text-blue-200",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Tip:"})," You can restart this tutorial anytime from the settings menu."]})]})})}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function($,_e){(function(et){$.exports=et()})(function(){return function et(tt,nt,rt){function it(st,lt){if(!nt[st]){if(!tt[st]){var ct=typeof commonjsRequire=="function"&&commonjsRequire;if(!lt&&ct)return ct(st,!0);if(ot)return ot(st,!0);var ut=new Error("Cannot find module '"+st+"'");throw ut.code="MODULE_NOT_FOUND",ut}var dt=nt[st]={exports:{}};tt[st][0].call(dt.exports,function(ft){var pt=tt[st][1][ft];return it(pt||ft)},dt,dt.exports,et,tt,nt,rt)}return nt[st].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,at=0;at<rt.length;at++)it(rt[at]);return it}({1:[function(et,tt,nt){(function(rt){var it=rt.MutationObserver||rt.WebKitMutationObserver,ot;if(it){var at=0,st=new it(ft),lt=rt.document.createTextNode("");st.observe(lt,{characterData:!0}),ot=function(){lt.data=at=++at%2}}else if(!rt.setImmediate&&typeof rt.MessageChannel<"u"){var ct=new rt.MessageChannel;ct.port1.onmessage=ft,ot=function(){ct.port2.postMessage(0)}}else"document"in rt&&"onreadystatechange"in rt.document.createElement("script")?ot=function(){var mt=rt.document.createElement("script");mt.onreadystatechange=function(){ft(),mt.onreadystatechange=null,mt.parentNode.removeChild(mt),mt=null},rt.document.documentElement.appendChild(mt)}:ot=function(){setTimeout(ft,0)};var ut,dt=[];function ft(){ut=!0;for(var mt,ht,yt=dt.length;yt;){for(ht=dt,dt=[],mt=-1;++mt<yt;)ht[mt]();yt=dt.length}ut=!1}tt.exports=pt;function pt(mt){dt.push(mt)===1&&!ut&&ot()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,tt,nt){var rt=et(1);function it(){}var ot={},at=["REJECTED"],st=["FULFILLED"],lt=["PENDING"];tt.exports=ct;function ct(gt){if(typeof gt!="function")throw new TypeError("resolver must be a function");this.state=lt,this.queue=[],this.outcome=void 0,gt!==it&&pt(this,gt)}ct.prototype.catch=function(gt){return this.then(null,gt)},ct.prototype.then=function(gt,vt){if(typeof gt!="function"&&this.state===st||typeof vt!="function"&&this.state===at)return this;var bt=new this.constructor(it);if(this.state!==lt){var wt=this.state===st?gt:vt;dt(bt,wt,this.outcome)}else this.queue.push(new ut(bt,gt,vt));return bt};function ut(gt,vt,bt){this.promise=gt,typeof vt=="function"&&(this.onFulfilled=vt,this.callFulfilled=this.otherCallFulfilled),typeof bt=="function"&&(this.onRejected=bt,this.callRejected=this.otherCallRejected)}ut.prototype.callFulfilled=function(gt){ot.resolve(this.promise,gt)},ut.prototype.otherCallFulfilled=function(gt){dt(this.promise,this.onFulfilled,gt)},ut.prototype.callRejected=function(gt){ot.reject(this.promise,gt)},ut.prototype.otherCallRejected=function(gt){dt(this.promise,this.onRejected,gt)};function dt(gt,vt,bt){rt(function(){var wt;try{wt=vt(bt)}catch(_t){return ot.reject(gt,_t)}wt===gt?ot.reject(gt,new TypeError("Cannot resolve promise with itself")):ot.resolve(gt,wt)})}ot.resolve=function(gt,vt){var bt=mt(ft,vt);if(bt.status==="error")return ot.reject(gt,bt.value);var wt=bt.value;if(wt)pt(gt,wt);else{gt.state=st,gt.outcome=vt;for(var _t=-1,Ct=gt.queue.length;++_t<Ct;)gt.queue[_t].callFulfilled(vt)}return gt},ot.reject=function(gt,vt){gt.state=at,gt.outcome=vt;for(var bt=-1,wt=gt.queue.length;++bt<wt;)gt.queue[bt].callRejected(vt);return gt};function ft(gt){var vt=gt&&gt.then;if(gt&&(typeof gt=="object"||typeof gt=="function")&&typeof vt=="function")return function(){vt.apply(gt,arguments)}}function pt(gt,vt){var bt=!1;function wt(Et){bt||(bt=!0,ot.reject(gt,Et))}function _t(Et){bt||(bt=!0,ot.resolve(gt,Et))}function Ct(){vt(_t,wt)}var $t=mt(Ct);$t.status==="error"&&wt($t.value)}function mt(gt,vt){var bt={};try{bt.value=gt(vt),bt.status="success"}catch(wt){bt.status="error",bt.value=wt}return bt}ct.resolve=ht;function ht(gt){return gt instanceof this?gt:ot.resolve(new this(it),gt)}ct.reject=yt;function yt(gt){var vt=new this(it);return ot.reject(vt,gt)}ct.all=xt;function xt(gt){var vt=this;if(Object.prototype.toString.call(gt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var bt=gt.length,wt=!1;if(!bt)return this.resolve([]);for(var _t=new Array(bt),Ct=0,$t=-1,Et=new this(it);++$t<bt;)jt(gt[$t],$t);return Et;function jt(Vt,Mt){vt.resolve(Vt).then(Ht,function(Rt){wt||(wt=!0,ot.reject(Et,Rt))});function Ht(Rt){_t[Mt]=Rt,++Ct===bt&&!wt&&(wt=!0,ot.resolve(Et,_t))}}}ct.race=St;function St(gt){var vt=this;if(Object.prototype.toString.call(gt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var bt=gt.length,wt=!1;if(!bt)return this.resolve([]);for(var _t=-1,Ct=new this(it);++_t<bt;)$t(gt[_t]);return Ct;function $t(Et){vt.resolve(Et).then(function(jt){wt||(wt=!0,ot.resolve(Ct,jt))},function(jt){wt||(wt=!0,ot.reject(Ct,jt))})}}},{1:1}],3:[function(et,tt,nt){(function(rt){typeof rt.Promise!="function"&&(rt.Promise=et(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,tt,nt){var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt};function it(Lt,rn){if(!(Lt instanceof rn))throw new TypeError("Cannot call a class as a function")}function ot(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var at=ot();function st(){try{if(!at||!at.open)return!1;var Lt=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),rn=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Lt||rn)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function lt(Lt,rn){Lt=Lt||[],rn=rn||{};try{return new Blob(Lt,rn)}catch(hn){if(hn.name!=="TypeError")throw hn;for(var Xt=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,gn=new Xt,bn=0;bn<Lt.length;bn+=1)gn.append(Lt[bn]);return gn.getBlob(rn.type)}}typeof Promise>"u"&&et(3);var ct=Promise;function ut(Lt,rn){rn&&Lt.then(function(Xt){rn(null,Xt)},function(Xt){rn(Xt)})}function dt(Lt,rn,Xt){typeof rn=="function"&&Lt.then(rn),typeof Xt=="function"&&Lt.catch(Xt)}function ft(Lt){return typeof Lt!="string"&&(console.warn(Lt+" used as a key, but it is not a string."),Lt=String(Lt)),Lt}function pt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var mt="local-forage-detect-blob-support",ht=void 0,yt={},xt=Object.prototype.toString,St="readonly",gt="readwrite";function vt(Lt){for(var rn=Lt.length,Xt=new ArrayBuffer(rn),gn=new Uint8Array(Xt),bn=0;bn<rn;bn++)gn[bn]=Lt.charCodeAt(bn);return Xt}function bt(Lt){return new ct(function(rn){var Xt=Lt.transaction(mt,gt),gn=lt([""]);Xt.objectStore(mt).put(gn,"key"),Xt.onabort=function(bn){bn.preventDefault(),bn.stopPropagation(),rn(!1)},Xt.oncomplete=function(){var bn=navigator.userAgent.match(/Chrome\/(\d+)/),hn=navigator.userAgent.match(/Edge\//);rn(hn||!bn||parseInt(bn[1],10)>=43)}}).catch(function(){return!1})}function wt(Lt){return typeof ht=="boolean"?ct.resolve(ht):bt(Lt).then(function(rn){return ht=rn,ht})}function _t(Lt){var rn=yt[Lt.name],Xt={};Xt.promise=new ct(function(gn,bn){Xt.resolve=gn,Xt.reject=bn}),rn.deferredOperations.push(Xt),rn.dbReady?rn.dbReady=rn.dbReady.then(function(){return Xt.promise}):rn.dbReady=Xt.promise}function Ct(Lt){var rn=yt[Lt.name],Xt=rn.deferredOperations.pop();if(Xt)return Xt.resolve(),Xt.promise}function $t(Lt,rn){var Xt=yt[Lt.name],gn=Xt.deferredOperations.pop();if(gn)return gn.reject(rn),gn.promise}function Et(Lt,rn){return new ct(function(Xt,gn){if(yt[Lt.name]=yt[Lt.name]||Ot(),Lt.db)if(rn)_t(Lt),Lt.db.close();else return Xt(Lt.db);var bn=[Lt.name];rn&&bn.push(Lt.version);var hn=at.open.apply(at,bn);rn&&(hn.onupgradeneeded=function(jn){var Rn=hn.result;try{Rn.createObjectStore(Lt.storeName),jn.oldVersion<=1&&Rn.createObjectStore(mt)}catch(Fn){if(Fn.name==="ConstraintError")console.warn('The database "'+Lt.name+'" has been upgraded from version '+jn.oldVersion+" to version "+jn.newVersion+', but the storage "'+Lt.storeName+'" already exists.');else throw Fn}}),hn.onerror=function(jn){jn.preventDefault(),gn(hn.error)},hn.onsuccess=function(){var jn=hn.result;jn.onversionchange=function(Rn){Rn.target.close()},Xt(jn),Ct(Lt)}})}function jt(Lt){return Et(Lt,!1)}function Vt(Lt){return Et(Lt,!0)}function Mt(Lt,rn){if(!Lt.db)return!0;var Xt=!Lt.db.objectStoreNames.contains(Lt.storeName),gn=Lt.version<Lt.db.version,bn=Lt.version>Lt.db.version;if(gn&&(Lt.version!==rn&&console.warn('The database "'+Lt.name+`" can't be downgraded from version `+Lt.db.version+" to version "+Lt.version+"."),Lt.version=Lt.db.version),bn||Xt){if(Xt){var hn=Lt.db.version+1;hn>Lt.version&&(Lt.version=hn)}return!0}return!1}function Ht(Lt){return new ct(function(rn,Xt){var gn=new FileReader;gn.onerror=Xt,gn.onloadend=function(bn){var hn=btoa(bn.target.result||"");rn({__local_forage_encoded_blob:!0,data:hn,type:Lt.type})},gn.readAsBinaryString(Lt)})}function Rt(Lt){var rn=vt(atob(Lt.data));return lt([rn],{type:Lt.type})}function Ft(Lt){return Lt&&Lt.__local_forage_encoded_blob}function Tt(Lt){var rn=this,Xt=rn._initReady().then(function(){var gn=yt[rn._dbInfo.name];if(gn&&gn.dbReady)return gn.dbReady});return dt(Xt,Lt,Lt),Xt}function Dt(Lt){_t(Lt);for(var rn=yt[Lt.name],Xt=rn.forages,gn=0;gn<Xt.length;gn++){var bn=Xt[gn];bn._dbInfo.db&&(bn._dbInfo.db.close(),bn._dbInfo.db=null)}return Lt.db=null,jt(Lt).then(function(hn){return Lt.db=hn,Mt(Lt)?Vt(Lt):hn}).then(function(hn){Lt.db=rn.db=hn;for(var jn=0;jn<Xt.length;jn++)Xt[jn]._dbInfo.db=hn}).catch(function(hn){throw $t(Lt,hn),hn})}function Jt(Lt,rn,Xt,gn){gn===void 0&&(gn=1);try{var bn=Lt.db.transaction(Lt.storeName,rn);Xt(null,bn)}catch(hn){if(gn>0&&(!Lt.db||hn.name==="InvalidStateError"||hn.name==="NotFoundError"))return ct.resolve().then(function(){if(!Lt.db||hn.name==="NotFoundError"&&!Lt.db.objectStoreNames.contains(Lt.storeName)&&Lt.version<=Lt.db.version)return Lt.db&&(Lt.version=Lt.db.version+1),Vt(Lt)}).then(function(){return Dt(Lt).then(function(){Jt(Lt,rn,Xt,gn-1)})}).catch(Xt);Xt(hn)}}function Ot(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Pt(Lt){var rn=this,Xt={db:null};if(Lt)for(var gn in Lt)Xt[gn]=Lt[gn];var bn=yt[Xt.name];bn||(bn=Ot(),yt[Xt.name]=bn),bn.forages.push(rn),rn._initReady||(rn._initReady=rn.ready,rn.ready=Tt);var hn=[];function jn(){return ct.resolve()}for(var Rn=0;Rn<bn.forages.length;Rn++){var Fn=bn.forages[Rn];Fn!==rn&&hn.push(Fn._initReady().catch(jn))}var Ln=bn.forages.slice(0);return ct.all(hn).then(function(){return Xt.db=bn.db,jt(Xt)}).then(function(Hn){return Xt.db=Hn,Mt(Xt,rn._defaultConfig.version)?Vt(Xt):Hn}).then(function(Hn){Xt.db=bn.db=Hn,rn._dbInfo=Xt;for(var Zn=0;Zn<Ln.length;Zn++){var cr=Ln[Zn];cr!==rn&&(cr._dbInfo.db=Xt.db,cr._dbInfo.version=Xt.version)}})}function kt(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=new ct(function(bn,hn){Xt.ready().then(function(){Jt(Xt._dbInfo,St,function(jn,Rn){if(jn)return hn(jn);try{var Fn=Rn.objectStore(Xt._dbInfo.storeName),Ln=Fn.get(Lt);Ln.onsuccess=function(){var Hn=Ln.result;Hn===void 0&&(Hn=null),Ft(Hn)&&(Hn=Rt(Hn)),bn(Hn)},Ln.onerror=function(){hn(Ln.error)}}catch(Hn){hn(Hn)}})}).catch(hn)});return ut(gn,rn),gn}function Nt(Lt,rn){var Xt=this,gn=new ct(function(bn,hn){Xt.ready().then(function(){Jt(Xt._dbInfo,St,function(jn,Rn){if(jn)return hn(jn);try{var Fn=Rn.objectStore(Xt._dbInfo.storeName),Ln=Fn.openCursor(),Hn=1;Ln.onsuccess=function(){var Zn=Ln.result;if(Zn){var cr=Zn.value;Ft(cr)&&(cr=Rt(cr));var dr=Lt(cr,Zn.key,Hn++);dr!==void 0?bn(dr):Zn.continue()}else bn()},Ln.onerror=function(){hn(Ln.error)}}catch(Zn){hn(Zn)}})}).catch(hn)});return ut(gn,rn),gn}function zt(Lt,rn,Xt){var gn=this;Lt=ft(Lt);var bn=new ct(function(hn,jn){var Rn;gn.ready().then(function(){return Rn=gn._dbInfo,xt.call(rn)==="[object Blob]"?wt(Rn.db).then(function(Fn){return Fn?rn:Ht(rn)}):rn}).then(function(Fn){Jt(gn._dbInfo,gt,function(Ln,Hn){if(Ln)return jn(Ln);try{var Zn=Hn.objectStore(gn._dbInfo.storeName);Fn===null&&(Fn=void 0);var cr=Zn.put(Fn,Lt);Hn.oncomplete=function(){Fn===void 0&&(Fn=null),hn(Fn)},Hn.onabort=Hn.onerror=function(){var dr=cr.error?cr.error:cr.transaction.error;jn(dr)}}catch(dr){jn(dr)}})}).catch(jn)});return ut(bn,Xt),bn}function Wt(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=new ct(function(bn,hn){Xt.ready().then(function(){Jt(Xt._dbInfo,gt,function(jn,Rn){if(jn)return hn(jn);try{var Fn=Rn.objectStore(Xt._dbInfo.storeName),Ln=Fn.delete(Lt);Rn.oncomplete=function(){bn()},Rn.onerror=function(){hn(Ln.error)},Rn.onabort=function(){var Hn=Ln.error?Ln.error:Ln.transaction.error;hn(Hn)}}catch(Hn){hn(Hn)}})}).catch(hn)});return ut(gn,rn),gn}function Gt(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){Jt(rn._dbInfo,gt,function(hn,jn){if(hn)return bn(hn);try{var Rn=jn.objectStore(rn._dbInfo.storeName),Fn=Rn.clear();jn.oncomplete=function(){gn()},jn.onabort=jn.onerror=function(){var Ln=Fn.error?Fn.error:Fn.transaction.error;bn(Ln)}}catch(Ln){bn(Ln)}})}).catch(bn)});return ut(Xt,Lt),Xt}function Kt(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){Jt(rn._dbInfo,St,function(hn,jn){if(hn)return bn(hn);try{var Rn=jn.objectStore(rn._dbInfo.storeName),Fn=Rn.count();Fn.onsuccess=function(){gn(Fn.result)},Fn.onerror=function(){bn(Fn.error)}}catch(Ln){bn(Ln)}})}).catch(bn)});return ut(Xt,Lt),Xt}function Zt(Lt,rn){var Xt=this,gn=new ct(function(bn,hn){if(Lt<0){bn(null);return}Xt.ready().then(function(){Jt(Xt._dbInfo,St,function(jn,Rn){if(jn)return hn(jn);try{var Fn=Rn.objectStore(Xt._dbInfo.storeName),Ln=!1,Hn=Fn.openKeyCursor();Hn.onsuccess=function(){var Zn=Hn.result;if(!Zn){bn(null);return}Lt===0||Ln?bn(Zn.key):(Ln=!0,Zn.advance(Lt))},Hn.onerror=function(){hn(Hn.error)}}catch(Zn){hn(Zn)}})}).catch(hn)});return ut(gn,rn),gn}function dn(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){Jt(rn._dbInfo,St,function(hn,jn){if(hn)return bn(hn);try{var Rn=jn.objectStore(rn._dbInfo.storeName),Fn=Rn.openKeyCursor(),Ln=[];Fn.onsuccess=function(){var Hn=Fn.result;if(!Hn){gn(Ln);return}Ln.push(Hn.key),Hn.continue()},Fn.onerror=function(){bn(Fn.error)}}catch(Hn){bn(Hn)}})}).catch(bn)});return ut(Xt,Lt),Xt}function Qt(Lt,rn){rn=pt.apply(this,arguments);var Xt=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Xt.name,Lt.storeName=Lt.storeName||Xt.storeName);var gn=this,bn;if(!Lt.name)bn=ct.reject("Invalid arguments");else{var hn=Lt.name===Xt.name&&gn._dbInfo.db,jn=hn?ct.resolve(gn._dbInfo.db):jt(Lt).then(function(Rn){var Fn=yt[Lt.name],Ln=Fn.forages;Fn.db=Rn;for(var Hn=0;Hn<Ln.length;Hn++)Ln[Hn]._dbInfo.db=Rn;return Rn});Lt.storeName?bn=jn.then(function(Rn){if(Rn.objectStoreNames.contains(Lt.storeName)){var Fn=Rn.version+1;_t(Lt);var Ln=yt[Lt.name],Hn=Ln.forages;Rn.close();for(var Zn=0;Zn<Hn.length;Zn++){var cr=Hn[Zn];cr._dbInfo.db=null,cr._dbInfo.version=Fn}var dr=new ct(function(fr,yr){var mr=at.open(Lt.name,Fn);mr.onerror=function(vr){var Nr=mr.result;Nr.close(),yr(vr)},mr.onupgradeneeded=function(){var vr=mr.result;vr.deleteObjectStore(Lt.storeName)},mr.onsuccess=function(){var vr=mr.result;vr.close(),fr(vr)}});return dr.then(function(fr){Ln.db=fr;for(var yr=0;yr<Hn.length;yr++){var mr=Hn[yr];mr._dbInfo.db=fr,Ct(mr._dbInfo)}}).catch(function(fr){throw($t(Lt,fr)||ct.resolve()).catch(function(){}),fr})}}):bn=jn.then(function(Rn){_t(Lt);var Fn=yt[Lt.name],Ln=Fn.forages;Rn.close();for(var Hn=0;Hn<Ln.length;Hn++){var Zn=Ln[Hn];Zn._dbInfo.db=null}var cr=new ct(function(dr,fr){var yr=at.deleteDatabase(Lt.name);yr.onerror=function(){var mr=yr.result;mr&&mr.close(),fr(yr.error)},yr.onblocked=function(){console.warn('dropInstance blocked for database "'+Lt.name+'" until all open connections are closed')},yr.onsuccess=function(){var mr=yr.result;mr&&mr.close(),dr(mr)}});return cr.then(function(dr){Fn.db=dr;for(var fr=0;fr<Ln.length;fr++){var yr=Ln[fr];Ct(yr._dbInfo)}}).catch(function(dr){throw($t(Lt,dr)||ct.resolve()).catch(function(){}),dr})})}return ut(bn,rn),bn}var wn={_driver:"asyncStorage",_initStorage:Pt,_support:st(),iterate:Nt,getItem:kt,setItem:zt,removeItem:Wt,clear:Gt,length:Kt,key:Zt,keys:dn,dropInstance:Qt};function Sn(){return typeof openDatabase=="function"}var $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",an="~~local_forage_type~",cn=/^~~local_forage_type~([^~]+)~/,It="__lfsc__:",qt=It.length,tn="arbf",fn="blob",_n="si08",Cn="ui08",En="uic8",sn="si16",In="si32",Nn="ur16",er="ui32",Jn="fl32",ir="fl64",Vn=qt+tn.length,Yn=Object.prototype.toString;function or(Lt){var rn=Lt.length*.75,Xt=Lt.length,gn,bn=0,hn,jn,Rn,Fn;Lt[Lt.length-1]==="="&&(rn--,Lt[Lt.length-2]==="="&&rn--);var Ln=new ArrayBuffer(rn),Hn=new Uint8Array(Ln);for(gn=0;gn<Xt;gn+=4)hn=$n.indexOf(Lt[gn]),jn=$n.indexOf(Lt[gn+1]),Rn=$n.indexOf(Lt[gn+2]),Fn=$n.indexOf(Lt[gn+3]),Hn[bn++]=hn<<2|jn>>4,Hn[bn++]=(jn&15)<<4|Rn>>2,Hn[bn++]=(Rn&3)<<6|Fn&63;return Ln}function sr(Lt){var rn=new Uint8Array(Lt),Xt="",gn;for(gn=0;gn<rn.length;gn+=3)Xt+=$n[rn[gn]>>2],Xt+=$n[(rn[gn]&3)<<4|rn[gn+1]>>4],Xt+=$n[(rn[gn+1]&15)<<2|rn[gn+2]>>6],Xt+=$n[rn[gn+2]&63];return rn.length%3===2?Xt=Xt.substring(0,Xt.length-1)+"=":rn.length%3===1&&(Xt=Xt.substring(0,Xt.length-2)+"=="),Xt}function Tn(Lt,rn){var Xt="";if(Lt&&(Xt=Yn.call(Lt)),Lt&&(Xt==="[object ArrayBuffer]"||Lt.buffer&&Yn.call(Lt.buffer)==="[object ArrayBuffer]")){var gn,bn=It;Lt instanceof ArrayBuffer?(gn=Lt,bn+=tn):(gn=Lt.buffer,Xt==="[object Int8Array]"?bn+=_n:Xt==="[object Uint8Array]"?bn+=Cn:Xt==="[object Uint8ClampedArray]"?bn+=En:Xt==="[object Int16Array]"?bn+=sn:Xt==="[object Uint16Array]"?bn+=Nn:Xt==="[object Int32Array]"?bn+=In:Xt==="[object Uint32Array]"?bn+=er:Xt==="[object Float32Array]"?bn+=Jn:Xt==="[object Float64Array]"?bn+=ir:rn(new Error("Failed to get type for BinaryArray"))),rn(bn+sr(gn))}else if(Xt==="[object Blob]"){var hn=new FileReader;hn.onload=function(){var jn=an+Lt.type+"~"+sr(this.result);rn(It+fn+jn)},hn.readAsArrayBuffer(Lt)}else try{rn(JSON.stringify(Lt))}catch(jn){console.error("Couldn't convert value into a JSON string: ",Lt),rn(null,jn)}}function pn(Lt){if(Lt.substring(0,qt)!==It)return JSON.parse(Lt);var rn=Lt.substring(Vn),Xt=Lt.substring(qt,Vn),gn;if(Xt===fn&&cn.test(rn)){var bn=rn.match(cn);gn=bn[1],rn=rn.substring(bn[0].length)}var hn=or(rn);switch(Xt){case tn:return hn;case fn:return lt([hn],{type:gn});case _n:return new Int8Array(hn);case Cn:return new Uint8Array(hn);case En:return new Uint8ClampedArray(hn);case sn:return new Int16Array(hn);case Nn:return new Uint16Array(hn);case In:return new Int32Array(hn);case er:return new Uint32Array(hn);case Jn:return new Float32Array(hn);case ir:return new Float64Array(hn);default:throw new Error("Unkown type: "+Xt)}}var yn={serialize:Tn,deserialize:pn,stringToBuffer:or,bufferToString:sr};function zn(Lt,rn,Xt,gn){Lt.executeSql("CREATE TABLE IF NOT EXISTS "+rn.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Xt,gn)}function ar(Lt){var rn=this,Xt={db:null};if(Lt)for(var gn in Lt)Xt[gn]=typeof Lt[gn]!="string"?Lt[gn].toString():Lt[gn];var bn=new ct(function(hn,jn){try{Xt.db=openDatabase(Xt.name,String(Xt.version),Xt.description,Xt.size)}catch(Rn){return jn(Rn)}Xt.db.transaction(function(Rn){zn(Rn,Xt,function(){rn._dbInfo=Xt,hn()},function(Fn,Ln){jn(Ln)})},jn)});return Xt.serializer=yn,bn}function tr(Lt,rn,Xt,gn,bn,hn){Lt.executeSql(Xt,gn,bn,function(jn,Rn){Rn.code===Rn.SYNTAX_ERR?jn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[rn.storeName],function(Fn,Ln){Ln.rows.length?hn(Fn,Rn):zn(Fn,rn,function(){Fn.executeSql(Xt,gn,bn,hn)},hn)},hn):hn(jn,Rn)},hn)}function Yt(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=new ct(function(bn,hn){Xt.ready().then(function(){var jn=Xt._dbInfo;jn.db.transaction(function(Rn){tr(Rn,jn,"SELECT * FROM "+jn.storeName+" WHERE key = ? LIMIT 1",[Lt],function(Fn,Ln){var Hn=Ln.rows.length?Ln.rows.item(0).value:null;Hn&&(Hn=jn.serializer.deserialize(Hn)),bn(Hn)},function(Fn,Ln){hn(Ln)})})}).catch(hn)});return ut(gn,rn),gn}function Pn(Lt,rn){var Xt=this,gn=new ct(function(bn,hn){Xt.ready().then(function(){var jn=Xt._dbInfo;jn.db.transaction(function(Rn){tr(Rn,jn,"SELECT * FROM "+jn.storeName,[],function(Fn,Ln){for(var Hn=Ln.rows,Zn=Hn.length,cr=0;cr<Zn;cr++){var dr=Hn.item(cr),fr=dr.value;if(fr&&(fr=jn.serializer.deserialize(fr)),fr=Lt(fr,dr.key,cr+1),fr!==void 0){bn(fr);return}}bn()},function(Fn,Ln){hn(Ln)})})}).catch(hn)});return ut(gn,rn),gn}function Mn(Lt,rn,Xt,gn){var bn=this;Lt=ft(Lt);var hn=new ct(function(jn,Rn){bn.ready().then(function(){rn===void 0&&(rn=null);var Fn=rn,Ln=bn._dbInfo;Ln.serializer.serialize(rn,function(Hn,Zn){Zn?Rn(Zn):Ln.db.transaction(function(cr){tr(cr,Ln,"INSERT OR REPLACE INTO "+Ln.storeName+" (key, value) VALUES (?, ?)",[Lt,Hn],function(){jn(Fn)},function(dr,fr){Rn(fr)})},function(cr){if(cr.code===cr.QUOTA_ERR){if(gn>0){jn(Mn.apply(bn,[Lt,Fn,Xt,gn-1]));return}Rn(cr)}})})}).catch(Rn)});return ut(hn,Xt),hn}function Kn(Lt,rn,Xt){return Mn.apply(this,[Lt,rn,Xt,1])}function Xn(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=new ct(function(bn,hn){Xt.ready().then(function(){var jn=Xt._dbInfo;jn.db.transaction(function(Rn){tr(Rn,jn,"DELETE FROM "+jn.storeName+" WHERE key = ?",[Lt],function(){bn()},function(Fn,Ln){hn(Ln)})})}).catch(hn)});return ut(gn,rn),gn}function Bn(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){var hn=rn._dbInfo;hn.db.transaction(function(jn){tr(jn,hn,"DELETE FROM "+hn.storeName,[],function(){gn()},function(Rn,Fn){bn(Fn)})})}).catch(bn)});return ut(Xt,Lt),Xt}function Ut(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){var hn=rn._dbInfo;hn.db.transaction(function(jn){tr(jn,hn,"SELECT COUNT(key) as c FROM "+hn.storeName,[],function(Rn,Fn){var Ln=Fn.rows.item(0).c;gn(Ln)},function(Rn,Fn){bn(Fn)})})}).catch(bn)});return ut(Xt,Lt),Xt}function Bt(Lt,rn){var Xt=this,gn=new ct(function(bn,hn){Xt.ready().then(function(){var jn=Xt._dbInfo;jn.db.transaction(function(Rn){tr(Rn,jn,"SELECT key FROM "+jn.storeName+" WHERE id = ? LIMIT 1",[Lt+1],function(Fn,Ln){var Hn=Ln.rows.length?Ln.rows.item(0).key:null;bn(Hn)},function(Fn,Ln){hn(Ln)})})}).catch(hn)});return ut(gn,rn),gn}function en(Lt){var rn=this,Xt=new ct(function(gn,bn){rn.ready().then(function(){var hn=rn._dbInfo;hn.db.transaction(function(jn){tr(jn,hn,"SELECT key FROM "+hn.storeName,[],function(Rn,Fn){for(var Ln=[],Hn=0;Hn<Fn.rows.length;Hn++)Ln.push(Fn.rows.item(Hn).key);gn(Ln)},function(Rn,Fn){bn(Fn)})})}).catch(bn)});return ut(Xt,Lt),Xt}function xn(Lt){return new ct(function(rn,Xt){Lt.transaction(function(gn){gn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(bn,hn){for(var jn=[],Rn=0;Rn<hn.rows.length;Rn++)jn.push(hn.rows.item(Rn).name);rn({db:Lt,storeNames:jn})},function(bn,hn){Xt(hn)})},function(gn){Xt(gn)})})}function An(Lt,rn){rn=pt.apply(this,arguments);var Xt=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Xt.name,Lt.storeName=Lt.storeName||Xt.storeName);var gn=this,bn;return Lt.name?bn=new ct(function(hn){var jn;Lt.name===Xt.name?jn=gn._dbInfo.db:jn=openDatabase(Lt.name,"","",0),Lt.storeName?hn({db:jn,storeNames:[Lt.storeName]}):hn(xn(jn))}).then(function(hn){return new ct(function(jn,Rn){hn.db.transaction(function(Fn){function Ln(dr){return new ct(function(fr,yr){Fn.executeSql("DROP TABLE IF EXISTS "+dr,[],function(){fr()},function(mr,vr){yr(vr)})})}for(var Hn=[],Zn=0,cr=hn.storeNames.length;Zn<cr;Zn++)Hn.push(Ln(hn.storeNames[Zn]));ct.all(Hn).then(function(){jn()}).catch(function(dr){Rn(dr)})},function(Fn){Rn(Fn)})})}):bn=ct.reject("Invalid arguments"),ut(bn,rn),bn}var kn={_driver:"webSQLStorage",_initStorage:ar,_support:Sn(),iterate:Pn,getItem:Yt,setItem:Kn,removeItem:Xn,clear:Bn,length:Ut,key:Bt,keys:en,dropInstance:An};function On(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Gn(Lt,rn){var Xt=Lt.name+"/";return Lt.storeName!==rn.storeName&&(Xt+=Lt.storeName+"/"),Xt}function Wn(){var Lt="_localforage_support_test";try{return localStorage.setItem(Lt,!0),localStorage.removeItem(Lt),!1}catch{return!0}}function Dn(){return!Wn()||localStorage.length>0}function nr(Lt){var rn=this,Xt={};if(Lt)for(var gn in Lt)Xt[gn]=Lt[gn];return Xt.keyPrefix=Gn(Lt,rn._defaultConfig),Dn()?(rn._dbInfo=Xt,Xt.serializer=yn,ct.resolve()):ct.reject()}function Un(Lt){var rn=this,Xt=rn.ready().then(function(){for(var gn=rn._dbInfo.keyPrefix,bn=localStorage.length-1;bn>=0;bn--){var hn=localStorage.key(bn);hn.indexOf(gn)===0&&localStorage.removeItem(hn)}});return ut(Xt,Lt),Xt}function qn(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=Xt.ready().then(function(){var bn=Xt._dbInfo,hn=localStorage.getItem(bn.keyPrefix+Lt);return hn&&(hn=bn.serializer.deserialize(hn)),hn});return ut(gn,rn),gn}function Qn(Lt,rn){var Xt=this,gn=Xt.ready().then(function(){for(var bn=Xt._dbInfo,hn=bn.keyPrefix,jn=hn.length,Rn=localStorage.length,Fn=1,Ln=0;Ln<Rn;Ln++){var Hn=localStorage.key(Ln);if(Hn.indexOf(hn)===0){var Zn=localStorage.getItem(Hn);if(Zn&&(Zn=bn.serializer.deserialize(Zn)),Zn=Lt(Zn,Hn.substring(jn),Fn++),Zn!==void 0)return Zn}}});return ut(gn,rn),gn}function rr(Lt,rn){var Xt=this,gn=Xt.ready().then(function(){var bn=Xt._dbInfo,hn;try{hn=localStorage.key(Lt)}catch{hn=null}return hn&&(hn=hn.substring(bn.keyPrefix.length)),hn});return ut(gn,rn),gn}function lr(Lt){var rn=this,Xt=rn.ready().then(function(){for(var gn=rn._dbInfo,bn=localStorage.length,hn=[],jn=0;jn<bn;jn++){var Rn=localStorage.key(jn);Rn.indexOf(gn.keyPrefix)===0&&hn.push(Rn.substring(gn.keyPrefix.length))}return hn});return ut(Xt,Lt),Xt}function ur(Lt){var rn=this,Xt=rn.keys().then(function(gn){return gn.length});return ut(Xt,Lt),Xt}function gr(Lt,rn){var Xt=this;Lt=ft(Lt);var gn=Xt.ready().then(function(){var bn=Xt._dbInfo;localStorage.removeItem(bn.keyPrefix+Lt)});return ut(gn,rn),gn}function pr(Lt,rn,Xt){var gn=this;Lt=ft(Lt);var bn=gn.ready().then(function(){rn===void 0&&(rn=null);var hn=rn;return new ct(function(jn,Rn){var Fn=gn._dbInfo;Fn.serializer.serialize(rn,function(Ln,Hn){if(Hn)Rn(Hn);else try{localStorage.setItem(Fn.keyPrefix+Lt,Ln),jn(hn)}catch(Zn){(Zn.name==="QuotaExceededError"||Zn.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Rn(Zn),Rn(Zn)}})})});return ut(bn,Xt),bn}function xr(Lt,rn){if(rn=pt.apply(this,arguments),Lt=typeof Lt!="function"&&Lt||{},!Lt.name){var Xt=this.config();Lt.name=Lt.name||Xt.name,Lt.storeName=Lt.storeName||Xt.storeName}var gn=this,bn;return Lt.name?bn=new ct(function(hn){Lt.storeName?hn(Gn(Lt,gn._defaultConfig)):hn(Lt.name+"/")}).then(function(hn){for(var jn=localStorage.length-1;jn>=0;jn--){var Rn=localStorage.key(jn);Rn.indexOf(hn)===0&&localStorage.removeItem(Rn)}}):bn=ct.reject("Invalid arguments"),ut(bn,rn),bn}var Sr={_driver:"localStorageWrapper",_initStorage:nr,_support:On(),iterate:Qn,getItem:qn,setItem:pr,removeItem:gr,clear:Un,length:ur,key:rr,keys:lr,dropInstance:xr},wr=function(rn,Xt){return rn===Xt||typeof rn=="number"&&typeof Xt=="number"&&isNaN(rn)&&isNaN(Xt)},Hr=function(rn,Xt){for(var gn=rn.length,bn=0;bn<gn;){if(wr(rn[bn],Xt))return!0;bn++}return!1},Uo=Array.isArray||function(Lt){return Object.prototype.toString.call(Lt)==="[object Array]"},jr={},Ko={},$r={INDEXEDDB:wn,WEBSQL:kn,LOCALSTORAGE:Sr},Ps=[$r.INDEXEDDB._driver,$r.WEBSQL._driver,$r.LOCALSTORAGE._driver],Vr=["dropInstance"],io=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Vr),Es={description:"",driver:Ps.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ks(Lt,rn){Lt[rn]=function(){var Xt=arguments;return Lt.ready().then(function(){return Lt[rn].apply(Lt,Xt)})}}function oo(){for(var Lt=1;Lt<arguments.length;Lt++){var rn=arguments[Lt];if(rn)for(var Xt in rn)rn.hasOwnProperty(Xt)&&(Uo(rn[Xt])?arguments[0][Xt]=rn[Xt].slice():arguments[0][Xt]=rn[Xt])}return arguments[0]}var Cs=function(){function Lt(rn){it(this,Lt);for(var Xt in $r)if($r.hasOwnProperty(Xt)){var gn=$r[Xt],bn=gn._driver;this[Xt]=bn,jr[bn]||this.defineDriver(gn)}this._defaultConfig=oo({},Es),this._config=oo({},this._defaultConfig,rn),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Lt.prototype.config=function(Xt){if((typeof Xt>"u"?"undefined":rt(Xt))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var gn in Xt){if(gn==="storeName"&&(Xt[gn]=Xt[gn].replace(/\W/g,"_")),gn==="version"&&typeof Xt[gn]!="number")return new Error("Database version must be a number.");this._config[gn]=Xt[gn]}return"driver"in Xt&&Xt.driver?this.setDriver(this._config.driver):!0}else return typeof Xt=="string"?this._config[Xt]:this._config},Lt.prototype.defineDriver=function(Xt,gn,bn){var hn=new ct(function(jn,Rn){try{var Fn=Xt._driver,Ln=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Xt._driver){Rn(Ln);return}for(var Hn=io.concat("_initStorage"),Zn=0,cr=Hn.length;Zn<cr;Zn++){var dr=Hn[Zn],fr=!Hr(Vr,dr);if((fr||Xt[dr])&&typeof Xt[dr]!="function"){Rn(Ln);return}}var yr=function(){for(var Nr=function(js){return function(){var Ns=new Error("Method "+js+" is not implemented by the current driver"),qo=ct.reject(Ns);return ut(qo,arguments[arguments.length-1]),qo}},ao=0,Os=Vr.length;ao<Os;ao++){var so=Vr[ao];Xt[so]||(Xt[so]=Nr(so))}};yr();var mr=function(Nr){jr[Fn]&&console.info("Redefining LocalForage driver: "+Fn),jr[Fn]=Xt,Ko[Fn]=Nr,jn()};"_support"in Xt?Xt._support&&typeof Xt._support=="function"?Xt._support().then(mr,Rn):mr(!!Xt._support):mr(!0)}catch(vr){Rn(vr)}});return dt(hn,gn,bn),hn},Lt.prototype.driver=function(){return this._driver||null},Lt.prototype.getDriver=function(Xt,gn,bn){var hn=jr[Xt]?ct.resolve(jr[Xt]):ct.reject(new Error("Driver not found."));return dt(hn,gn,bn),hn},Lt.prototype.getSerializer=function(Xt){var gn=ct.resolve(yn);return dt(gn,Xt),gn},Lt.prototype.ready=function(Xt){var gn=this,bn=gn._driverSet.then(function(){return gn._ready===null&&(gn._ready=gn._initDriver()),gn._ready});return dt(bn,Xt,Xt),bn},Lt.prototype.setDriver=function(Xt,gn,bn){var hn=this;Uo(Xt)||(Xt=[Xt]);var jn=this._getSupportedDrivers(Xt);function Rn(){hn._config.driver=hn.driver()}function Fn(Zn){return hn._extend(Zn),Rn(),hn._ready=hn._initStorage(hn._config),hn._ready}function Ln(Zn){return function(){var cr=0;function dr(){for(;cr<Zn.length;){var fr=Zn[cr];return cr++,hn._dbInfo=null,hn._ready=null,hn.getDriver(fr).then(Fn).catch(dr)}Rn();var yr=new Error("No available storage method found.");return hn._driverSet=ct.reject(yr),hn._driverSet}return dr()}}var Hn=this._driverSet!==null?this._driverSet.catch(function(){return ct.resolve()}):ct.resolve();return this._driverSet=Hn.then(function(){var Zn=jn[0];return hn._dbInfo=null,hn._ready=null,hn.getDriver(Zn).then(function(cr){hn._driver=cr._driver,Rn(),hn._wrapLibraryMethodsWithReady(),hn._initDriver=Ln(jn)})}).catch(function(){Rn();var Zn=new Error("No available storage method found.");return hn._driverSet=ct.reject(Zn),hn._driverSet}),dt(this._driverSet,gn,bn),this._driverSet},Lt.prototype.supports=function(Xt){return!!Ko[Xt]},Lt.prototype._extend=function(Xt){oo(this,Xt)},Lt.prototype._getSupportedDrivers=function(Xt){for(var gn=[],bn=0,hn=Xt.length;bn<hn;bn++){var jn=Xt[bn];this.supports(jn)&&gn.push(jn)}return gn},Lt.prototype._wrapLibraryMethodsWithReady=function(){for(var Xt=0,gn=io.length;Xt<gn;Xt++)ks(this,io[Xt])},Lt.prototype.createInstance=function(Xt){return new Lt(Xt)},Lt}(),Ts=new Cs;tt.exports=Ts},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$1(localforageExports),sessionStore=localforage.createInstance({name:"WritingDefense",storeName:"sessions",description:"Writing session data"}),baselineStore=localforage.createInstance({name:"WritingDefense",storeName:"baselines",description:"User baseline profiles"}),sourceStore=localforage.createInstance({name:"WritingDefense",storeName:"sources",description:"Source files for plagiarism detection"}),storage={async saveSession($,_e){await sessionStore.setItem($,_e)},async getSession($){return await sessionStore.getItem($)},async getAllSessions(){const $=[];return await sessionStore.iterate(_e=>{$.push(_e)}),$},async deleteSession($){await sessionStore.removeItem($)},async saveBaseline($,_e){await baselineStore.setItem($,_e)},async getBaseline($){return await baselineStore.getItem($)},async deleteBaseline($){await baselineStore.removeItem($)},async saveSource($){await sourceStore.setItem($.id,$)},async getSource($){return await sourceStore.getItem($)},async getAllSources(){const $=[];return await sourceStore.iterate(_e=>{$.push(_e)}),$},async deleteSource($){await sourceStore.removeItem($)},async saveDraft($,_e){const et={content:$,metrics:_e,timestamp:new Date().toISOString()};await sessionStore.setItem("current-draft",et)},async getDraft(){return await sessionStore.getItem("current-draft")},async clearDraft(){await sessionStore.removeItem("current-draft")},async exportAllData(){return{sessions:await this.getAllSessions(),baseline:await this.getBaseline("current-user"),sources:await this.getAllSources()}},async importData($){if($.sessions)for(const _e of $.sessions)await this.saveSession(_e.sessionId,_e);if($.baseline&&await this.saveBaseline("current-user",$.baseline),$.sources)for(const _e of $.sources)await this.saveSource(_e)},async clearAll(){await sessionStore.clear(),await baselineStore.clear(),await sourceStore.clear()}};function ResearcherDashboard(){const[$,_e]=reactExports.useState([]),[et,tt]=reactExports.useState({totalSessions:0,totalWords:0,averageHumanityScore:0,participantCount:0});reactExports.useEffect(()=>{nt()},[]);const nt=async()=>{try{const ot=await storage.getAllSessions();_e(ot);const at=ot.reduce((lt,ct)=>lt+(ct.wordCount||0),0),st=ot.length>0?ot.reduce((lt,ct)=>{var ut;return lt+(((ut=ct.metrics)==null?void 0:ut.humanityScore)||0)},0)/ot.length:0;tt({totalSessions:ot.length,totalWords:at,averageHumanityScore:Math.round(st),participantCount:ot.length})}catch(ot){console.error("Failed to load data:",ot)}},rt=()=>{if($.length===0){alert("No data to export");return}const ot=["SessionID","Date","WordCount","HumanityScore","Burstiness","Confidence","GPTZero","Turnitin","Originality"],at=$.map(dt=>{var ft,pt,mt,ht,yt,xt,St,gt,vt;return[dt.sessionId||"",dt.startTime||"",dt.wordCount||0,((ft=dt.metrics)==null?void 0:ft.humanityScore)||0,((pt=dt.metrics)==null?void 0:pt.burstiness)||0,((mt=dt.metrics)==null?void 0:mt.confidence)||0,((yt=(ht=dt.metrics)==null?void 0:ht.shadowScores)==null?void 0:yt.gptZero)||0,((St=(xt=dt.metrics)==null?void 0:xt.shadowScores)==null?void 0:St.turnitin)||0,((vt=(gt=dt.metrics)==null?void 0:gt.shadowScores)==null?void 0:vt.originality)||0]}),st=[ot,...at].map(dt=>dt.join(",")).join(`
`),lt=new Blob([st],{type:"text/csv"}),ct=URL.createObjectURL(lt),ut=document.createElement("a");ut.href=ct,ut.download=`writing-defense-data-${new Date().toISOString().split("T")[0]}.csv`,ut.click(),URL.revokeObjectURL(ct)},it=()=>{if($.length===0){alert("No data to export");return}const ot=JSON.stringify($,null,2),at=new Blob([ot],{type:"application/json"}),st=URL.createObjectURL(at),lt=document.createElement("a");lt.href=st,lt.download=`writing-defense-data-${new Date().toISOString().split("T")[0]}.json`,lt.click(),URL.revokeObjectURL(st)};return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text)"},children:"Researcher Dashboard"}),jsxRuntimeExports.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"View aggregate metrics and export data for analysis"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5",style:{color:"var(--color-primary)"}})}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:et.totalSessions}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Total Sessions"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-green-400"})}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:et.participantCount}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Participants"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-purple-400"})}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:et.totalWords.toLocaleString()}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Total Words"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx(BarChart3,{className:"w-5 h-5 text-yellow-400"})}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:et.averageHumanityScore}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Avg Humanity Score"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Export Data"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:rt,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]}),jsxRuntimeExports.jsxs("button",{onClick:it,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Export JSON"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"Export includes session IDs, metrics, timestamps, and anonymized participant data for research analysis."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Sessions"}),$.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:$.slice(0,10).map((ot,at)=>{var st;return jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded p-3 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ot.sessionId||`Session ${at+1}`}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:[ot.wordCount||0," words  Score: ",((st=ot.metrics)==null?void 0:st.humanityScore)||0]})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:ot.startTime?new Date(ot.startTime).toLocaleDateString():"N/A"})]},at)})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-gray-400",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No sessions recorded yet"})]})]})]})}function SentenceLengthGraph({burstiness:$,sentenceLengths:_e=[]}){const et=Array.from({length:30},(rt,it)=>({index:it+1,length:Math.floor(Math.random()*25)+10})),tt=_e.length>0?_e.slice(-30).map((rt,it)=>({index:it+1,length:rt})):et,nt=tt.length>0?tt.reduce((rt,it)=>rt+it.length,0)/tt.length:0;return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--color-text)"},children:"Sentence Length Variation"}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Natural writing shows varied sentence lengths"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Burstiness Score"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:$.toFixed(1)})]}),jsxRuntimeExports.jsx("div",{className:"w-full rounded-full h-2",style:{backgroundColor:"var(--color-bg-tertiary)"},children:jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${Math.min($/10*100,100)}%`,backgroundColor:"var(--color-primary)"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:"Higher = more natural rhythm"})]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:150,children:jsxRuntimeExports.jsxs(LineChart,{data:tt,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"index",stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:12},label:{value:"Sentence #",position:"insideBottom",offset:-5,fill:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:12},label:{value:"Words",angle:-90,position:"insideLeft",fill:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"0.5rem",color:"var(--color-text)"},labelStyle:{color:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(ReferenceLine,{y:nt,stroke:"var(--color-warning)",strokeDasharray:"5 5",label:{value:`Avg: ${nt.toFixed(1)}`,fill:"var(--color-warning)",fontSize:11}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"length",stroke:"var(--color-primary)",strokeWidth:2,dot:{fill:"var(--color-primary)",r:3}})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4",style:{borderTop:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"AI writing tends to have uniform sentence lengths. Natural human writing varies between short, medium, and long sentences."})})]})}function SentenceLengthDistribution({text:$=""}){const et=$.split(/[.!?]+/).filter(ct=>ct.trim().length>0).map(ct=>ct.trim().split(/\s+/).length),tt=et.length>0?et.reduce((ct,ut)=>ct+ut,0)/et.length:0,nt=et.filter(ct=>ct<=10).length,rt=et.filter(ct=>ct>10&&ct<=20).length,it=et.filter(ct=>ct>20).length,ot=et.length||1,at=[{category:`Short
(10)`,count:nt,percentage:(nt/ot*100).toFixed(0)},{category:`Medium
(11-20)`,count:rt,percentage:(rt/ot*100).toFixed(0)},{category:`Long
(>20)`,count:it,percentage:(it/ot*100).toFixed(0)}],lt=(()=>{if(ot<3)return{text:"Need more text",color:"var(--color-text-secondary)"};const ct=Math.max(nt/ot*100,rt/ot*100,it/ot*100);return ct>80?{text:"Low Variety (AI-like)",color:"var(--color-danger)"}:ct>60?{text:"Moderate Variety",color:"var(--color-warning)"}:{text:"Good Variety (Natural)",color:"var(--color-success)"}})();return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--color-text)"},children:"Sentence Length Distribution"}),jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Natural writing uses varied sentence lengths"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm mb-1",style:{color:"var(--color-text-secondary)"},children:"Average Words/Sentence"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:tt.toFixed(1)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm mb-1",style:{color:"var(--color-text-secondary)"},children:"Variety Level"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",style:{color:lt.color},children:lt.text})]})]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:180,children:jsxRuntimeExports.jsxs(BarChart,{data:at,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"category",stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{stroke:"var(--color-text-secondary)",tick:{fill:"var(--color-text-secondary)",fontSize:11},label:{value:"Count",angle:-90,position:"insideLeft",fill:"var(--color-text-secondary)"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"0.5rem",color:"var(--color-text)"},labelStyle:{color:"var(--color-text)"},formatter:(ct,ut,dt)=>[`${ct} sentences (${dt.payload.percentage}%)`,"Count"]}),jsxRuntimeExports.jsx(Bar,{dataKey:"count",fill:"var(--color-primary)",radius:[4,4,0,0]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-4 grid grid-cols-3 gap-2 text-xs",style:{borderTop:"1px solid var(--color-border)"},children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Short"}),jsxRuntimeExports.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:nt})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Medium"}),jsxRuntimeExports.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:rt})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"var(--color-bg-tertiary)"},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Long"}),jsxRuntimeExports.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:it})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-xs",style:{color:"var(--color-text-secondary)"},children:jsxRuntimeExports.jsx("p",{children:" AI writing typically shows uniform sentence lengths (70%+ in one category). Natural writing mixes short, medium, and long sentences for better flow."})})]})}const themes={"black-white":{name:"black-white",label:" Black & White",category:"Classic & High-Contrast",colors:{bg:"#000000",bgSecondary:"#0a0a0a",bgTertiary:"#151515",text:"#ffffff",textSecondary:"#e0e0e0",border:"#333333",primary:"#ffffff",primaryLight:"#cccccc",success:"#00ff00",warning:"#ffff00",danger:"#ff0000",info:"#00ffff",shadow:"rgba(255, 255, 255, 0.2)"}},"white-black":{name:"white-black",label:" White & Black",category:"Classic & High-Contrast",colors:{bg:"#ffffff",bgSecondary:"#f5f5f5",bgTertiary:"#efefef",text:"#000000",textSecondary:"#1a1a1a",border:"#cccccc",primary:"#000000",primaryLight:"#333333",success:"#006600",warning:"#996600",danger:"#cc0000",info:"#003366",shadow:"rgba(0, 0, 0, 0.15)"}},"dark-grey":{name:"dark-grey",label:" Dark Grey",category:"Classic & High-Contrast",colors:{bg:"#2a2a2a",bgSecondary:"#333333",bgTertiary:"#404040",text:"#f0f0f0",textSecondary:"#d9d9d9",border:"#555555",primary:"#f0f0f0",primaryLight:"#cccccc",success:"#66ff66",warning:"#ffcc00",danger:"#ff6666",info:"#66ccff",shadow:"rgba(255, 255, 255, 0.15)"}},"navy-white":{name:"navy-white",label:" Navy Blue",category:"Blue-Based",colors:{bg:"#001a4d",bgSecondary:"#002966",bgTertiary:"#003d80",text:"#ffffff",textSecondary:"#e0e8ff",border:"#1a4d99",primary:"#ffffff",primaryLight:"#b3d9ff",success:"#66ff66",warning:"#ffdd00",danger:"#ff6666",info:"#66d9ff",shadow:"rgba(255, 255, 255, 0.2)"}},"midnight-blue":{name:"midnight-blue",label:" Midnight Blue",category:"Blue-Based",colors:{bg:"#0d1b2a",bgSecondary:"#1b263b",bgTertiary:"#2a3d4d",text:"#d3d9e8",textSecondary:"#b8bfd3",border:"#415a77",primary:"#d3d9e8",primaryLight:"#6d9bbf",success:"#5dd65d",warning:"#ffc107",danger:"#ff6b6b",info:"#4ecdc4",shadow:"rgba(211, 217, 232, 0.15)"}},"slate-blue":{name:"slate-blue",label:" Slate Blue",category:"Blue-Based",colors:{bg:"#2c3e50",bgSecondary:"#34495e",bgTertiary:"#3d5066",text:"#f0f5ff",textSecondary:"#d4dce6",border:"#5d6d7b",primary:"#f0f5ff",primaryLight:"#8fa3b8",success:"#5ecc71",warning:"#f39c12",danger:"#e74c3c",info:"#3498db",shadow:"rgba(240, 245, 255, 0.15)"}},sepia:{name:"sepia",label:" Sepia",category:"Warm & Paper-Like",colors:{bg:"#f5ede4",bgSecondary:"#ede6d9",bgTertiary:"#e5dccf",text:"#3e2723",textSecondary:"#6d4c41",border:"#d7ccc8",primary:"#8b6f47",primaryLight:"#d7ccc8",success:"#558b2f",warning:"#e65100",danger:"#d32f2f",info:"#00695c",shadow:"rgba(62, 39, 35, 0.15)"}},beige:{name:"beige",label:" Beige",category:"Warm & Paper-Like",colors:{bg:"#f5f1ed",bgSecondary:"#ede9e5",bgTertiary:"#e5e1dd",text:"#3c3c3c",textSecondary:"#666666",border:"#d4ccc4",primary:"#8b7355",primaryLight:"#d4ccc4",success:"#6b8e23",warning:"#cd853f",danger:"#a0522d",info:"#556b2f",shadow:"rgba(60, 60, 60, 0.1)"}},"light-tan":{name:"light-tan",label:" Light Tan",category:"Warm & Paper-Like",colors:{bg:"#fffbf0",bgSecondary:"#f5f0e8",bgTertiary:"#efe9e0",text:"#4a4a4a",textSecondary:"#6d6d6d",border:"#d9cfc4",primary:"#9b8b7e",primaryLight:"#d9cfc4",success:"#7cb342",warning:"#d4a574",danger:"#c76b6b",info:"#6fa8a8",shadow:"rgba(74, 74, 74, 0.1)"}},"charcoal-yellow":{name:"charcoal-yellow",label:" Charcoal & Yellow",category:"Low-Light / Night",colors:{bg:"#1a1a1a",bgSecondary:"#242424",bgTertiary:"#2d2d2d",text:"#f5e6d3",textSecondary:"#e8d9c4",border:"#3d3d3d",primary:"#f5e6d3",primaryLight:"#d4af37",success:"#7ed321",warning:"#ffd700",danger:"#ff6b6b",info:"#87ceeb",shadow:"rgba(245, 230, 211, 0.15)"}},"dark-brown":{name:"dark-brown",label:" Dark Brown",category:"Low-Light / Night",colors:{bg:"#2b1d14",bgSecondary:"#3d2817",bgTertiary:"#4a3420",text:"#f5e6d9",textSecondary:"#e8d9cc",border:"#5a4429",primary:"#f5e6d9",primaryLight:"#d4a574",success:"#8bc34a",warning:"#ffb300",danger:"#ff7043",info:"#80deea",shadow:"rgba(245, 230, 217, 0.15)"}},"deep-green":{name:"deep-green",label:" Deep Green",category:"Low-Light / Night",colors:{bg:"#1a2e1f",bgSecondary:"#243d28",bgTertiary:"#2d4a31",text:"#e8f0ea",textSecondary:"#d4e4d8",border:"#3d5a42",primary:"#e8f0ea",primaryLight:"#a8d5a8",success:"#81c784",warning:"#ffd54f",danger:"#ef5350",info:"#4dd0e1",shadow:"rgba(232, 240, 234, 0.15)"}},"blue-white":{name:"blue-white",label:" Blue & White",category:"Colour-Blind Friendly",colors:{bg:"#003d7a",bgSecondary:"#004d99",bgTertiary:"#0066cc",text:"#ffffff",textSecondary:"#e6f0ff",border:"#1a4d99",primary:"#ffffff",primaryLight:"#99ccff",success:"#00cc00",warning:"#ffaa00",danger:"#ff6633",info:"#66ffff",shadow:"rgba(255, 255, 255, 0.2)"}},"grey-white":{name:"grey-white",label:" Grey & White",category:"Colour-Blind Friendly",colors:{bg:"#333333",bgSecondary:"#404040",bgTertiary:"#4d4d4d",text:"#ffffff",textSecondary:"#e0e0e0",border:"#666666",primary:"#ffffff",primaryLight:"#b3b3b3",success:"#00cc00",warning:"#ffaa00",danger:"#ff6633",info:"#00cccc",shadow:"rgba(255, 255, 255, 0.2)"}},"teal-white":{name:"teal-white",label:" Teal & White",category:"Colour-Blind Friendly",colors:{bg:"#004d5c",bgSecondary:"#006673",bgTertiary:"#007a8a",text:"#ffffff",textSecondary:"#e0f0f5",border:"#1a7a8a",primary:"#ffffff",primaryLight:"#80d4e6",success:"#00cc00",warning:"#ffaa00",danger:"#ff6633",info:"#00ffff",shadow:"rgba(255, 255, 255, 0.2)"}},"soft-grey":{name:"soft-grey",label:" Soft Grey",category:"Minimalist / Modern",colors:{bg:"#f8f9fa",bgSecondary:"#f0f1f3",bgTertiary:"#e8eaed",text:"#202124",textSecondary:"#5f6368",border:"#dadce0",primary:"#202124",primaryLight:"#e8eaed",success:"#1f8e45",warning:"#f9ab00",danger:"#d33827",info:"#1f9fd0",shadow:"rgba(32, 33, 36, 0.1)"}},"off-white":{name:"off-white",label:" Off-White",category:"Minimalist / Modern",colors:{bg:"#faf9f7",bgSecondary:"#f4f3f1",bgTertiary:"#eeecea",text:"#2c2c2c",textSecondary:"#5a5a5a",border:"#d4d0c8",primary:"#2c2c2c",primaryLight:"#eeecea",success:"#2e7d32",warning:"#f57c00",danger:"#c62828",info:"#0277bd",shadow:"rgba(44, 44, 44, 0.1)"}},"light-grey":{name:"light-grey",label:" Light Grey",category:"Minimalist / Modern",colors:{bg:"#f5f5f5",bgSecondary:"#efefef",bgTertiary:"#e9e9e9",text:"#1a3a52",textSecondary:"#4a6b84",border:"#d0d0d0",primary:"#1a3a52",primaryLight:"#d0d0d0",success:"#388e3c",warning:"#f57f17",danger:"#d32f2f",info:"#0288d1",shadow:"rgba(26, 58, 82, 0.1)"}}};function getStoredTheme(){try{const $=localStorage.getItem("app-theme");if($&&themes[$])return $}catch{}return"white-black"}function setStoredTheme($){try{localStorage.setItem("app-theme",$)}catch{}}function applyTheme($){const _e=document.documentElement,et=$.colors;_e.style.setProperty("--color-bg",et.bg),_e.style.setProperty("--color-bg-secondary",et.bgSecondary),_e.style.setProperty("--color-bg-tertiary",et.bgTertiary),_e.style.setProperty("--color-text",et.text),_e.style.setProperty("--color-text-secondary",et.textSecondary),_e.style.setProperty("--color-border",et.border),_e.style.setProperty("--color-primary",et.primary),_e.style.setProperty("--color-primary-light",et.primaryLight),_e.style.setProperty("--color-success",et.success),_e.style.setProperty("--color-warning",et.warning),_e.style.setProperty("--color-danger",et.danger),_e.style.setProperty("--color-info",et.info),_e.style.setProperty("--color-shadow",et.shadow),document.body.style.backgroundColor=et.bg,document.body.style.color=et.text}function ThemeSelector(){const[$,_e]=reactExports.useState("white-black"),[et,tt]=reactExports.useState(!1);reactExports.useEffect(()=>{const ot=getStoredTheme();_e(ot),applyTheme(themes[ot])},[]);const nt=ot=>{_e(ot),setStoredTheme(ot),applyTheme(themes[ot]),tt(!1)},rt=new Map;Object.entries(themes).forEach(([,ot])=>{rt.has(ot.category)||rt.set(ot.category,[]),rt.get(ot.category).push(ot)});const it=["Classic & High-Contrast","Blue-Based","Warm & Paper-Like","Low-Light / Night","Colour-Blind Friendly","Minimalist / Modern"];return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tt(!et),className:"p-2 rounded-lg transition-colors",style:{backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-text)",border:"1px solid var(--color-border)"},title:"Change theme",children:jsxRuntimeExports.jsx(Palette,{className:"w-5 h-5"})}),et&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 mt-2 w-72 rounded-lg shadow-lg z-50 border max-h-[600px] overflow-y-auto",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",boxShadow:"0 4px 12px var(--color-shadow)"},children:it.map(ot=>{const at=rt.get(ot)||[];return at.length===0?null:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-sm font-semibold sticky top-0",style:{backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-primary)",borderBottom:"1px solid var(--color-border)"},children:ot}),at.map(st=>jsxRuntimeExports.jsxs("button",{onClick:()=>nt(st.name),className:"w-full text-left px-4 py-2 transition-colors flex items-center gap-3 hover:opacity-80",style:{backgroundColor:$===st.name?"var(--color-bg-tertiary)":"transparent",color:"var(--color-text)",borderBottom:"1px solid var(--color-border)"},children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded flex-shrink-0",style:{backgroundColor:st.colors.primary}}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1",children:st.label}),$===st.name&&jsxRuntimeExports.jsx("span",{style:{color:"var(--color-success)"},children:""})]},st.name))]},ot)})})]})}function App(){const[$,_e]=reactExports.useState("editor"),[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState({humanityScore:75,burstiness:6.2,confidence:.87,shadowScores:{gptZero:.35,turnitin:.42,originality:.38}});return reactExports.useEffect(()=>{const it=getStoredTheme();applyTheme(themes[it])},[]),jsxRuntimeExports.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--color-bg)",color:"var(--color-text)",transition:"background-color 0.3s ease, color 0.3s ease"},children:[jsxRuntimeExports.jsx("header",{style:{backgroundColor:"var(--color-bg-secondary)",borderBottom:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Target,{className:"w-8 h-8",style:{color:"var(--color-primary)"}}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Writing Defense Platform"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"v1.0.0-beta"}),jsxRuntimeExports.jsx(ThemeSelector,{})]})]})})}),jsxRuntimeExports.jsx("nav",{style:{backgroundColor:"var(--color-bg-secondary)",borderBottom:"1px solid var(--color-border)"},children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e("editor"),className:"flex items-center space-x-2 px-4 py-3 border-b-2 transition-colors font-medium",style:{borderColor:$==="editor"?"var(--color-primary)":"transparent",color:$==="editor"?"var(--color-primary)":"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Editor"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("baseline"),className:"flex items-center space-x-2 px-4 py-3 border-b-2 transition-colors font-medium",style:{borderColor:$==="baseline"?"var(--color-primary)":"transparent",color:$==="baseline"?"var(--color-primary)":"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Baseline"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("sources"),className:"flex items-center space-x-2 px-4 py-3 border-b-2 transition-colors font-medium",style:{borderColor:$==="sources"?"var(--color-primary)":"transparent",color:$==="sources"?"var(--color-primary)":"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx(FileUp,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Sources"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e("dashboard"),className:"flex items-center space-x-2 px-4 py-3 border-b-2 transition-colors font-medium",style:{borderColor:$==="dashboard"?"var(--color-primary)":"transparent",color:$==="dashboard"?"var(--color-primary)":"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx(BarChart2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Dashboard"})]})]})})}),jsxRuntimeExports.jsx(OnboardingTutorial,{onComplete:()=>{}}),jsxRuntimeExports.jsxs("main",{className:"container mx-auto px-4 py-6",children:[$==="editor"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(Editor,{onMetricsUpdate:rt,onTextChange:tt})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(MetricsPanel,{metrics:nt}),jsxRuntimeExports.jsx(SentenceLengthGraph,{burstiness:nt.burstiness}),jsxRuntimeExports.jsx(SentenceLengthDistribution,{text:et}),jsxRuntimeExports.jsx(ShadowPanel,{scores:nt.shadowScores})]})]}),$==="baseline"&&jsxRuntimeExports.jsx(BaselineManager,{}),$==="sources"&&jsxRuntimeExports.jsx(SourceManager,{}),$==="dashboard"&&jsxRuntimeExports.jsx(ResearcherDashboard,{})]}),jsxRuntimeExports.jsx("footer",{style:{backgroundColor:"var(--color-bg-secondary)",borderTop:"1px solid var(--color-border)",marginTop:"3rem"},children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-sm",style:{color:"var(--color-text-secondary)"},children:[jsxRuntimeExports.jsx("p",{children:"Writing Defense Platform - Research Tool for L2 Writers"}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"All data is processed locally and encrypted"})]})})})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
